const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bootstrap.icons-w-ksyN7U.js","./iconBase-DUozSQKX.js","./vendor-ui-Br6e9zSa.js","./vendor-react-c5ypKtDW.js","./css-gg.icons-CIhwm2jF.js","./Lucide.icons-BJkhhx6I.js","./vendor-icons-htYG8YcH.js","./MaterialDesign.icons-CV6jFePv.js","./Phosphor.icons-D76IbvJA.js","./RemixIcon.icons-B1dcVoYg.js","./SimpleLineIcons.icons-AZLmccKJ.js","./TablerIcons.icons-jqyRdODH.js"])))=>i.map(i=>d[i]);
import{R as Je,j as c,S as NS,b as DS,r as g,O as Qr,P as Sg,C as Zr,c as _g,T as Kr,D as Jr,d as xg,e as Tg,f as MS,g as Cg,h as zS,i as OS,k as kh,l as jg,I as RS,m as wg,n as Eg,o as LS,p as Ag,V as kS,L as Ng,q as Dg,s as BS,t as US,u as Mg,v as $S,w as HS,x as VS,y as qS,z as IS,A as FS,B as YS,E as PS,F as zg,G as GS,H as XS,J as QS,K as ZS,M as KS,N as JS,Q as ui,U as WS,W as e_,X as t_,Y as $u,Z as n_,_ as a_,$ as l_,a0 as s_}from"./vendor-ui-Br6e9zSa.js";import{r as i_,a as r_,g as o_}from"./vendor-react-c5ypKtDW.js";import{_ as ke,u as Bt,i as Ge,B as c_,a as u_,b as d_,I as f_}from"./vendor-i18n-BBsUE1v-.js";import{c as m_,t as he,p as h_,r as g_,T as y_}from"./vendor-utils-CJcuHqKu.js";import{p as p_,s as v_,M as Bh,c as b_,a as S_,b as __,d as x_,e as T_}from"./vendor-audio-BqCqqooE.js";import{U as C_,D as j_}from"./vendor-uppy-DPCC4q7y.js";import{g as w_,a as Uh}from"./visualizers-DPq81_2z.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function r(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(d){if(d.ep)return;d.ep=!0;const m=r(d);fetch(d.href,m)}})();var gu={exports:{}},ri={},yu={exports:{}},pu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function E_(){return $h||($h=1,(function(l){function s(z,I){var X=z.length;z.push(I);e:for(;0<X;){var se=X-1>>>1,re=z[se];if(0<d(re,I))z[se]=I,z[X]=re,X=se;else break e}}function r(z){return z.length===0?null:z[0]}function u(z){if(z.length===0)return null;var I=z[0],X=z.pop();if(X!==I){z[0]=X;e:for(var se=0,re=z.length,ve=re>>>1;se<ve;){var ue=2*(se+1)-1,fe=z[ue],_e=ue+1,We=z[_e];if(0>d(fe,X))_e<re&&0>d(We,fe)?(z[se]=We,z[_e]=X,se=_e):(z[se]=fe,z[ue]=X,se=ue);else if(_e<re&&0>d(We,X))z[se]=We,z[_e]=X,se=_e;else break e}}return I}function d(z,I){var X=z.sortIndex-I.sortIndex;return X!==0?X:z.id-I.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var f=Date,p=f.now();l.unstable_now=function(){return f.now()-p}}var v=[],b=[],_=1,y=null,x=3,E=!1,P=!1,A=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function G(z){for(var I=r(b);I!==null;){if(I.callback===null)u(b);else if(I.startTime<=z)u(b),I.sortIndex=I.expirationTime,s(v,I);else break;I=r(b)}}function R(z){if(A=!1,G(z),!P)if(r(v)!==null)P=!0,T||(T=!0,D());else{var I=r(b);I!==null&&ce(R,I.startTime-z)}}var T=!1,w=-1,O=5,B=-1;function N(){return L?!0:!(l.unstable_now()-B<O)}function U(){if(L=!1,T){var z=l.unstable_now();B=z;var I=!0;try{e:{P=!1,A&&(A=!1,q(w),w=-1),E=!0;var X=x;try{t:{for(G(z),y=r(v);y!==null&&!(y.expirationTime>z&&N());){var se=y.callback;if(typeof se=="function"){y.callback=null,x=y.priorityLevel;var re=se(y.expirationTime<=z);if(z=l.unstable_now(),typeof re=="function"){y.callback=re,G(z),I=!0;break t}y===r(v)&&u(v),G(z)}else u(v);y=r(v)}if(y!==null)I=!0;else{var ve=r(b);ve!==null&&ce(R,ve.startTime-z),I=!1}}break e}finally{y=null,x=X,E=!1}I=void 0}}finally{I?D():T=!1}}}var D;if(typeof j=="function")D=function(){j(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ae=W.port2;W.port1.onmessage=U,D=function(){ae.postMessage(null)}}else D=function(){V(U,0)};function ce(z,I){w=V(function(){z(l.unstable_now())},I)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_next=function(z){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var X=x;x=I;try{return z()}finally{x=X}},l.unstable_requestPaint=function(){L=!0},l.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=x;x=z;try{return I()}finally{x=X}},l.unstable_scheduleCallback=function(z,I,X){var se=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,z={id:_++,callback:I,priorityLevel:z,startTime:X,expirationTime:re,sortIndex:-1},X>se?(z.sortIndex=X,s(b,z),r(v)===null&&z===r(b)&&(A?(q(w),w=-1):A=!0,ce(R,X-se))):(z.sortIndex=re,s(v,z),P||E||(P=!0,T||(T=!0,D()))),z},l.unstable_shouldYield=N,l.unstable_wrapCallback=function(z){var I=x;return function(){var X=x;x=I;try{return z.apply(this,arguments)}finally{x=X}}}})(pu)),pu}var Hh;function A_(){return Hh||(Hh=1,yu.exports=E_()),yu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function N_(){if(Vh)return ri;Vh=1;var l=A_(),s=i_(),r=r_();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(m(e)!==e)throw Error(u(188))}function v(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return p(i),e;if(o===a)return p(i),t;o=o.sibling}throw Error(u(188))}if(n.return!==a.return)n=i,a=o;else{for(var h=!1,S=i.child;S;){if(S===n){h=!0,n=i,a=o;break}if(S===a){h=!0,a=i,n=o;break}S=S.sibling}if(!h){for(S=o.child;S;){if(S===n){h=!0,n=o,a=i;break}if(S===a){h=!0,a=o,n=i;break}S=S.sibling}if(!h)throw Error(u(189))}}if(n.alternate!==a)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),j=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var W=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===W?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case L:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case T:return"SuspenseList";case B:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case j:return(e.displayName||"Context")+".Provider";case q:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}var ce=Array.isArray,z=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},se=[],re=-1;function ve(e){return{current:e}}function ue(e){0>re||(e.current=se[re],se[re]=null,re--)}function fe(e,t){re++,se[re]=e.current,e.current=t}var _e=ve(null),We=ve(null),Oe=ve(null),ct=ve(null);function mt(e,t){switch(fe(Oe,t),fe(We,e),fe(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?uh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=uh(t),e=dh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ue(_e),fe(_e,e)}function Ct(){ue(_e),ue(We),ue(Oe)}function lt(e){e.memoizedState!==null&&fe(ct,e);var t=_e.current,n=dh(t,e.type);t!==n&&(fe(We,e),fe(_e,n))}function me(e){We.current===e&&(ue(_e),ue(We)),ct.current===e&&(ue(ct),ni._currentValue=X)}var Ne=Object.prototype.hasOwnProperty,st=l.unstable_scheduleCallback,oe=l.unstable_cancelCallback,we=l.unstable_shouldYield,qe=l.unstable_requestPaint,Re=l.unstable_now,ft=l.unstable_getCurrentPriorityLevel,Me=l.unstable_ImmediatePriority,$e=l.unstable_UserBlockingPriority,bt=l.unstable_NormalPriority,St=l.unstable_LowPriority,it=l.unstable_IdlePriority,Mt=l.log,K=l.unstable_setDisableYieldValue,Te=null,Ee=null;function et(e){if(typeof Mt=="function"&&K(e),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Te,e)}catch{}}var Ie=Math.clz32?Math.clz32:Ta,zt=Math.log,ht=Math.LN2;function Ta(e){return e>>>=0,e===0?32:31-(zt(e)/ht|0)|0}var Ca=256,qn=4194304;function Ft(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vn(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var S=a&134217727;return S!==0?(a=S&~o,a!==0?i=Ft(a):(h&=S,h!==0?i=Ft(h):n||(n=S&~e,n!==0&&(i=Ft(n))))):(S=a&~o,S!==0?i=Ft(S):h!==0?i=Ft(h):n||(n=a&~e,n!==0&&(i=Ft(n)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:i}function Kt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wa(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var e=Ca;return Ca<<=1,(Ca&4194048)===0&&(Ca=256),e}function ja(){var e=qn;return qn<<=1,(qn&62914560)===0&&(qn=4194304),e}function el(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yt(e,t,n,a,i,o){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,H=e.hiddenUpdates;for(n=h&~n;0<n;){var Q=31-Ie(n),ee=1<<Q;S[Q]=0,C[Q]=-1;var F=H[Q];if(F!==null)for(H[Q]=null,Q=0;Q<F.length;Q++){var Y=F[Q];Y!==null&&(Y.lane&=-536870913)}n&=~ee}a!==0&&Ut(e,a,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function Ut(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ie(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function cn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ie(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function $t(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ot(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Z(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Dh(e.type))}function ie(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var le=Math.random().toString(36).slice(2),ge="__reactFiber$"+le,pe="__reactProps$"+le,De="__reactContainer$"+le,rt="__reactEvents$"+le,Qe="__reactListeners$"+le,Ce="__reactHandles$"+le,Pt="__reactResources$"+le,nn="__reactMarker$"+le;function hs(e){delete e[ge],delete e[pe],delete e[rt],delete e[Qe],delete e[Ce]}function Fn(e){var t=e[ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gh(e);e!==null;){if(n=e[ge])return n;e=gh(e)}return t}e=n,n=e.parentNode}return null}function Yn(e){if(e=e[ge]||e[De]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function tl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function wa(e){var t=e[Pt];return t||(t=e[Pt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[nn]=!0}var Ei=new Set,On={};function Rn(e,t){Ea(e,t),Ea(e+"Capture",t)}function Ea(e,t){for(On[e]=t,e=0;e<t.length;e++)Ei.add(t[e])}var ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pn={},Ai={};function Cl(e){return Ne.call(Ai,e)?!0:Ne.call(Pn,e)?!1:ro.test(e)?Ai[e]=!0:(Pn[e]=!0,!1)}function nl(e,t,n){if(Cl(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Aa(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function na(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var oo,nd;function jl(e){if(oo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oo=t&&t[1]||"",nd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oo+e+nd}var co=!1;function uo(e,t){if(!e||co)return"";co=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var F=Y}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(Y){F=Y}e.call(ee.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),h=o[0],S=o[1];if(h&&S){var C=h.split(`
`),H=S.split(`
`);for(i=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;i<H.length&&!H[i].includes("DetermineComponentFrameRoot");)i++;if(a===C.length||i===H.length)for(a=C.length-1,i=H.length-1;1<=a&&0<=i&&C[a]!==H[i];)i--;for(;1<=a&&0<=i;a--,i--)if(C[a]!==H[i]){if(a!==1||i!==1)do if(a--,i--,0>i||C[a]!==H[i]){var Q=`
`+C[a].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=a&&0<=i);break}}}finally{co=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?jl(n):""}function Tb(e){switch(e.tag){case 26:case 27:case 5:return jl(e.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 15:return uo(e.type,!1);case 11:return uo(e.type.render,!1);case 1:return uo(e.type,!0);case 31:return jl("Activity");default:return""}}function ad(e){try{var t="";do t+=Tb(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ld(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cb(e){var t=ld(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){a=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ni(e){e._valueTracker||(e._valueTracker=Cb(e))}function sd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ld(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jb=/[\n"\\]/g;function Sn(e){return e.replace(jb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fo(e,t,n,a,i,o,h,S){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bn(t)):e.value!==""+bn(t)&&(e.value=""+bn(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?mo(e,h,bn(t)):n!=null?mo(e,h,bn(n)):a!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+bn(S):e.removeAttribute("name")}function id(e,t,n,a,i,o,h,S){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+bn(n):"",t=t!=null?""+bn(t):n,S||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=S?e.checked:!!a,e.defaultChecked=!!a,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function mo(e,t,n){t==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wl(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rd(e,t,n){if(t!=null&&(t=""+bn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+bn(n):""}function od(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(u(92));if(ce(a)){if(1<a.length)throw Error(u(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=bn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function El(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||wb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ud(e,t,n){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&cd(e,i,a)}else for(var o in t)t.hasOwnProperty(o)&&cd(e,o,t[o])}function ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ab=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mi(e){return Ab.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var go=null;function yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,Nl=null;function dd(e){var t=Yn(e);if(t&&(e=t.stateNode)){var n=e[pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(fo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[pe]||null;if(!i)throw Error(u(90));fo(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&sd(a)}break e;case"textarea":rd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wl(e,!!n.multiple,t,!1)}}}var po=!1;function fd(e,t,n){if(po)return e(t,n);po=!0;try{var a=e(t);return a}finally{if(po=!1,(Al!==null||Nl!==null)&&(yr(),Al&&(t=Al,e=Nl,Nl=Al=null,dd(t),e)))for(t=0;t<e.length;t++)dd(e[t])}}function gs(e,t){var n=e.stateNode;if(n===null)return null;var a=n[pe]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vo=!1;if(aa)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){vo=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{vo=!1}var Na=null,bo=null,zi=null;function md(){if(zi)return zi;var e,t=bo,n=t.length,a,i="value"in Na?Na.value:Na.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var h=n-e;for(a=1;a<=h&&t[n-a]===i[o-a];a++);return zi=i.slice(e,1<a?1-a:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ri(){return!0}function hd(){return!1}function an(e){function t(n,a,i,o,h){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(o):o[S]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ri:hd,this.isPropagationStopped=hd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=an(al),ps=_({},al,{view:0,detail:0}),Nb=an(ps),So,_o,vs,ki=_({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(So=e.screenX-vs.screenX,_o=e.screenY-vs.screenY):_o=So=0,vs=e),So)},movementY:function(e){return"movementY"in e?e.movementY:_o}}),gd=an(ki),Db=_({},ki,{dataTransfer:0}),Mb=an(Db),zb=_({},ps,{relatedTarget:0}),xo=an(zb),Ob=_({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),Rb=an(Ob),Lb=_({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kb=an(Lb),Bb=_({},al,{data:0}),yd=an(Bb),Ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$b={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hb[e])?!!t[e]:!1}function To(){return Vb}var qb=_({},ps,{key:function(e){if(e.key){var t=Ub[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$b[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ib=an(qb),Fb=_({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=an(Fb),Yb=_({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Pb=an(Yb),Gb=_({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xb=an(Gb),Qb=_({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zb=an(Qb),Kb=_({},al,{newState:0,oldState:0}),Jb=an(Kb),Wb=[9,13,27,32],Co=aa&&"CompositionEvent"in window,bs=null;aa&&"documentMode"in document&&(bs=document.documentMode);var e0=aa&&"TextEvent"in window&&!bs,vd=aa&&(!Co||bs&&8<bs&&11>=bs),bd=" ",Sd=!1;function _d(e,t){switch(e){case"keyup":return Wb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dl=!1;function t0(e,t){switch(e){case"compositionend":return xd(t);case"keypress":return t.which!==32?null:(Sd=!0,bd);case"textInput":return e=t.data,e===bd&&Sd?null:e;default:return null}}function n0(e,t){if(Dl)return e==="compositionend"||!Co&&_d(e,t)?(e=md(),zi=bo=Na=null,Dl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var a0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a0[e.type]:t==="textarea"}function Cd(e,t,n,a){Al?Nl?Nl.push(a):Nl=[a]:Al=a,t=xr(t,"onChange"),0<t.length&&(n=new Li("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ss=null,_s=null;function l0(e){sh(e,0)}function Bi(e){var t=tl(e);if(sd(t))return e}function jd(e,t){if(e==="change")return t}var wd=!1;if(aa){var jo;if(aa){var wo="oninput"in document;if(!wo){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),wo=typeof Ed.oninput=="function"}jo=wo}else jo=!1;wd=jo&&(!document.documentMode||9<document.documentMode)}function Ad(){Ss&&(Ss.detachEvent("onpropertychange",Nd),_s=Ss=null)}function Nd(e){if(e.propertyName==="value"&&Bi(_s)){var t=[];Cd(t,_s,e,yo(e)),fd(l0,t)}}function s0(e,t,n){e==="focusin"?(Ad(),Ss=t,_s=n,Ss.attachEvent("onpropertychange",Nd)):e==="focusout"&&Ad()}function i0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(_s)}function r0(e,t){if(e==="click")return Bi(t)}function o0(e,t){if(e==="input"||e==="change")return Bi(t)}function c0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:c0;function xs(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Ne.call(t,i)||!un(e[i],t[i]))return!1}return!0}function Dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,t){var n=Dd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dd(n)}}function zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Od(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Di(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Di(e.document)}return t}function Eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var u0=aa&&"documentMode"in document&&11>=document.documentMode,Ml=null,Ao=null,Ts=null,No=!1;function Rd(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;No||Ml==null||Ml!==Di(a)||(a=Ml,"selectionStart"in a&&Eo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ts&&xs(Ts,a)||(Ts=a,a=xr(Ao,"onSelect"),0<a.length&&(t=new Li("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Ml)))}function ll(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zl={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},Do={},Ld={};aa&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function sl(e){if(Do[e])return Do[e];if(!zl[e])return e;var t=zl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ld)return Do[e]=t[n];return e}var kd=sl("animationend"),Bd=sl("animationiteration"),Ud=sl("animationstart"),d0=sl("transitionrun"),f0=sl("transitionstart"),m0=sl("transitioncancel"),$d=sl("transitionend"),Hd=new Map,Mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mo.push("scrollEnd");function Ln(e,t){Hd.set(e,t),Rn(t,[e])}var Vd=new WeakMap;function _n(e,t){if(typeof e=="object"&&e!==null){var n=Vd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ad(t)},Vd.set(e,t),t)}return{value:e,source:t,stack:ad(t)}}var xn=[],Ol=0,zo=0;function Ui(){for(var e=Ol,t=zo=Ol=0;t<e;){var n=xn[t];xn[t++]=null;var a=xn[t];xn[t++]=null;var i=xn[t];xn[t++]=null;var o=xn[t];if(xn[t++]=null,a!==null&&i!==null){var h=a.pending;h===null?i.next=i:(i.next=h.next,h.next=i),a.pending=i}o!==0&&qd(n,i,o)}}function $i(e,t,n,a){xn[Ol++]=e,xn[Ol++]=t,xn[Ol++]=n,xn[Ol++]=a,zo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Oo(e,t,n,a){return $i(e,t,n,a),Hi(e)}function Rl(e,t){return $i(e,null,null,t),Hi(e)}function qd(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,o=e.return;o!==null;)o.childLanes|=n,a=o.alternate,a!==null&&(a.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-Ie(n),e=o.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),o):null}function Hi(e){if(50<Xs)throw Xs=0,$c=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ll={};function h0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,a){return new h0(e,t,n,a)}function Ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Id(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vi(e,t,n,a,i,o){var h=0;if(a=e,typeof e=="function")Ro(e)&&(h=1);else if(typeof e=="string")h=yS(e,n,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case B:return e=dn(31,n,t,i),e.elementType=B,e.lanes=o,e;case P:return il(n.children,i,o,t);case A:h=8,i|=24;break;case L:return e=dn(12,n,t,i|2),e.elementType=L,e.lanes=o,e;case R:return e=dn(13,n,t,i),e.elementType=R,e.lanes=o,e;case T:return e=dn(19,n,t,i),e.elementType=T,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:case j:h=10;break e;case q:h=9;break e;case G:h=11;break e;case w:h=14;break e;case O:h=16,a=null;break e}h=29,n=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=dn(h,n,t,i),t.elementType=e,t.type=a,t.lanes=o,t}function il(e,t,n,a){return e=dn(7,e,a,t),e.lanes=n,e}function Lo(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function ko(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var kl=[],Bl=0,qi=null,Ii=0,Tn=[],Cn=0,rl=null,sa=1,ia="";function ol(e,t){kl[Bl++]=Ii,kl[Bl++]=qi,qi=e,Ii=t}function Fd(e,t,n){Tn[Cn++]=sa,Tn[Cn++]=ia,Tn[Cn++]=rl,rl=e;var a=sa;e=ia;var i=32-Ie(a)-1;a&=~(1<<i),n+=1;var o=32-Ie(t)+i;if(30<o){var h=i-i%5;o=(a&(1<<h)-1).toString(32),a>>=h,i-=h,sa=1<<32-Ie(t)+i|n<<i|a,ia=o+e}else sa=1<<o|n<<i|a,ia=e}function Bo(e){e.return!==null&&(ol(e,1),Fd(e,1,0))}function Uo(e){for(;e===qi;)qi=kl[--Bl],kl[Bl]=null,Ii=kl[--Bl],kl[Bl]=null;for(;e===rl;)rl=Tn[--Cn],Tn[Cn]=null,ia=Tn[--Cn],Tn[Cn]=null,sa=Tn[--Cn],Tn[Cn]=null}var Jt=null,xt=null,Xe=!1,cl=null,Gn=!1,$o=Error(u(519));function ul(e){var t=Error(u(418,""));throw ws(_n(t,e)),$o}function Yd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ge]=e,t[pe]=a,n){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(n=0;n<Zs.length;n++)Ue(Zs[n],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),id(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Ni(t);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),od(t,a.value,a.defaultValue,a.children),Ni(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||ch(t.textContent,n)?(a.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),a.onScroll!=null&&Ue("scroll",t),a.onScrollEnd!=null&&Ue("scrollend",t),a.onClick!=null&&(t.onclick=Tr),t=!0):t=!1,t||ul(e)}function Pd(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Jt=Jt.return}}function Cs(e){if(e!==Jt)return!1;if(!Xe)return Pd(e),Xe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||tu(e.type,e.memoizedProps)),n=!n),n&&xt&&ul(e),Pd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){xt=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}xt=null}}else t===27?(t=xt,Ya(e.type)?(e=su,su=null,xt=e):xt=t):xt=Jt?Bn(e.stateNode.nextSibling):null;return!0}function js(){xt=Jt=null,Xe=!1}function Gd(){var e=cl;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),cl=null),e}function ws(e){cl===null?cl=[e]:cl.push(e)}var Ho=ve(null),dl=null,ra=null;function Da(e,t,n){fe(Ho,t._currentValue),t._currentValue=n}function oa(e){e._currentValue=Ho.current,ue(Ho)}function Vo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function qo(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var h=i.child;o=o.firstContext;e:for(;o!==null;){var S=o;o=i;for(var C=0;C<t.length;C++)if(S.context===t[C]){o.lanes|=n,S=o.alternate,S!==null&&(S.lanes|=n),Vo(o.return,n,e),a||(h=null);break e}o=S.next}}else if(i.tag===18){if(h=i.return,h===null)throw Error(u(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),Vo(h,n,e),h=null}else h=i.child;if(h!==null)h.return=i;else for(h=i;h!==null;){if(h===e){h=null;break}if(i=h.sibling,i!==null){i.return=h.return,h=i;break}h=h.return}i=h}}function Es(e,t,n,a){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var h=i.alternate;if(h===null)throw Error(u(387));if(h=h.memoizedProps,h!==null){var S=i.type;un(i.pendingProps.value,h.value)||(e!==null?e.push(S):e=[S])}}else if(i===ct.current){if(h=i.alternate,h===null)throw Error(u(387));h.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ni):e=[ni])}i=i.return}e!==null&&qo(t,e,n,a),t.flags|=262144}function Fi(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fl(e){dl=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return Xd(dl,e)}function Yi(e,t){return dl===null&&fl(e),Xd(e,t)}function Xd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ra===null){if(e===null)throw Error(u(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return n}var g0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},y0=l.unstable_scheduleCallback,p0=l.unstable_NormalPriority,Rt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Io(){return{controller:new g0,data:new Map,refCount:0}}function As(e){e.refCount--,e.refCount===0&&y0(p0,function(){e.controller.abort()})}var Ns=null,Fo=0,Ul=0,$l=null;function v0(e,t){if(Ns===null){var n=Ns=[];Fo=0,Ul=Pc(),$l={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Fo++,t.then(Qd,Qd),t}function Qd(){if(--Fo===0&&Ns!==null){$l!==null&&($l.status="fulfilled");var e=Ns;Ns=null,Ul=0,$l=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function b0(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Zd=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&v0(e,t),Zd!==null&&Zd(e,t)};var ml=ve(null);function Yo(){var e=ml.current;return e!==null?e:ut.pooledCache}function Pi(e,t){t===null?fe(ml,ml.current):fe(ml,t.pool)}function Kd(){var e=Yo();return e===null?null:{parent:Rt._currentValue,pool:e}}var Ds=Error(u(460)),Jd=Error(u(474)),Gi=Error(u(542)),Po={then:function(){}};function Wd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xi(){}function ef(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e;default:if(typeof t.status=="string")t.then(Xi,Xi);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e}throw Ms=t,Ds}}var Ms=null;function tf(){if(Ms===null)throw Error(u(459));var e=Ms;return Ms=null,e}function nf(e){if(e===Ds||e===Gi)throw Error(u(483))}var Ma=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ze&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Hi(e),qd(e,null,n),t}return $i(e,a,t,n),Hi(e)}function zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,cn(e,n)}}function Qo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Zo=!1;function Os(){if(Zo){var e=$l;if(e!==null)throw e}}function Rs(e,t,n,a){Zo=!1;var i=e.updateQueue;Ma=!1;var o=i.firstBaseUpdate,h=i.lastBaseUpdate,S=i.shared.pending;if(S!==null){i.shared.pending=null;var C=S,H=C.next;C.next=null,h===null?o=H:h.next=H,h=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==h&&(S===null?Q.firstBaseUpdate=H:S.next=H,Q.lastBaseUpdate=C))}if(o!==null){var ee=i.baseState;h=0,Q=H=C=null,S=o;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Fe&F)===F:(a&F)===F){F!==0&&F===Ul&&(Zo=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var je=e,Se=S;F=t;var at=n;switch(Se.tag){case 1:if(je=Se.payload,typeof je=="function"){ee=je.call(at,ee,F);break e}ee=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Se.payload,F=typeof je=="function"?je.call(at,ee,F):je,F==null)break e;ee=_({},ee,F);break e;case 2:Ma=!0}}F=S.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=i.callbacks,Y===null?i.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(H=Q=Y,C=ee):Q=Q.next=Y,h|=F;if(S=S.next,S===null){if(S=i.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,i.lastBaseUpdate=Y,i.shared.pending=null}}while(!0);Q===null&&(C=ee),i.baseState=C,i.firstBaseUpdate=H,i.lastBaseUpdate=Q,o===null&&(i.shared.lanes=0),Va|=h,e.lanes=h,e.memoizedState=ee}}function af(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function lf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)af(n[e],t)}var Hl=ve(null),Qi=ve(0);function sf(e,t){e=ga,fe(Qi,e),fe(Hl,t),ga=e|t.baseLanes}function Ko(){fe(Qi,ga),fe(Hl,Hl.current)}function Jo(){ga=Qi.current,ue(Hl),ue(Qi)}var Ra=0,ze=null,tt=null,At=null,Zi=!1,Vl=!1,hl=!1,Ki=0,Ls=0,ql=null,S0=0;function jt(){throw Error(u(321))}function Wo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function ec(e,t,n,a,i,o){return Ra=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?If:Ff,hl=!1,o=n(a,i),hl=!1,Vl&&(o=of(t,n,a,i)),rf(e),o}function rf(e){z.H=ar;var t=tt!==null&&tt.next!==null;if(Ra=0,At=tt=ze=null,Zi=!1,Ls=0,ql=null,t)throw Error(u(300));e===null||Ht||(e=e.dependencies,e!==null&&Fi(e)&&(Ht=!0))}function of(e,t,n,a){ze=e;var i=0;do{if(Vl&&(ql=null),Ls=0,Vl=!1,25<=i)throw Error(u(301));if(i+=1,At=tt=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}z.H=E0,o=t(n,a)}while(Vl);return o}function _0(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?ks(t):t,e=e.useState()[0],(tt!==null?tt.memoizedState:null)!==e&&(ze.flags|=1024),t}function tc(){var e=Ki!==0;return Ki=0,e}function nc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ac(e){if(Zi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zi=!1}Ra=0,At=tt=ze=null,Vl=!1,Ls=Ki=0,ql=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ze.memoizedState=At=e:At=At.next=e,At}function Nt(){if(tt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=At===null?ze.memoizedState:At.next;if(t!==null)At=t,tt=e;else{if(e===null)throw ze.alternate===null?Error(u(467)):Error(u(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},At===null?ze.memoizedState=At=e:At=At.next=e}return At}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ks(e){var t=Ls;return Ls+=1,ql===null&&(ql=[]),e=ef(ql,e,t),t=ze,(At===null?t.memoizedState:At.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?If:Ff),e}function Ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ks(e);if(e.$$typeof===j)return Zt(e)}throw Error(u(438,String(e)))}function sc(e){var t=null,n=ze.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ze.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=lc(),ze.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=N;return t.index++,n}function ca(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=Nt();return ic(t,tt,e)}function ic(e,t,n){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=n;var i=e.baseQueue,o=a.pending;if(o!==null){if(i!==null){var h=i.next;i.next=o.next,o.next=h}t.baseQueue=i=o,a.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var S=h=null,C=null,H=t,Q=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Fe&ee)===ee:(Ra&ee)===ee){var F=H.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Ul&&(Q=!0);else if((Ra&F)===F){H=H.next,F===Ul&&(Q=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(S=C=ee,h=o):C=C.next=ee,ze.lanes|=F,Va|=F;ee=H.action,hl&&n(o,ee),o=H.hasEagerState?H.eagerState:n(o,ee)}else F={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(S=C=F,h=o):C=C.next=F,ze.lanes|=ee,Va|=ee;H=H.next}while(H!==null&&H!==t);if(C===null?h=o:C.next=S,!un(o,e.memoizedState)&&(Ht=!0,Q&&(n=$l,n!==null)))throw n;e.memoizedState=o,e.baseState=h,e.baseQueue=C,a.lastRenderedState=o}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function rc(e){var t=Nt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var h=i=i.next;do o=e(o,h.action),h=h.next;while(h!==i);un(o,t.memoizedState)||(Ht=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function cf(e,t,n){var a=ze,i=Nt(),o=Xe;if(o){if(n===void 0)throw Error(u(407));n=n()}else n=t();var h=!un((tt||i).memoizedState,n);h&&(i.memoizedState=n,Ht=!0),i=i.queue;var S=ff.bind(null,a,i,e);if(Bs(2048,8,S,[e]),i.getSnapshot!==t||h||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Il(9,er(),df.bind(null,a,i,n,t),null),ut===null)throw Error(u(349));o||(Ra&124)!==0||uf(a,t,n)}return n}function uf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t=lc(),ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function df(e,t,n,a){t.value=n,t.getSnapshot=a,mf(t)&&hf(e)}function ff(e,t,n){return n(function(){mf(t)&&hf(e)})}function mf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function hf(e){var t=Rl(e,2);t!==null&&yn(t,e,2)}function oc(e){var t=ln();if(typeof e=="function"){var n=e;if(e=n(),hl){et(!0);try{n()}finally{et(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t}function gf(e,t,n,a){return e.baseState=n,ic(e,tt,typeof a=="function"?a:ca)}function x0(e,t,n,a,i){if(nr(e))throw Error(u(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};z.T!==null?n(!0):o.isTransition=!1,a(o),n=t.pending,n===null?(o.next=t.pending=o,yf(t,o)):(o.next=n.next,t.pending=n.next=o)}}function yf(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var o=z.T,h={};z.T=h;try{var S=n(i,a),C=z.S;C!==null&&C(h,S),pf(e,t,S)}catch(H){cc(e,t,H)}finally{z.T=o}}else try{o=n(i,a),pf(e,t,o)}catch(H){cc(e,t,H)}}function pf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){vf(e,t,a)},function(a){return cc(e,t,a)}):vf(e,t,n)}function vf(e,t,n){t.status="fulfilled",t.value=n,bf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,yf(e,n)))}function cc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,bf(t),t=t.next;while(t!==a)}e.action=null}function bf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Sf(e,t){return t}function _f(e,t){if(Xe){var n=ut.formState;if(n!==null){e:{var a=ze;if(Xe){if(xt){t:{for(var i=xt,o=Gn;i.nodeType!==8;){if(!o){i=null;break t}if(i=Bn(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){xt=Bn(i.nextSibling),a=i.data==="F!";break e}}ul(a)}a=!1}a&&(t=n[0])}}return n=ln(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sf,lastRenderedState:t},n.queue=a,n=Hf.bind(null,ze,a),a.dispatch=n,a=oc(!1),o=hc.bind(null,ze,!1,a.queue),a=ln(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=x0.bind(null,ze,i,o,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function xf(e){var t=Nt();return Tf(t,tt,e)}function Tf(e,t,n){if(t=ic(e,t,Sf)[0],e=Wi(ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ks(t)}catch(h){throw h===Ds?Gi:h}else a=t;t=Nt();var i=t.queue,o=i.dispatch;return n!==t.memoizedState&&(ze.flags|=2048,Il(9,er(),T0.bind(null,i,n),null)),[a,o,e]}function T0(e,t){e.action=t}function Cf(e){var t=Nt(),n=tt;if(n!==null)return Tf(t,n,e);Nt(),t=t.memoizedState,n=Nt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Il(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ze.updateQueue,t===null&&(t=lc(),ze.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function er(){return{destroy:void 0,resource:void 0}}function jf(){return Nt().memoizedState}function tr(e,t,n,a){var i=ln();a=a===void 0?null:a,ze.flags|=e,i.memoizedState=Il(1|t,er(),n,a)}function Bs(e,t,n,a){var i=Nt();a=a===void 0?null:a;var o=i.memoizedState.inst;tt!==null&&a!==null&&Wo(a,tt.memoizedState.deps)?i.memoizedState=Il(t,o,n,a):(ze.flags|=e,i.memoizedState=Il(1|t,o,n,a))}function wf(e,t){tr(8390656,8,e,t)}function Ef(e,t){Bs(2048,8,e,t)}function Af(e,t){return Bs(4,2,e,t)}function Nf(e,t){return Bs(4,4,e,t)}function Df(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mf(e,t,n){n=n!=null?n.concat([e]):null,Bs(4,4,Df.bind(null,t,e),n)}function uc(){}function zf(e,t){var n=Nt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Wo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Of(e,t){var n=Nt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Wo(t,a[1]))return a[0];if(a=e(),hl){et(!0);try{e()}finally{et(!1)}}return n.memoizedState=[a,t],a}function dc(e,t,n){return n===void 0||(Ra&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=km(),ze.lanes|=e,Va|=e,n)}function Rf(e,t,n,a){return un(n,t)?n:Hl.current!==null?(e=dc(e,n,a),un(e,t)||(Ht=!0),e):(Ra&42)===0?(Ht=!0,e.memoizedState=n):(e=km(),ze.lanes|=e,Va|=e,t)}function Lf(e,t,n,a,i){var o=I.p;I.p=o!==0&&8>o?o:8;var h=z.T,S={};z.T=S,hc(e,!1,t,n);try{var C=i(),H=z.S;if(H!==null&&H(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=b0(C,a);Us(e,t,Q,gn(e))}else Us(e,t,a,gn(e))}catch(ee){Us(e,t,{then:function(){},status:"rejected",reason:ee},gn())}finally{I.p=o,z.T=h}}function C0(){}function fc(e,t,n,a){if(e.tag!==5)throw Error(u(476));var i=kf(e).queue;Lf(e,i,t,X,n===null?C0:function(){return Bf(e),n(a)})}function kf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:X},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bf(e){var t=kf(e).next.queue;Us(e,t,{},gn())}function mc(){return Zt(ni)}function Uf(){return Nt().memoizedState}function $f(){return Nt().memoizedState}function j0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=gn();e=za(n);var a=Oa(t,e,n);a!==null&&(yn(a,t,n),zs(a,t,n)),t={cache:Io()},e.payload=t;return}t=t.return}}function w0(e,t,n){var a=gn();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},nr(e)?Vf(t,n):(n=Oo(e,t,n,a),n!==null&&(yn(n,e,a),qf(n,t,a)))}function Hf(e,t,n){var a=gn();Us(e,t,n,a)}function Us(e,t,n,a){var i={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(nr(e))Vf(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,S=o(h,n);if(i.hasEagerState=!0,i.eagerState=S,un(S,h))return $i(e,t,i,0),ut===null&&Ui(),!1}catch{}finally{}if(n=Oo(e,t,i,a),n!==null)return yn(n,e,a),qf(n,t,a),!0}return!1}function hc(e,t,n,a){if(a={lane:2,revertLane:Pc(),action:a,hasEagerState:!1,eagerState:null,next:null},nr(e)){if(t)throw Error(u(479))}else t=Oo(e,n,a,2),t!==null&&yn(t,e,2)}function nr(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Vf(e,t){Vl=Zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qf(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,cn(e,n)}}var ar={readContext:Zt,use:Ji,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},If={readContext:Zt,use:Ji,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:wf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,tr(4194308,4,Df.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tr(4194308,4,e,t)},useInsertionEffect:function(e,t){tr(4,2,e,t)},useMemo:function(e,t){var n=ln();t=t===void 0?null:t;var a=e();if(hl){et(!0);try{e()}finally{et(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=ln();if(n!==void 0){var i=n(t);if(hl){et(!0);try{n(t)}finally{et(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=w0.bind(null,ze,e),[a.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:function(e){e=oc(e);var t=e.queue,n=Hf.bind(null,ze,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:uc,useDeferredValue:function(e,t){var n=ln();return dc(n,e,t)},useTransition:function(){var e=oc(!1);return e=Lf.bind(null,ze,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ze,i=ln();if(Xe){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),ut===null)throw Error(u(349));(Fe&124)!==0||uf(a,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,wf(ff.bind(null,a,o,e),[e]),a.flags|=2048,Il(9,er(),df.bind(null,a,o,n,t),null),n},useId:function(){var e=ln(),t=ut.identifierPrefix;if(Xe){var n=ia,a=sa;n=(a&~(1<<32-Ie(a)-1)).toString(32)+n,t=""+t+"R"+n,n=Ki++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=S0++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:mc,useFormState:_f,useActionState:_f,useOptimistic:function(e){var t=ln();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=hc.bind(null,ze,!0,n),n.dispatch=t,[e,t]},useMemoCache:sc,useCacheRefresh:function(){return ln().memoizedState=j0.bind(null,ze)}},Ff={readContext:Zt,use:Ji,useCallback:zf,useContext:Zt,useEffect:Ef,useImperativeHandle:Mf,useInsertionEffect:Af,useLayoutEffect:Nf,useMemo:Of,useReducer:Wi,useRef:jf,useState:function(){return Wi(ca)},useDebugValue:uc,useDeferredValue:function(e,t){var n=Nt();return Rf(n,tt.memoizedState,e,t)},useTransition:function(){var e=Wi(ca)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:ks(e),t]},useSyncExternalStore:cf,useId:Uf,useHostTransitionStatus:mc,useFormState:xf,useActionState:xf,useOptimistic:function(e,t){var n=Nt();return gf(n,tt,e,t)},useMemoCache:sc,useCacheRefresh:$f},E0={readContext:Zt,use:Ji,useCallback:zf,useContext:Zt,useEffect:Ef,useImperativeHandle:Mf,useInsertionEffect:Af,useLayoutEffect:Nf,useMemo:Of,useReducer:rc,useRef:jf,useState:function(){return rc(ca)},useDebugValue:uc,useDeferredValue:function(e,t){var n=Nt();return tt===null?dc(n,e,t):Rf(n,tt.memoizedState,e,t)},useTransition:function(){var e=rc(ca)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:ks(e),t]},useSyncExternalStore:cf,useId:Uf,useHostTransitionStatus:mc,useFormState:Cf,useActionState:Cf,useOptimistic:function(e,t){var n=Nt();return tt!==null?gf(n,tt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:sc,useCacheRefresh:$f},Fl=null,$s=0;function lr(e){var t=$s;return $s+=1,Fl===null&&(Fl=[]),ef(Fl,e,t)}function Hs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sr(e,t){throw t.$$typeof===y?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yf(e){var t=e._init;return t(e._payload)}function Pf(e){function t(k,M){if(e){var $=k.deletions;$===null?(k.deletions=[M],k.flags|=16):$.push(M)}}function n(k,M){if(!e)return null;for(;M!==null;)t(k,M),M=M.sibling;return null}function a(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function i(k,M){return k=la(k,M),k.index=0,k.sibling=null,k}function o(k,M,$){return k.index=$,e?($=k.alternate,$!==null?($=$.index,$<M?(k.flags|=67108866,M):$):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function h(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function S(k,M,$,J){return M===null||M.tag!==6?(M=Lo($,k.mode,J),M.return=k,M):(M=i(M,$),M.return=k,M)}function C(k,M,$,J){var ye=$.type;return ye===P?Q(k,M,$.props.children,J,$.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===O&&Yf(ye)===M.type)?(M=i(M,$.props),Hs(M,$),M.return=k,M):(M=Vi($.type,$.key,$.props,null,k.mode,J),Hs(M,$),M.return=k,M)}function H(k,M,$,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=ko($,k.mode,J),M.return=k,M):(M=i(M,$.children||[]),M.return=k,M)}function Q(k,M,$,J,ye){return M===null||M.tag!==7?(M=il($,k.mode,J,ye),M.return=k,M):(M=i(M,$),M.return=k,M)}function ee(k,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Lo(""+M,k.mode,$),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return $=Vi(M.type,M.key,M.props,null,k.mode,$),Hs($,M),$.return=k,$;case E:return M=ko(M,k.mode,$),M.return=k,M;case O:var J=M._init;return M=J(M._payload),ee(k,M,$)}if(ce(M)||D(M))return M=il(M,k.mode,$,null),M.return=k,M;if(typeof M.then=="function")return ee(k,lr(M),$);if(M.$$typeof===j)return ee(k,Yi(k,M),$);sr(k,M)}return null}function F(k,M,$,J){var ye=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ye!==null?null:S(k,M,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return $.key===ye?C(k,M,$,J):null;case E:return $.key===ye?H(k,M,$,J):null;case O:return ye=$._init,$=ye($._payload),F(k,M,$,J)}if(ce($)||D($))return ye!==null?null:Q(k,M,$,J,null);if(typeof $.then=="function")return F(k,M,lr($),J);if($.$$typeof===j)return F(k,M,Yi(k,$),J);sr(k,$)}return null}function Y(k,M,$,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get($)||null,S(M,k,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return k=k.get(J.key===null?$:J.key)||null,C(M,k,J,ye);case E:return k=k.get(J.key===null?$:J.key)||null,H(M,k,J,ye);case O:var Le=J._init;return J=Le(J._payload),Y(k,M,$,J,ye)}if(ce(J)||D(J))return k=k.get($)||null,Q(M,k,J,ye,null);if(typeof J.then=="function")return Y(k,M,$,lr(J),ye);if(J.$$typeof===j)return Y(k,M,$,Yi(M,J),ye);sr(M,J)}return null}function je(k,M,$,J){for(var ye=null,Le=null,be=M,xe=M=0,qt=null;be!==null&&xe<$.length;xe++){be.index>xe?(qt=be,be=null):qt=be.sibling;var Ye=F(k,be,$[xe],J);if(Ye===null){be===null&&(be=qt);break}e&&be&&Ye.alternate===null&&t(k,be),M=o(Ye,M,xe),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye,be=qt}if(xe===$.length)return n(k,be),Xe&&ol(k,xe),ye;if(be===null){for(;xe<$.length;xe++)be=ee(k,$[xe],J),be!==null&&(M=o(be,M,xe),Le===null?ye=be:Le.sibling=be,Le=be);return Xe&&ol(k,xe),ye}for(be=a(be);xe<$.length;xe++)qt=Y(be,k,xe,$[xe],J),qt!==null&&(e&&qt.alternate!==null&&be.delete(qt.key===null?xe:qt.key),M=o(qt,M,xe),Le===null?ye=qt:Le.sibling=qt,Le=qt);return e&&be.forEach(function(Za){return t(k,Za)}),Xe&&ol(k,xe),ye}function Se(k,M,$,J){if($==null)throw Error(u(151));for(var ye=null,Le=null,be=M,xe=M=0,qt=null,Ye=$.next();be!==null&&!Ye.done;xe++,Ye=$.next()){be.index>xe?(qt=be,be=null):qt=be.sibling;var Za=F(k,be,Ye.value,J);if(Za===null){be===null&&(be=qt);break}e&&be&&Za.alternate===null&&t(k,be),M=o(Za,M,xe),Le===null?ye=Za:Le.sibling=Za,Le=Za,be=qt}if(Ye.done)return n(k,be),Xe&&ol(k,xe),ye;if(be===null){for(;!Ye.done;xe++,Ye=$.next())Ye=ee(k,Ye.value,J),Ye!==null&&(M=o(Ye,M,xe),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye);return Xe&&ol(k,xe),ye}for(be=a(be);!Ye.done;xe++,Ye=$.next())Ye=Y(be,k,xe,Ye.value,J),Ye!==null&&(e&&Ye.alternate!==null&&be.delete(Ye.key===null?xe:Ye.key),M=o(Ye,M,xe),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye);return e&&be.forEach(function(AS){return t(k,AS)}),Xe&&ol(k,xe),ye}function at(k,M,$,J){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case x:e:{for(var ye=$.key;M!==null;){if(M.key===ye){if(ye=$.type,ye===P){if(M.tag===7){n(k,M.sibling),J=i(M,$.props.children),J.return=k,k=J;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===O&&Yf(ye)===M.type){n(k,M.sibling),J=i(M,$.props),Hs(J,$),J.return=k,k=J;break e}n(k,M);break}else t(k,M);M=M.sibling}$.type===P?(J=il($.props.children,k.mode,J,$.key),J.return=k,k=J):(J=Vi($.type,$.key,$.props,null,k.mode,J),Hs(J,$),J.return=k,k=J)}return h(k);case E:e:{for(ye=$.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){n(k,M.sibling),J=i(M,$.children||[]),J.return=k,k=J;break e}else{n(k,M);break}else t(k,M);M=M.sibling}J=ko($,k.mode,J),J.return=k,k=J}return h(k);case O:return ye=$._init,$=ye($._payload),at(k,M,$,J)}if(ce($))return je(k,M,$,J);if(D($)){if(ye=D($),typeof ye!="function")throw Error(u(150));return $=ye.call($),Se(k,M,$,J)}if(typeof $.then=="function")return at(k,M,lr($),J);if($.$$typeof===j)return at(k,M,Yi(k,$),J);sr(k,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,M!==null&&M.tag===6?(n(k,M.sibling),J=i(M,$),J.return=k,k=J):(n(k,M),J=Lo($,k.mode,J),J.return=k,k=J),h(k)):n(k,M)}return function(k,M,$,J){try{$s=0;var ye=at(k,M,$,J);return Fl=null,ye}catch(be){if(be===Ds||be===Gi)throw be;var Le=dn(29,be,null,k.mode);return Le.lanes=J,Le.return=k,Le}finally{}}}var Yl=Pf(!0),Gf=Pf(!1),jn=ve(null),Xn=null;function La(e){var t=e.alternate;fe(Lt,Lt.current&1),fe(jn,e),Xn===null&&(t===null||Hl.current!==null||t.memoizedState!==null)&&(Xn=e)}function Xf(e){if(e.tag===22){if(fe(Lt,Lt.current),fe(jn,e),Xn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xn=e)}}else ka()}function ka(){fe(Lt,Lt.current),fe(jn,jn.current)}function ua(e){ue(jn),Xn===e&&(Xn=null),ue(Lt)}var Lt=ve(0);function ir(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||lu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function gc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=gn(),i=za(a);i.payload=t,n!=null&&(i.callback=n),t=Oa(e,i,a),t!==null&&(yn(t,e,a),zs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=gn(),i=za(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Oa(e,i,a),t!==null&&(yn(t,e,a),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gn(),a=za(n);a.tag=2,t!=null&&(a.callback=t),t=Oa(e,a,n),t!==null&&(yn(t,e,n),zs(t,e,n))}};function Qf(e,t,n,a,i,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,h):t.prototype&&t.prototype.isPureReactComponent?!xs(n,a)||!xs(i,o):!0}function Zf(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&yc.enqueueReplaceState(t,t.state,null)}function gl(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var rr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kf(e){rr(e)}function Jf(e){console.error(e)}function Wf(e){rr(e)}function or(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function em(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function pc(e,t,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){or(e,t)},n}function tm(e){return e=za(e),e.tag=3,e}function nm(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=a.value;e.payload=function(){return i(o)},e.callback=function(){em(t,n,a)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){em(t,n,a),typeof i!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function A0(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Es(t,n,i,!0),n=jn.current,n!==null){switch(n.tag){case 13:return Xn===null?Vc():n.alternate===null&&Tt===0&&(Tt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Po?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ic(e,a,i)),!1;case 22:return n.flags|=65536,a===Po?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ic(e,a,i)),!1}throw Error(u(435,n.tag))}return Ic(e,a,i),Vc(),!1}if(Xe)return t=jn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==$o&&(e=Error(u(422),{cause:a}),ws(_n(e,n)))):(a!==$o&&(t=Error(u(423),{cause:a}),ws(_n(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=_n(a,n),i=pc(e.stateNode,a,i),Qo(e,i),Tt!==4&&(Tt=2)),!1;var o=Error(u(520),{cause:a});if(o=_n(o,n),Gs===null?Gs=[o]:Gs.push(o),Tt!==4&&(Tt=2),t===null)return!0;a=_n(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=pc(n.stateNode,a,e),Qo(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=tm(i),nm(i,e,n,a),Qo(n,i),!1}n=n.return}while(n!==null);return!1}var am=Error(u(461)),Ht=!1;function Gt(e,t,n,a){t.child=e===null?Gf(t,null,n,a):Yl(t,e.child,n,a)}function lm(e,t,n,a,i){n=n.render;var o=t.ref;if("ref"in a){var h={};for(var S in a)S!=="ref"&&(h[S]=a[S])}else h=a;return fl(t),a=ec(e,t,n,h,o,i),S=tc(),e!==null&&!Ht?(nc(e,t,i),da(e,t,i)):(Xe&&S&&Bo(t),t.flags|=1,Gt(e,t,a,i),t.child)}function sm(e,t,n,a,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ro(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,im(e,t,o,a,i)):(e=Vi(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!jc(e,i)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(h,a)&&e.ref===t.ref)return da(e,t,i)}return t.flags|=1,e=la(o,a),e.ref=t.ref,e.return=t,t.child=e}function im(e,t,n,a,i){if(e!==null){var o=e.memoizedProps;if(xs(o,a)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=a=o,jc(e,i))(e.flags&131072)!==0&&(Ht=!0);else return t.lanes=e.lanes,da(e,t,i)}return vc(e,t,n,a,i)}function rm(e,t,n){var a=t.pendingProps,i=a.children,o=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~a}else t.childLanes=0,t.child=null;return om(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pi(t,o!==null?o.cachePool:null),o!==null?sf(t,o):Ko(),Xf(t);else return t.lanes=t.childLanes=536870912,om(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Pi(t,o.cachePool),sf(t,o),ka(),t.memoizedState=null):(e!==null&&Pi(t,null),Ko(),ka());return Gt(e,t,i,n),t.child}function om(e,t,n,a){var i=Yo();return i=i===null?null:{parent:Rt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Pi(t,null),Ko(),Xf(t),e!==null&&Es(e,t,a,!0),null}function cr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(u(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function vc(e,t,n,a,i){return fl(t),n=ec(e,t,n,a,void 0,i),a=tc(),e!==null&&!Ht?(nc(e,t,i),da(e,t,i)):(Xe&&a&&Bo(t),t.flags|=1,Gt(e,t,n,i),t.child)}function cm(e,t,n,a,i,o){return fl(t),t.updateQueue=null,n=of(t,a,n,i),rf(e),a=tc(),e!==null&&!Ht?(nc(e,t,o),da(e,t,o)):(Xe&&a&&Bo(t),t.flags|=1,Gt(e,t,n,o),t.child)}function um(e,t,n,a,i){if(fl(t),t.stateNode===null){var o=Ll,h=n.contextType;typeof h=="object"&&h!==null&&(o=Zt(h)),o=new n(a,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yc,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=a,o.state=t.memoizedState,o.refs={},Go(t),h=n.contextType,o.context=typeof h=="object"&&h!==null?Zt(h):Ll,o.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(gc(t,n,h,a),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&yc.enqueueReplaceState(o,o.state,null),Rs(t,a,o,i),Os(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){o=t.stateNode;var S=t.memoizedProps,C=gl(n,S);o.props=C;var H=o.context,Q=n.contextType;h=Ll,typeof Q=="object"&&Q!==null&&(h=Zt(Q));var ee=n.getDerivedStateFromProps;Q=typeof ee=="function"||typeof o.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,Q||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(S||H!==h)&&Zf(t,o,a,h),Ma=!1;var F=t.memoizedState;o.state=F,Rs(t,a,o,i),Os(),H=t.memoizedState,S||F!==H||Ma?(typeof ee=="function"&&(gc(t,n,ee,a),H=t.memoizedState),(C=Ma||Qf(t,n,C,a,F,H,h))?(Q||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=H),o.props=a,o.state=H,o.context=h,a=C):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Xo(e,t),h=t.memoizedProps,Q=gl(n,h),o.props=Q,ee=t.pendingProps,F=o.context,H=n.contextType,C=Ll,typeof H=="object"&&H!==null&&(C=Zt(H)),S=n.getDerivedStateFromProps,(H=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==ee||F!==C)&&Zf(t,o,a,C),Ma=!1,F=t.memoizedState,o.state=F,Rs(t,a,o,i),Os();var Y=t.memoizedState;h!==ee||F!==Y||Ma||e!==null&&e.dependencies!==null&&Fi(e.dependencies)?(typeof S=="function"&&(gc(t,n,S,a),Y=t.memoizedState),(Q=Ma||Qf(t,n,Q,a,F,Y,C)||e!==null&&e.dependencies!==null&&Fi(e.dependencies))?(H||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,Y,C),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,Y,C)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Y),o.props=a,o.state=Y,o.context=C,a=Q):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return o=a,cr(e,t),a=(t.flags&128)!==0,o||a?(o=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&a?(t.child=Yl(t,e.child,null,i),t.child=Yl(t,null,n,i)):Gt(e,t,n,i),t.memoizedState=o.state,e=t.child):e=da(e,t,i),e}function dm(e,t,n,a){return js(),t.flags|=256,Gt(e,t,n,a),t.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sc(e){return{baseLanes:e,cachePool:Kd()}}function _c(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=wn),e}function fm(e,t,n){var a=t.pendingProps,i=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),h&&(i=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Xe){if(i?La(t):ka(),Xe){var S=xt,C;if(C=S){e:{for(C=S,S=Gn;C.nodeType!==8;){if(!S){S=null;break e}if(C=Bn(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(t.memoizedState={dehydrated:S,treeContext:rl!==null?{id:sa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},C=dn(18,null,null,0),C.stateNode=S,C.return=t,t.child=C,Jt=t,xt=null,C=!0):C=!1}C||ul(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return lu(S)?t.lanes=32:t.lanes=536870912,null;ua(t)}return S=a.children,a=a.fallback,i?(ka(),i=t.mode,S=ur({mode:"hidden",children:S},i),a=il(a,i,n,null),S.return=t,a.return=t,S.sibling=a,t.child=S,i=t.child,i.memoizedState=Sc(n),i.childLanes=_c(e,h,n),t.memoizedState=bc,a):(La(t),xc(t,S))}if(C=e.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(o)t.flags&256?(La(t),t.flags&=-257,t=Tc(e,t,n)):t.memoizedState!==null?(ka(),t.child=e.child,t.flags|=128,t=null):(ka(),i=a.fallback,S=t.mode,a=ur({mode:"visible",children:a.children},S),i=il(i,S,n,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,Yl(t,e.child,null,n),a=t.child,a.memoizedState=Sc(n),a.childLanes=_c(e,h,n),t.memoizedState=bc,t=i);else if(La(t),lu(S)){if(h=S.nextSibling&&S.nextSibling.dataset,h)var H=h.dgst;h=H,a=Error(u(419)),a.stack="",a.digest=h,ws({value:a,source:null,stack:null}),t=Tc(e,t,n)}else if(Ht||Es(e,t,n,!1),h=(n&e.childLanes)!==0,Ht||h){if(h=ut,h!==null&&(a=n&-n,a=(a&42)!==0?1:$t(a),a=(a&(h.suspendedLanes|n))!==0?0:a,a!==0&&a!==C.retryLane))throw C.retryLane=a,Rl(e,a),yn(h,e,a),am;S.data==="$?"||Vc(),t=Tc(e,t,n)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,xt=Bn(S.nextSibling),Jt=t,Xe=!0,cl=null,Gn=!1,e!==null&&(Tn[Cn++]=sa,Tn[Cn++]=ia,Tn[Cn++]=rl,sa=e.id,ia=e.overflow,rl=t),t=xc(t,a.children),t.flags|=4096);return t}return i?(ka(),i=a.fallback,S=t.mode,C=e.child,H=C.sibling,a=la(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,H!==null?i=la(H,i):(i=il(i,S,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,S=e.child.memoizedState,S===null?S=Sc(n):(C=S.cachePool,C!==null?(H=Rt._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=Kd(),S={baseLanes:S.baseLanes|n,cachePool:C}),i.memoizedState=S,i.childLanes=_c(e,h,n),t.memoizedState=bc,a):(La(t),n=e.child,e=n.sibling,n=la(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function xc(e,t){return t=ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ur(e,t){return e=dn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tc(e,t,n){return Yl(t,e.child,null,n),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Vo(e.return,t,n)}function Cc(e,t,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=i)}function hm(e,t,n){var a=t.pendingProps,i=a.revealOrder,o=a.tail;if(Gt(e,t,a.children,n),a=Lt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mm(e,n,t);else if(e.tag===19)mm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(fe(Lt,a),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ir(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cc(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ir(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cc(t,!0,n,null,o);break;case"together":Cc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function da(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Es(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=la(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=la(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Fi(e)))}function N0(e,t,n){switch(t.tag){case 3:mt(t,t.stateNode.containerInfo),Da(t,Rt,e.memoizedState.cache),js();break;case 27:case 5:lt(t);break;case 4:mt(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(La(t),t.flags|=128,null):(n&t.child.childLanes)!==0?fm(e,t,n):(La(t),e=da(e,t,n),e!==null?e.sibling:null);La(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Es(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return hm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Lt,Lt.current),a)break;return null;case 22:case 23:return t.lanes=0,rm(e,t,n);case 24:Da(t,Rt,e.memoizedState.cache)}return da(e,t,n)}function gm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ht=!0;else{if(!jc(e,n)&&(t.flags&128)===0)return Ht=!1,N0(e,t,n);Ht=(e.flags&131072)!==0}else Ht=!1,Xe&&(t.flags&1048576)!==0&&Fd(t,Ii,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,typeof a=="function")Ro(a)?(e=gl(a,e),t.tag=1,t=um(null,t,a,e,n)):(t.tag=0,t=vc(null,t,a,e,n));else{if(a!=null){if(i=a.$$typeof,i===G){t.tag=11,t=lm(null,t,a,e,n);break e}else if(i===w){t.tag=14,t=sm(null,t,a,e,n);break e}}throw t=ae(a)||a,Error(u(306,t,""))}}return t;case 0:return vc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=gl(a,t.pendingProps),um(e,t,a,i,n);case 3:e:{if(mt(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var o=t.memoizedState;i=o.element,Xo(e,t),Rs(t,a,null,n);var h=t.memoizedState;if(a=h.cache,Da(t,Rt,a),a!==o.cache&&qo(t,[Rt],n,!0),Os(),a=h.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=dm(e,t,a,n);break e}else if(a!==i){i=_n(Error(u(424)),t),ws(i),t=dm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=Bn(e.firstChild),Jt=t,Xe=!0,cl=null,Gn=!0,n=Gf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(js(),a===i){t=da(e,t,n);break e}Gt(e,t,a,n)}t=t.child}return t;case 26:return cr(e,t),e===null?(n=bh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Xe||(n=t.type,e=t.pendingProps,a=Cr(Oe.current).createElement(n),a[ge]=t,a[pe]=e,Qt(a,n,e),Et(a),t.stateNode=a):t.memoizedState=bh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return lt(t),e===null&&Xe&&(a=t.stateNode=yh(t.type,t.pendingProps,Oe.current),Jt=t,Gn=!0,i=xt,Ya(t.type)?(su=i,xt=Bn(a.firstChild)):xt=i),Gt(e,t,t.pendingProps.children,n),cr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Xe&&((i=a=xt)&&(a=aS(a,t.type,t.pendingProps,Gn),a!==null?(t.stateNode=a,Jt=t,xt=Bn(a.firstChild),Gn=!1,i=!0):i=!1),i||ul(t)),lt(t),i=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,a=o.children,tu(i,o)?a=null:h!==null&&tu(i,h)&&(t.flags|=32),t.memoizedState!==null&&(i=ec(e,t,_0,null,null,n),ni._currentValue=i),cr(e,t),Gt(e,t,a,n),t.child;case 6:return e===null&&Xe&&((e=n=xt)&&(n=lS(n,t.pendingProps,Gn),n!==null?(t.stateNode=n,Jt=t,xt=null,e=!0):e=!1),e||ul(t)),null;case 13:return fm(e,t,n);case 4:return mt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Yl(t,null,a,n):Gt(e,t,a,n),t.child;case 11:return lm(e,t,t.type,t.pendingProps,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Da(t,t.type,a.value),Gt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,fl(t),i=Zt(i),a=a(i),t.flags|=1,Gt(e,t,a,n),t.child;case 14:return sm(e,t,t.type,t.pendingProps,n);case 15:return im(e,t,t.type,t.pendingProps,n);case 19:return hm(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=ur(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=la(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return rm(e,t,n);case 24:return fl(t),a=Zt(Rt),e===null?(i=Yo(),i===null&&(i=ut,o=Io(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:a,cache:i},Go(t),Da(t,Rt,i)):((e.lanes&n)!==0&&(Xo(e,t),Rs(t,null,null,n),Os()),i=e.memoizedState,o=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Da(t,Rt,a)):(a=o.cache,Da(t,Rt,a),a!==i.cache&&qo(t,[Rt],n,!0))),Gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function fa(e){e.flags|=4}function ym(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ch(t)){if(t=jn.current,t!==null&&((Fe&4194048)===Fe?Xn!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||t!==Xn))throw Ms=Po,Jd;e.flags|=8192}}function dr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ja():536870912,e.lanes|=t,Ql|=t)}function Vs(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function D0(e,t,n){var a=t.pendingProps;switch(Uo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return _t(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oa(Rt),Ct(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cs(t)?fa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gd())),_t(t),null;case 26:return n=t.memoizedState,e===null?(fa(t),n!==null?(_t(t),ym(t,n)):(_t(t),t.flags&=-16777217)):n?n!==e.memoizedState?(fa(t),_t(t),ym(t,n)):(_t(t),t.flags&=-16777217):(e.memoizedProps!==a&&fa(t),_t(t),t.flags&=-16777217),null;case 27:me(t),n=Oe.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&fa(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return _t(t),null}e=_e.current,Cs(t)?Yd(t):(e=yh(i,a,n),t.stateNode=e,fa(t))}return _t(t),null;case 5:if(me(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&fa(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return _t(t),null}if(e=_e.current,Cs(t))Yd(t);else{switch(i=Cr(Oe.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}e[ge]=t,e[pe]=a;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Qt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&fa(t)}}return _t(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&fa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=Oe.current,Cs(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Jt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[ge]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||ch(e.nodeValue,n)),e||ul(t)}else e=Cr(e).createTextNode(a),e[ge]=t,t.stateNode=e}return _t(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Cs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(u(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(u(317));i[ge]=t}else js(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;_t(t),i=!1}else i=Gd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ua(t),t):(ua(t),null)}if(ua(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool);var o=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),dr(t,t.updateQueue),_t(t),null;case 4:return Ct(),e===null&&Zc(t.stateNode.containerInfo),_t(t),null;case 10:return oa(t.type),_t(t),null;case 19:if(ue(Lt),i=t.memoizedState,i===null)return _t(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Vs(i,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=ir(e),o!==null){for(t.flags|=128,Vs(i,!1),e=o.updateQueue,t.updateQueue=e,dr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Id(n,e),n=n.sibling;return fe(Lt,Lt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Re()>hr&&(t.flags|=128,a=!0,Vs(i,!1),t.lanes=4194304)}else{if(!a)if(e=ir(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,dr(t,e),Vs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return _t(t),null}else 2*Re()-i.renderingStartTime>hr&&n!==536870912&&(t.flags|=128,a=!0,Vs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Re(),t.sibling=null,e=Lt.current,fe(Lt,a?e&1|2:e&1),t):(_t(t),null);case 22:case 23:return ua(t),Jo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),n=t.updateQueue,n!==null&&dr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&ue(ml),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oa(Rt),_t(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function M0(e,t){switch(Uo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Rt),Ct(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 13:if(ua(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(Lt),null;case 4:return Ct(),null;case 10:return oa(t.type),null;case 22:case 23:return ua(t),Jo(),e!==null&&ue(ml),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Rt),null;case 25:return null;default:return null}}function pm(e,t){switch(Uo(t),t.tag){case 3:oa(Rt),Ct();break;case 26:case 27:case 5:me(t);break;case 4:Ct();break;case 13:ua(t);break;case 19:ue(Lt);break;case 10:oa(t.type);break;case 22:case 23:ua(t),Jo(),e!==null&&ue(ml);break;case 24:oa(Rt)}}function qs(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var o=n.create,h=n.inst;a=o(),h.destroy=a}n=n.next}while(n!==i)}}catch(S){ot(t,t.return,S)}}function Ba(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){var h=a.inst,S=h.destroy;if(S!==void 0){h.destroy=void 0,i=t;var C=n,H=S;try{H()}catch(Q){ot(i,C,Q)}}}a=a.next}while(a!==o)}}catch(Q){ot(t,t.return,Q)}}function vm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{lf(t,n)}catch(a){ot(e,e.return,a)}}}function bm(e,t,n){n.props=gl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ot(e,t,a)}}function Is(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){ot(e,t,i)}}function Qn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){ot(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ot(e,t,i)}else n.current=null}function Sm(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){ot(e,e.return,i)}}function wc(e,t,n){try{var a=e.stateNode;J0(a,e.type,n,t),a[pe]=t}catch(i){ot(e,e.return,i)}}function _m(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function Ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ac(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tr));else if(a!==4&&(a===27&&Ya(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}function fr(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Ya(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(fr(e,t,n),e=e.sibling;e!==null;)fr(e,t,n),e=e.sibling}function xm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Qt(t,a,n),t[ge]=e,t[pe]=n}catch(o){ot(e,e.return,o)}}var ma=!1,wt=!1,Nc=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function z0(e,t){if(e=e.containerInfo,Wc=Dr,e=Od(e),Eo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var h=0,S=-1,C=-1,H=0,Q=0,ee=e,F=null;t:for(;;){for(var Y;ee!==n||i!==0&&ee.nodeType!==3||(S=h+i),ee!==o||a!==0&&ee.nodeType!==3||(C=h+a),ee.nodeType===3&&(h+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)F=ee,ee=Y;for(;;){if(ee===e)break t;if(F===n&&++H===i&&(S=h),F===o&&++Q===a&&(C=h),(Y=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Y}n=S===-1||C===-1?null:{start:S,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(eu={focusedElem:e,selectionRange:n},Dr=!1,Vt=t;Vt!==null;)if(t=Vt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Vt=e;else for(;Vt!==null;){switch(t=Vt,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,a=n.stateNode;try{var je=gl(n.type,i,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(je,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(Se){ot(n,n.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)au(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":au(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Vt=e;break}Vt=t.return}}function Cm(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ua(e,n),a&4&&qs(5,n);break;case 1:if(Ua(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){ot(n,n.return,h)}else{var i=gl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){ot(n,n.return,h)}}a&64&&vm(n),a&512&&Is(n,n.return);break;case 3:if(Ua(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{lf(e,t)}catch(h){ot(n,n.return,h)}}break;case 27:t===null&&a&4&&xm(n);case 26:case 5:Ua(e,n),t===null&&a&4&&Sm(n),a&512&&Is(n,n.return);break;case 12:Ua(e,n);break;case 13:Ua(e,n),a&4&&Em(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=V0.bind(null,n),sS(e,n))));break;case 22:if(a=n.memoizedState!==null||ma,!a){t=t!==null&&t.memoizedState!==null||wt,i=ma;var o=wt;ma=a,(wt=t)&&!o?$a(e,n,(n.subtreeFlags&8772)!==0):Ua(e,n),ma=i,wt=o}break;case 30:break;default:Ua(e,n)}}function jm(e){var t=e.alternate;t!==null&&(e.alternate=null,jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,sn=!1;function ha(e,t,n){for(n=n.child;n!==null;)wm(e,t,n),n=n.sibling}function wm(e,t,n){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Te,n)}catch{}switch(n.tag){case 26:wt||Qn(n,t),ha(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||Qn(n,t);var a=yt,i=sn;Ya(n.type)&&(yt=n.stateNode,sn=!1),ha(e,t,n),Js(n.stateNode),yt=a,sn=i;break;case 5:wt||Qn(n,t);case 6:if(a=yt,i=sn,yt=null,ha(e,t,n),yt=a,sn=i,yt!==null)if(sn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(n.stateNode)}catch(o){ot(n,t,o)}else try{yt.removeChild(n.stateNode)}catch(o){ot(n,t,o)}break;case 18:yt!==null&&(sn?(e=yt,hh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ii(e)):hh(yt,n.stateNode));break;case 4:a=yt,i=sn,yt=n.stateNode.containerInfo,sn=!0,ha(e,t,n),yt=a,sn=i;break;case 0:case 11:case 14:case 15:wt||Ba(2,n,t),wt||Ba(4,n,t),ha(e,t,n);break;case 1:wt||(Qn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&bm(n,t,a)),ha(e,t,n);break;case 21:ha(e,t,n);break;case 22:wt=(a=wt)||n.memoizedState!==null,ha(e,t,n),wt=a;break;default:ha(e,t,n)}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(n){ot(t,t.return,n)}}function O0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tm),t;default:throw Error(u(435,e.tag))}}function Dc(e,t){var n=O0(e);t.forEach(function(a){var i=q0.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}function fn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],o=e,h=t,S=h;e:for(;S!==null;){switch(S.tag){case 27:if(Ya(S.type)){yt=S.stateNode,sn=!1;break e}break;case 5:yt=S.stateNode,sn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,sn=!0;break e}S=S.return}if(yt===null)throw Error(u(160));wm(o,h,i),yt=null,sn=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Am(t,e),t=t.sibling}var kn=null;function Am(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(t,e),mn(e),a&4&&(Ba(3,e,e.return),qs(3,e),Ba(5,e,e.return));break;case 1:fn(t,e),mn(e),a&512&&(wt||n===null||Qn(n,n.return)),a&64&&ma&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=kn;if(fn(t,e),mn(e),a&512&&(wt||n===null||Qn(n,n.return)),a&4){var o=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":o=i.getElementsByTagName("title")[0],(!o||o[nn]||o[ge]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(a),i.head.insertBefore(o,i.querySelector("head > title"))),Qt(o,a,n),o[ge]=e,Et(o),a=o;break e;case"link":var h=xh("link","href",i).get(a+(n.href||""));if(h){for(var S=0;S<h.length;S++)if(o=h[S],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(S,1);break t}}o=i.createElement(a),Qt(o,a,n),i.head.appendChild(o);break;case"meta":if(h=xh("meta","content",i).get(a+(n.content||""))){for(S=0;S<h.length;S++)if(o=h[S],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(S,1);break t}}o=i.createElement(a),Qt(o,a,n),i.head.appendChild(o);break;default:throw Error(u(468,a))}o[ge]=e,Et(o),a=o}e.stateNode=a}else Th(i,e.type,e.stateNode);else e.stateNode=_h(i,a,e.memoizedProps);else o!==a?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,a===null?Th(i,e.type,e.stateNode):_h(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&wc(e,e.memoizedProps,n.memoizedProps)}break;case 27:fn(t,e),mn(e),a&512&&(wt||n===null||Qn(n,n.return)),n!==null&&a&4&&wc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fn(t,e),mn(e),a&512&&(wt||n===null||Qn(n,n.return)),e.flags&32){i=e.stateNode;try{El(i,"")}catch(Y){ot(e,e.return,Y)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,wc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Nc=!0);break;case 6:if(fn(t,e),mn(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Y){ot(e,e.return,Y)}}break;case 3:if(Er=null,i=kn,kn=jr(t.containerInfo),fn(t,e),kn=i,mn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(Y){ot(e,e.return,Y)}Nc&&(Nc=!1,Nm(e));break;case 4:a=kn,kn=jr(e.stateNode.containerInfo),fn(t,e),mn(e),kn=a;break;case 12:fn(t,e),mn(e);break;case 13:fn(t,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(kc=Re()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Dc(e,a)));break;case 22:i=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,H=ma,Q=wt;if(ma=H||i,wt=Q||C,fn(t,e),wt=Q,ma=H,mn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||C||ma||wt||yl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(o=C.stateNode,i)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{S=C.stateNode;var ee=C.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Y){ot(C,C.return,Y)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=i?"":C.memoizedProps}catch(Y){ot(C,C.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Dc(e,n))));break;case 19:fn(t,e),mn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Dc(e,a)));break;case 30:break;case 21:break;default:fn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(_m(a)){n=a;break}a=a.return}if(n==null)throw Error(u(160));switch(n.tag){case 27:var i=n.stateNode,o=Ec(e);fr(e,o,i);break;case 5:var h=n.stateNode;n.flags&32&&(El(h,""),n.flags&=-33);var S=Ec(e);fr(e,S,h);break;case 3:case 4:var C=n.stateNode.containerInfo,H=Ec(e);Ac(e,H,C);break;default:throw Error(u(161))}}catch(Q){ot(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Nm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cm(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),yl(t);break;case 1:Qn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bm(t,t.return,n),yl(t);break;case 27:Js(t.stateNode);case 26:case 5:Qn(t,t.return),yl(t);break;case 22:t.memoizedState===null&&yl(t);break;case 30:yl(t);break;default:yl(t)}e=e.sibling}}function $a(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:$a(i,o,n),qs(4,o);break;case 1:if($a(i,o,n),a=o,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(H){ot(a,a.return,H)}if(a=o,i=a.updateQueue,i!==null){var S=a.stateNode;try{var C=i.shared.hiddenCallbacks;if(C!==null)for(i.shared.hiddenCallbacks=null,i=0;i<C.length;i++)af(C[i],S)}catch(H){ot(a,a.return,H)}}n&&h&64&&vm(o),Is(o,o.return);break;case 27:xm(o);case 26:case 5:$a(i,o,n),n&&a===null&&h&4&&Sm(o),Is(o,o.return);break;case 12:$a(i,o,n);break;case 13:$a(i,o,n),n&&h&4&&Em(i,o);break;case 22:o.memoizedState===null&&$a(i,o,n),Is(o,o.return);break;case 30:break;default:$a(i,o,n)}t=t.sibling}}function Mc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&As(n))}function zc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&As(e))}function Zn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dm(e,t,n,a),t=t.sibling}function Dm(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zn(e,t,n,a),i&2048&&qs(9,t);break;case 1:Zn(e,t,n,a);break;case 3:Zn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&As(e)));break;case 12:if(i&2048){Zn(e,t,n,a),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,S=o.onPostCommit;typeof S=="function"&&S(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ot(t,t.return,C)}}else Zn(e,t,n,a);break;case 13:Zn(e,t,n,a);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?Zn(e,t,n,a):Fs(e,t):o._visibility&2?Zn(e,t,n,a):(o._visibility|=2,Pl(e,t,n,a,(t.subtreeFlags&10256)!==0)),i&2048&&Mc(h,t);break;case 24:Zn(e,t,n,a),i&2048&&zc(t.alternate,t);break;default:Zn(e,t,n,a)}}function Pl(e,t,n,a,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,h=t,S=n,C=a,H=h.flags;switch(h.tag){case 0:case 11:case 15:Pl(o,h,S,C,i),qs(8,h);break;case 23:break;case 22:var Q=h.stateNode;h.memoizedState!==null?Q._visibility&2?Pl(o,h,S,C,i):Fs(o,h):(Q._visibility|=2,Pl(o,h,S,C,i)),i&&H&2048&&Mc(h.alternate,h);break;case 24:Pl(o,h,S,C,i),i&&H&2048&&zc(h.alternate,h);break;default:Pl(o,h,S,C,i)}t=t.sibling}}function Fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Fs(n,a),i&2048&&Mc(a.alternate,a);break;case 24:Fs(n,a),i&2048&&zc(a.alternate,a);break;default:Fs(n,a)}t=t.sibling}}var Ys=8192;function Gl(e){if(e.subtreeFlags&Ys)for(e=e.child;e!==null;)Mm(e),e=e.sibling}function Mm(e){switch(e.tag){case 26:Gl(e),e.flags&Ys&&e.memoizedState!==null&&vS(kn,e.memoizedState,e.memoizedProps);break;case 5:Gl(e);break;case 3:case 4:var t=kn;kn=jr(e.stateNode.containerInfo),Gl(e),kn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ys,Ys=16777216,Gl(e),Ys=t):Gl(e));break;default:Gl(e)}}function zm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ps(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Vt=a,Rm(a,e)}zm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Om(e),e=e.sibling}function Om(e){switch(e.tag){case 0:case 11:case 15:Ps(e),e.flags&2048&&Ba(9,e,e.return);break;case 3:Ps(e);break;case 12:Ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,mr(e)):Ps(e);break;default:Ps(e)}}function mr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Vt=a,Rm(a,e)}zm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ba(8,t,t.return),mr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,mr(t));break;default:mr(t)}e=e.sibling}}function Rm(e,t){for(;Vt!==null;){var n=Vt;switch(n.tag){case 0:case 11:case 15:Ba(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:As(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Vt=a;else e:for(n=e;Vt!==null;){a=Vt;var i=a.sibling,o=a.return;if(jm(a),a===n){Vt=null;break e}if(i!==null){i.return=o,Vt=i;break e}Vt=o}}}var R0={getCacheForType:function(e){var t=Zt(Rt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},L0=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ut=null,Be=null,Fe=0,Ke=0,hn=null,Ha=!1,Xl=!1,Oc=!1,ga=0,Tt=0,Va=0,pl=0,Rc=0,wn=0,Ql=0,Gs=null,rn=null,Lc=!1,kc=0,hr=1/0,gr=null,qa=null,Xt=0,Ia=null,Zl=null,Kl=0,Bc=0,Uc=null,Lm=null,Xs=0,$c=null;function gn(){if((Ze&2)!==0&&Fe!==0)return Fe&-Fe;if(z.T!==null){var e=Ul;return e!==0?e:Pc()}return Z()}function km(){wn===0&&(wn=(Fe&536870912)===0||Xe?In():536870912);var e=jn.current;return e!==null&&(e.flags|=32),wn}function yn(e,t,n){(e===ut&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(Jl(e,0),Fa(e,Fe,wn,!1)),gt(e,n),((Ze&2)===0||e!==ut)&&(e===ut&&((Ze&2)===0&&(pl|=n),Tt===4&&Fa(e,Fe,wn,!1)),Kn(e))}function Bm(e,t,n){if((Ze&6)!==0)throw Error(u(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Kt(e,t),i=a?U0(e,t):qc(e,t,!0),o=a;do{if(i===0){Xl&&!a&&Fa(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!k0(n)){i=qc(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var S=e;i=Gs;var C=S.current.memoizedState.isDehydrated;if(C&&(Jl(S,h).flags|=256),h=qc(S,h,!1),h!==2){if(Oc&&!C){S.errorRecoveryDisabledLanes|=o,pl|=o,i=4;break e}o=rn,rn=i,o!==null&&(rn===null?rn=o:rn.push.apply(rn,o))}i=h}if(o=!1,i!==2)continue}}if(i===1){Jl(e,0),Fa(e,t,0,!0);break}e:{switch(a=e,o=i,o){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Fa(a,t,wn,!Ha);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(i=kc+300-Re(),10<i)){if(Fa(a,t,wn,!Ha),vn(a,0,!0)!==0)break e;a.timeoutHandle=fh(Um.bind(null,a,n,rn,gr,Lc,t,wn,pl,Ql,Ha,o,2,-0,0),i);break e}Um(a,n,rn,gr,Lc,t,wn,pl,Ql,Ha,o,0,-0,0)}}break}while(!0);Kn(e)}function Um(e,t,n,a,i,o,h,S,C,H,Q,ee,F,Y){if(e.timeoutHandle=-1,ee=t.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(ti={stylesheets:null,count:0,unsuspend:pS},Mm(t),ee=bS(),ee!==null)){e.cancelPendingCommit=ee(Ym.bind(null,e,t,o,n,a,i,h,S,C,Q,1,F,Y)),Fa(e,o,h,!H);return}Ym(e,t,o,n,a,i,h,S,C)}function k0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],o=i.getSnapshot;i=i.value;try{if(!un(o(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,n,a){t&=~Rc,t&=~pl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var o=31-Ie(i),h=1<<o;a[o]=-1,i&=~h}n!==0&&Ut(e,n,t)}function yr(){return(Ze&6)===0?(Qs(0),!1):!0}function Hc(){if(Be!==null){if(Ke===0)var e=Be.return;else e=Be,ra=dl=null,ac(e),Fl=null,$s=0,e=Be;for(;e!==null;)pm(e.alternate,e),e=e.return;Be=null}}function Jl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,eS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Hc(),ut=e,Be=n=la(e.current,null),Fe=t,Ke=0,hn=null,Ha=!1,Xl=Kt(e,t),Oc=!1,Ql=wn=Rc=pl=Va=Tt=0,rn=Gs=null,Lc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Ie(a),o=1<<i;t|=e[i],a&=~o}return ga=t,Ui(),n}function $m(e,t){ze=null,z.H=ar,t===Ds||t===Gi?(t=tf(),Ke=3):t===Jd?(t=tf(),Ke=4):Ke=t===am?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Be===null&&(Tt=1,or(e,_n(t,e.current)))}function Hm(){var e=z.H;return z.H=ar,e===null?ar:e}function Vm(){var e=z.A;return z.A=R0,e}function Vc(){Tt=4,Ha||(Fe&4194048)!==Fe&&jn.current!==null||(Xl=!0),(Va&134217727)===0&&(pl&134217727)===0||ut===null||Fa(ut,Fe,wn,!1)}function qc(e,t,n){var a=Ze;Ze|=2;var i=Hm(),o=Vm();(ut!==e||Fe!==t)&&(gr=null,Jl(e,t)),t=!1;var h=Tt;e:do try{if(Ke!==0&&Be!==null){var S=Be,C=hn;switch(Ke){case 8:Hc(),h=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(t=!0);var H=Ke;if(Ke=0,hn=null,Wl(e,S,C,H),n&&Xl){h=0;break e}break;default:H=Ke,Ke=0,hn=null,Wl(e,S,C,H)}}B0(),h=Tt;break}catch(Q){$m(e,Q)}while(!0);return t&&e.shellSuspendCounter++,ra=dl=null,Ze=a,z.H=i,z.A=o,Be===null&&(ut=null,Fe=0,Ui()),h}function B0(){for(;Be!==null;)qm(Be)}function U0(e,t){var n=Ze;Ze|=2;var a=Hm(),i=Vm();ut!==e||Fe!==t?(gr=null,hr=Re()+500,Jl(e,t)):Xl=Kt(e,t);e:do try{if(Ke!==0&&Be!==null){t=Be;var o=hn;t:switch(Ke){case 1:Ke=0,hn=null,Wl(e,t,o,1);break;case 2:case 9:if(Wd(o)){Ke=0,hn=null,Im(t);break}t=function(){Ke!==2&&Ke!==9||ut!==e||(Ke=7),Kn(e)},o.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Wd(o)?(Ke=0,hn=null,Im(t)):(Ke=0,hn=null,Wl(e,t,o,7));break;case 5:var h=null;switch(Be.tag){case 26:h=Be.memoizedState;case 5:case 27:var S=Be;if(!h||Ch(h)){Ke=0,hn=null;var C=S.sibling;if(C!==null)Be=C;else{var H=S.return;H!==null?(Be=H,pr(H)):Be=null}break t}}Ke=0,hn=null,Wl(e,t,o,5);break;case 6:Ke=0,hn=null,Wl(e,t,o,6);break;case 8:Hc(),Tt=6;break e;default:throw Error(u(462))}}$0();break}catch(Q){$m(e,Q)}while(!0);return ra=dl=null,z.H=a,z.A=i,Ze=n,Be!==null?0:(ut=null,Fe=0,Ui(),Tt)}function $0(){for(;Be!==null&&!we();)qm(Be)}function qm(e){var t=gm(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?pr(e):Be=t}function Im(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=cm(n,t,t.pendingProps,t.type,void 0,Fe);break;case 11:t=cm(n,t,t.pendingProps,t.type.render,t.ref,Fe);break;case 5:ac(t);default:pm(n,t),t=Be=Id(t,ga),t=gm(n,t,ga)}e.memoizedProps=e.pendingProps,t===null?pr(e):Be=t}function Wl(e,t,n,a){ra=dl=null,ac(t),Fl=null,$s=0;var i=t.return;try{if(A0(e,i,t,n,Fe)){Tt=1,or(e,_n(n,e.current)),Be=null;return}}catch(o){if(i!==null)throw Be=i,o;Tt=1,or(e,_n(n,e.current)),Be=null;return}t.flags&32768?(Xe||a===1?e=!0:Xl||(Fe&536870912)!==0?e=!1:(Ha=e=!0,(a===2||a===9||a===3||a===6)&&(a=jn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fm(t,e)):pr(t)}function pr(e){var t=e;do{if((t.flags&32768)!==0){Fm(t,Ha);return}e=t.return;var n=D0(t.alternate,t,ga);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Tt===0&&(Tt=5)}function Fm(e,t){do{var n=M0(e.alternate,e);if(n!==null){n.flags&=32767,Be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=n}while(e!==null);Tt=6,Be=null}function Ym(e,t,n,a,i,o,h,S,C){e.cancelPendingCommit=null;do vr();while(Xt!==0);if((Ze&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(o=t.lanes|t.childLanes,o|=zo,Yt(e,n,o,h,S,C),e===ut&&(Be=ut=null,Fe=0),Zl=t,Ia=e,Kl=n,Bc=o,Uc=i,Lm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I0(bt,function(){return Zm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,i=I.p,I.p=2,h=Ze,Ze|=4;try{z0(e,t,n)}finally{Ze=h,I.p=i,z.T=a}}Xt=1,Pm(),Gm(),Xm()}}function Pm(){if(Xt===1){Xt=0;var e=Ia,t=Zl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var a=I.p;I.p=2;var i=Ze;Ze|=4;try{Am(t,e);var o=eu,h=Od(e.containerInfo),S=o.focusedElem,C=o.selectionRange;if(h!==S&&S&&S.ownerDocument&&zd(S.ownerDocument.documentElement,S)){if(C!==null&&Eo(S)){var H=C.start,Q=C.end;if(Q===void 0&&(Q=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(Q,S.value.length);else{var ee=S.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Y=F.getSelection(),je=S.textContent.length,Se=Math.min(C.start,je),at=C.end===void 0?Se:Math.min(C.end,je);!Y.extend&&Se>at&&(h=at,at=Se,Se=h);var k=Md(S,Se),M=Md(S,at);if(k&&M&&(Y.rangeCount!==1||Y.anchorNode!==k.node||Y.anchorOffset!==k.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var $=ee.createRange();$.setStart(k.node,k.offset),Y.removeAllRanges(),Se>at?(Y.addRange($),Y.extend(M.node,M.offset)):($.setEnd(M.node,M.offset),Y.addRange($))}}}}for(ee=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Dr=!!Wc,eu=Wc=null}finally{Ze=i,I.p=a,z.T=n}}e.current=t,Xt=2}}function Gm(){if(Xt===2){Xt=0;var e=Ia,t=Zl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var a=I.p;I.p=2;var i=Ze;Ze|=4;try{Cm(e,t.alternate,t)}finally{Ze=i,I.p=a,z.T=n}}Xt=3}}function Xm(){if(Xt===4||Xt===3){Xt=0,qe();var e=Ia,t=Zl,n=Kl,a=Lm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xt=5:(Xt=0,Zl=Ia=null,Qm(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(qa=null),Ot(n),t=t.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Te,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,i=I.p,I.p=2,z.T=null;try{for(var o=e.onRecoverableError,h=0;h<a.length;h++){var S=a[h];o(S.value,{componentStack:S.stack})}}finally{z.T=t,I.p=i}}(Kl&3)!==0&&vr(),Kn(e),i=e.pendingLanes,(n&4194090)!==0&&(i&42)!==0?e===$c?Xs++:(Xs=0,$c=e):Xs=0,Qs(0)}}function Qm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,As(t)))}function vr(e){return Pm(),Gm(),Xm(),Zm()}function Zm(){if(Xt!==5)return!1;var e=Ia,t=Bc;Bc=0;var n=Ot(Kl),a=z.T,i=I.p;try{I.p=32>n?32:n,z.T=null,n=Uc,Uc=null;var o=Ia,h=Kl;if(Xt=0,Zl=Ia=null,Kl=0,(Ze&6)!==0)throw Error(u(331));var S=Ze;if(Ze|=4,Om(o.current),Dm(o,o.current,h,n),Ze=S,Qs(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Te,o)}catch{}return!0}finally{I.p=i,z.T=a,Qm(e,t)}}function Km(e,t,n){t=_n(n,t),t=pc(e.stateNode,t,2),e=Oa(e,t,2),e!==null&&(gt(e,2),Kn(e))}function ot(e,t,n){if(e.tag===3)Km(e,e,n);else for(;t!==null;){if(t.tag===3){Km(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qa===null||!qa.has(a))){e=_n(n,e),n=tm(2),a=Oa(t,n,2),a!==null&&(nm(n,a,t,e),gt(a,2),Kn(a));break}}t=t.return}}function Ic(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new L0;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Oc=!0,i.add(n),e=H0.bind(null,e,t,n),t.then(e,e))}function H0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ut===e&&(Fe&n)===n&&(Tt===4||Tt===3&&(Fe&62914560)===Fe&&300>Re()-kc?(Ze&2)===0&&Jl(e,0):Rc|=n,Ql===Fe&&(Ql=0)),Kn(e)}function Jm(e,t){t===0&&(t=ja()),e=Rl(e,t),e!==null&&(gt(e,t),Kn(e))}function V0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jm(e,n)}function q0(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),Jm(e,n)}function I0(e,t){return st(e,t)}var br=null,es=null,Fc=!1,Sr=!1,Yc=!1,vl=0;function Kn(e){e!==es&&e.next===null&&(es===null?br=es=e:es=es.next=e),Sr=!0,Fc||(Fc=!0,Y0())}function Qs(e,t){if(!Yc&&Sr){Yc=!0;do for(var n=!1,a=br;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var o=0;else{var h=a.suspendedLanes,S=a.pingedLanes;o=(1<<31-Ie(42|e)+1)-1,o&=i&~(h&~S),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,nh(a,o))}else o=Fe,o=vn(a,a===ut?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(o&3)===0||Kt(a,o)||(n=!0,nh(a,o));a=a.next}while(n);Yc=!1}}function F0(){Wm()}function Wm(){Sr=Fc=!1;var e=0;vl!==0&&(W0()&&(e=vl),vl=0);for(var t=Re(),n=null,a=br;a!==null;){var i=a.next,o=eh(a,t);o===0?(a.next=null,n===null?br=i:n.next=i,i===null&&(es=n)):(n=a,(e!==0||(o&3)!==0)&&(Sr=!0)),a=i}Qs(e)}function eh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-Ie(o),S=1<<h,C=i[h];C===-1?((S&n)===0||(S&a)!==0)&&(i[h]=Wa(S,t)):C<=t&&(e.expiredLanes|=S),o&=~S}if(t=ut,n=Fe,n=vn(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&oe(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Kt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&oe(a),Ot(n)){case 2:case 8:n=$e;break;case 32:n=bt;break;case 268435456:n=it;break;default:n=bt}return a=th.bind(null,e),n=st(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&oe(a),e.callbackPriority=2,e.callbackNode=null,2}function th(e,t){if(Xt!==0&&Xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vr()&&e.callbackNode!==n)return null;var a=Fe;return a=vn(e,e===ut?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Bm(e,a,t),eh(e,Re()),e.callbackNode!=null&&e.callbackNode===n?th.bind(null,e):null)}function nh(e,t){if(vr())return null;Bm(e,t,!0)}function Y0(){tS(function(){(Ze&6)!==0?st(Me,F0):Wm()})}function Pc(){return vl===0&&(vl=In()),vl}function ah(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mi(""+e)}function lh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function P0(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var o=ah((i[pe]||null).action),h=a.submitter;h&&(t=(t=h[pe]||null)?ah(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var S=new Li("action","action",null,a,i);e.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(vl!==0){var C=h?lh(i,h):new FormData(i);fc(n,{pending:!0,data:C,method:i.method,action:o},null,C)}}else typeof o=="function"&&(S.preventDefault(),C=h?lh(i,h):new FormData(i),fc(n,{pending:!0,data:C,method:i.method,action:o},o,C))},currentTarget:i}]})}}for(var Gc=0;Gc<Mo.length;Gc++){var Xc=Mo[Gc],G0=Xc.toLowerCase(),X0=Xc[0].toUpperCase()+Xc.slice(1);Ln(G0,"on"+X0)}Ln(kd,"onAnimationEnd"),Ln(Bd,"onAnimationIteration"),Ln(Ud,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(d0,"onTransitionRun"),Ln(f0,"onTransitionStart"),Ln(m0,"onTransitionCancel"),Ln($d,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zs));function sh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var h=a.length-1;0<=h;h--){var S=a[h],C=S.instance,H=S.currentTarget;if(S=S.listener,C!==o&&i.isPropagationStopped())break e;o=S,i.currentTarget=H;try{o(i)}catch(Q){rr(Q)}i.currentTarget=null,o=C}else for(h=0;h<a.length;h++){if(S=a[h],C=S.instance,H=S.currentTarget,S=S.listener,C!==o&&i.isPropagationStopped())break e;o=S,i.currentTarget=H;try{o(i)}catch(Q){rr(Q)}i.currentTarget=null,o=C}}}}function Ue(e,t){var n=t[rt];n===void 0&&(n=t[rt]=new Set);var a=e+"__bubble";n.has(a)||(ih(t,e,2,!1),n.add(a))}function Qc(e,t,n){var a=0;t&&(a|=4),ih(n,e,a,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[_r]){e[_r]=!0,Ei.forEach(function(n){n!=="selectionchange"&&(Q0.has(n)||Qc(n,!1,e),Qc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,Qc("selectionchange",!1,t))}}function ih(e,t,n,a){switch(Dh(t)){case 2:var i=xS;break;case 8:i=TS;break;default:i=uu}n=i.bind(null,t,n,e),i=void 0,!vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kc(e,t,n,a,i){var o=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var S=a.stateNode.containerInfo;if(S===i)break;if(h===4)for(h=a.return;h!==null;){var C=h.tag;if((C===3||C===4)&&h.stateNode.containerInfo===i)return;h=h.return}for(;S!==null;){if(h=Fn(S),h===null)return;if(C=h.tag,C===5||C===6||C===26||C===27){a=o=h;continue e}S=S.parentNode}}a=a.return}fd(function(){var H=o,Q=yo(n),ee=[];e:{var F=Hd.get(e);if(F!==void 0){var Y=Li,je=e;switch(e){case"keypress":if(Oi(n)===0)break e;case"keydown":case"keyup":Y=Ib;break;case"focusin":je="focus",Y=xo;break;case"focusout":je="blur",Y=xo;break;case"beforeblur":case"afterblur":Y=xo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Pb;break;case kd:case Bd:case Ud:Y=Rb;break;case $d:Y=Xb;break;case"scroll":case"scrollend":Y=Nb;break;case"wheel":Y=Zb;break;case"copy":case"cut":case"paste":Y=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=pd;break;case"toggle":case"beforetoggle":Y=Jb}var Se=(t&4)!==0,at=!Se&&(e==="scroll"||e==="scrollend"),k=Se?F!==null?F+"Capture":null:F;Se=[];for(var M=H,$;M!==null;){var J=M;if($=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||$===null||k===null||(J=gs(M,k),J!=null&&Se.push(Ks(M,J,$))),at)break;M=M.return}0<Se.length&&(F=new Y(F,je,null,n,Q),ee.push({event:F,listeners:Se}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&n!==go&&(je=n.relatedTarget||n.fromElement)&&(Fn(je)||je[De]))break e;if((Y||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(je=n.relatedTarget||n.toElement,Y=H,je=je?Fn(je):null,je!==null&&(at=m(je),Se=je.tag,je!==at||Se!==5&&Se!==27&&Se!==6)&&(je=null)):(Y=null,je=H),Y!==je)){if(Se=gd,J="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Se=pd,J="onPointerLeave",k="onPointerEnter",M="pointer"),at=Y==null?F:tl(Y),$=je==null?F:tl(je),F=new Se(J,M+"leave",Y,n,Q),F.target=at,F.relatedTarget=$,J=null,Fn(Q)===H&&(Se=new Se(k,M+"enter",je,n,Q),Se.target=$,Se.relatedTarget=at,J=Se),at=J,Y&&je)t:{for(Se=Y,k=je,M=0,$=Se;$;$=ts($))M++;for($=0,J=k;J;J=ts(J))$++;for(;0<M-$;)Se=ts(Se),M--;for(;0<$-M;)k=ts(k),$--;for(;M--;){if(Se===k||k!==null&&Se===k.alternate)break t;Se=ts(Se),k=ts(k)}Se=null}else Se=null;Y!==null&&rh(ee,F,Y,Se,!1),je!==null&&at!==null&&rh(ee,at,je,Se,!0)}}e:{if(F=H?tl(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ye=jd;else if(Td(F))if(wd)ye=o0;else{ye=i0;var Le=s0}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ho(H.elementType)&&(ye=jd):ye=r0;if(ye&&(ye=ye(e,H))){Cd(ee,ye,n,Q);break e}Le&&Le(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&mo(F,"number",F.value)}switch(Le=H?tl(H):window,e){case"focusin":(Td(Le)||Le.contentEditable==="true")&&(Ml=Le,Ao=H,Ts=null);break;case"focusout":Ts=Ao=Ml=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Rd(ee,n,Q);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":Rd(ee,n,Q)}var be;if(Co)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Dl?_d(e,n)&&(xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xe="onCompositionStart");xe&&(vd&&n.locale!=="ko"&&(Dl||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Dl&&(be=md()):(Na=Q,bo="value"in Na?Na.value:Na.textContent,Dl=!0)),Le=xr(H,xe),0<Le.length&&(xe=new yd(xe,e,null,n,Q),ee.push({event:xe,listeners:Le}),be?xe.data=be:(be=xd(n),be!==null&&(xe.data=be)))),(be=e0?t0(e,n):n0(e,n))&&(xe=xr(H,"onBeforeInput"),0<xe.length&&(Le=new yd("onBeforeInput","beforeinput",null,n,Q),ee.push({event:Le,listeners:xe}),Le.data=be)),P0(ee,e,H,n,Q)}sh(ee,t)})}function Ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xr(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=gs(e,n),i!=null&&a.unshift(Ks(e,i,o)),i=gs(e,t),i!=null&&a.push(Ks(e,i,o))),e.tag===3)return a;e=e.return}return[]}function ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rh(e,t,n,a,i){for(var o=t._reactName,h=[];n!==null&&n!==a;){var S=n,C=S.alternate,H=S.stateNode;if(S=S.tag,C!==null&&C===a)break;S!==5&&S!==26&&S!==27||H===null||(C=H,i?(H=gs(n,o),H!=null&&h.unshift(Ks(n,H,C))):i||(H=gs(n,o),H!=null&&h.push(Ks(n,H,C)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Z0=/\r\n?/g,K0=/\u0000|\uFFFD/g;function oh(e){return(typeof e=="string"?e:""+e).replace(Z0,`
`).replace(K0,"")}function ch(e,t){return t=oh(t),oh(e)===t}function Tr(){}function nt(e,t,n,a,i,o){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||El(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&El(e,""+a);break;case"className":Aa(e,"class",a);break;case"tabIndex":Aa(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Aa(e,n,a);break;case"style":ud(e,a,o);break;case"data":if(t!=="object"){Aa(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Mi(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&nt(e,t,"name",i.name,i,null),nt(e,t,"formEncType",i.formEncType,i,null),nt(e,t,"formMethod",i.formMethod,i,null),nt(e,t,"formTarget",i.formTarget,i,null)):(nt(e,t,"encType",i.encType,i,null),nt(e,t,"method",i.method,i,null),nt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Mi(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Tr);break;case"onScroll":a!=null&&Ue("scroll",e);break;case"onScrollEnd":a!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Mi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),nl(e,"popover",a);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":nl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Eb.get(n)||n,nl(e,n,a))}}function Jc(e,t,n,a,i,o){switch(n){case"style":ud(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"children":typeof a=="string"?El(e,a):(typeof a=="number"||typeof a=="bigint")&&El(e,""+a);break;case"onScroll":a!=null&&Ue("scroll",e);break;case"onScrollEnd":a!=null&&Ue("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!On.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),o=e[pe]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof a=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):nl(e,n,a)}}}function Qt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var a=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(h!=null)switch(o){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:nt(e,t,o,h,n,null)}}i&&nt(e,t,"srcSet",n.srcSet,n,null),a&&nt(e,t,"src",n.src,n,null);return;case"input":Ue("invalid",e);var S=o=h=i=null,C=null,H=null;for(a in n)if(n.hasOwnProperty(a)){var Q=n[a];if(Q!=null)switch(a){case"name":i=Q;break;case"type":h=Q;break;case"checked":C=Q;break;case"defaultChecked":H=Q;break;case"value":o=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(u(137,t));break;default:nt(e,t,a,Q,n,null)}}id(e,o,S,C,H,h,i,!1),Ni(e);return;case"select":Ue("invalid",e),a=h=o=null;for(i in n)if(n.hasOwnProperty(i)&&(S=n[i],S!=null))switch(i){case"value":o=S;break;case"defaultValue":h=S;break;case"multiple":a=S;default:nt(e,t,i,S,n,null)}t=o,n=h,e.multiple=!!a,t!=null?wl(e,!!a,t,!1):n!=null&&wl(e,!!a,n,!0);return;case"textarea":Ue("invalid",e),o=i=a=null;for(h in n)if(n.hasOwnProperty(h)&&(S=n[h],S!=null))switch(h){case"value":a=S;break;case"defaultValue":i=S;break;case"children":o=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(u(91));break;default:nt(e,t,h,S,n,null)}od(e,a,i,o),Ni(e);return;case"option":for(C in n)if(n.hasOwnProperty(C)&&(a=n[C],a!=null))switch(C){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:nt(e,t,C,a,n,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(a=0;a<Zs.length;a++)Ue(Zs[a],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in n)if(n.hasOwnProperty(H)&&(a=n[H],a!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:nt(e,t,H,a,n,null)}return;default:if(ho(t)){for(Q in n)n.hasOwnProperty(Q)&&(a=n[Q],a!==void 0&&Jc(e,t,Q,a,n,void 0));return}}for(S in n)n.hasOwnProperty(S)&&(a=n[S],a!=null&&nt(e,t,S,a,n,null))}function J0(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,h=null,S=null,C=null,H=null,Q=null;for(Y in n){var ee=n[Y];if(n.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=ee;default:a.hasOwnProperty(Y)||nt(e,t,Y,null,a,ee)}}for(var F in a){var Y=a[F];if(ee=n[F],a.hasOwnProperty(F)&&(Y!=null||ee!=null))switch(F){case"type":o=Y;break;case"name":i=Y;break;case"checked":H=Y;break;case"defaultChecked":Q=Y;break;case"value":h=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,t));break;default:Y!==ee&&nt(e,t,F,Y,a,ee)}}fo(e,h,S,C,H,Q,o,i);return;case"select":Y=h=S=F=null;for(o in n)if(C=n[o],n.hasOwnProperty(o)&&C!=null)switch(o){case"value":break;case"multiple":Y=C;default:a.hasOwnProperty(o)||nt(e,t,o,null,a,C)}for(i in a)if(o=a[i],C=n[i],a.hasOwnProperty(i)&&(o!=null||C!=null))switch(i){case"value":F=o;break;case"defaultValue":S=o;break;case"multiple":h=o;default:o!==C&&nt(e,t,i,o,a,C)}t=S,n=h,a=Y,F!=null?wl(e,!!n,F,!1):!!a!=!!n&&(t!=null?wl(e,!!n,t,!0):wl(e,!!n,n?[]:"",!1));return;case"textarea":Y=F=null;for(S in n)if(i=n[S],n.hasOwnProperty(S)&&i!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(e,t,S,null,a,i)}for(h in a)if(i=a[h],o=n[h],a.hasOwnProperty(h)&&(i!=null||o!=null))switch(h){case"value":F=i;break;case"defaultValue":Y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(u(91));break;default:i!==o&&nt(e,t,h,i,a,o)}rd(e,F,Y);return;case"option":for(var je in n)if(F=n[je],n.hasOwnProperty(je)&&F!=null&&!a.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:nt(e,t,je,null,a,F)}for(C in a)if(F=a[C],Y=n[C],a.hasOwnProperty(C)&&F!==Y&&(F!=null||Y!=null))switch(C){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:nt(e,t,C,F,a,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in n)F=n[Se],n.hasOwnProperty(Se)&&F!=null&&!a.hasOwnProperty(Se)&&nt(e,t,Se,null,a,F);for(H in a)if(F=a[H],Y=n[H],a.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(u(137,t));break;default:nt(e,t,H,F,a,Y)}return;default:if(ho(t)){for(var at in n)F=n[at],n.hasOwnProperty(at)&&F!==void 0&&!a.hasOwnProperty(at)&&Jc(e,t,at,void 0,a,F);for(Q in a)F=a[Q],Y=n[Q],!a.hasOwnProperty(Q)||F===Y||F===void 0&&Y===void 0||Jc(e,t,Q,F,a,Y);return}}for(var k in n)F=n[k],n.hasOwnProperty(k)&&F!=null&&!a.hasOwnProperty(k)&&nt(e,t,k,null,a,F);for(ee in a)F=a[ee],Y=n[ee],!a.hasOwnProperty(ee)||F===Y||F==null&&Y==null||nt(e,t,ee,F,a,Y)}var Wc=null,eu=null;function Cr(e){return e.nodeType===9?e:e.ownerDocument}function uh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nu=null;function W0(){var e=window.event;return e&&e.type==="popstate"?e===nu?!1:(nu=e,!0):(nu=null,!1)}var fh=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(e){return mh.resolve(null).then(e).catch(nS)}:fh;function nS(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function hh(e,t){var n=t,a=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<a&&8>a){n=a;var h=e.ownerDocument;if(n&1&&Js(h.documentElement),n&2&&Js(h.body),n&4)for(n=h.head,Js(n),h=n.firstChild;h;){var S=h.nextSibling,C=h.nodeName;h[nn]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=S}}if(i===0){e.removeChild(o),ii(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:a=n.charCodeAt(0)-48;else a=0;n=o}while(n);ii(t)}function au(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":au(n),hs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function aS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[nn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function lS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function sS(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var su=null;function gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function yh(e,t,n){switch(t=Cr(n),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Js(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hs(e)}var En=new Map,ph=new Set;function jr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ya=I.d;I.d={f:iS,r:rS,D:oS,C:cS,L:uS,m:dS,X:mS,S:fS,M:hS};function iS(){var e=ya.f(),t=yr();return e||t}function rS(e){var t=Yn(e);t!==null&&t.tag===5&&t.type==="form"?Bf(t):ya.r(e)}var ns=typeof document>"u"?null:document;function vh(e,t,n){var a=ns;if(a&&typeof t=="string"&&t){var i=Sn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),ph.has(i)||(ph.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Qt(t,"link",e),Et(t),a.head.appendChild(t)))}}function oS(e){ya.D(e),vh("dns-prefetch",e,null)}function cS(e,t){ya.C(e,t),vh("preconnect",e,t)}function uS(e,t,n){ya.L(e,t,n);var a=ns;if(a&&e&&t){var i='link[rel="preload"][as="'+Sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Sn(n.imageSizes)+'"]')):i+='[href="'+Sn(e)+'"]';var o=i;switch(t){case"style":o=as(e);break;case"script":o=ls(e)}En.has(o)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),En.set(o,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ws(o))||t==="script"&&a.querySelector(ei(o))||(t=a.createElement("link"),Qt(t,"link",e),Et(t),a.head.appendChild(t)))}}function dS(e,t){ya.m(e,t);var n=ns;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Sn(a)+'"][href="'+Sn(e)+'"]',o=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ls(e)}if(!En.has(o)&&(e=_({rel:"modulepreload",href:e},t),En.set(o,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ei(o)))return}a=n.createElement("link"),Qt(a,"link",e),Et(a),n.head.appendChild(a)}}}function fS(e,t,n){ya.S(e,t,n);var a=ns;if(a&&e){var i=wa(a).hoistableStyles,o=as(e);t=t||"default";var h=i.get(o);if(!h){var S={loading:0,preload:null};if(h=a.querySelector(Ws(o)))S.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=En.get(o))&&iu(e,n);var C=h=a.createElement("link");Et(C),Qt(C,"link",e),C._p=new Promise(function(H,Q){C.onload=H,C.onerror=Q}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,wr(h,t,a)}h={type:"stylesheet",instance:h,count:1,state:S},i.set(o,h)}}}function mS(e,t){ya.X(e,t);var n=ns;if(n&&e){var a=wa(n).hoistableScripts,i=ls(e),o=a.get(i);o||(o=n.querySelector(ei(i)),o||(e=_({src:e,async:!0},t),(t=En.get(i))&&ru(e,t),o=n.createElement("script"),Et(o),Qt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(i,o))}}function hS(e,t){ya.M(e,t);var n=ns;if(n&&e){var a=wa(n).hoistableScripts,i=ls(e),o=a.get(i);o||(o=n.querySelector(ei(i)),o||(e=_({src:e,async:!0,type:"module"},t),(t=En.get(i))&&ru(e,t),o=n.createElement("script"),Et(o),Qt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(i,o))}}function bh(e,t,n,a){var i=(i=Oe.current)?jr(i):null;if(!i)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=as(n.href),n=wa(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=as(n.href);var o=wa(i).hoistableStyles,h=o.get(e);if(h||(i=i.ownerDocument||i,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=i.querySelector(Ws(e)))&&!o._p&&(h.instance=o,h.state.loading=5),En.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},En.set(e,n),o||gS(i,e,n,h.state))),t&&a===null)throw Error(u(528,""));return h}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ls(n),n=wa(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function as(e){return'href="'+Sn(e)+'"'}function Ws(e){return'link[rel="stylesheet"]['+e+"]"}function Sh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function gS(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Qt(t,"link",n),Et(t),e.head.appendChild(t))}function ls(e){return'[src="'+Sn(e)+'"]'}function ei(e){return"script[async]"+e}function _h(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Sn(n.href)+'"]');if(a)return t.instance=a,Et(a),a;var i=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Et(a),Qt(a,"style",i),wr(a,n.precedence,e),t.instance=a;case"stylesheet":i=as(n.href);var o=e.querySelector(Ws(i));if(o)return t.state.loading|=4,t.instance=o,Et(o),o;a=Sh(n),(i=En.get(i))&&iu(a,i),o=(e.ownerDocument||e).createElement("link"),Et(o);var h=o;return h._p=new Promise(function(S,C){h.onload=S,h.onerror=C}),Qt(o,"link",a),t.state.loading|=4,wr(o,n.precedence,e),t.instance=o;case"script":return o=ls(n.src),(i=e.querySelector(ei(o)))?(t.instance=i,Et(i),i):(a=n,(i=En.get(o))&&(a=_({},n),ru(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Et(i),Qt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,wr(a,n.precedence,e));return t.instance}function wr(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,o=i,h=0;h<a.length;h++){var S=a[h];if(S.dataset.precedence===t)o=S;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Er=null;function xh(e,t,n){if(Er===null){var a=new Map,i=Er=new Map;i.set(n,a)}else i=Er,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[nn]||o[ge]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var S=a.get(h);S?S.push(o):a.set(h,[o])}}return a}function Th(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function yS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ch(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ti=null;function pS(){}function vS(e,t,n){if(ti===null)throw Error(u(475));var a=ti;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=as(n.href),o=e.querySelector(Ws(i));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Ar.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=o,Et(o);return}o=e.ownerDocument||e,n=Sh(n),(i=En.get(i))&&iu(n,i),o=o.createElement("link"),Et(o);var h=o;h._p=new Promise(function(S,C){h.onload=S,h.onerror=C}),Qt(o,"link",n),t.instance=o}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Ar.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function bS(){if(ti===null)throw Error(u(475));var e=ti;return e.stylesheets&&e.count===0&&ou(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ou(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ar(){if(this.count--,this.count===0){if(this.stylesheets)ou(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nr=null;function ou(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nr=new Map,t.forEach(SS,e),Nr=null,Ar.call(e))}function SS(e,t){if(!(t.state.loading&4)){var n=Nr.get(e);if(n)var a=n.get(null);else{n=new Map,Nr.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var h=i[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),a=h)}a&&n.set(null,a)}i=t.instance,h=i.getAttribute("data-precedence"),o=n.get(h)||a,o===a&&n.set(null,i),n.set(h,i),this.count++,a=Ar.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ni={$$typeof:j,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function _S(e,t,n,a,i,o,h,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=el(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.hiddenUpdates=el(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function jh(e,t,n,a,i,o,h,S,C,H,Q,ee){return e=new _S(e,t,n,h,S,C,H,ee),t=1,o===!0&&(t|=24),o=dn(3,null,null,t),e.current=o,o.stateNode=e,t=Io(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:a,isDehydrated:n,cache:t},Go(o),e}function wh(e){return e?(e=Ll,e):Ll}function Eh(e,t,n,a,i,o){i=wh(i),a.context===null?a.context=i:a.pendingContext=i,a=za(t),a.payload={element:n},o=o===void 0?null:o,o!==null&&(a.callback=o),n=Oa(e,a,t),n!==null&&(yn(n,e,t),zs(n,e,t))}function Ah(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cu(e,t){Ah(e,t),(e=e.alternate)&&Ah(e,t)}function Nh(e){if(e.tag===13){var t=Rl(e,67108864);t!==null&&yn(t,e,67108864),cu(e,67108864)}}var Dr=!0;function xS(e,t,n,a){var i=z.T;z.T=null;var o=I.p;try{I.p=2,uu(e,t,n,a)}finally{I.p=o,z.T=i}}function TS(e,t,n,a){var i=z.T;z.T=null;var o=I.p;try{I.p=8,uu(e,t,n,a)}finally{I.p=o,z.T=i}}function uu(e,t,n,a){if(Dr){var i=du(a);if(i===null)Kc(e,t,a,Mr,n),Mh(e,a);else if(jS(i,e,t,n,a))a.stopPropagation();else if(Mh(e,a),t&4&&-1<CS.indexOf(e)){for(;i!==null;){var o=Yn(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=Ft(o.pendingLanes);if(h!==0){var S=o;for(S.pendingLanes|=2,S.entangledLanes|=2;h;){var C=1<<31-Ie(h);S.entanglements[1]|=C,h&=~C}Kn(o),(Ze&6)===0&&(hr=Re()+500,Qs(0))}}break;case 13:S=Rl(o,2),S!==null&&yn(S,o,2),yr(),cu(o,2)}if(o=du(a),o===null&&Kc(e,t,a,Mr,n),o===i)break;i=o}i!==null&&a.stopPropagation()}else Kc(e,t,a,null,n)}}function du(e){return e=yo(e),fu(e)}var Mr=null;function fu(e){if(Mr=null,e=Fn(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mr=e,null}function Dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case Me:return 2;case $e:return 8;case bt:case St:return 32;case it:return 268435456;default:return 32}default:return 32}}var mu=!1,Pa=null,Ga=null,Xa=null,ai=new Map,li=new Map,Qa=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mh(e,t){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function si(e,t,n,a,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Yn(t),t!==null&&Nh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jS(e,t,n,a,i){switch(t){case"focusin":return Pa=si(Pa,e,t,n,a,i),!0;case"dragenter":return Ga=si(Ga,e,t,n,a,i),!0;case"mouseover":return Xa=si(Xa,e,t,n,a,i),!0;case"pointerover":var o=i.pointerId;return ai.set(o,si(ai.get(o)||null,e,t,n,a,i)),!0;case"gotpointercapture":return o=i.pointerId,li.set(o,si(li.get(o)||null,e,t,n,a,i)),!0}return!1}function zh(e){var t=Fn(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,ie(e.priority,function(){if(n.tag===13){var a=gn();a=$t(a);var i=Rl(n,a);i!==null&&yn(i,n,a),cu(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=du(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);go=a,n.target.dispatchEvent(a),go=null}else return t=Yn(n),t!==null&&Nh(t),e.blockedOn=n,!1;t.shift()}return!0}function Oh(e,t,n){zr(e)&&n.delete(t)}function wS(){mu=!1,Pa!==null&&zr(Pa)&&(Pa=null),Ga!==null&&zr(Ga)&&(Ga=null),Xa!==null&&zr(Xa)&&(Xa=null),ai.forEach(Oh),li.forEach(Oh)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,mu||(mu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,wS)))}var Rr=null;function Rh(e){Rr!==e&&(Rr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Rr===e&&(Rr=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(fu(a||n)===null)continue;break}var o=Yn(n);o!==null&&(e.splice(t,3),t-=3,fc(o,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function ii(e){function t(C){return Or(C,e)}Pa!==null&&Or(Pa,e),Ga!==null&&Or(Ga,e),Xa!==null&&Or(Xa,e),ai.forEach(t),li.forEach(t);for(var n=0;n<Qa.length;n++){var a=Qa[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)zh(n),n.blockedOn===null&&Qa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],o=n[a+1],h=i[pe]||null;if(typeof o=="function")h||Rh(n);else if(h){var S=null;if(o&&o.hasAttribute("formAction")){if(i=o,h=o[pe]||null)S=h.formAction;else if(fu(i)!==null)continue}else S=h.action;typeof S=="function"?n[a+1]=S:(n.splice(a,3),a-=3),Rh(n)}}}function hu(e){this._internalRoot=e}Lr.prototype.render=hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var n=t.current,a=gn();Eh(n,a,e,t,null,null)},Lr.prototype.unmount=hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eh(e.current,2,null,e,null,null),yr(),t[De]=null}};function Lr(e){this._internalRoot=e}Lr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qa.length&&t!==0&&t<Qa[n].priority;n++);Qa.splice(n,0,e),n===0&&zh(e)}};var Lh=s.version;if(Lh!=="19.1.1")throw Error(u(527,Lh,"19.1.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=v(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var ES={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kr.isDisabled&&kr.supportsFiber)try{Te=kr.inject(ES),Ee=kr}catch{}}return ri.createRoot=function(e,t){if(!d(e))throw Error(u(299));var n=!1,a="",i=Kf,o=Jf,h=Wf,S=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=jh(e,1,!1,null,null,n,a,i,o,h,S,null),e[De]=t.current,Zc(e),new hu(t)},ri.hydrateRoot=function(e,t,n){if(!d(e))throw Error(u(299));var a=!1,i="",o=Kf,h=Jf,S=Wf,C=null,H=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks),n.formState!==void 0&&(H=n.formState)),t=jh(e,1,!0,t,n??null,a,i,o,h,S,C,H),t.context=wh(null),n=t.current,a=gn(),a=$t(a),i=za(a),i.callback=null,Oa(n,i,a),n=a,t.current.lanes=n,gt(t,n),Kn(t),e[De]=t.current,Zc(e),new Lr(t)},ri.version="19.1.1",ri}var qh;function D_(){if(qh)return gu.exports;qh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),gu.exports=N_(),gu.exports}var Og=D_();const Rg=o_(Og),M_="_button_ve6wq_3",z_="_disabled_ve6wq_26",O_="_sm_ve6wq_33",R_="_md_ve6wq_39",L_="_lg_ve6wq_45",k_="_icon_ve6wq_53",B_="_primary_ve6wq_98",U_="_secondary_ve6wq_112",$_="_destructive_ve6wq_126",H_="_outline_ve6wq_140",V_="_ghost_ve6wq_155",q_="_link_ve6wq_169",Br={button:M_,disabled:z_,sm:O_,md:R_,lg:L_,icon:k_,"icon-md":"_icon-md_ve6wq_54","icon-sm":"_icon-sm_ve6wq_60","icon-lg":"_icon-lg_ve6wq_66",primary:B_,secondary:U_,destructive:$_,outline:H_,ghost:V_,link:q_},de=Je.forwardRef((l,s)=>{const{children:r,variant:u="primary",size:d="md",asChild:m=!1,className:f="",disabled:p,type:v="button",...b}=l,_=m?NS:"button",y=[Br.button,Br[u],Br[d],p&&Br.disabled,f].filter(Boolean).join(" ");return c.jsx(_,{ref:s,type:v,className:y,disabled:p,...b,children:r})});de.displayName="Button";const I_="_separator_nyfht_2",F_="_vertical_nyfht_17",Ih={separator:I_,vertical:F_},Y_=({orientation:l="horizontal",className:s="",decorative:r=!0})=>c.jsx(DS,{className:`${Ih.separator} ${Ih[l]} ${s??""}`,orientation:l,decorative:r}),P_="_overlay_1z121_2",G_="_overlayShow_1z121_1",X_="_content_1z121_12",Q_="_top_1z121_25",Z_="_slideDownAndFade_1z121_1",K_="_bottom_1z121_37",J_="_slideUpAndFade_1z121_1",W_="_left_1z121_49",e1="_slideRightAndFade_1z121_1",t1="_right_1z121_61",n1="_slideLeftAndFade_1z121_1",a1="_close_1z121_73",l1="_closeIcon_1z121_102",s1="_header_1z121_107",i1="_footer_1z121_116",r1="_title_1z121_125",o1="_description_1z121_132",Sa={overlay:P_,overlayShow:G_,content:X_,top:Q_,slideDownAndFade:Z_,bottom:K_,slideUpAndFade:J_,left:W_,slideRightAndFade:e1,right:t1,slideLeftAndFade:n1,close:a1,closeIcon:l1,header:s1,footer:i1,title:r1,description:o1},Lg={id:"bootstrap",label:"Bootstrap",author:"NellowTCS",description:"Icons from Bootstrap.",version:"1.0.0"},c1={icons:Lg},u1=Object.freeze(Object.defineProperty({__proto__:null,default:c1,icons:Lg},Symbol.toStringTag,{value:"Module"})),kg={id:"css-gg",label:"CSS.gg",author:"NellowTCS",description:"Icons from CSS.gg.",version:"1.0.0"},d1={icons:kg},f1=Object.freeze(Object.defineProperty({__proto__:null,default:d1,icons:kg},Symbol.toStringTag,{value:"Module"})),Bg={id:"lucide",label:"Lucide",author:"NellowTCS",description:"Icons from Lucide.",version:"1.0.0"},m1={icons:Bg},h1=Object.freeze(Object.defineProperty({__proto__:null,default:m1,icons:Bg},Symbol.toStringTag,{value:"Module"})),Ug={id:"material-design",label:"Material Design",author:"NellowTCS",description:"Icons from Material Design.",version:"1.0.0"},g1={icons:Ug},y1=Object.freeze(Object.defineProperty({__proto__:null,default:g1,icons:Ug},Symbol.toStringTag,{value:"Module"})),$g={id:"phosphor",label:"Phosphor",author:"NellowTCS",description:"Icons from Phosphor.",version:"1.0.0"},p1={icons:$g},v1=Object.freeze(Object.defineProperty({__proto__:null,default:p1,icons:$g},Symbol.toStringTag,{value:"Module"})),Hg={id:"remix-icons",label:"Remix Icons",author:"NellowTCS",description:"Icons from Remix Icons.",version:"1.0.0"},b1={icons:Hg},S1=Object.freeze(Object.defineProperty({__proto__:null,default:b1,icons:Hg},Symbol.toStringTag,{value:"Module"})),Vg={id:"simple-line-icons",label:"Simple Line Icons",author:"NellowTCS",description:"Icons from Simple Line Icons.",version:"1.0.0"},_1={icons:Vg},x1=Object.freeze(Object.defineProperty({__proto__:null,default:_1,icons:Vg},Symbol.toStringTag,{value:"Module"})),qg={id:"tabler-icons",label:"Tabler Icons",author:"NellowTCS",description:"Icons from Tabler Icons.",version:"1.0.0"},T1={icons:qg},C1=Object.freeze(Object.defineProperty({__proto__:null,default:T1,icons:qg},Symbol.toStringTag,{value:"Module"})),Ig="50 Shades of Blue",Fg="NellowTCS",Yg="A joke theme I made (I haven't read that one book btw, just made this as a meme.)",Pg="1.0",Gg="50Shades.theme.css",j1={name:Ig,author:Fg,description:Yg,version:Pg,cssFile:Gg},w1=Object.freeze(Object.defineProperty({__proto__:null,author:Fg,cssFile:Gg,default:j1,description:Yg,name:Ig,version:Pg},Symbol.toStringTag,{value:"Module"})),Xg="Aurora",Qg="NellowTCS",Zg="An ethereal theme inspired by the northern lights, featuring dynamic color mixing and gradient magic with cutting-edge CSS features",Kg="1.0",Jg="Aurora.theme.css",E1={name:Xg,author:Qg,description:Zg,version:Kg,cssFile:Jg},A1=Object.freeze(Object.defineProperty({__proto__:null,author:Qg,cssFile:Jg,default:E1,description:Zg,name:Xg,version:Kg},Symbol.toStringTag,{value:"Module"})),Wg="BlackHole",ey="NellowTCS",ty="A theme that was meant to look like a black hole with the red glow of the event horizon",ny="1.0",ay="BlackHole.theme.css",N1={name:Wg,author:ey,description:ty,version:ny,cssFile:ay},D1=Object.freeze(Object.defineProperty({__proto__:null,author:ey,cssFile:ay,default:N1,description:ty,name:Wg,version:ny},Symbol.toStringTag,{value:"Module"})),ly="Blue",sy="NellowTCS",iy="The default blue theme.",ry="1.0",oy="Blue.theme.css",cy={id:"lucide",label:"Lucide",description:"Gradient forward icons that pair with the Blue theme.",version:"1.0.0"},M1={name:ly,author:sy,description:iy,version:ry,cssFile:oy,icons:cy},z1=Object.freeze(Object.defineProperty({__proto__:null,author:sy,cssFile:oy,default:M1,description:iy,icons:cy,name:ly,version:ry},Symbol.toStringTag,{value:"Module"})),uy="Cotton Candy",dy="NellowTCS",fy="A theme with a soft color palette inspired by cotton candy.",my="1.0",hy="CottonCandy.theme.css",O1={name:uy,author:dy,description:fy,version:my,cssFile:hy},R1=Object.freeze(Object.defineProperty({__proto__:null,author:dy,cssFile:hy,default:O1,description:fy,name:uy,version:my},Symbol.toStringTag,{value:"Module"})),gy="Cyberpunk",yy="NellowTCS",py="A neon futuristic theme with cyan, magenta, and yellow. Comes with a really cool (dark mode) Settings page.",vy="1.0",by="Cyberpunk.theme.css",L1={name:gy,author:yy,description:py,version:vy,cssFile:by},k1=Object.freeze(Object.defineProperty({__proto__:null,author:yy,cssFile:by,default:L1,description:py,name:gy,version:vy},Symbol.toStringTag,{value:"Module"})),Sy="Forest",_y="NellowTCS",xy="A natural theme inspired by forests so you can touch grass.",Ty="1.0",Cy="Forest.theme.css",B1={name:Sy,author:_y,description:xy,version:Ty,cssFile:Cy},U1=Object.freeze(Object.defineProperty({__proto__:null,author:_y,cssFile:Cy,default:B1,description:xy,name:Sy,version:Ty},Symbol.toStringTag,{value:"Module"})),jy="Frosty",wy="NellowTCS",Ey="Frosty morning, a peaceful light and dark mode experience.",Ay="1.0",Ny="Frosty.theme.css",$1={name:jy,author:wy,description:Ey,version:Ay,cssFile:Ny},H1=Object.freeze(Object.defineProperty({__proto__:null,author:wy,cssFile:Ny,default:$1,description:Ey,name:jy,version:Ay},Symbol.toStringTag,{value:"Module"})),Dy="Lumenis",My="NellowTCS",zy="A orange and purple gradient causes a interesting and cool effect.",Oy="1.0",Ry="Lumenis.theme.css",V1={name:Dy,author:My,description:zy,version:Oy,cssFile:Ry},q1=Object.freeze(Object.defineProperty({__proto__:null,author:My,cssFile:Ry,default:V1,description:zy,name:Dy,version:Oy},Symbol.toStringTag,{value:"Module"})),Ly="Lunar Eclipse",ky="NellowTCS",By="The twin of the Solar Eclipse theme.",Uy="1.0",$y="LunarEclipse.theme.css",I1={name:Ly,author:ky,description:By,version:Uy,cssFile:$y},F1=Object.freeze(Object.defineProperty({__proto__:null,author:ky,cssFile:$y,default:I1,description:By,name:Ly,version:Uy},Symbol.toStringTag,{value:"Module"})),Hy="Mirage",Vy="NellowTCS",qy="A theme with warm sunset colors for light mode and violet-orange tones for dark mode.",Iy="1.0",Fy="Mirage.theme.css",Y1={name:Hy,author:Vy,description:qy,version:Iy,cssFile:Fy},P1=Object.freeze(Object.defineProperty({__proto__:null,author:Vy,cssFile:Fy,default:Y1,description:qy,name:Hy,version:Iy},Symbol.toStringTag,{value:"Module"})),Yy="Monochrome",Py="NellowTCS",Gy="A minimal modern monochrome theme with (around 10) shades of gray.",Xy="1.0",Qy="Monochrome.theme.css",G1={name:Yy,author:Py,description:Gy,version:Xy,cssFile:Qy},X1=Object.freeze(Object.defineProperty({__proto__:null,author:Py,cssFile:Qy,default:G1,description:Gy,name:Yy,version:Xy},Symbol.toStringTag,{value:"Module"})),Zy="Murder Drones",Ky="NellowTCS",Jy="Murder Drones theme!",Wy="1.0",ep="Drones.theme.css",Q1={name:Zy,author:Ky,description:Jy,version:Wy,cssFile:ep},Z1=Object.freeze(Object.defineProperty({__proto__:null,author:Ky,cssFile:ep,default:Q1,description:Jy,name:Zy,version:Wy},Symbol.toStringTag,{value:"Module"})),tp="Nebula",np="NellowTCS",ap="Starry, starry, nights.",lp="1.0",sp="Nebula.theme.css",K1={name:tp,author:np,description:ap,version:lp,cssFile:sp},J1=Object.freeze(Object.defineProperty({__proto__:null,author:np,cssFile:sp,default:K1,description:ap,name:tp,version:lp},Symbol.toStringTag,{value:"Module"})),ip="Northern Lights",rp="NellowTCS",op="A theme inspired by the northern lights with greens, blues, purples, and magentas",cp="1.0",up="NorthernLights.theme.css",W1={name:ip,author:rp,description:op,version:cp,cssFile:up},ex=Object.freeze(Object.defineProperty({__proto__:null,author:rp,cssFile:up,default:W1,description:op,name:ip,version:cp},Symbol.toStringTag,{value:"Module"})),dp="Obsidian",fp="NellowTCS",mp="A dark, minimal theme inspired by the Obsidian app.",hp="1.0",gp="Obsidian.theme.css",tx={name:dp,author:fp,description:mp,version:hp,cssFile:gp},nx=Object.freeze(Object.defineProperty({__proto__:null,author:fp,cssFile:gp,default:tx,description:mp,name:dp,version:hp},Symbol.toStringTag,{value:"Module"})),yp="Ocean",pp="NellowTCS",vp="Ocean skies in the morning and night.",bp="1.0",Sp="Ocean.theme.css",ax={name:yp,author:pp,description:vp,version:bp,cssFile:Sp},lx=Object.freeze(Object.defineProperty({__proto__:null,author:pp,cssFile:Sp,default:ax,description:vp,name:yp,version:bp},Symbol.toStringTag,{value:"Module"})),_p="Orange",xp="NellowTCS",Tp="A orange themed version of the Blue theme.",Cp="1.0",jp="Orange.theme.css",sx={name:_p,author:xp,description:Tp,version:Cp,cssFile:jp},ix=Object.freeze(Object.defineProperty({__proto__:null,author:xp,cssFile:jp,default:sx,description:Tp,name:_p,version:Cp},Symbol.toStringTag,{value:"Module"})),wp="Rainbow",Ep="NellowTCS",Ap="A theme that cycles through all colors of the rainbow.",Np="1.0",Dp="Rainbow.theme.css",rx={name:wp,author:Ep,description:Ap,version:Np,cssFile:Dp},ox=Object.freeze(Object.defineProperty({__proto__:null,author:Ep,cssFile:Dp,default:rx,description:Ap,name:wp,version:Np},Symbol.toStringTag,{value:"Module"})),Mp="Red",zp="NellowTCS",Op="A red themed version of the Blue theme.",Rp="1.0",Lp="Red.theme.css",cx={name:Mp,author:zp,description:Op,version:Rp,cssFile:Lp},ux=Object.freeze(Object.defineProperty({__proto__:null,author:zp,cssFile:Lp,default:cx,description:Op,name:Mp,version:Rp},Symbol.toStringTag,{value:"Module"})),kp="Sakura",Bp="NellowTCS",Up="A soft and fresh theme inspired by cherry blossoms, blending gentle pinks and greens for a peaceful spring vibe.",$p="1.0",Hp="Sakura.theme.css",dx={name:kp,author:Bp,description:Up,version:$p,cssFile:Hp},fx=Object.freeze(Object.defineProperty({__proto__:null,author:Bp,cssFile:Hp,default:dx,description:Up,name:kp,version:$p},Symbol.toStringTag,{value:"Module"})),Vp="Solar Eclipse",qp="NellowTCS",Ip="The twin of the Lunar Eclipse theme.",Fp="1.0",Yp="SolarEclipse.theme.css",mx={name:Vp,author:qp,description:Ip,version:Fp,cssFile:Yp},hx=Object.freeze(Object.defineProperty({__proto__:null,author:qp,cssFile:Yp,default:mx,description:Ip,name:Vp,version:Fp},Symbol.toStringTag,{value:"Module"})),Pp="Stellar Glow",Gp="NellowTCS",Xp="A theme with indigo and soft lavender tones, creating a peaceful night theme for both light and dark modes.",Qp="1.0",Zp="StellarGlow.theme.css",gx={name:Pp,author:Gp,description:Xp,version:Qp,cssFile:Zp},yx=Object.freeze(Object.defineProperty({__proto__:null,author:Gp,cssFile:Zp,default:gx,description:Xp,name:Pp,version:Qp},Symbol.toStringTag,{value:"Module"})),Kp="Sun",Jp="NellowTCS",Wp="The light of the Sun packed into a HTMLPlayer theme.",ev="1.0",tv="Sun.theme.css",px={name:Kp,author:Jp,description:Wp,version:ev,cssFile:tv},vx=Object.freeze(Object.defineProperty({__proto__:null,author:Jp,cssFile:tv,default:px,description:Wp,name:Kp,version:ev},Symbol.toStringTag,{value:"Module"})),nv="Terracotta",av="NellowTCS",lv="A simple, ground-like theme which has terracotta and sage tones.",sv="1.0",iv="Terracotta.theme.css",bx={name:nv,author:av,description:lv,version:sv,cssFile:iv},Sx=Object.freeze(Object.defineProperty({__proto__:null,author:av,cssFile:iv,default:bx,description:lv,name:nv,version:sv},Symbol.toStringTag,{value:"Module"})),rv="Twilight",ov="NellowTCS",cv="A twilight themed, pink and purple gradient.",uv="1.0",dv="Twilight.theme.css",_x={name:rv,author:ov,description:cv,version:uv,cssFile:dv},xx=Object.freeze(Object.defineProperty({__proto__:null,author:ov,cssFile:dv,default:_x,description:cv,name:rv,version:uv},Symbol.toStringTag,{value:"Module"})),fv="Verdant",mv="NellowTCS",hv="A subtle nature based theme that is very underrated.",gv="1.0",yv="Verdant.theme.css",Tx={name:fv,author:mv,description:hv,version:gv,cssFile:yv},Cx=Object.freeze(Object.defineProperty({__proto__:null,author:mv,cssFile:yv,default:Tx,description:hv,name:fv,version:gv},Symbol.toStringTag,{value:"Module"})),pv="Win95",vv="NellowTCS",bv="A Windows 95inspired theme with a rotating thingy that looks super cool.",Sv="1.0",_v="Win95.theme.css",jx={name:pv,author:vv,description:bv,version:Sv,cssFile:_v},wx=Object.freeze(Object.defineProperty({__proto__:null,author:vv,cssFile:_v,default:jx,description:bv,name:pv,version:Sv},Symbol.toStringTag,{value:"Module"})),xv="Yellow",Tv="NellowTCS",Cv="A yellow themed version of the Blue theme.",jv="1.0",wv="Yellow.theme.css",Ex={name:xv,author:Tv,description:Cv,version:jv,cssFile:wv},Ax=Object.freeze(Object.defineProperty({__proto__:null,author:Tv,cssFile:wv,default:Ex,description:Cv,name:xv,version:jv},Symbol.toStringTag,{value:"Module"})),Ev=Object.assign({"../themes/Icons/Bootstrap/Bootstrap.theme.json":u1,"../themes/Icons/Css.gg/css-gg.theme.json":f1,"../themes/Icons/Lucide/Lucide.theme.json":h1,"../themes/Icons/Material Design/MaterialDesign.theme.json":y1,"../themes/Icons/Phosphor/Phosphor.theme.json":v1,"../themes/Icons/Remix Icon/RemixIcon.theme.json":S1,"../themes/Icons/Simple Line Icons/SimpleLineIcons.theme.json":x1,"../themes/Icons/Tabler Icons/TablerIcons.theme.json":C1,"../themes/Themes/50Shades/50Shades.theme.json":w1,"../themes/Themes/Aurora/Aurora.theme.json":A1,"../themes/Themes/BlackHole/BlackHole.theme.json":D1,"../themes/Themes/Blue/Blue.theme.json":z1,"../themes/Themes/CottonCandy/CottonCandy.theme.json":R1,"../themes/Themes/Cyberpunk/Cyberpunk.theme.json":k1,"../themes/Themes/Forest/Forest.theme.json":U1,"../themes/Themes/Frosty/Frosty.theme.json":H1,"../themes/Themes/Lumenis/Lumenis.theme.json":q1,"../themes/Themes/LunarEclipse/LunarEclipse.theme.json":F1,"../themes/Themes/Mirage/Mirage.theme.json":P1,"../themes/Themes/Monochrome/Monochrome.theme.json":X1,"../themes/Themes/MurderDrones/Drones.theme.json":Z1,"../themes/Themes/Nebula/Nebula.theme.json":J1,"../themes/Themes/NorthernLights/NorthernLights.theme.json":ex,"../themes/Themes/Obsidian/Obsidian.theme.json":nx,"../themes/Themes/Ocean/Ocean.theme.json":lx,"../themes/Themes/Orange/Orange.theme.json":ix,"../themes/Themes/Rainbow/Rainbow.theme.json":ox,"../themes/Themes/Red/Red.theme.json":ux,"../themes/Themes/Sakura/Sakura.theme.json":fx,"../themes/Themes/SolarEclipse/SolarEclipse.theme.json":hx,"../themes/Themes/StellarGlow/StellarGlow.theme.json":yx,"../themes/Themes/Sun/Sun.theme.json":vx,"../themes/Themes/Terracotta/Terracotta.theme.json":Sx,"../themes/Themes/Twilight/Twilight.theme.json":xx,"../themes/Themes/Verdant/Verdant.theme.json":Cx,"../themes/Themes/Win95/Win95.theme.json":wx,"../themes/Themes/Yellow/Yellow.theme.json":Ax}),vu=new Map;async function Nx(l){const s=l.replace(/\\/g,"/");if(vu.has(s))return vu.get(s);const r=Ev[s];if(!r)return console.warn(`Theme JSON not found at ${s}`),null;try{const u=r.default||r;return vu.set(s,u),u}catch(u){return console.warn(`Failed to parse theme JSON at ${s}`,u),null}}async function Dx(l){const s=l.replace(/\.icons\.(ts|tsx)$/,".theme.json").replace(/\.theme\.(css|scss|sass)$/,".theme.json");return Nx(s)}async function Mx(){const l=new Map;for(const[s,r]of Object.entries(Ev))try{const u=r.default||r;l.set(s,u)}catch(u){console.warn(`Failed to parse theme JSON at ${s}`,u)}return l}const zx=Object.assign({"../themes/Icons/Bootstrap/Bootstrap.icons.ts":()=>ke(()=>import("./Bootstrap.icons-w-ksyN7U.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),"../themes/Icons/Css.gg/css-gg.icons.ts":()=>ke(()=>import("./css-gg.icons-CIhwm2jF.js"),__vite__mapDeps([4,1,2,3]),import.meta.url),"../themes/Icons/Lucide/Lucide.icons.ts":()=>ke(()=>import("./Lucide.icons-BJkhhx6I.js"),__vite__mapDeps([5,6,2,3]),import.meta.url),"../themes/Icons/Material Design/MaterialDesign.icons.ts":()=>ke(()=>import("./MaterialDesign.icons-CV6jFePv.js"),__vite__mapDeps([7,1,2,3]),import.meta.url),"../themes/Icons/Phosphor/Phosphor.icons.ts":()=>ke(()=>import("./Phosphor.icons-D76IbvJA.js"),__vite__mapDeps([8,1,2,3]),import.meta.url),"../themes/Icons/Remix Icon/RemixIcon.icons.ts":()=>ke(()=>import("./RemixIcon.icons-B1dcVoYg.js"),__vite__mapDeps([9,1,2,3]),import.meta.url),"../themes/Icons/Simple Line Icons/SimpleLineIcons.icons.ts":()=>ke(()=>import("./SimpleLineIcons.icons-AZLmccKJ.js"),__vite__mapDeps([10,1,2,3]),import.meta.url),"../themes/Icons/Tabler Icons/TablerIcons.icons.ts":()=>ke(()=>import("./TablerIcons.icons-jqyRdODH.js"),__vite__mapDeps([11,1,2,3]),import.meta.url)}),Ox={lucide:async()=>ke(()=>import("./vendor-icons-htYG8YcH.js"),__vite__mapDeps([6,2,3]),import.meta.url)},Av=g.createContext(null),bu="selected-icon-set",Su=new Map;function Rx(l,s,r){const u=l.split("/"),m=(u[u.length-1]??"").replace(/\.icons\.(?:ts|tsx)$/,""),f=r?.icons||{},p=r?.name??s?.theme??u[u.length-2]??m,v=f.label??s?.label??s?.id??p??m;return{id:(f.id??s?.id??p??v).toLowerCase(),label:f.label??s?.label??v,themeName:p}}const Lx="__global";async function kx(l,s){const r=`${s?s.id:Lx}::${l}`;if(Su.has(r))return Su.get(r);const u=s?.libraries?.[l]??Ox[l];if(!u)return null;try{let d;if(typeof u=="function"){const m=u();d=m instanceof Promise?await m:m}else d=u;return Su.set(r,d),d}catch(d){return console.error(`Failed to load icon library "${l}"`,d),null}}function Bx(l,s){if(!l)return;const r=s.split(".");let u=l;for(const d of r)if(u&&typeof u=="object"&&d in u)u=u[d];else return;return u}async function Ux(l,s,r){const u=await kx(l,r);if(!u)return console.warn(`Unsupported icon library "${l}"${r?` for set "${r.label}"`:""}`),null;const d=new Set([s]);!s.includes(".")&&!s.endsWith("Icon")&&d.add(`${s}Icon`);const m=s.charAt(0).toUpperCase()+s.slice(1),f=s.charAt(0).toLowerCase()+s.slice(1);d.add(m),d.add(f);const p=[u,u.default,u.icons,u.default?.icons].filter(b=>b&&typeof b=="object");let v;for(const b of p){for(const _ of d)if(v=Bx(b,_),v)break;if(v)break}return v&&typeof v=="object"&&typeof v.default=="function"&&(v=v.default),typeof v=="function"||v&&typeof v=="object"&&(v.$$typeof||v.render)?v:(console.warn(`Icon "${s}" not found in library "${l}"`),null)}const Hu=({defaultSetId:l,rememberSelection:s=!0,onSetChange:r,children:u})=>{const[d,m]=g.useState([]),[f,p]=g.useState(null),[v,b]=g.useState(null),[_,y]=g.useState(!0);g.useEffect(()=>{let R=!1;return(async()=>{try{y(!0),b(null);const w=[];for(const[O,B]of Object.entries(zx))try{const N=await B();if(!N||typeof N!="object"||!N.default){console.warn(`Icon module at ${O} does not export a default icon map.`);continue}const U=await Dx(O),D=Rx(O,N.metadata,U),W=U?.icons||{},ae={id:D.id,label:D.label,themeName:D.themeName,description:W.description??N.metadata?.description,version:W.version??N.metadata?.version,theme:D.themeName,inheritsFrom:W.inheritsFrom??N.metadata?.inheritsFrom,author:W.author??N.metadata?.author??U?.author,tags:W.tags??N.metadata?.tags},ce={id:D.id,label:D.label,themeName:D.themeName,metadata:ae,icons:N.default,path:O,libraries:N.libraries,libraryConfig:N.libraryConfig};w.push(ce)}catch(N){console.error(`Failed to load icon registry module at ${O}`,N)}if(!R){w.sort((D,W)=>D.label.localeCompare(W.label)),m(w);const B=(s&&typeof window<"u"?localStorage.getItem(bu):null)??l,U=(B?w.find(D=>D.id===B||D.themeName===B):null)??w.find(D=>D.metadata?.inheritsFrom===void 0)??w[0]??null;p(U),U&&s&&typeof window<"u"&&localStorage.setItem(bu,U.id)}}catch(w){if(!R){const O=w instanceof Error?w.message:"Unable to load icon registry";b(O),console.error("Icon registry loading error:",w)}}finally{R||y(!1)}})(),()=>{R=!0}},[l,s]);const x=g.useMemo(()=>{const R=new Map;for(const T of d)R.set(T.id,T),R.set(T.themeName.toLowerCase(),T);return R},[d]),E=g.useRef(r);E.current=r;const P=g.useCallback(R=>{const T=R.toLowerCase(),w=x.get(T)??d.find(O=>O.id===T||O.themeName.toLowerCase()===T);if(!w){console.warn(`Icon set "${R}" not found`);return}p(w),typeof window<"u"&&s&&localStorage.setItem(bu,w.id),E.current?.(w)},[x,d,s]),A=g.useCallback((R,T,w)=>{if(!T||w.has(T.id))return;w.add(T.id);const O=T.icons[R];if(O)return{definition:O,set:T};const B=T.metadata?.inheritsFrom;if(B){const N=x.get(B)??x.get(B.toLowerCase());if(N)return A(R,N,w)}},[x]),L=g.useCallback((R,T)=>{if(!R)return;const w=T?.setId?x.get(T.setId)??x.get(T.setId.toLowerCase())??null:f??d[0]??null,O=A(R,w,new Set);if(O)return O;if(T?.fallbackOrder&&T.fallbackOrder.length>0)for(const B of T.fallbackOrder){const N=x.get(B)??x.get(B.toLowerCase()),U=A(R,N??null,new Set);if(U)return U}},[f,x,d,A]),V=g.useCallback((R,T)=>L(R,T)?.definition,[L]),q=g.useRef(new Map),j=g.useCallback(async(R,T)=>{if(!R)return null;const w=L(R,T);if(!w)return null;const O=[w.set.id,R];T?.setId&&O.push(`requested:${T.setId}`),T?.fallbackOrder&&T.fallbackOrder.length>0&&O.push(`fallback:${T.fallbackOrder.join("|")}`);const B=O.join("::");if(q.current.has(B))return q.current.get(B);const{definition:N,set:U}=w;switch(N.type){case"library":{const D=await Ux(N.library,N.icon,U);if(!D)return console.warn(`Icon "${N.icon}" from library "${N.library}" not found.`),null;const W=U.libraryConfig?.[N.library];let ae;if(W&&typeof W=="object"&&"propTransformer"in W){const z=W.propTransformer;typeof z=="function"&&(ae=z)}const ce={type:"component",Component:D,defaultProps:{},propTransformer:ae,title:N.title};return q.current.set(B,ce),ce}case"component":{const D={type:"component",Component:N.component,defaultProps:N.props,title:N.title};return q.current.set(B,D),D}case"image":{const D={type:"image",src:N.src,alt:N.alt,title:N.title};return q.current.set(B,D),D}case"svg-inline":{const D={type:"svg-inline",content:N.content,viewBox:N.viewBox,alt:N.alt,title:N.title};return q.current.set(B,D),D}default:return console.warn(`Unsupported icon definition type for icon "${R}"`),null}},[L]),G=g.useMemo(()=>({iconSets:d,iconSetMap:x,currentSet:f,isLoading:_,error:v,setIconSet:P,getIconDefinition:V,loadIcon:j}),[f,v,V,x,d,_,j,P]);return g.useEffect(()=>{typeof window<"u"&&(window.iconRegistry={list:()=>d,current:()=>f,set:R=>P(R)})},[d,f,P]),c.jsx(Av.Provider,{value:G,children:u})},Nv=()=>{const l=g.useContext(Av);if(!l)throw new Error("useIconRegistry must be used within an IconRegistryProvider");return l},_u=(l,s)=>typeof l=="function"?l(s):l??null,te=({name:l,setId:s,fallback:r,fallbackOrder:u,className:d,style:m,size:f=20,color:p,stroke:v,strokeWidth:b,fill:_,inline:y=!1,decorative:x=!1,alt:E,title:P,role:A,onClick:L,onMouseEnter:V,onMouseLeave:q,onFocus:j,onBlur:G})=>{const{loadIcon:R}=Nv(),[T,w]=g.useState(null),[O,B]=g.useState(!0),[N,U]=g.useState(null),D=g.useMemo(()=>f===void 0?{}:{width:f,height:f},[f]);g.useEffect(()=>{let ae=!1;return(async()=>{if(!l){w(null),B(!1),U("Icon name not provided");return}try{B(!0),U(null);const z=(()=>{const X=!!s,se=!!(u&&u.length>0);if(!X&&!se)return;const re={};return X&&s&&(re.setId=s),se&&(re.fallbackOrder=u),re})(),I=await R(l,z);if(ae)return;w(I)}catch(z){if(ae)return;const I=z instanceof Error?z.message:"Failed to load icon";U(I),w(null)}finally{ae||B(!1)}})(),()=>{ae=!0}},[l,s,u,R]);const W=g.useMemo(()=>x?{role:A??"presentation","aria-hidden":"true","aria-label":void 0}:{role:A??"img","aria-hidden":void 0,"aria-label":E??P??l},[E,x,l,A,P]);if(O)return _u(r,{isLoading:!0,error:null});if(N||!T)return _u(r,{isLoading:!1,error:N??"Icon not found"});switch(T.type){case"component":{const{Component:ae,defaultProps:ce,propTransformer:z}=T,I=z?z({size:f,color:p,stroke:v,strokeWidth:b,fill:_,className:d,style:m}):{},X={className:d,style:{display:"inline-flex",verticalAlign:"middle",...z?{}:D,...m},...W,...ce,...I};return z||(f!==void 0&&(X.size=f),p!==void 0&&(X.color=p),v!==void 0&&(X.stroke=v),b!==void 0&&(X.strokeWidth=b),_!==void 0&&(X.fill=_)),L&&(X.onClick=L),V&&(X.onMouseEnter=V),q&&(X.onMouseLeave=q),j&&(X.onFocus=j),G&&(X.onBlur=G),c.jsx(ae,{...X})}case"image":return c.jsx("img",{className:d,style:{display:y?"inline-block":"block",...D,...m},src:T.src,alt:x?"":E??T.alt??l,title:P??T.title??void 0,onClick:L,onMouseEnter:V,onMouseLeave:q,onFocus:j,onBlur:G,...W});case"svg-inline":return c.jsx("span",{className:d,style:{display:y?"inline-block":"block",...D,...m},onClick:L,onMouseEnter:V,onMouseLeave:q,onFocus:j,onBlur:G,title:P??T.title??void 0,...W,dangerouslySetInnerHTML:{__html:T.content}});default:return _u(r,{isLoading:!1,error:"Unsupported icon type"})}},$x=xg,Hx=Sg,Dv=g.forwardRef(({className:l,...s},r)=>c.jsx(Qr,{className:`${Sa.overlay} ${l??""}`,...s,ref:r}));Dv.displayName=Qr.displayName;const Mv=g.forwardRef(({side:l="right",className:s,children:r,...u},d)=>c.jsxs(Hx,{children:[c.jsx(Dv,{}),c.jsxs(Zr,{ref:d,className:`${Sa.content} ${Sa[l]} ${s??""}`,...u,children:[r,c.jsx(_g,{className:Sa.close,children:c.jsx(te,{name:"close",className:Sa.closeIcon,size:"1rem",decorative:!0})})]})]}));Mv.displayName=Zr.displayName;const zv=({className:l,...s})=>c.jsx("div",{className:`${Sa.header} ${l??""}`,...s});zv.displayName="SheetHeader";const Ov=({className:l,...s})=>c.jsx("div",{className:`${Sa.footer} ${l??""}`,...s});Ov.displayName="SheetFooter";const Rv=g.forwardRef(({className:l,...s},r)=>c.jsx(Kr,{ref:r,className:`${Sa.title} ${l??""}`,...s}));Rv.displayName=Kr.displayName;const Lv=g.forwardRef(({className:l,...s},r)=>c.jsx(Jr,{ref:r,className:`${Sa.description} ${l??""}`,...s}));Lv.displayName=Jr.displayName;const Vx="_root_8ua84_2",qx="_thumb_8ua84_32",Fh={root:Vx,thumb:qx},Un=g.forwardRef(({className:l,...s},r)=>c.jsx(Tg,{className:`${Fh.root} ${l??""}`,...s,ref:r,children:c.jsx(MS,{className:`${Fh.thumb} ${l??""}`})}));Un.displayName=Tg.displayName;const Ix="_slider_56sou_2",Fx="_track_56sou_13",Yx="_range_56sou_22",Px="_thumb_56sou_30",oi={slider:Ix,track:Fx,range:Yx,thumb:Px},di=g.forwardRef(({className:l,...s},r)=>{const u=Array.isArray(s.defaultValue)&&s.defaultValue.length>1||Array.isArray(s.value)&&s.value.length>1;return c.jsxs(Cg,{ref:r,className:`${oi.slider} ${l??""}`,...s,children:[c.jsx(zS,{className:oi.track,children:c.jsx(OS,{className:oi.range})}),c.jsx(kh,{className:oi.thumb}),u&&c.jsx(kh,{className:oi.thumb})]})});di.displayName=Cg.displayName;const Gx="_input_1c2l4_2",Xx={input:Gx},Ja=g.forwardRef(({className:l,...s},r)=>c.jsx("input",{ref:r,className:`${Xx.input} ${l||""}`,...s}));Ja.displayName="Input";const Qx="_selectTrigger_1qrsb_2",Zx="_selectIcon_1qrsb_51",Kx="_selectContent_1qrsb_63",Jx="_selectViewport_1qrsb_88",Wx="_scrollButton_1qrsb_92",eT="_scrollIcon_1qrsb_104",tT="_selectLabel_1qrsb_115",nT="_selectItem_1qrsb_122",aT="_selectItemIndicator_1qrsb_155",lT="_checkIcon_1qrsb_163",sT="_selectSeparator_1qrsb_169",pn={selectTrigger:Qx,selectIcon:Zx,selectContent:Kx,selectViewport:Jx,scrollButton:Wx,scrollIcon:eT,selectLabel:tT,selectItem:nT,selectItemIndicator:aT,checkIcon:lT,selectSeparator:sT},Ur=$S,$r=HS,fi=g.forwardRef(({children:l,className:s,...r},u)=>c.jsxs(jg,{ref:u,className:`${pn.selectTrigger} ${s||""}`,...r,children:[l,c.jsx(RS,{asChild:!0,children:c.jsx(te,{name:"chevronDown",className:pn.selectIcon,size:"1rem",decorative:!0})})]}));fi.displayName=jg.displayName;const kv=g.forwardRef(({className:l,...s},r)=>c.jsx(wg,{ref:r,className:`${pn.scrollButton} ${l||""}`,...s,children:c.jsx(te,{name:"chevronUp",className:pn.scrollIcon,size:"1rem",decorative:!0})}));kv.displayName=wg.displayName;const Bv=g.forwardRef(({className:l,...s},r)=>c.jsx(Eg,{ref:r,className:`${pn.scrollButton} ${l||""}`,...s,children:c.jsx(te,{name:"chevronDown",className:pn.scrollIcon,size:"1rem",decorative:!0})}));Bv.displayName=Eg.displayName;const mi=g.forwardRef(({children:l,position:s="popper",className:r,...u},d)=>c.jsx(LS,{children:c.jsxs(Ag,{ref:d,position:s,className:`${pn.selectContent} ${r||""}`,...u,children:[c.jsx(kv,{}),c.jsx(kS,{className:pn.selectViewport,children:l}),c.jsx(Bv,{})]})}));mi.displayName=Ag.displayName;const iT=g.forwardRef(({className:l,...s},r)=>c.jsx(Ng,{ref:r,className:`${pn.selectLabel} ${l||""}`,...s}));iT.displayName=Ng.displayName;const _l=g.forwardRef(({children:l,className:s,...r},u)=>c.jsxs(Dg,{ref:u,className:`${pn.selectItem} ${s||""}`,...r,children:[c.jsx(BS,{children:l}),c.jsx(US,{className:pn.selectItemIndicator,children:c.jsx(te,{name:"check",className:pn.checkIcon,size:"1rem",decorative:!0})})]}));_l.displayName=Dg.displayName;const rT=g.forwardRef(({className:l,...s},r)=>c.jsx(Mg,{ref:r,className:`${pn.selectSeparator} ${l||""}`,...s}));rT.displayName=Mg.displayName;const oT="_content_d8cf9_2",cT="_subContent_d8cf9_3",uT="_item_d8cf9_20",dT="_checkboxItem_d8cf9_21",fT="_radioItem_d8cf9_22",mT="_subTrigger_d8cf9_23",hT="_checkboxIndicator_d8cf9_75",gT="_radioIndicator_d8cf9_76",yT="_radioIndicatorCircle_d8cf9_99",pT="_label_d8cf9_106",vT="_separator_d8cf9_113",bT="_subTriggerIcon_d8cf9_126",ST="_inset_d8cf9_133",en={content:oT,subContent:cT,item:uT,checkboxItem:dT,radioItem:fT,subTrigger:mT,checkboxIndicator:hT,radioIndicator:gT,radioIndicatorCircle:yT,label:pT,separator:vT,subTriggerIcon:bT,inset:ST},Au=(l=!1)=>{const[s,r]=g.useState(!1),u=g.useRef(null),d=g.useCallback(m=>{l&&(m.preventDefault(),m.stopPropagation(),r(!0))},[l]);return g.useEffect(()=>{const m=u.current;if(l&&m)return m.addEventListener("contextmenu",d),()=>{m.removeEventListener("contextmenu",d)}},[l,d]),{open:s,setOpen:r,containerRef:u}},cs=ZS,us=KS,_T=JS,xT=g.forwardRef(({className:l,inset:s,children:r,...u},d)=>c.jsxs(VS,{ref:d,className:`${en.subTrigger} ${s?en.inset:""} ${l||""}`,...u,children:[r,c.jsx(te,{name:"chevronRight",className:en.subTriggerIcon,size:"1rem",decorative:!0})]}));xT.displayName="DropdownMenuSubTrigger";const TT=g.forwardRef(({className:l,...s},r)=>c.jsx(qS,{ref:r,className:`${en.subContent} ${l||""}`,...s}));TT.displayName="DropdownMenuSubContent";const Tl=g.forwardRef(({className:l,sideOffset:s=4,...r},u)=>c.jsx(IS,{children:c.jsx(FS,{ref:u,sideOffset:s,className:`${en.content} ${l||""}`,...r})}));Tl.displayName="DropdownMenuContent";const vt=g.forwardRef(({className:l,inset:s,...r},u)=>c.jsx(YS,{ref:u,className:`${en.item} ${s?en.inset:""} ${l||""}`,...r}));vt.displayName="DropdownMenuItem";const CT=g.forwardRef(({className:l,children:s,checked:r,...u},d)=>c.jsxs(PS,{ref:d,className:`${en.checkboxItem} ${l||""}`,checked:r,...u,children:[c.jsx("span",{className:en.checkboxIndicator,children:c.jsx(zg,{children:c.jsx(te,{name:"check",size:"0.875rem",decorative:!0})})}),s]}));CT.displayName="DropdownMenuCheckboxItem";const Uv=g.forwardRef(({className:l,children:s,...r},u)=>c.jsxs(GS,{ref:u,className:`${en.radioItem} ${l||""}`,...r,children:[c.jsx("span",{className:en.radioIndicator,children:c.jsx(zg,{children:c.jsx("div",{className:en.radioIndicatorCircle})})}),s]}));Uv.displayName="DropdownMenuRadioItem";const jT=g.forwardRef(({className:l,inset:s,...r},u)=>c.jsx(XS,{ref:u,className:`${en.label} ${s?en.inset:""} ${l||""}`,...r}));jT.displayName="DropdownMenuLabel";const Wn=g.forwardRef(({className:l,...s},r)=>c.jsx(QS,{ref:r,className:`${en.separator} ${l||""}`,...s}));Wn.displayName="DropdownMenuSeparator";const wT="_miniplayer_22cj1_2",ET="_albumArt_22cj1_15",AT="_controls_22cj1_52",NT="_playBtn_22cj1_94",DT="_songInfo_22cj1_113",MT="_songTitle_22cj1_121",zT="_artist_22cj1_131",bl={miniplayer:wT,albumArt:ET,controls:AT,playBtn:NT,songInfo:DT,songTitle:MT,artist:zT},OT=l=>(s,r,u)=>{const d=u.subscribe;return u.subscribe=((f,p,v)=>{let b=f;if(p){const _=v?.equalityFn||Object.is;let y=f(u.getState());b=x=>{const E=f(x);if(!_(y,E)){const P=y;p(y=E,P)}},v?.fireImmediately&&p(y,y)}return d(b)}),l(s,r,u)},RT=OT;function Vu(){const l=navigator.userAgent.toLowerCase(),s=l.includes("safari")&&!l.includes("chrome")&&!l.includes("android"),r=l.includes("applewebkit")&&!l.includes("chrome");return s||r}class LT{constructor(){this.audioElement=null,this.isEnabled=!1,this.isEnabled=Vu(),this.isEnabled&&this.initializeAudioElement()}initializeAudioElement(){this.audioElement=document.createElement("audio"),this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.audioElement.volume=0,this.audioElement.muted=!0,this.audioElement.style.position="fixed",this.audioElement.style.opacity="0",this.audioElement.style.pointerEvents="none",this.audioElement.style.width="1px",this.audioElement.style.height="1px",this.audioElement.style.bottom="0",this.audioElement.style.left="0",document.body.appendChild(this.audioElement),console.log("[Safari Audio] Initialized audio element for background playback")}isActive(){return this.isEnabled&&this.audioElement!==null}setSrc(s){if(this.audioElement)try{s&&!s.includes("about:blank")&&!s.startsWith("indexeddb://")?(this.audioElement.src=s,console.log("[Safari Audio] Set source:",s.substring(0,50)+"...")):s.startsWith("indexeddb://")&&console.log("[Safari Audio] Skipping IndexedDB URL - waiting for blob URL")}catch(r){console.error("[Safari Audio] Failed to set src:",r)}}async play(){if(this.audioElement){if(!this.audioElement.src||this.audioElement.src.includes("about:blank")){console.warn("[Safari Audio] Cannot play - no valid source");return}if(this.audioElement.readyState<2){console.log("[Safari Audio] Waiting for source to load...");const s=this.audioElement;await new Promise((r,u)=>{const d=setTimeout(()=>{console.warn("[Safari Audio] Timeout waiting for source to load"),r()},2e3),m=()=>{clearTimeout(d),s.removeEventListener("loadeddata",m),s.removeEventListener("canplay",m),s.removeEventListener("error",f),r()},f=p=>{clearTimeout(d),s.removeEventListener("loadeddata",m),s.removeEventListener("canplay",m),s.removeEventListener("error",f),console.error("[Safari Audio] Error loading source:",p),u(p)};s.addEventListener("loadeddata",m),s.addEventListener("canplay",m),s.addEventListener("error",f)})}try{await this.audioElement.play(),console.log("[Safari Audio] Playing")}catch(s){console.error("[Safari Audio] Failed to play:",s)}}}pause(){if(this.audioElement)try{this.audioElement.pause(),console.log("[Safari Audio] Paused")}catch(s){console.error("[Safari Audio] Failed to pause:",s)}}setVolume(s){if(this.audioElement)try{this.audioElement.volume=Math.max(0,Math.min(1,s))}catch(r){console.error("[Safari Audio] Failed to set volume:",r)}}seek(s){if(this.audioElement)try{this.audioElement.currentTime=s}catch(r){console.error("[Safari Audio] Failed to seek:",r)}}setPlaybackRate(s){if(this.audioElement)try{this.audioElement.playbackRate=s}catch(r){console.error("[Safari Audio] Failed to set playback rate:",r)}}getElement(){return this.audioElement}destroy(){if(this.audioElement)try{this.audioElement.pause(),this.audioElement.src="",this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement),this.audioElement=null,console.log("[Safari Audio] Destroyed")}catch(s){console.error("[Safari Audio] Failed to destroy:",s)}}}const pa=new BroadcastChannel("audio-events"),va=new LT,Wr=m_()(RT((l,s)=>({isPlaying:!1,currentTime:0,duration:0,volume:.75,currentSong:null,lastEvent:null,setPlaying:(r,u="main")=>{l({isPlaying:r})},setCurrentTime:(r,u="main")=>{l({currentTime:r})},setVolume:(r,u="main")=>{l({volume:r})},setCurrentSong:(r,u="main")=>{l({currentSong:r});const d={type:"songChange",payload:{song:r},timestamp:Date.now(),source:u};l({lastEvent:d}),pa.postMessage(d)},setDuration:(r,u="main")=>{l({duration:r})},play:(r="main")=>{const u={type:"play",timestamp:Date.now(),source:r};l({lastEvent:u}),pa.postMessage(u),va.isActive()&&va.play()},pause:(r="main")=>{const u={type:"pause",timestamp:Date.now(),source:r};l({lastEvent:u}),pa.postMessage(u),va.isActive()&&va.pause()},seek:(r,u="main")=>{const d={type:"seek",payload:{time:r},timestamp:Date.now(),source:u};l({lastEvent:d}),pa.postMessage(d),va.isActive()&&va.seek(r)},next:(r="main")=>{const u={type:"next",timestamp:Date.now(),source:r};l({lastEvent:u}),pa.postMessage(u)},previous:(r="main")=>{const u={type:"previous",timestamp:Date.now(),source:r};l({lastEvent:u}),pa.postMessage(u)},updateTime:(r,u="main")=>{l({currentTime:r});const d=Date.now(),m=s().lastEvent;if(!m||m.type!=="timeUpdate"||d-m.timestamp>500){const f={type:"timeUpdate",payload:{time:r},timestamp:d,source:u};l({lastEvent:f}),pa.postMessage(f)}},changeVolume:(r,u="main")=>{l({volume:r});const d={type:"volume",payload:{volume:r},timestamp:Date.now(),source:u};l({lastEvent:d}),pa.postMessage(d),va.isActive()&&va.setVolume(r)}})));pa.onmessage=l=>{const s=l.data,r=Wr.getState(),d=typeof window<"u"&&window.parent===window?"main":"pip";if(s.source!==d)switch(console.log(`[${d}] Received audio event:`,s.type,"from",s.source),s.type){case"play":r.setPlaying(!0,s.source);break;case"pause":r.setPlaying(!1,s.source);break;case"volume":r.setVolume(s.payload.volume,s.source);break;case"seek":r.setCurrentTime(s.payload.time,s.source);break;case"timeUpdate":r.setCurrentTime(s.payload.time,s.source);break;case"songChange":r.setCurrentSong(s.payload.song,s.source);break}};const ss=(l,s)=>{const r=Wr(d=>d.lastEvent),u=g.useRef(0);g.useEffect(()=>{r&&r.type===l&&r.timestamp!==u.current&&Date.now()-r.timestamp<1e3&&(u.current=r.timestamp,s(r))},[r,l])},kT=()=>va;let is=null;function BT(l){document.querySelectorAll('link[rel="stylesheet"]').forEach(r=>{const u=l.document.createElement("link");u.rel="stylesheet",u.href=r.href,u.type="text/css",l.document.head.appendChild(u)}),document.querySelectorAll("style").forEach(r=>{const u=l.document.createElement("style");u.textContent=r.textContent,Array.from(r.attributes).forEach(d=>{u.setAttribute(d.name,d.value)}),l.document.head.appendChild(u)});let s=0;try{[...document.styleSheets].forEach(r=>{try{const u=[...r.cssRules].map(d=>d.cssText).join("");if(u){const d=l.document.createElement("style");d.textContent=u,l.document.head.appendChild(d),s+=r.cssRules.length}}catch(u){console.warn("Could not access stylesheet:",r.href,u)}})}catch(r){console.warn("Could not copy some stylesheets:",r)}console.log(`Copied ${s} CSS rules to PiP window`)}const UT=()=>"documentPictureInPicture"in window&&!!window.documentPictureInPicture,$v=async l=>{if(!l.playerState.currentSong){console.error("No song is currently playing");return}try{if(is){is.close(),is=null;return}if(!("documentPictureInPicture"in window)||!window.documentPictureInPicture){console.error("Document Picture-in-Picture not supported");return}const s=await window.documentPictureInPicture.requestWindow({width:400,height:70});is=s,console.log("PiP window opened successfully"),document.documentElement.classList.contains("dark")&&s.document.documentElement.classList.add("dark"),BT(s),await new Promise(m=>setTimeout(m,300));const r=Iv();if(r&&r.trim()!==`:root {
  
}`){const m=s.document.createElement("style");m.textContent=r,m.setAttribute("data-theme-variables","true"),s.document.head.appendChild(m),console.log("Applied theme CSS variables to PiP window")}else{const m=getComputedStyle(document.documentElement),f=[];if(["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background","--spacing-1","--spacing-2","--spacing-3","--spacing-4","--radius","--radius-lg"].forEach(v=>{const b=m.getPropertyValue(v).trim();b&&f.push(`${v}: ${b};`)}),f.length>0){const v=s.document.createElement("style");v.textContent=`:root {
  ${f.join(`
  `)}
}`,v.setAttribute("data-fallback-theme-variables","true"),s.document.head.appendChild(v),console.log("Applied fallback theme variables")}}s.document.body.style.margin="0",s.document.body.style.padding="0",s.document.body.style.overflow="hidden";const u=Og.createRoot(s.document.body);u.render(c.jsx($T,{})),s.addEventListener("pagehide",()=>{u.unmount(),d.close(),is=null});const d=new BroadcastChannel("theme-updates");d.onmessage=m=>{if(m.data.type==="theme-css"){console.log("PiP window received theme update"),m.data.darkMode?s.document.documentElement.classList.add("dark"):s.document.documentElement.classList.remove("dark"),s.document.querySelectorAll('style[data-theme-variables], style[data-fallback-theme-variables], style[id^="theme-stylesheet"]').forEach(v=>v.remove());const p=s.document.createElement("style");p.textContent=m.data.css,p.setAttribute("data-theme-variables","true"),m.data.fallback&&p.setAttribute("data-fallback-theme-variables","true"),s.document.head.appendChild(p),s.document.body.offsetHeight}}}catch(s){console.error("PiP failed:",s),is=null}},$T=()=>{const{t:l}=Bt(),{currentSong:s,isPlaying:r,play:u,pause:d,next:m,previous:f}=Wr(),p=()=>{r?d("pip"):u("pip")},v=()=>{f("pip")},b=()=>{m("pip")};return s?c.jsx(Hu,{defaultSetId:"lucide",children:c.jsxs("div",{className:bl.miniplayer,children:[s.albumArt&&c.jsx("img",{src:s.albumArt,alt:l("player.albumArt"),className:bl.albumArt}),c.jsxs("div",{className:bl.songInfo,children:[c.jsx("div",{className:bl.songTitle,children:s.title}),c.jsx("div",{className:bl.artist,children:s.artist})]}),c.jsxs("div",{className:bl.controls,children:[c.jsx(de,{id:"prevBtn",title:l("player.previousTrack"),onClick:v,children:c.jsx(te,{name:"skipBack",size:18,decorative:!0})}),c.jsx(de,{id:"playBtn",className:bl.playBtn,title:r?"Pause":"Play",onClick:p,children:r?c.jsx(te,{name:"pause",size:20,decorative:!0}):c.jsx(te,{name:"play",size:20,decorative:!0})}),c.jsx(de,{id:"nextBtn",title:l("player.nextTrack"),onClick:b,children:c.jsx(te,{name:"skipForward",size:18,decorative:!0})})]})]})}):c.jsx("div",{children:l("player.noSongPlaying")})},Nu=new BroadcastChannel("theme-updates");function Du(){const l=Iv(),s=document.documentElement.classList.contains("dark");if(l&&l.trim()!==`:root {
  
}`)Nu.postMessage({type:"theme-css",css:l,darkMode:s,timestamp:Date.now()});else{const r=getComputedStyle(document.documentElement),u=[];if(["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background","--spacing-1","--spacing-2","--spacing-3","--spacing-4","--radius","--radius-lg"].forEach(m=>{const f=r.getPropertyValue(m).trim();f&&u.push(`${m}: ${f};`)}),u.length>0){const m=`:root {
  ${u.join(`
  `)}
}`;Nu.postMessage({type:"theme-css",css:m,darkMode:s,timestamp:Date.now(),fallback:!0})}}}typeof window<"u"&&(Nu.onmessage=l=>{l.data.type});function qu(){requestAnimationFrame(()=>{const l=getComputedStyle(document.documentElement).getPropertyValue("--themecolor2").trim();let s=document.querySelector('meta[name="theme-color"]');s||(s=document.createElement("meta"),s.name="theme-color",document.head.appendChild(s)),s.content=l,setTimeout(()=>{Du()},100)})}function Hv(){_a&&(_a.onchange=null,_a=null),document.documentElement.classList.add("dark"),qu()}function Vv(){_a&&(_a.onchange=null,_a=null),document.documentElement.classList.remove("dark"),qu()}function Yh(l){l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),qu()}let _a=null;function qv(){_a&&(_a.onchange=null);const l=window.matchMedia("(prefers-color-scheme: dark)");l.onchange=s=>{Yh(s.matches)},_a=l,Yh(l.matches)}function Iv(){const l=getComputedStyle(document.documentElement),s=[];for(let f=0;f<l.length;f++){const p=l[f];if(p.startsWith("--")){const v=l.getPropertyValue(p).trim();v&&s.push(`${p}: ${v};`)}}const r=["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background"],u=[];r.forEach(f=>{const p=l.getPropertyValue(f).trim();p&&!s.some(v=>v.startsWith(f))&&u.push(`${f}: ${p};`)});const d=[];try{Array.from(document.styleSheets).forEach(f=>{try{Array.from(f.cssRules||[]).forEach(p=>{if(p instanceof CSSStyleRule&&p.selectorText===":root"){const v=p.style;for(let b=0;b<v.length;b++){const _=v[b];if(_.startsWith("--")){const y=v.getPropertyValue(_).trim();y&&!s.some(x=>x.startsWith(_))&&!u.some(x=>x.startsWith(_))&&d.push(`${_}: ${y};`)}}}})}catch{}})}catch(f){console.warn("Could not access stylesheets:",f)}return`:root {
  ${[...s,...u,...d].join(`
  `)}
}`}const HT="_container_1f8ey_1",VT="_themeButton_1f8ey_6",qT="_icon_1f8ey_15",IT="_menuIcon_1f8ey_20",FT="_activeItem_1f8ey_25",YT="_checkmark_1f8ey_35",Wt={container:HT,themeButton:VT,icon:qT,menuIcon:IT,activeItem:FT,checkmark:YT},PT=({className:l,value:s,onChange:r})=>{const{t:u}=Bt(),d=f=>{switch(f){case"light":Vv();break;case"dark":Hv();break;case"auto":qv();break}r(f)},m=()=>{switch(s){case"light":return c.jsx(te,{name:"sun",className:Wt.icon,decorative:!0});case"dark":return c.jsx(te,{name:"moon",className:Wt.icon,decorative:!0});case"auto":return c.jsx(te,{name:"sunMoon",className:Wt.icon,decorative:!0});default:return c.jsx(te,{name:"sun",className:Wt.icon,decorative:!0})}};return c.jsx("div",{className:`${Wt.container} ${l||""}`,children:c.jsxs(cs,{children:[c.jsx(us,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon-md","aria-label":u("currentThemeAria",{theme:s}),className:Wt.themeButton,children:m()})}),c.jsxs(Tl,{align:"end",children:[c.jsxs(vt,{className:s==="light"?Wt.activeItem:"",onClick:()=>d("light"),children:[c.jsx(te,{name:"sun",size:16,className:Wt.menuIcon,decorative:!0}),u("themeLight"),s==="light"&&c.jsx("span",{className:Wt.checkmark,children:""})]}),c.jsxs(vt,{className:s==="dark"?Wt.activeItem:"",onClick:()=>d("dark"),children:[c.jsx(te,{name:"moon",size:16,className:Wt.menuIcon,decorative:!0}),u("themeDark"),s==="dark"&&c.jsx("span",{className:Wt.checkmark,children:""})]}),c.jsxs(vt,{className:s==="auto"?Wt.activeItem:"",onClick:()=>d("auto"),children:[c.jsx(te,{name:"sunMoon",size:16,className:Wt.menuIcon,decorative:!0}),u("themeAuto"),s==="auto"&&c.jsx("span",{className:Wt.checkmark,children:""})]})]})]})})},GT="HTMLPlayerShortcuts",XT=1,Jn="shortcuts",rs={playPause:{id:"playPause",key:" ",action:"playPause",description:"settings.shortcuts.playPause",category:"playback"},nextSong:{id:"nextSong",key:"ArrowRight",action:"nextSong",description:"settings.shortcuts.nextSong",category:"playback"},previousSong:{id:"previousSong",key:"ArrowLeft",action:"previousSong",description:"settings.shortcuts.previousSong",category:"playback"},volumeUp:{id:"volumeUp",key:"ArrowUp",action:"volumeUp",description:"settings.shortcuts.volumeUpAction",category:"audio"},volumeDown:{id:"volumeDown",key:"ArrowDown",action:"volumeDown",description:"settings.shortcuts.volumeDownAction",category:"audio"},mute:{id:"mute",key:"m",action:"mute",description:"settings.shortcuts.mute",category:"audio"},toggleShuffle:{id:"toggleShuffle",key:"s",action:"toggleShuffle",description:"settings.shortcuts.toggleShuffleAction",category:"playback"},toggleRepeat:{id:"toggleRepeat",key:"r",action:"toggleRepeat",description:"settings.shortcuts.toggleRepeatAction",category:"playback"},toggleLyrics:{id:"toggleLyrics",key:"l",action:"toggleLyrics",description:"settings.shortcuts.toggleLyricsAction",category:"interface"},toggleVisualizer:{id:"toggleVisualizer",key:"v",action:"toggleVisualizer",description:"settings.shortcuts.toggleVisualizerAction",category:"interface"},search:{id:"search",key:"f",ctrlKey:!0,action:"search",description:"settings.shortcuts.openSearch",category:"navigation"},openSettings:{id:"openSettings",key:",",ctrlKey:!0,action:"openSettings",description:"settings.shortcuts.openSettingsAction",category:"navigation"}};class QT{constructor(){this.db=null}async initDB(){return new Promise((s,r)=>{const u=indexedDB.open(GT,XT);u.onerror=()=>{r(new Error("Failed to open IndexedDB"))},u.onsuccess=d=>{this.db=d.target.result,s()},u.onupgradeneeded=d=>{const m=d.target.result;if(!m.objectStoreNames.contains(Jn)){const f=m.createObjectStore(Jn,{keyPath:"id"});f.createIndex("action","action",{unique:!0}),f.createIndex("category","category",{unique:!1})}}})}async ensureDB(){this.db||await this.initDB()}async getAllShortcuts(){return await this.ensureDB(),new Promise((s,r)=>{if(!this.db){r(new Error("Database not initialized"));return}const m=this.db.transaction([Jn],"readonly").objectStore(Jn).getAll();m.onsuccess=async()=>{const f=m.result;if(f.length===0)try{await this.saveAllShortcuts(rs),s(rs)}catch{s(rs)}else{const p={};f.forEach(v=>{p[v.id]=v}),s(p)}},m.onerror=()=>{r(new Error("Failed to get shortcuts"))}})}async saveShortcut(s){if(await this.ensureDB(),!s.id)throw new Error("Shortcut must have an id property");if(!s.key)throw new Error("Shortcut must have a key property");if(!s.action)throw new Error("Shortcut must have an action property");return new Promise((r,u)=>{if(!this.db){u(new Error("Database not initialized"));return}const f=this.db.transaction([Jn],"readwrite").objectStore(Jn).put(s);f.onsuccess=()=>{r()},f.onerror=()=>{u(new Error(Ge.t("settings.shortcuts.failedToSaveGeneral")))}})}async saveAllShortcuts(s){return await this.ensureDB(),new Promise((r,u)=>{if(!this.db){u(new Error("Database not initialized"));return}const m=this.db.transaction([Jn],"readwrite").objectStore(Jn),f=m.clear();f.onsuccess=()=>{const p=[];Object.values(s).forEach(v=>{p.push(new Promise((b,_)=>{const y=m.add(v);y.onsuccess=()=>b(),y.onerror=()=>_(new Error(Ge.t("settings.shortcuts.failedToSave")+` ${v.id}`))}))}),Promise.all(p).then(()=>r()).catch(u)},f.onerror=()=>{u(new Error("Failed to clear existing shortcuts"))}})}async resetToDefaults(){await this.saveAllShortcuts(rs)}async deleteShortcut(s){return await this.ensureDB(),new Promise((r,u)=>{if(!this.db){u(new Error("Database not initialized"));return}const f=this.db.transaction([Jn],"readwrite").objectStore(Jn).delete(s);f.onsuccess=()=>{r()},f.onerror=()=>{u(new Error("Failed to delete shortcut"))}})}async isShortcutConflict(s,r){const u=await this.getAllShortcuts();return Object.values(u).some(d=>r&&d.id===r?!1:d.key===s.key&&(d.ctrlKey||!1)===(s.ctrlKey||!1)&&(d.altKey||!1)===(s.altKey||!1)&&(d.shiftKey||!1)===(s.shiftKey||!1))}}const xl=new QT;function Ph(l){const s=[];l.ctrlKey&&s.push("Ctrl"),l.altKey&&s.push("Alt"),l.shiftKey&&s.push("Shift");let r=l.key;return r===" "?r="Space":r==="ArrowUp"?r="":r==="ArrowDown"?r="":r==="ArrowLeft"?r="":r==="ArrowRight"?r="":r.length===1&&(r=r.toUpperCase()),s.push(r),s.join(" + ")}function ZT(l){return{key:l.key,ctrlKey:l.ctrlKey||void 0,altKey:l.altKey||void 0,shiftKey:l.shiftKey||void 0}}const KT="_container_1711m_1",JT="_sheetContent_1711m_14",WT="_settingsContent_1711m_21",eC="_section_1711m_28",tC="_sectionHeader_1711m_40",nC="_sectionIcon_1711m_50",aC="_sectionTitle_1711m_57",lC="_settingItem_1711m_65",sC="_settingLabel_1711m_84",iC="_settingInfo_1711m_98",rC="_settingDescription_1711m_111",oC="_settingValue_1711m_118",cC="_slider_1711m_126",uC="_resetButton_1711m_143",dC="_shortcutConfigPanel_1711m_264",fC="_shortcutConfigList_1711m_268",mC="_shortcutConfigItem_1711m_274",hC="_shortcutConfigLabel_1711m_291",gC="_shortcutConfigKey_1711m_298",yC="_shortcutConfigInput_1711m_316",pC="_shortcutConflict_1711m_337",ne={container:KT,sheetContent:JT,settingsContent:WT,section:eC,sectionHeader:tC,sectionIcon:nC,sectionTitle:aC,settingItem:lC,settingLabel:sC,settingInfo:iC,settingDescription:rC,settingValue:oC,slider:cC,resetButton:uC,shortcutConfigPanel:dC,shortcutConfigList:fC,shortcutConfigItem:mC,shortcutConfigLabel:hC,shortcutConfigKey:gC,shortcutConfigInput:yC,shortcutConflict:pC},vC=({onShortcutsChanged:l})=>{const{t:s}=Bt(),[r,u]=g.useState({}),[d,m]=g.useState({}),[f,p]=g.useState(null),[v,b]=g.useState({}),[_,y]=g.useState(null);g.useEffect(()=>{xl.getAllShortcuts().then(V=>{u(V),m({...rs,...V})})},[]);const x=V=>{p(V),b(r[V]||{}),y(null)},E=V=>{V.preventDefault(),V.stopPropagation();const q=ZT(V.nativeEvent);b({...r[f],...q})},P=()=>!v||!v.key?s("settings.shortcuts.pressKey"):Ph(v),A=async()=>{if(!f||!v.key)return;const V=r[f]||d[f];if(!V){y(s("settings.shortcuts.unableToFindConfig"));return}const q={...V,...v,id:f};if(await xl.isShortcutConflict(q,f)){y(s("settings.shortcuts.conflict"));return}try{await xl.saveShortcut(q);const G=await xl.getAllShortcuts();u(G),m({...rs,...G}),p(null),b({}),y(null),l?.()}catch(G){console.error("Failed to save shortcut:",G),y(G instanceof Error?G.message:s("settings.shortcuts.failedToSaveGeneral"))}},L=()=>{p(null),b({}),y(null)};return c.jsxs("div",{className:ne.shortcutConfigPanel,children:[c.jsx("h4",{children:s("settings.shortcuts.title")}),c.jsx("div",{className:ne.shortcutConfigList,children:Object.keys(d).length>0&&Object.values(d).map(V=>!V||!V.id?null:c.jsxs("div",{className:ne.shortcutConfigItem,children:[c.jsx("span",{className:ne.shortcutConfigLabel,children:s(V.description)}),f===V.id?c.jsxs(c.Fragment,{children:[c.jsx("input",{autoFocus:!0,readOnly:!0,className:ne.shortcutConfigInput,value:P(),onKeyDown:E,placeholder:s("settings.shortcuts.pressNewKey"),style:{width:120}}),c.jsx(de,{size:"sm",onClick:A,title:s("settings.shortcuts.saveShortcut"),children:c.jsx(te,{name:"save",size:16,decorative:!0})}),c.jsx(de,{size:"sm",onClick:L,title:s("common.cancel"),children:c.jsx(te,{name:"close",size:16,decorative:!0})}),_&&c.jsx("span",{className:ne.shortcutConflict,children:_})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:ne.shortcutConfigKey,children:Ph(V)}),c.jsx(de,{size:"sm",onClick:()=>x(V.id),title:s("settings.shortcuts.editShortcut"),children:c.jsx(te,{name:"pencil",size:16,decorative:!0})})]})]},V.id))})]})},bC=""+new URL("MurderDrones-DBj3e7mu.jpg",import.meta.url).href,SC=Object.freeze(Object.defineProperty({__proto__:null,default:bC},Symbol.toStringTag,{value:"Module"})),Fv=g.createContext({themes:[],currentTheme:null,isLoading:!1,error:null,setTheme:async()=>{}});let Gh=[];const xu=Object.assign({"../themes/Themes/50Shades/50Shades.theme.css":()=>ke(()=>import("./50Shades.theme-CZFrAgS4.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Aurora/Aurora.theme.css":()=>ke(()=>import("./Aurora.theme-B0-ZgZKa.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/BlackHole/BlackHole.theme.css":()=>ke(()=>import("./BlackHole.theme-CLcFi2E-.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Blue/Blue.theme.css":()=>ke(()=>import("./Blue.theme-BLbX3FDz.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/CottonCandy/CottonCandy.theme.css":()=>ke(()=>import("./CottonCandy.theme-CtW3Qsme.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Cyberpunk/Cyberpunk.theme.css":()=>ke(()=>import("./Cyberpunk.theme-ek3mdeJ-.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Forest/Forest.theme.css":()=>ke(()=>import("./Forest.theme-BsQodKum.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Frosty/Frosty.theme.css":()=>ke(()=>import("./Frosty.theme-FOkKpPNg.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Lumenis/Lumenis.theme.css":()=>ke(()=>import("./Lumenis.theme-KvkxCsbO.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/LunarEclipse/LunarEclipse.theme.css":()=>ke(()=>import("./LunarEclipse.theme-ydxJHfSb.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Mirage/Mirage.theme.css":()=>ke(()=>import("./Mirage.theme-ClgazwCT.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Monochrome/Monochrome.theme.css":()=>ke(()=>import("./Monochrome.theme-CmCC--0u.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/MurderDrones/Drones.theme.css":()=>ke(()=>import("./Drones.theme-DoGhqShd.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Nebula/Nebula.theme.css":()=>ke(()=>import("./Nebula.theme-2f5e1esc.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/NorthernLights/NorthernLights.theme.css":()=>ke(()=>import("./NorthernLights.theme-DxE1tbxx.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Obsidian/Obsidian.theme.css":()=>ke(()=>import("./Obsidian.theme-6hkJgGyO.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Ocean/Ocean.theme.css":()=>ke(()=>import("./Ocean.theme-Cb8QJOC6.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Orange/Orange.theme.css":()=>ke(()=>import("./Orange.theme-Bcainte4.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Rainbow/Rainbow.theme.css":()=>ke(()=>import("./Rainbow.theme-DJB_dP19.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Red/Red.theme.css":()=>ke(()=>import("./Red.theme-BU-WfGS3.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Sakura/Sakura.theme.css":()=>ke(()=>import("./Sakura.theme-CIsTmY2M.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/SolarEclipse/SolarEclipse.theme.css":()=>ke(()=>import("./SolarEclipse.theme-RGmKV3e3.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/StellarGlow/StellarGlow.theme.css":()=>ke(()=>import("./StellarGlow.theme-D_hXsr3I.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Sun/Sun.theme.css":()=>ke(()=>import("./Sun.theme-C6vrqN_B.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Terracotta/Terracotta.theme.css":()=>ke(()=>import("./Terracotta.theme-DX_608l-.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Twilight/Twilight.theme.css":()=>ke(()=>import("./Twilight.theme-BjGCat8L.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Verdant/Verdant.theme.css":()=>ke(()=>import("./Verdant.theme-CQ1TDiy1.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Win95/Win95.theme.css":()=>ke(()=>import("./Win95.theme-BqrvYfBm.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Yellow/Yellow.theme.css":()=>ke(()=>import("./Yellow.theme-aTkwG5K4.js"),[],import.meta.url).then(l=>l.default)}),_C=Object.assign({"../themes/Themes/MurderDrones/MurderDrones.jpg":SC}),xC=({defaultTheme:l,children:s,onThemeChange:r})=>{const[u,d]=g.useState([]),[m,f]=g.useState(null),[p,v]=g.useState(!0),[b,_]=g.useState(null),y=(A,L)=>{if(!A||typeof A!="object")return console.warn(`Theme file ${L}: Invalid metadata format`),null;if(A.icons&&!A.cssFile&&!A.name)return null;const V=["name","author","description","version","cssFile"];for(const q of V)if(!A[q]||typeof A[q]!="string")return console.warn(`Theme file ${L}: Missing or invalid field "${q}"`),null;return A};g.useEffect(()=>{(async()=>{try{v(!0),_(null);const L=[],V=await Mx();for(const[G,R]of V.entries()){const T=y(R,G);T&&(Object.keys(xu).some(O=>O.endsWith(T.cssFile))?L.push(T):console.warn(`Theme "${T.name}": CSS file "${T.cssFile}" not found`))}if(L.length===0)throw new Error("No valid themes found");d(L),Gh=L;const q=localStorage.getItem("selected-color-theme")||l,j=L.find(G=>G.name===q)||L.find(G=>G.name===l)||L[0];j&&(await x(j),setTimeout(()=>{Du()},300))}catch(L){const V=L instanceof Error?L.message:"Failed to load themes";_(V),console.error("Theme loading error:",L)}finally{v(!1)}})()},[l]);const x=g.useCallback(async A=>{try{const L=Object.keys(xu).find(O=>O.endsWith(A.cssFile));if(!L)throw new Error(`CSS file not found: ${A.cssFile}`);document.querySelectorAll('style[id^="theme-stylesheet"], link[id^="theme-stylesheet"]').forEach(O=>O.remove());const q=await xu[L]();if(!q||typeof q!="string")throw new Error(`Invalid CSS content for ${L}: ${typeof q}`);let j=q;const G=L.replace(/\/[^\/]+$/,"");j=j.replace(/url\(['"]?([^'"\)]+)['"]?\)/g,(O,B)=>{if(B.startsWith("data:")||B.startsWith("http")||B.startsWith("/"))return O;const N=`${G}/${B}`,U=_C[N];return U?`url('${U.default}')`:(console.warn(`Image not found in imports: ${N}`),O)}),console.log("Theme loaded");const R=document.createElement("style");R.id=`theme-stylesheet-${A.name}`,R.textContent=j,await new Promise(O=>requestAnimationFrame(()=>setTimeout(O,50))),document.head.appendChild(R),await new Promise(O=>{requestAnimationFrame(()=>{document.documentElement.offsetHeight,setTimeout(O,100)})}),f(A),localStorage.setItem("selected-color-theme",A.name),r?.(A),_(null),console.log(`Successfully applied theme: ${A.name}`);const T=getComputedStyle(document.documentElement).getPropertyValue("--themecolor2").trim();let w=document.querySelector('meta[name="theme-color"]');w||(w=document.createElement("meta"),w.name="theme-color",document.head.appendChild(w)),w.content=T,setTimeout(()=>{Du()},200)}catch(L){const V=L instanceof Error?L.message:"Failed to apply theme";throw _(V),console.error("Theme application error:",L),L}},[r]),E=g.useCallback(async A=>{const L=u.find(V=>V.name===A);if(!L)throw new Error(`Theme "${A}" not found`);await x(L)},[u,x]),P={themes:u,currentTheme:m,isLoading:p,error:b,setTheme:E};return g.useEffect(()=>{typeof window<"u"&&(window.themeLoader={getAllThemes:()=>Gh,getCurrentTheme:()=>m,setTheme:E})},[u,m,E]),c.jsx(Fv.Provider,{value:P,children:s})},TC=()=>{const l=g.useContext(Fv);if(!l)throw new Error("useThemeLoader must be used within a ThemeProvider");return l},Hr={en:"English",fr:"Franais"},CC=({className:l,open:s,onOpenChange:r,settings:u,onSettingsChange:d,onShortcutsChanged:m})=>{const{t:f,i18n:p}=Bt(),v=g.useRef(u.crossfadeBeforeGapless??u.crossfade),{themes:b,currentTheme:_,setTheme:y}=TC(),{iconSets:x,currentSet:E,setIconSet:P}=Nv(),A=Vu(),L=async()=>{const T="Blue";try{await y(T),d({volume:.75,crossfade:3,crossfadeBeforeGapless:void 0,defaultShuffle:!1,defaultRepeat:"off",autoPlayNext:!0,compactMode:!1,showAlbumArt:!0,showLyrics:!1,sessionRestore:!0,gaplessPlayback:!0,smartShuffle:!0,colorTheme:T,language:"English",tempo:1,pitch:0,discordEnabled:!1,discordUserId:void 0})}catch{he.error(f("settings.resetError"))}},V=T=>{d({volume:T[0]/100})},q=T=>{if(u.gaplessPlayback)return;const w=T[0];v.current=w,d({crossfade:w,crossfadeBeforeGapless:void 0})};let j=[];Array.isArray(p.options.supportedLngs)&&(j=p.options.supportedLngs.filter(T=>T!=="cimode"));const G=T=>{p.changeLanguage(T),he.success(f("settings.interface.languageSet",{language:Hr[T]||T}))},R=async()=>{try{if("caches"in window){const T=await caches.keys();await Promise.all(T.map(w=>caches.delete(w)))}p.services.resourceStore&&Object.keys(p.services.resourceStore.data).forEach(T=>{p.services.resourceStore.data[T]={}}),await p.reloadResources(),he.success(f("settings.cacheClearedSuccess"))}catch(T){console.error("Failed to clear cache:",T),he.error(f("settings.cacheClearedError"))}};return c.jsx("div",{className:`${ne.container} ${l||""}`,children:c.jsx($x,{open:s,onOpenChange:r,children:c.jsxs(Mv,{side:"left",className:ne.sheetContent,children:[c.jsxs(zv,{children:[c.jsx(Rv,{children:f("settings.title")}),c.jsx(Lv,{children:f("settings.description")})]}),c.jsxs("div",{className:ne.settingsContent,children:[c.jsxs("section",{className:ne.section,children:[c.jsxs("div",{className:ne.sectionHeader,children:[c.jsx(te,{name:"volume2",className:ne.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ne.sectionTitle,children:f("settings.audio.title")})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingLabel,children:[c.jsx("label",{htmlFor:"tempo-slider",children:f("settings.playback.tempo")}),c.jsxs("span",{className:ne.settingValue,children:[Math.round(u.tempo*100),"%"]})]}),c.jsx(di,{id:"tempo-slider",value:[u.tempo*100],onValueChange:T=>{let w=T[0];Math.abs(w-100)<=3&&(w=100),d({tempo:w/100})},min:50,max:150,step:1,className:ne.slider})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingLabel,children:[c.jsx("label",{htmlFor:"pitch-slider",children:f("settings.playback.pitch")}),c.jsx("span",{className:ne.settingValue,children:(u.pitch??0)===0?"0":(u.pitch??0)>0?`+${u.pitch??0}`:u.pitch??0})]}),c.jsx(di,{id:"pitch-slider",value:[u.pitch??0],onValueChange:T=>{let w=T[0];Math.abs(w)<=.5&&(w=0),d({pitch:w})},min:-12,max:12,step:1,className:ne.slider})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingLabel,children:[c.jsx("label",{htmlFor:"volume-slider",children:f("player.volume")}),c.jsxs("span",{className:ne.settingValue,children:[Math.round(u.volume*100),"%"]})]}),c.jsx(di,{id:"volume-slider",value:[Math.round(u.volume*100)],onValueChange:V,max:100,step:1,className:ne.slider})]}),!A&&c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingLabel,children:[c.jsxs("label",{htmlFor:"crossfade-slider",children:[f("settings.audio.crossfade"),u.gaplessPlayback&&c.jsxs("span",{className:ne.settingDescription,children:[" ","(",f("settings.audio.crossfadeDisabled"),")"]})]}),c.jsx("span",{className:ne.settingValue,children:u.gaplessPlayback?"0s":`${u.crossfade}s`})]}),c.jsx(di,{id:"crossfade-slider",value:u.gaplessPlayback?[0]:[u.crossfade],onValueChange:q,max:10,step:1,className:ne.slider,disabled:u.gaplessPlayback})]}),!A&&c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"gapless-playback",children:f("settings.playback.gapless")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.playback.gaplessDesc")})]}),c.jsx(Un,{id:"gapless-playback",checked:u.gaplessPlayback,onCheckedChange:T=>{if(T){const w=u.crossfade;v.current=w,d({gaplessPlayback:T,crossfade:0,crossfadeBeforeGapless:w})}else{const w=u.crossfadeBeforeGapless??v.current;d({gaplessPlayback:T,crossfade:w,crossfadeBeforeGapless:void 0})}}})]})]}),c.jsxs("section",{className:ne.section,children:[c.jsxs("div",{className:ne.sectionHeader,children:[c.jsx(te,{name:"music",className:ne.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ne.sectionTitle,children:f("settings.playback.title")})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"default-shuffle",children:f("settings.playback.shuffle")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.playback.shuffleDesc")})]}),c.jsx(Un,{id:"default-shuffle",checked:u.defaultShuffle,onCheckedChange:T=>d({defaultShuffle:T})})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"smart-shuffle",children:f("settings.playback.smartShuffle")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.playback.smartShuffleDesc")})]}),c.jsx(Un,{id:"smart-shuffle",checked:u.smartShuffle,onCheckedChange:T=>d({smartShuffle:T})})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsx("div",{className:ne.settingLabel,children:c.jsx("label",{htmlFor:"default-repeat",children:f("settings.playback.repeat")})}),c.jsxs(Ur,{value:u.defaultRepeat,onValueChange:T=>d({defaultRepeat:T}),children:[c.jsx(fi,{id:"default-repeat",children:c.jsx($r,{})}),c.jsxs(mi,{children:[c.jsx(_l,{value:"off",children:f("player.repeatOff")}),c.jsx(_l,{value:"one",children:f("player.repeatTrack")}),c.jsx(_l,{value:"all",children:f("player.repeatAll")})]})]})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"auto-play-next",children:f("settings.playback.autoPlay")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.playback.autoPlayDesc")})]}),c.jsx(Un,{id:"auto-play-next",checked:u.autoPlayNext,onCheckedChange:T=>d({autoPlayNext:T})})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"session-restore",children:f("settings.playback.sessionRestore")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.playback.sessionRestoreDesc")})]}),c.jsx(Un,{id:"session-restore",checked:u.sessionRestore,onCheckedChange:T=>d({sessionRestore:T})})]})]}),c.jsxs("section",{className:ne.section,children:[c.jsxs("div",{className:ne.sectionHeader,children:[c.jsx(te,{name:"palette",className:ne.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ne.sectionTitle,children:f("settings.interface.title")})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsx("div",{className:ne.settingLabel,children:c.jsx("label",{htmlFor:"color-theme",children:f("settings.interface.colorTheme")})}),c.jsxs(Ur,{value:_?.name||u.colorTheme,onValueChange:async T=>{try{await y(T),d({colorTheme:T})}catch{he.error(f("settings.themeError"))}},children:[c.jsx(fi,{id:"color-theme",children:c.jsx($r,{})}),c.jsx(mi,{children:b.map(T=>c.jsx(_l,{value:T.name,children:T.name},T.name))})]})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingLabel,children:[c.jsx("label",{htmlFor:"icon-set",children:f("settings.interface.iconSet")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.interface.iconSetDesc")})]}),c.jsxs(Ur,{value:E?.id||"blue",onValueChange:T=>{try{P(T),he.success(f("settings.interface.iconSetChanged"))}catch{he.error(f("settings.interface.iconSetError"))}},children:[c.jsx(fi,{id:"icon-set",children:c.jsx($r,{})}),c.jsx(mi,{children:x.map(T=>c.jsx(_l,{value:T.id,children:T.label},T.id))})]})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{children:f("settings.interface.themeMode")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.interface.themeModeDesc")})]}),c.jsx(PT,{value:u.themeMode,onChange:T=>d({themeMode:T})})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"compact-mode",children:f("settings.interface.compact")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.interface.compactDesc")})]}),c.jsx(Un,{id:"compact-mode",checked:u.compactMode,onCheckedChange:T=>d({compactMode:T})})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"show-album-art",children:f("settings.interface.albumArt")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.interface.albumArtDesc")})]}),c.jsx(Un,{id:"show-album-art",checked:u.showAlbumArt,onCheckedChange:T=>d({showAlbumArt:T})})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"show-lyrics",children:f("settings.interface.lyrics")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.interface.lyricsDesc")})]}),c.jsx(Un,{id:"show-lyrics",checked:u.showLyrics,onCheckedChange:T=>d({showLyrics:T})})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingLabel,children:[c.jsx("label",{htmlFor:"language-selector",children:f("settings.interface.language")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.interface.languageDescription")})]}),c.jsxs(Ur,{value:p.language,onValueChange:G,children:[c.jsx(fi,{id:"language-selector",children:c.jsx($r,{children:Hr[p.language]||p.language.toUpperCase()})}),c.jsx(mi,{children:j.map(T=>c.jsx(_l,{value:T,children:Hr[T]||T.toUpperCase()},T))})]})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{children:f("settings.interface.clearCache")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.interface.clearCacheDesc")})]}),c.jsxs(de,{variant:"outline",onClick:R,size:"sm",children:[c.jsx(te,{name:"trash2",size:16,decorative:!0}),f("settings.interface.clearCacheButton")]})]})]}),c.jsxs("section",{className:ne.section,children:[c.jsxs("div",{className:ne.sectionHeader,children:[c.jsx(te,{name:"keyboard",className:ne.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ne.sectionTitle,children:f("settings.shortcuts.title")})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingLabel,children:[c.jsx("label",{children:f("settings.shortcuts.enabled")}),c.jsx("p",{className:ne.settingDescription,children:f("settings.shortcuts.enabledDesc")})]}),c.jsx(Un,{id:"shortcuts-enabled",checked:!0,onCheckedChange:()=>{}})]}),c.jsx(vC,{onShortcutsChanged:m})]}),c.jsxs("section",{className:ne.section,children:[c.jsxs("div",{className:ne.sectionHeader,children:[c.jsx(te,{name:"messageCircle",className:ne.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ne.sectionTitle,children:"Integrations"})]}),c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"discord-enabled",children:"Enable Discord Integration (Broken Beta)"}),c.jsx("p",{className:ne.settingDescription,children:"Note: Discord's RPC API requires special approval. Currently logs track info for testing."})]}),c.jsx(Un,{id:"discord-enabled",checked:u.discordEnabled||!1,onCheckedChange:T=>d({discordEnabled:T})})]}),u.discordEnabled&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{children:f("discord.connection")}),c.jsx("p",{className:ne.settingDescription,children:u.discordUserId?f("discord.connected",{userId:u.discordUserId}):f("discord.notConnected")})]}),c.jsx(de,{variant:u.discordUserId?"outline":"primary",onClick:()=>{u.discordUserId?(d({discordUserId:void 0}),he.success(f("discord.disconnected"))):(window.open("https://discord.com/oauth2/authorize?client_id=1419480226970341476&response_type=code&redirect_uri=https%3A%2F%2Fhtmlplayer-backend.onrender.com%2Foauth%2Fcallback&scope=identify%20rpc.activities.write","_blank"),he.info(f("discord.completeAuth")))},children:u.discordUserId?f("discord.disconnect"):f("discord.connect")})]}),!u.discordUserId&&c.jsxs("div",{className:ne.settingItem,children:[c.jsxs("div",{className:ne.settingInfo,children:[c.jsx("label",{htmlFor:"discord-user-id",children:f("discord.manualUserId")}),c.jsx("p",{className:ne.settingDescription,children:f("discord.manualUserIdDescription")})]}),c.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[c.jsx(Ja,{id:"discord-user-id",type:"text",placeholder:f("discord.userId"),onKeyDown:T=>{if(T.key==="Enter"){const w=T.target;w.value.trim()&&(d({discordUserId:w.value.trim()}),he.success(f("discord.userIdSaved")),w.value="")}}}),c.jsx(de,{size:"sm",onClick:T=>{const w=T.target.previousElementSibling;w&&w.value.trim()&&(d({discordUserId:w.value.trim()}),he.success(f("discord.userIdSaved")),w.value="")},children:f("common.save")})]})]})]})]})]}),c.jsx(Ov,{children:c.jsxs(de,{variant:"outline",onClick:L,className:ne.resetButton,children:[c.jsx(te,{name:"rotateCcw",size:16,decorative:!0}),f("settings.reset")]})})]})})})},jC="_backdrop_1f5jf_2",wC="_modal_1f5jf_14",EC="_dismissButton_1f5jf_34",AC="_dismissIcon_1f5jf_64",NC="_headerSection_1f5jf_69",DC="_footerSection_1f5jf_73",MC="_modalTitle_1f5jf_80",zC="_modalDescription_1f5jf_89",OC="_spaceY4_1f5jf_97",RC="_spaceY2_1f5jf_101",LC="_flex_1f5jf_105",kC="_gap2_1f5jf_109",BC="_visuallyHidden_1f5jf_125",Pe={backdrop:jC,modal:wC,dismissButton:EC,dismissIcon:AC,headerSection:NC,footerSection:DC,modalTitle:MC,modalDescription:zC,spaceY4:OC,spaceY2:RC,flex:LC,gap2:kC,"w-full":"_w-full_1f5jf_117","justify-start":"_justify-start_1f5jf_121",visuallyHidden:BC},$n=xg,UC=Sg,Yv=g.forwardRef((l,s)=>{const{className:r,...u}=l;return c.jsx(Qr,{ref:s,className:[Pe.backdrop,r].filter(Boolean).join(" "),...u})});Yv.displayName=Qr.displayName;const Dn=g.forwardRef((l,s)=>{const{className:r,children:u,...d}=l,{t:m}=Bt();return c.jsxs(UC,{children:[c.jsx(Yv,{}),c.jsxs(Zr,{ref:s,className:[Pe.modal,r].filter(Boolean).join(" "),...d,children:[u,c.jsxs(_g,{className:Pe.dismissButton,children:[c.jsx(te,{name:"close",className:Pe.dismissIcon,size:"1rem",decorative:!0}),c.jsx("span",{className:Pe.visuallyHidden,children:m("common.close")})]})]})]})});Dn.displayName=Zr.displayName;const Mn=l=>{const{className:s,...r}=l;return c.jsx("div",{className:[Pe.headerSection,s].filter(Boolean).join(" "),...r})};Mn.displayName="DialogHeader";const ea=l=>{const{className:s,...r}=l;return c.jsx("div",{className:[Pe.footerSection,s].filter(Boolean).join(" "),...r})};ea.displayName="DialogFooter";const zn=g.forwardRef((l,s)=>{const{className:r,...u}=l;return c.jsx(Kr,{ref:s,className:[Pe.modalTitle,r].filter(Boolean).join(" "),...u})});zn.displayName=Kr.displayName;const Hn=g.forwardRef((l,s)=>{const{className:r,...u}=l;return c.jsx(Jr,{ref:s,className:[Pe.modalDescription,r].filter(Boolean).join(" "),...u})});Hn.displayName=Jr.displayName;const eo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fs(l){const s=Object.prototype.toString.call(l);return s==="[object Window]"||s==="[object global]"}function Iu(l){return"nodeType"in l}function tn(l){var s,r;return l?fs(l)?l:Iu(l)&&(s=(r=l.ownerDocument)==null?void 0:r.defaultView)!=null?s:window:window}function Fu(l){const{Document:s}=tn(l);return l instanceof s}function Ti(l){return fs(l)?!1:l instanceof tn(l).HTMLElement}function Pv(l){return l instanceof tn(l).SVGElement}function ms(l){return l?fs(l)?l.document:Iu(l)?Fu(l)?l:Ti(l)||Pv(l)?l.ownerDocument:document:document:document}const xa=eo?g.useLayoutEffect:g.useEffect;function to(l){const s=g.useRef(l);return xa(()=>{s.current=l}),g.useCallback(function(){for(var r=arguments.length,u=new Array(r),d=0;d<r;d++)u[d]=arguments[d];return s.current==null?void 0:s.current(...u)},[])}function $C(){const l=g.useRef(null),s=g.useCallback((u,d)=>{l.current=setInterval(u,d)},[]),r=g.useCallback(()=>{l.current!==null&&(clearInterval(l.current),l.current=null)},[]);return[s,r]}function bi(l,s){s===void 0&&(s=[l]);const r=g.useRef(l);return xa(()=>{r.current!==l&&(r.current=l)},s),r}function Ci(l,s){const r=g.useRef();return g.useMemo(()=>{const u=l(r.current);return r.current=u,u},[...s])}function qr(l){const s=to(l),r=g.useRef(null),u=g.useCallback(d=>{d!==r.current&&s?.(d,r.current),r.current=d},[]);return[r,u]}function Ir(l){const s=g.useRef();return g.useEffect(()=>{s.current=l},[l]),s.current}let Tu={};function no(l,s){return g.useMemo(()=>{if(s)return s;const r=Tu[l]==null?0:Tu[l]+1;return Tu[l]=r,l+"-"+r},[l,s])}function Gv(l){return function(s){for(var r=arguments.length,u=new Array(r>1?r-1:0),d=1;d<r;d++)u[d-1]=arguments[d];return u.reduce((m,f)=>{const p=Object.entries(f);for(const[v,b]of p){const _=m[v];_!=null&&(m[v]=_+l*b)}return m},{...s})}}const ds=Gv(1),Si=Gv(-1);function HC(l){return"clientX"in l&&"clientY"in l}function Yu(l){if(!l)return!1;const{KeyboardEvent:s}=tn(l.target);return s&&l instanceof s}function VC(l){if(!l)return!1;const{TouchEvent:s}=tn(l.target);return s&&l instanceof s}function Fr(l){if(VC(l)){if(l.touches&&l.touches.length){const{clientX:s,clientY:r}=l.touches[0];return{x:s,y:r}}else if(l.changedTouches&&l.changedTouches.length){const{clientX:s,clientY:r}=l.changedTouches[0];return{x:s,y:r}}}return HC(l)?{x:l.clientX,y:l.clientY}:null}const _i=Object.freeze({Translate:{toString(l){if(!l)return;const{x:s,y:r}=l;return"translate3d("+(s?Math.round(s):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(l){if(!l)return;const{scaleX:s,scaleY:r}=l;return"scaleX("+s+") scaleY("+r+")"}},Transform:{toString(l){if(l)return[_i.Translate.toString(l),_i.Scale.toString(l)].join(" ")}},Transition:{toString(l){let{property:s,duration:r,easing:u}=l;return s+" "+r+"ms "+u}}}),Xh="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function qC(l){return l.matches(Xh)?l:l.querySelector(Xh)}const IC={display:"none"};function FC(l){let{id:s,value:r}=l;return Je.createElement("div",{id:s,style:IC},r)}function YC(l){let{id:s,announcement:r,ariaLiveType:u="assertive"}=l;const d={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Je.createElement("div",{id:s,style:d,role:"status","aria-live":u,"aria-atomic":!0},r)}function PC(){const[l,s]=g.useState("");return{announce:g.useCallback(u=>{u!=null&&s(u)},[]),announcement:l}}const Xv=g.createContext(null);function GC(l){const s=g.useContext(Xv);g.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(l)},[l,s])}function XC(){const[l]=g.useState(()=>new Set),s=g.useCallback(u=>(l.add(u),()=>l.delete(u)),[l]);return[g.useCallback(u=>{let{type:d,event:m}=u;l.forEach(f=>{var p;return(p=f[d])==null?void 0:p.call(f,m)})},[l]),s]}const QC={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ZC={onDragStart(l){let{active:s}=l;return"Picked up draggable item "+s.id+"."},onDragOver(l){let{active:s,over:r}=l;return r?"Draggable item "+s.id+" was moved over droppable area "+r.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(l){let{active:s,over:r}=l;return r?"Draggable item "+s.id+" was dropped over droppable area "+r.id:"Draggable item "+s.id+" was dropped."},onDragCancel(l){let{active:s}=l;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function KC(l){let{announcements:s=ZC,container:r,hiddenTextDescribedById:u,screenReaderInstructions:d=QC}=l;const{announce:m,announcement:f}=PC(),p=no("DndLiveRegion"),[v,b]=g.useState(!1);if(g.useEffect(()=>{b(!0)},[]),GC(g.useMemo(()=>({onDragStart(y){let{active:x}=y;m(s.onDragStart({active:x}))},onDragMove(y){let{active:x,over:E}=y;s.onDragMove&&m(s.onDragMove({active:x,over:E}))},onDragOver(y){let{active:x,over:E}=y;m(s.onDragOver({active:x,over:E}))},onDragEnd(y){let{active:x,over:E}=y;m(s.onDragEnd({active:x,over:E}))},onDragCancel(y){let{active:x,over:E}=y;m(s.onDragCancel({active:x,over:E}))}}),[m,s])),!v)return null;const _=Je.createElement(Je.Fragment,null,Je.createElement(FC,{id:u,value:d.draggable}),Je.createElement(YC,{id:p,announcement:f}));return r?ui.createPortal(_,r):_}var kt;(function(l){l.DragStart="dragStart",l.DragMove="dragMove",l.DragEnd="dragEnd",l.DragCancel="dragCancel",l.DragOver="dragOver",l.RegisterDroppable="registerDroppable",l.SetDroppableDisabled="setDroppableDisabled",l.UnregisterDroppable="unregisterDroppable"})(kt||(kt={}));function Yr(){}function Qh(l,s){return g.useMemo(()=>({sensor:l,options:s??{}}),[l,s])}function JC(){for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return g.useMemo(()=>[...s].filter(u=>u!=null),[...s])}const Vn=Object.freeze({x:0,y:0});function Pu(l,s){return Math.sqrt(Math.pow(l.x-s.x,2)+Math.pow(l.y-s.y,2))}function WC(l,s){const r=Fr(l);if(!r)return"0 0";const u={x:(r.x-s.left)/s.width*100,y:(r.y-s.top)/s.height*100};return u.x+"% "+u.y+"%"}function Gu(l,s){let{data:{value:r}}=l,{data:{value:u}}=s;return r-u}function ej(l,s){let{data:{value:r}}=l,{data:{value:u}}=s;return u-r}function Mu(l){let{left:s,top:r,height:u,width:d}=l;return[{x:s,y:r},{x:s+d,y:r},{x:s,y:r+u},{x:s+d,y:r+u}]}function Qv(l,s){if(!l||l.length===0)return null;const[r]=l;return r[s]}function Zh(l,s,r){return s===void 0&&(s=l.left),r===void 0&&(r=l.top),{x:s+l.width*.5,y:r+l.height*.5}}const tj=l=>{let{collisionRect:s,droppableRects:r,droppableContainers:u}=l;const d=Zh(s,s.left,s.top),m=[];for(const f of u){const{id:p}=f,v=r.get(p);if(v){const b=Pu(Zh(v),d);m.push({id:p,data:{droppableContainer:f,value:b}})}}return m.sort(Gu)},nj=l=>{let{collisionRect:s,droppableRects:r,droppableContainers:u}=l;const d=Mu(s),m=[];for(const f of u){const{id:p}=f,v=r.get(p);if(v){const b=Mu(v),_=d.reduce((x,E,P)=>x+Pu(b[P],E),0),y=Number((_/4).toFixed(4));m.push({id:p,data:{droppableContainer:f,value:y}})}}return m.sort(Gu)};function aj(l,s){const r=Math.max(s.top,l.top),u=Math.max(s.left,l.left),d=Math.min(s.left+s.width,l.left+l.width),m=Math.min(s.top+s.height,l.top+l.height),f=d-u,p=m-r;if(u<d&&r<m){const v=s.width*s.height,b=l.width*l.height,_=f*p,y=_/(v+b-_);return Number(y.toFixed(4))}return 0}const lj=l=>{let{collisionRect:s,droppableRects:r,droppableContainers:u}=l;const d=[];for(const m of u){const{id:f}=m,p=r.get(f);if(p){const v=aj(p,s);v>0&&d.push({id:f,data:{droppableContainer:m,value:v}})}}return d.sort(ej)};function sj(l,s){const{top:r,left:u,bottom:d,right:m}=s;return r<=l.y&&l.y<=d&&u<=l.x&&l.x<=m}const ij=l=>{let{droppableContainers:s,droppableRects:r,pointerCoordinates:u}=l;if(!u)return[];const d=[];for(const m of s){const{id:f}=m,p=r.get(f);if(p&&sj(u,p)){const b=Mu(p).reduce((y,x)=>y+Pu(u,x),0),_=Number((b/4).toFixed(4));d.push({id:f,data:{droppableContainer:m,value:_}})}}return d.sort(Gu)};function rj(l,s,r){return{...l,scaleX:s&&r?s.width/r.width:1,scaleY:s&&r?s.height/r.height:1}}function Zv(l,s){return l&&s?{x:l.left-s.left,y:l.top-s.top}:Vn}function oj(l){return function(r){for(var u=arguments.length,d=new Array(u>1?u-1:0),m=1;m<u;m++)d[m-1]=arguments[m];return d.reduce((f,p)=>({...f,top:f.top+l*p.y,bottom:f.bottom+l*p.y,left:f.left+l*p.x,right:f.right+l*p.x}),{...r})}}const cj=oj(1);function Kv(l){if(l.startsWith("matrix3d(")){const s=l.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}else if(l.startsWith("matrix(")){const s=l.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}function uj(l,s,r){const u=Kv(s);if(!u)return l;const{scaleX:d,scaleY:m,x:f,y:p}=u,v=l.left-f-(1-d)*parseFloat(r),b=l.top-p-(1-m)*parseFloat(r.slice(r.indexOf(" ")+1)),_=d?l.width/d:l.width,y=m?l.height/m:l.height;return{width:_,height:y,top:b,right:v+_,bottom:b+y,left:v}}const dj={ignoreTransform:!1};function ji(l,s){s===void 0&&(s=dj);let r=l.getBoundingClientRect();if(s.ignoreTransform){const{transform:b,transformOrigin:_}=tn(l).getComputedStyle(l);b&&(r=uj(r,b,_))}const{top:u,left:d,width:m,height:f,bottom:p,right:v}=r;return{top:u,left:d,width:m,height:f,bottom:p,right:v}}function Kh(l){return ji(l,{ignoreTransform:!0})}function fj(l){const s=l.innerWidth,r=l.innerHeight;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}function mj(l,s){return s===void 0&&(s=tn(l).getComputedStyle(l)),s.position==="fixed"}function hj(l,s){s===void 0&&(s=tn(l).getComputedStyle(l));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(d=>{const m=s[d];return typeof m=="string"?r.test(m):!1})}function ao(l,s){const r=[];function u(d){if(s!=null&&r.length>=s||!d)return r;if(Fu(d)&&d.scrollingElement!=null&&!r.includes(d.scrollingElement))return r.push(d.scrollingElement),r;if(!Ti(d)||Pv(d)||r.includes(d))return r;const m=tn(l).getComputedStyle(d);return d!==l&&hj(d,m)&&r.push(d),mj(d,m)?r:u(d.parentNode)}return l?u(l):r}function Jv(l){const[s]=ao(l,1);return s??null}function Cu(l){return!eo||!l?null:fs(l)?l:Iu(l)?Fu(l)||l===ms(l).scrollingElement?window:Ti(l)?l:null:null}function Wv(l){return fs(l)?l.scrollX:l.scrollLeft}function eb(l){return fs(l)?l.scrollY:l.scrollTop}function zu(l){return{x:Wv(l),y:eb(l)}}var It;(function(l){l[l.Forward=1]="Forward",l[l.Backward=-1]="Backward"})(It||(It={}));function tb(l){return!eo||!l?!1:l===document.scrollingElement}function nb(l){const s={x:0,y:0},r=tb(l)?{height:window.innerHeight,width:window.innerWidth}:{height:l.clientHeight,width:l.clientWidth},u={x:l.scrollWidth-r.width,y:l.scrollHeight-r.height},d=l.scrollTop<=s.y,m=l.scrollLeft<=s.x,f=l.scrollTop>=u.y,p=l.scrollLeft>=u.x;return{isTop:d,isLeft:m,isBottom:f,isRight:p,maxScroll:u,minScroll:s}}const gj={x:.2,y:.2};function yj(l,s,r,u,d){let{top:m,left:f,right:p,bottom:v}=r;u===void 0&&(u=10),d===void 0&&(d=gj);const{isTop:b,isBottom:_,isLeft:y,isRight:x}=nb(l),E={x:0,y:0},P={x:0,y:0},A={height:s.height*d.y,width:s.width*d.x};return!b&&m<=s.top+A.height?(E.y=It.Backward,P.y=u*Math.abs((s.top+A.height-m)/A.height)):!_&&v>=s.bottom-A.height&&(E.y=It.Forward,P.y=u*Math.abs((s.bottom-A.height-v)/A.height)),!x&&p>=s.right-A.width?(E.x=It.Forward,P.x=u*Math.abs((s.right-A.width-p)/A.width)):!y&&f<=s.left+A.width&&(E.x=It.Backward,P.x=u*Math.abs((s.left+A.width-f)/A.width)),{direction:E,speed:P}}function pj(l){if(l===document.scrollingElement){const{innerWidth:m,innerHeight:f}=window;return{top:0,left:0,right:m,bottom:f,width:m,height:f}}const{top:s,left:r,right:u,bottom:d}=l.getBoundingClientRect();return{top:s,left:r,right:u,bottom:d,width:l.clientWidth,height:l.clientHeight}}function ab(l){return l.reduce((s,r)=>ds(s,zu(r)),Vn)}function vj(l){return l.reduce((s,r)=>s+Wv(r),0)}function bj(l){return l.reduce((s,r)=>s+eb(r),0)}function lb(l,s){if(s===void 0&&(s=ji),!l)return;const{top:r,left:u,bottom:d,right:m}=s(l);Jv(l)&&(d<=0||m<=0||r>=window.innerHeight||u>=window.innerWidth)&&l.scrollIntoView({block:"center",inline:"center"})}const Sj=[["x",["left","right"],vj],["y",["top","bottom"],bj]];class Xu{constructor(s,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const u=ao(r),d=ab(u);this.rect={...s},this.width=s.width,this.height=s.height;for(const[m,f,p]of Sj)for(const v of f)Object.defineProperty(this,v,{get:()=>{const b=p(u),_=d[m]-b;return this.rect[v]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class hi{constructor(s){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var u;return(u=this.target)==null?void 0:u.removeEventListener(...r)})},this.target=s}add(s,r,u){var d;(d=this.target)==null||d.addEventListener(s,r,u),this.listeners.push([s,r,u])}}function _j(l){const{EventTarget:s}=tn(l);return l instanceof s?l:ms(l)}function ju(l,s){const r=Math.abs(l.x),u=Math.abs(l.y);return typeof s=="number"?Math.sqrt(r**2+u**2)>s:"x"in s&&"y"in s?r>s.x&&u>s.y:"x"in s?r>s.x:"y"in s?u>s.y:!1}var Nn;(function(l){l.Click="click",l.DragStart="dragstart",l.Keydown="keydown",l.ContextMenu="contextmenu",l.Resize="resize",l.SelectionChange="selectionchange",l.VisibilityChange="visibilitychange"})(Nn||(Nn={}));function Jh(l){l.preventDefault()}function xj(l){l.stopPropagation()}var Ve;(function(l){l.Space="Space",l.Down="ArrowDown",l.Right="ArrowRight",l.Left="ArrowLeft",l.Up="ArrowUp",l.Esc="Escape",l.Enter="Enter",l.Tab="Tab"})(Ve||(Ve={}));const sb={start:[Ve.Space,Ve.Enter],cancel:[Ve.Esc],end:[Ve.Space,Ve.Enter,Ve.Tab]},Tj=(l,s)=>{let{currentCoordinates:r}=s;switch(l.code){case Ve.Right:return{...r,x:r.x+25};case Ve.Left:return{...r,x:r.x-25};case Ve.Down:return{...r,y:r.y+25};case Ve.Up:return{...r,y:r.y-25}}};class Qu{constructor(s){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=s;const{event:{target:r}}=s;this.props=s,this.listeners=new hi(ms(r)),this.windowListeners=new hi(tn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Nn.Resize,this.handleCancel),this.windowListeners.add(Nn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Nn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:s,onStart:r}=this.props,u=s.node.current;u&&lb(u),r(Vn)}handleKeyDown(s){if(Yu(s)){const{active:r,context:u,options:d}=this.props,{keyboardCodes:m=sb,coordinateGetter:f=Tj,scrollBehavior:p="smooth"}=d,{code:v}=s;if(m.end.includes(v)){this.handleEnd(s);return}if(m.cancel.includes(v)){this.handleCancel(s);return}const{collisionRect:b}=u.current,_=b?{x:b.left,y:b.top}:Vn;this.referenceCoordinates||(this.referenceCoordinates=_);const y=f(s,{active:r,context:u.current,currentCoordinates:_});if(y){const x=Si(y,_),E={x:0,y:0},{scrollableAncestors:P}=u.current;for(const A of P){const L=s.code,{isTop:V,isRight:q,isLeft:j,isBottom:G,maxScroll:R,minScroll:T}=nb(A),w=pj(A),O={x:Math.min(L===Ve.Right?w.right-w.width/2:w.right,Math.max(L===Ve.Right?w.left:w.left+w.width/2,y.x)),y:Math.min(L===Ve.Down?w.bottom-w.height/2:w.bottom,Math.max(L===Ve.Down?w.top:w.top+w.height/2,y.y))},B=L===Ve.Right&&!q||L===Ve.Left&&!j,N=L===Ve.Down&&!G||L===Ve.Up&&!V;if(B&&O.x!==y.x){const U=A.scrollLeft+x.x,D=L===Ve.Right&&U<=R.x||L===Ve.Left&&U>=T.x;if(D&&!x.y){A.scrollTo({left:U,behavior:p});return}D?E.x=A.scrollLeft-U:E.x=L===Ve.Right?A.scrollLeft-R.x:A.scrollLeft-T.x,E.x&&A.scrollBy({left:-E.x,behavior:p});break}else if(N&&O.y!==y.y){const U=A.scrollTop+x.y,D=L===Ve.Down&&U<=R.y||L===Ve.Up&&U>=T.y;if(D&&!x.x){A.scrollTo({top:U,behavior:p});return}D?E.y=A.scrollTop-U:E.y=L===Ve.Down?A.scrollTop-R.y:A.scrollTop-T.y,E.y&&A.scrollBy({top:-E.y,behavior:p});break}}this.handleMove(s,ds(Si(y,this.referenceCoordinates),E))}}}handleMove(s,r){const{onMove:u}=this.props;s.preventDefault(),u(r)}handleEnd(s){const{onEnd:r}=this.props;s.preventDefault(),this.detach(),r()}handleCancel(s){const{onCancel:r}=this.props;s.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Qu.activators=[{eventName:"onKeyDown",handler:(l,s,r)=>{let{keyboardCodes:u=sb,onActivation:d}=s,{active:m}=r;const{code:f}=l.nativeEvent;if(u.start.includes(f)){const p=m.activatorNode.current;return p&&l.target!==p?!1:(l.preventDefault(),d?.({event:l.nativeEvent}),!0)}return!1}}];function Wh(l){return!!(l&&"distance"in l)}function eg(l){return!!(l&&"delay"in l)}class Zu{constructor(s,r,u){var d;u===void 0&&(u=_j(s.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=s,this.events=r;const{event:m}=s,{target:f}=m;this.props=s,this.events=r,this.document=ms(f),this.documentListeners=new hi(this.document),this.listeners=new hi(u),this.windowListeners=new hi(tn(f)),this.initialCoordinates=(d=Fr(m))!=null?d:Vn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:s,props:{options:{activationConstraint:r,bypassActivationConstraint:u}}}=this;if(this.listeners.add(s.move.name,this.handleMove,{passive:!1}),this.listeners.add(s.end.name,this.handleEnd),s.cancel&&this.listeners.add(s.cancel.name,this.handleCancel),this.windowListeners.add(Nn.Resize,this.handleCancel),this.windowListeners.add(Nn.DragStart,Jh),this.windowListeners.add(Nn.VisibilityChange,this.handleCancel),this.windowListeners.add(Nn.ContextMenu,Jh),this.documentListeners.add(Nn.Keydown,this.handleKeydown),r){if(u!=null&&u({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eg(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Wh(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(s,r){const{active:u,onPending:d}=this.props;d(u,s,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:s}=this,{onStart:r}=this.props;s&&(this.activated=!0,this.documentListeners.add(Nn.Click,xj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Nn.SelectionChange,this.removeTextSelection),r(s))}handleMove(s){var r;const{activated:u,initialCoordinates:d,props:m}=this,{onMove:f,options:{activationConstraint:p}}=m;if(!d)return;const v=(r=Fr(s))!=null?r:Vn,b=Si(d,v);if(!u&&p){if(Wh(p)){if(p.tolerance!=null&&ju(b,p.tolerance))return this.handleCancel();if(ju(b,p.distance))return this.handleStart()}if(eg(p)&&ju(b,p.tolerance))return this.handleCancel();this.handlePending(p,b);return}s.cancelable&&s.preventDefault(),f(v)}handleEnd(){const{onAbort:s,onEnd:r}=this.props;this.detach(),this.activated||s(this.props.active),r()}handleCancel(){const{onAbort:s,onCancel:r}=this.props;this.detach(),this.activated||s(this.props.active),r()}handleKeydown(s){s.code===Ve.Esc&&this.handleCancel()}removeTextSelection(){var s;(s=this.document.getSelection())==null||s.removeAllRanges()}}const Cj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ku extends Zu{constructor(s){const{event:r}=s,u=ms(r.target);super(s,Cj,u)}}Ku.activators=[{eventName:"onPointerDown",handler:(l,s)=>{let{nativeEvent:r}=l,{onActivation:u}=s;return!r.isPrimary||r.button!==0?!1:(u?.({event:r}),!0)}}];const jj={move:{name:"mousemove"},end:{name:"mouseup"}};var Ou;(function(l){l[l.RightClick=2]="RightClick"})(Ou||(Ou={}));class wj extends Zu{constructor(s){super(s,jj,ms(s.event.target))}}wj.activators=[{eventName:"onMouseDown",handler:(l,s)=>{let{nativeEvent:r}=l,{onActivation:u}=s;return r.button===Ou.RightClick?!1:(u?.({event:r}),!0)}}];const wu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ej extends Zu{constructor(s){super(s,wu)}static setup(){return window.addEventListener(wu.move.name,s,{capture:!1,passive:!1}),function(){window.removeEventListener(wu.move.name,s)};function s(){}}}Ej.activators=[{eventName:"onTouchStart",handler:(l,s)=>{let{nativeEvent:r}=l,{onActivation:u}=s;const{touches:d}=r;return d.length>1?!1:(u?.({event:r}),!0)}}];var gi;(function(l){l[l.Pointer=0]="Pointer",l[l.DraggableRect=1]="DraggableRect"})(gi||(gi={}));var Pr;(function(l){l[l.TreeOrder=0]="TreeOrder",l[l.ReversedTreeOrder=1]="ReversedTreeOrder"})(Pr||(Pr={}));function Aj(l){let{acceleration:s,activator:r=gi.Pointer,canScroll:u,draggingRect:d,enabled:m,interval:f=5,order:p=Pr.TreeOrder,pointerCoordinates:v,scrollableAncestors:b,scrollableAncestorRects:_,delta:y,threshold:x}=l;const E=Dj({delta:y,disabled:!m}),[P,A]=$C(),L=g.useRef({x:0,y:0}),V=g.useRef({x:0,y:0}),q=g.useMemo(()=>{switch(r){case gi.Pointer:return v?{top:v.y,bottom:v.y,left:v.x,right:v.x}:null;case gi.DraggableRect:return d}},[r,d,v]),j=g.useRef(null),G=g.useCallback(()=>{const T=j.current;if(!T)return;const w=L.current.x*V.current.x,O=L.current.y*V.current.y;T.scrollBy(w,O)},[]),R=g.useMemo(()=>p===Pr.TreeOrder?[...b].reverse():b,[p,b]);g.useEffect(()=>{if(!m||!b.length||!q){A();return}for(const T of R){if(u?.(T)===!1)continue;const w=b.indexOf(T),O=_[w];if(!O)continue;const{direction:B,speed:N}=yj(T,O,q,s,x);for(const U of["x","y"])E[U][B[U]]||(N[U]=0,B[U]=0);if(N.x>0||N.y>0){A(),j.current=T,P(G,f),L.current=N,V.current=B;return}}L.current={x:0,y:0},V.current={x:0,y:0},A()},[s,G,u,A,m,f,JSON.stringify(q),JSON.stringify(E),P,b,R,_,JSON.stringify(x)])}const Nj={x:{[It.Backward]:!1,[It.Forward]:!1},y:{[It.Backward]:!1,[It.Forward]:!1}};function Dj(l){let{delta:s,disabled:r}=l;const u=Ir(s);return Ci(d=>{if(r||!u||!d)return Nj;const m={x:Math.sign(s.x-u.x),y:Math.sign(s.y-u.y)};return{x:{[It.Backward]:d.x[It.Backward]||m.x===-1,[It.Forward]:d.x[It.Forward]||m.x===1},y:{[It.Backward]:d.y[It.Backward]||m.y===-1,[It.Forward]:d.y[It.Forward]||m.y===1}}},[r,s,u])}function Mj(l,s){const r=s!=null?l.get(s):void 0,u=r?r.node.current:null;return Ci(d=>{var m;return s==null?null:(m=u??d)!=null?m:null},[u,s])}function zj(l,s){return g.useMemo(()=>l.reduce((r,u)=>{const{sensor:d}=u,m=d.activators.map(f=>({eventName:f.eventName,handler:s(f.handler,u)}));return[...r,...m]},[]),[l,s])}var xi;(function(l){l[l.Always=0]="Always",l[l.BeforeDragging=1]="BeforeDragging",l[l.WhileDragging=2]="WhileDragging"})(xi||(xi={}));var Ru;(function(l){l.Optimized="optimized"})(Ru||(Ru={}));const tg=new Map;function Oj(l,s){let{dragging:r,dependencies:u,config:d}=s;const[m,f]=g.useState(null),{frequency:p,measure:v,strategy:b}=d,_=g.useRef(l),y=L(),x=bi(y),E=g.useCallback(function(V){V===void 0&&(V=[]),!x.current&&f(q=>q===null?V:q.concat(V.filter(j=>!q.includes(j))))},[x]),P=g.useRef(null),A=Ci(V=>{if(y&&!r)return tg;if(!V||V===tg||_.current!==l||m!=null){const q=new Map;for(let j of l){if(!j)continue;if(m&&m.length>0&&!m.includes(j.id)&&j.rect.current){q.set(j.id,j.rect.current);continue}const G=j.node.current,R=G?new Xu(v(G),G):null;j.rect.current=R,R&&q.set(j.id,R)}return q}return V},[l,m,r,y,v]);return g.useEffect(()=>{_.current=l},[l]),g.useEffect(()=>{y||E()},[r,y]),g.useEffect(()=>{m&&m.length>0&&f(null)},[JSON.stringify(m)]),g.useEffect(()=>{y||typeof p!="number"||P.current!==null||(P.current=setTimeout(()=>{E(),P.current=null},p))},[p,y,E,...u]),{droppableRects:A,measureDroppableContainers:E,measuringScheduled:m!=null};function L(){switch(b){case xi.Always:return!1;case xi.BeforeDragging:return r;default:return!r}}}function Ju(l,s){return Ci(r=>l?r||(typeof s=="function"?s(l):l):null,[s,l])}function Rj(l,s){return Ju(l,s)}function Lj(l){let{callback:s,disabled:r}=l;const u=to(s),d=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:m}=window;return new m(u)},[u,r]);return g.useEffect(()=>()=>d?.disconnect(),[d]),d}function lo(l){let{callback:s,disabled:r}=l;const u=to(s),d=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:m}=window;return new m(u)},[r]);return g.useEffect(()=>()=>d?.disconnect(),[d]),d}function kj(l){return new Xu(ji(l),l)}function ng(l,s,r){s===void 0&&(s=kj);const[u,d]=g.useState(null);function m(){d(v=>{if(!l)return null;if(l.isConnected===!1){var b;return(b=v??r)!=null?b:null}const _=s(l);return JSON.stringify(v)===JSON.stringify(_)?v:_})}const f=Lj({callback(v){if(l)for(const b of v){const{type:_,target:y}=b;if(_==="childList"&&y instanceof HTMLElement&&y.contains(l)){m();break}}}}),p=lo({callback:m});return xa(()=>{m(),l?(p?.observe(l),f?.observe(document.body,{childList:!0,subtree:!0})):(p?.disconnect(),f?.disconnect())},[l]),u}function Bj(l){const s=Ju(l);return Zv(l,s)}const ag=[];function Uj(l){const s=g.useRef(l),r=Ci(u=>l?u&&u!==ag&&l&&s.current&&l.parentNode===s.current.parentNode?u:ao(l):ag,[l]);return g.useEffect(()=>{s.current=l},[l]),r}function $j(l){const[s,r]=g.useState(null),u=g.useRef(l),d=g.useCallback(m=>{const f=Cu(m.target);f&&r(p=>p?(p.set(f,zu(f)),new Map(p)):null)},[]);return g.useEffect(()=>{const m=u.current;if(l!==m){f(m);const p=l.map(v=>{const b=Cu(v);return b?(b.addEventListener("scroll",d,{passive:!0}),[b,zu(b)]):null}).filter(v=>v!=null);r(p.length?new Map(p):null),u.current=l}return()=>{f(l),f(m)};function f(p){p.forEach(v=>{const b=Cu(v);b?.removeEventListener("scroll",d)})}},[d,l]),g.useMemo(()=>l.length?s?Array.from(s.values()).reduce((m,f)=>ds(m,f),Vn):ab(l):Vn,[l,s])}function lg(l,s){s===void 0&&(s=[]);const r=g.useRef(null);return g.useEffect(()=>{r.current=null},s),g.useEffect(()=>{const u=l!==Vn;u&&!r.current&&(r.current=l),!u&&r.current&&(r.current=null)},[l]),r.current?Si(l,r.current):Vn}function Hj(l){g.useEffect(()=>{if(!eo)return;const s=l.map(r=>{let{sensor:u}=r;return u.setup==null?void 0:u.setup()});return()=>{for(const r of s)r?.()}},l.map(s=>{let{sensor:r}=s;return r}))}function Vj(l,s){return g.useMemo(()=>l.reduce((r,u)=>{let{eventName:d,handler:m}=u;return r[d]=f=>{m(f,s)},r},{}),[l,s])}function ib(l){return g.useMemo(()=>l?fj(l):null,[l])}const sg=[];function qj(l,s){s===void 0&&(s=ji);const[r]=l,u=ib(r?tn(r):null),[d,m]=g.useState(sg);function f(){m(()=>l.length?l.map(v=>tb(v)?u:new Xu(s(v),v)):sg)}const p=lo({callback:f});return xa(()=>{p?.disconnect(),f(),l.forEach(v=>p?.observe(v))},[l]),d}function rb(l){if(!l)return null;if(l.children.length>1)return l;const s=l.children[0];return Ti(s)?s:l}function Ij(l){let{measure:s}=l;const[r,u]=g.useState(null),d=g.useCallback(b=>{for(const{target:_}of b)if(Ti(_)){u(y=>{const x=s(_);return y?{...y,width:x.width,height:x.height}:x});break}},[s]),m=lo({callback:d}),f=g.useCallback(b=>{const _=rb(b);m?.disconnect(),_&&m?.observe(_),u(_?s(_):null)},[s,m]),[p,v]=qr(f);return g.useMemo(()=>({nodeRef:p,rect:r,setRef:v}),[r,p,v])}const Fj=[{sensor:Ku,options:{}},{sensor:Qu,options:{}}],Yj={current:{}},Vr={draggable:{measure:Kh},droppable:{measure:Kh,strategy:xi.WhileDragging,frequency:Ru.Optimized},dragOverlay:{measure:ji}};class yi extends Map{get(s){var r;return s!=null&&(r=super.get(s))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(s=>{let{disabled:r}=s;return!r})}getNodeFor(s){var r,u;return(r=(u=this.get(s))==null?void 0:u.node.current)!=null?r:void 0}}const Pj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yi,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vr,measureDroppableContainers:Yr,windowRect:null,measuringScheduled:!1},ob={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yr,draggableNodes:new Map,over:null,measureDroppableContainers:Yr},wi=g.createContext(ob),cb=g.createContext(Pj);function Gj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yi}}}function Xj(l,s){switch(s.type){case kt.DragStart:return{...l,draggable:{...l.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case kt.DragMove:return l.draggable.active==null?l:{...l,draggable:{...l.draggable,translate:{x:s.coordinates.x-l.draggable.initialCoordinates.x,y:s.coordinates.y-l.draggable.initialCoordinates.y}}};case kt.DragEnd:case kt.DragCancel:return{...l,draggable:{...l.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kt.RegisterDroppable:{const{element:r}=s,{id:u}=r,d=new yi(l.droppable.containers);return d.set(u,r),{...l,droppable:{...l.droppable,containers:d}}}case kt.SetDroppableDisabled:{const{id:r,key:u,disabled:d}=s,m=l.droppable.containers.get(r);if(!m||u!==m.key)return l;const f=new yi(l.droppable.containers);return f.set(r,{...m,disabled:d}),{...l,droppable:{...l.droppable,containers:f}}}case kt.UnregisterDroppable:{const{id:r,key:u}=s,d=l.droppable.containers.get(r);if(!d||u!==d.key)return l;const m=new yi(l.droppable.containers);return m.delete(r),{...l,droppable:{...l.droppable,containers:m}}}default:return l}}function Qj(l){let{disabled:s}=l;const{active:r,activatorEvent:u,draggableNodes:d}=g.useContext(wi),m=Ir(u),f=Ir(r?.id);return g.useEffect(()=>{if(!s&&!u&&m&&f!=null){if(!Yu(m)||document.activeElement===m.target)return;const p=d.get(f);if(!p)return;const{activatorNode:v,node:b}=p;if(!v.current&&!b.current)return;requestAnimationFrame(()=>{for(const _ of[v.current,b.current]){if(!_)continue;const y=qC(_);if(y){y.focus();break}}})}},[u,s,d,f,m]),null}function ub(l,s){let{transform:r,...u}=s;return l!=null&&l.length?l.reduce((d,m)=>m({transform:d,...u}),r):r}function Zj(l){return g.useMemo(()=>({draggable:{...Vr.draggable,...l?.draggable},droppable:{...Vr.droppable,...l?.droppable},dragOverlay:{...Vr.dragOverlay,...l?.dragOverlay}}),[l?.draggable,l?.droppable,l?.dragOverlay])}function Kj(l){let{activeNode:s,measure:r,initialRect:u,config:d=!0}=l;const m=g.useRef(!1),{x:f,y:p}=typeof d=="boolean"?{x:d,y:d}:d;xa(()=>{if(!f&&!p||!s){m.current=!1;return}if(m.current||!u)return;const b=s?.node.current;if(!b||b.isConnected===!1)return;const _=r(b),y=Zv(_,u);if(f||(y.x=0),p||(y.y=0),m.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const x=Jv(b);x&&x.scrollBy({top:y.y,left:y.x})}},[s,f,p,u,r])}const so=g.createContext({...Vn,scaleX:1,scaleY:1});var Ka;(function(l){l[l.Uninitialized=0]="Uninitialized",l[l.Initializing=1]="Initializing",l[l.Initialized=2]="Initialized"})(Ka||(Ka={}));const Jj=g.memo(function(s){var r,u,d,m;let{id:f,accessibility:p,autoScroll:v=!0,children:b,sensors:_=Fj,collisionDetection:y=lj,measuring:x,modifiers:E,...P}=s;const A=g.useReducer(Xj,void 0,Gj),[L,V]=A,[q,j]=XC(),[G,R]=g.useState(Ka.Uninitialized),T=G===Ka.Initialized,{draggable:{active:w,nodes:O,translate:B},droppable:{containers:N}}=L,U=w!=null?O.get(w):null,D=g.useRef({initial:null,translated:null}),W=g.useMemo(()=>{var gt;return w!=null?{id:w,data:(gt=U?.data)!=null?gt:Yj,rect:D}:null},[w,U]),ae=g.useRef(null),[ce,z]=g.useState(null),[I,X]=g.useState(null),se=bi(P,Object.values(P)),re=no("DndDescribedBy",f),ve=g.useMemo(()=>N.getEnabled(),[N]),ue=Zj(x),{droppableRects:fe,measureDroppableContainers:_e,measuringScheduled:We}=Oj(ve,{dragging:T,dependencies:[B.x,B.y],config:ue.droppable}),Oe=Mj(O,w),ct=g.useMemo(()=>I?Fr(I):null,[I]),mt=el(),Ct=Rj(Oe,ue.draggable.measure);Kj({activeNode:w!=null?O.get(w):null,config:mt.layoutShiftCompensation,initialRect:Ct,measure:ue.draggable.measure});const lt=ng(Oe,ue.draggable.measure,Ct),me=ng(Oe?Oe.parentElement:null),Ne=g.useRef({activatorEvent:null,active:null,activeNode:Oe,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),st=N.getNodeFor((r=Ne.current.over)==null?void 0:r.id),oe=Ij({measure:ue.dragOverlay.measure}),we=(u=oe.nodeRef.current)!=null?u:Oe,qe=T?(d=oe.rect)!=null?d:lt:null,Re=!!(oe.nodeRef.current&&oe.rect),ft=Bj(Re?null:lt),Me=ib(we?tn(we):null),$e=Uj(T?st??Oe:null),bt=qj($e),St=ub(E,{transform:{x:B.x-ft.x,y:B.y-ft.y,scaleX:1,scaleY:1},activatorEvent:I,active:W,activeNodeRect:lt,containerNodeRect:me,draggingNodeRect:qe,over:Ne.current.over,overlayNodeRect:oe.rect,scrollableAncestors:$e,scrollableAncestorRects:bt,windowRect:Me}),it=ct?ds(ct,B):null,Mt=$j($e),K=lg(Mt),Te=lg(Mt,[lt]),Ee=ds(St,K),et=qe?cj(qe,St):null,Ie=W&&et?y({active:W,collisionRect:et,droppableRects:fe,droppableContainers:ve,pointerCoordinates:it}):null,zt=Qv(Ie,"id"),[ht,Ta]=g.useState(null),Ca=Re?St:ds(St,Te),qn=rj(Ca,(m=ht?.rect)!=null?m:null,lt),Ft=g.useRef(null),vn=g.useCallback((gt,Yt)=>{let{sensor:Ut,options:cn}=Yt;if(ae.current==null)return;const $t=O.get(ae.current);if(!$t)return;const Ot=gt.nativeEvent,Z=new Ut({active:ae.current,activeNode:$t,event:Ot,options:cn,context:Ne,onAbort(le){if(!O.get(le))return;const{onDragAbort:pe}=se.current,De={id:le};pe?.(De),q({type:"onDragAbort",event:De})},onPending(le,ge,pe,De){if(!O.get(le))return;const{onDragPending:Qe}=se.current,Ce={id:le,constraint:ge,initialCoordinates:pe,offset:De};Qe?.(Ce),q({type:"onDragPending",event:Ce})},onStart(le){const ge=ae.current;if(ge==null)return;const pe=O.get(ge);if(!pe)return;const{onDragStart:De}=se.current,rt={activatorEvent:Ot,active:{id:ge,data:pe.data,rect:D}};ui.unstable_batchedUpdates(()=>{De?.(rt),R(Ka.Initializing),V({type:kt.DragStart,initialCoordinates:le,active:ge}),q({type:"onDragStart",event:rt}),z(Ft.current),X(Ot)})},onMove(le){V({type:kt.DragMove,coordinates:le})},onEnd:ie(kt.DragEnd),onCancel:ie(kt.DragCancel)});Ft.current=Z;function ie(le){return async function(){const{active:pe,collisions:De,over:rt,scrollAdjustedTranslate:Qe}=Ne.current;let Ce=null;if(pe&&Qe){const{cancelDrop:Pt}=se.current;Ce={activatorEvent:Ot,active:pe,collisions:De,delta:Qe,over:rt},le===kt.DragEnd&&typeof Pt=="function"&&await Promise.resolve(Pt(Ce))&&(le=kt.DragCancel)}ae.current=null,ui.unstable_batchedUpdates(()=>{V({type:le}),R(Ka.Uninitialized),Ta(null),z(null),X(null),Ft.current=null;const Pt=le===kt.DragEnd?"onDragEnd":"onDragCancel";if(Ce){const nn=se.current[Pt];nn?.(Ce),q({type:Pt,event:Ce})}})}}},[O]),Kt=g.useCallback((gt,Yt)=>(Ut,cn)=>{const $t=Ut.nativeEvent,Ot=O.get(cn);if(ae.current!==null||!Ot||$t.dndKit||$t.defaultPrevented)return;const Z={active:Ot};gt(Ut,Yt.options,Z)===!0&&($t.dndKit={capturedBy:Yt.sensor},ae.current=cn,vn(Ut,Yt))},[O,vn]),Wa=zj(_,Kt);Hj(_),xa(()=>{lt&&G===Ka.Initializing&&R(Ka.Initialized)},[lt,G]),g.useEffect(()=>{const{onDragMove:gt}=se.current,{active:Yt,activatorEvent:Ut,collisions:cn,over:$t}=Ne.current;if(!Yt||!Ut)return;const Ot={active:Yt,activatorEvent:Ut,collisions:cn,delta:{x:Ee.x,y:Ee.y},over:$t};ui.unstable_batchedUpdates(()=>{gt?.(Ot),q({type:"onDragMove",event:Ot})})},[Ee.x,Ee.y]),g.useEffect(()=>{const{active:gt,activatorEvent:Yt,collisions:Ut,droppableContainers:cn,scrollAdjustedTranslate:$t}=Ne.current;if(!gt||ae.current==null||!Yt||!$t)return;const{onDragOver:Ot}=se.current,Z=cn.get(zt),ie=Z&&Z.rect.current?{id:Z.id,rect:Z.rect.current,data:Z.data,disabled:Z.disabled}:null,le={active:gt,activatorEvent:Yt,collisions:Ut,delta:{x:$t.x,y:$t.y},over:ie};ui.unstable_batchedUpdates(()=>{Ta(ie),Ot?.(le),q({type:"onDragOver",event:le})})},[zt]),xa(()=>{Ne.current={activatorEvent:I,active:W,activeNode:Oe,collisionRect:et,collisions:Ie,droppableRects:fe,draggableNodes:O,draggingNode:we,draggingNodeRect:qe,droppableContainers:N,over:ht,scrollableAncestors:$e,scrollAdjustedTranslate:Ee},D.current={initial:qe,translated:et}},[W,Oe,Ie,et,O,we,qe,fe,N,ht,$e,Ee]),Aj({...mt,delta:B,draggingRect:et,pointerCoordinates:it,scrollableAncestors:$e,scrollableAncestorRects:bt});const In=g.useMemo(()=>({active:W,activeNode:Oe,activeNodeRect:lt,activatorEvent:I,collisions:Ie,containerNodeRect:me,dragOverlay:oe,draggableNodes:O,droppableContainers:N,droppableRects:fe,over:ht,measureDroppableContainers:_e,scrollableAncestors:$e,scrollableAncestorRects:bt,measuringConfiguration:ue,measuringScheduled:We,windowRect:Me}),[W,Oe,lt,I,Ie,me,oe,O,N,fe,ht,_e,$e,bt,ue,We,Me]),ja=g.useMemo(()=>({activatorEvent:I,activators:Wa,active:W,activeNodeRect:lt,ariaDescribedById:{draggable:re},dispatch:V,draggableNodes:O,over:ht,measureDroppableContainers:_e}),[I,Wa,W,lt,V,re,O,ht,_e]);return Je.createElement(Xv.Provider,{value:j},Je.createElement(wi.Provider,{value:ja},Je.createElement(cb.Provider,{value:In},Je.createElement(so.Provider,{value:qn},b)),Je.createElement(Qj,{disabled:p?.restoreFocus===!1})),Je.createElement(KC,{...p,hiddenTextDescribedById:re}));function el(){const gt=ce?.autoScrollEnabled===!1,Yt=typeof v=="object"?v.enabled===!1:v===!1,Ut=T&&!gt&&!Yt;return typeof v=="object"?{...v,enabled:Ut}:{enabled:Ut}}}),Wj=g.createContext(null),ig="button",ew="Draggable";function tw(l){let{id:s,data:r,disabled:u=!1,attributes:d}=l;const m=no(ew),{activators:f,activatorEvent:p,active:v,activeNodeRect:b,ariaDescribedById:_,draggableNodes:y,over:x}=g.useContext(wi),{role:E=ig,roleDescription:P="draggable",tabIndex:A=0}=d??{},L=v?.id===s,V=g.useContext(L?so:Wj),[q,j]=qr(),[G,R]=qr(),T=Vj(f,s),w=bi(r);xa(()=>(y.set(s,{id:s,key:m,node:q,activatorNode:G,data:w}),()=>{const B=y.get(s);B&&B.key===m&&y.delete(s)}),[y,s]);const O=g.useMemo(()=>({role:E,tabIndex:A,"aria-disabled":u,"aria-pressed":L&&E===ig?!0:void 0,"aria-roledescription":P,"aria-describedby":_.draggable}),[u,E,A,L,P,_.draggable]);return{active:v,activatorEvent:p,activeNodeRect:b,attributes:O,isDragging:L,listeners:u?void 0:T,node:q,over:x,setNodeRef:j,setActivatorNodeRef:R,transform:V}}function nw(){return g.useContext(cb)}const aw="Droppable",lw={timeout:25};function sw(l){let{data:s,disabled:r=!1,id:u,resizeObserverConfig:d}=l;const m=no(aw),{active:f,dispatch:p,over:v,measureDroppableContainers:b}=g.useContext(wi),_=g.useRef({disabled:r}),y=g.useRef(!1),x=g.useRef(null),E=g.useRef(null),{disabled:P,updateMeasurementsFor:A,timeout:L}={...lw,...d},V=bi(A??u),q=g.useCallback(()=>{if(!y.current){y.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{b(Array.isArray(V.current)?V.current:[V.current]),E.current=null},L)},[L]),j=lo({callback:q,disabled:P||!f}),G=g.useCallback((O,B)=>{j&&(B&&(j.unobserve(B),y.current=!1),O&&j.observe(O))},[j]),[R,T]=qr(G),w=bi(s);return g.useEffect(()=>{!j||!R.current||(j.disconnect(),y.current=!1,j.observe(R.current))},[R,j]),g.useEffect(()=>(p({type:kt.RegisterDroppable,element:{id:u,key:m,disabled:r,node:R,rect:x,data:w}}),()=>p({type:kt.UnregisterDroppable,key:m,id:u})),[u]),g.useEffect(()=>{r!==_.current.disabled&&(p({type:kt.SetDroppableDisabled,id:u,key:m,disabled:r}),_.current.disabled=r)},[u,m,r,p]),{active:f,rect:x,isOver:v?.id===u,node:R,over:v,setNodeRef:T}}function iw(l){let{animation:s,children:r}=l;const[u,d]=g.useState(null),[m,f]=g.useState(null),p=Ir(r);return!r&&!u&&p&&d(p),xa(()=>{if(!m)return;const v=u?.key,b=u?.props.id;if(v==null||b==null){d(null);return}Promise.resolve(s(b,m)).then(()=>{d(null)})},[s,u,m]),Je.createElement(Je.Fragment,null,r,u?g.cloneElement(u,{ref:f}):null)}const rw={x:0,y:0,scaleX:1,scaleY:1};function ow(l){let{children:s}=l;return Je.createElement(wi.Provider,{value:ob},Je.createElement(so.Provider,{value:rw},s))}const cw={position:"fixed",touchAction:"none"},uw=l=>Yu(l)?"transform 250ms ease":void 0,dw=g.forwardRef((l,s)=>{let{as:r,activatorEvent:u,adjustScale:d,children:m,className:f,rect:p,style:v,transform:b,transition:_=uw}=l;if(!p)return null;const y=d?b:{...b,scaleX:1,scaleY:1},x={...cw,width:p.width,height:p.height,top:p.top,left:p.left,transform:_i.Transform.toString(y),transformOrigin:d&&u?WC(u,p):void 0,transition:typeof _=="function"?_(u):_,...v};return Je.createElement(r,{className:f,style:x,ref:s},m)}),fw=l=>s=>{let{active:r,dragOverlay:u}=s;const d={},{styles:m,className:f}=l;if(m!=null&&m.active)for(const[p,v]of Object.entries(m.active))v!==void 0&&(d[p]=r.node.style.getPropertyValue(p),r.node.style.setProperty(p,v));if(m!=null&&m.dragOverlay)for(const[p,v]of Object.entries(m.dragOverlay))v!==void 0&&u.node.style.setProperty(p,v);return f!=null&&f.active&&r.node.classList.add(f.active),f!=null&&f.dragOverlay&&u.node.classList.add(f.dragOverlay),function(){for(const[v,b]of Object.entries(d))r.node.style.setProperty(v,b);f!=null&&f.active&&r.node.classList.remove(f.active)}},mw=l=>{let{transform:{initial:s,final:r}}=l;return[{transform:_i.Transform.toString(s)},{transform:_i.Transform.toString(r)}]},hw={duration:250,easing:"ease",keyframes:mw,sideEffects:fw({styles:{active:{opacity:"0"}}})};function gw(l){let{config:s,draggableNodes:r,droppableContainers:u,measuringConfiguration:d}=l;return to((m,f)=>{if(s===null)return;const p=r.get(m);if(!p)return;const v=p.node.current;if(!v)return;const b=rb(f);if(!b)return;const{transform:_}=tn(f).getComputedStyle(f),y=Kv(_);if(!y)return;const x=typeof s=="function"?s:yw(s);return lb(v,d.draggable.measure),x({active:{id:m,data:p.data,node:v,rect:d.draggable.measure(v)},draggableNodes:r,dragOverlay:{node:f,rect:d.dragOverlay.measure(b)},droppableContainers:u,measuringConfiguration:d,transform:y})})}function yw(l){const{duration:s,easing:r,sideEffects:u,keyframes:d}={...hw,...l};return m=>{let{active:f,dragOverlay:p,transform:v,...b}=m;if(!s)return;const _={x:p.rect.left-f.rect.left,y:p.rect.top-f.rect.top},y={scaleX:v.scaleX!==1?f.rect.width*v.scaleX/p.rect.width:1,scaleY:v.scaleY!==1?f.rect.height*v.scaleY/p.rect.height:1},x={x:v.x-_.x,y:v.y-_.y,...y},E=d({...b,active:f,dragOverlay:p,transform:{initial:v,final:x}}),[P]=E,A=E[E.length-1];if(JSON.stringify(P)===JSON.stringify(A))return;const L=u?.({active:f,dragOverlay:p,...b}),V=p.node.animate(E,{duration:s,easing:r,fill:"forwards"});return new Promise(q=>{V.onfinish=()=>{L?.(),q()}})}}let rg=0;function pw(l){return g.useMemo(()=>{if(l!=null)return rg++,rg},[l])}const vw=Je.memo(l=>{let{adjustScale:s=!1,children:r,dropAnimation:u,style:d,transition:m,modifiers:f,wrapperElement:p="div",className:v,zIndex:b=999}=l;const{activatorEvent:_,active:y,activeNodeRect:x,containerNodeRect:E,draggableNodes:P,droppableContainers:A,dragOverlay:L,over:V,measuringConfiguration:q,scrollableAncestors:j,scrollableAncestorRects:G,windowRect:R}=nw(),T=g.useContext(so),w=pw(y?.id),O=ub(f,{activatorEvent:_,active:y,activeNodeRect:x,containerNodeRect:E,draggingNodeRect:L.rect,over:V,overlayNodeRect:L.rect,scrollableAncestors:j,scrollableAncestorRects:G,transform:T,windowRect:R}),B=Ju(x),N=gw({config:u,draggableNodes:P,droppableContainers:A,measuringConfiguration:q}),U=B?L.setRef:void 0;return Je.createElement(ow,null,Je.createElement(iw,{animation:N},y&&w?Je.createElement(dw,{key:w,id:y.id,ref:U,as:p,activatorEvent:_,adjustScale:s,className:v,transition:m,rect:B,style:{zIndex:b,...d},transform:O},r):null))});function Gr(l){if(!l)return!1;const s=l.data.current;return!!(s&&"sortable"in s&&typeof s.sortable=="object"&&"containerId"in s.sortable&&"items"in s.sortable&&"index"in s.sortable)}const bw=[Ve.Down,Ve.Right,Ve.Up,Ve.Left],Sw=(l,s)=>{let{context:{active:r,collisionRect:u,droppableRects:d,droppableContainers:m,over:f,scrollableAncestors:p}}=s;if(bw.includes(l.code)){if(l.preventDefault(),!r||!u)return;const v=[];m.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const x=d.get(y.id);if(x)switch(l.code){case Ve.Down:u.top<x.top&&v.push(y);break;case Ve.Up:u.top>x.top&&v.push(y);break;case Ve.Left:u.left>x.left&&v.push(y);break;case Ve.Right:u.left<x.left&&v.push(y);break}});const b=nj({collisionRect:u,droppableRects:d,droppableContainers:v});let _=Qv(b,"id");if(_===f?.id&&b.length>1&&(_=b[1].id),_!=null){const y=m.get(r.id),x=m.get(_),E=x?d.get(x.id):null,P=x?.node.current;if(P&&E&&y&&x){const L=ao(P).some((T,w)=>p[w]!==T),V=db(y,x),q=_w(y,x),j=L||!V?{x:0,y:0}:{x:q?u.width-E.width:0,y:q?u.height-E.height:0},G={x:E.left,y:E.top};return j.x&&j.y?G:Si(G,j)}}}};function db(l,s){return!Gr(l)||!Gr(s)?!1:l.data.current.sortable.containerId===s.data.current.sortable.containerId}function _w(l,s){return!Gr(l)||!Gr(s)||!db(l,s)?!1:l.data.current.sortable.index<s.data.current.sortable.index}const xw="_dragOverlay_19xet_3",Tw="_songPreview_19xet_11",Cw="_songTitle_19xet_42",jw="_songArtist_19xet_47",ww="_dropZone_19xet_116",Ew="_draggableItem_19xet_130",os={dragOverlay:xw,songPreview:Tw,songTitle:Cw,songArtist:jw,dropZone:ww,draggableItem:Ew},Aw=Je.createContext({activeItem:null}),Nw=l=>{let s=ij(l);if((!s||s.length===0)&&(s=tj(l)),!s||!s.length)return s||[];const r=s.filter(d=>d.id.toString().startsWith("song::")),u=s.filter(d=>d.id.toString().startsWith("playlist::"));if(r.length>0&&u.length>0){const{pointerCoordinates:d}=l;if(d)return d.x<350?u:r}return s},Dw=({children:l,onDragOperation:s})=>{const{t:r}=Bt(),[u,d]=g.useState(null),m=JC(Qh(Ku,{activationConstraint:{distance:10,delay:100,tolerance:5}}),Qh(Qu,{coordinateGetter:Sw})),f=g.useCallback(b=>{const{active:_}=b,y=_.id,x=y.indexOf("::");if(x===-1){console.error("Invalid drag ID format:",y);return}const E=y.substring(0,x),P=y.substring(x+2);d({id:P,type:E,data:_.data.current})},[]),p=g.useCallback(b=>{const{active:_,over:y}=b;if(d(null),!y||_.id===y.id)return;const x=V=>{const q=V.indexOf("::");return q===-1?(console.error("Invalid ID format:",V),{type:"",id:""}):{type:V.substring(0,q),id:V.substring(q+2)}},E=x(_.id),P=x(y.id),A={id:E.id,type:E.type,data:_.data.current},L={id:P.id,type:P.type,data:y.data.current};s?.(A,L)},[s]),v=()=>{if(!u)return null;switch(u.type){case"song":return document.querySelector('[data-droppable="true"]')?.closest('[data-playlist-drop-zone="true"]')?c.jsxs("div",{className:os.songPreview,children:[c.jsx(te,{name:"music",size:18,color:"var(--themecolor2)",decorative:!0}),c.jsxs("div",{children:[c.jsx("div",{className:os.songTitle,children:u.data?.title||"Song"}),c.jsx("div",{className:os.songArtist,children:u.data?.artist||r("common.unknownArtist")})]})]}):null;case"playlist":return null;case"folder":return null;default:return null}};return c.jsx(Aw.Provider,{value:{activeItem:u},children:c.jsxs(Jj,{sensors:m,collisionDetection:Nw,onDragStart:f,onDragEnd:p,autoScroll:{threshold:{x:.2,y:.2},acceleration:5},children:[l,c.jsx(vw,{dropAnimation:{duration:200,easing:"cubic-bezier(0.34, 1.56, 0.64, 1)"},className:os.dragOverlay,children:v()})]})})},Lu=({id:l,type:s,data:r,children:u,disabled:d=!1})=>{const{attributes:m,listeners:f,setNodeRef:p,transform:v,isDragging:b}=tw({id:`${s}::${l}`,data:r,disabled:d}),_=v?{transform:`translate3d(${v.x}px, ${v.y}px, 0)`}:void 0;return c.jsx("div",{ref:p,style:_,className:os.draggableItem,"data-dragging":b?"true":"false",...f,...m,children:u})},ku=({id:l,type:s,data:r,children:u,className:d})=>{const{isOver:m,setNodeRef:f}=sw({id:`${s}::${l}`,data:r});return c.jsx("div",{ref:f,className:`${os.dropZone} ${d||""}`,"data-droppable":m?"true":"false","data-playlist-drop-zone":s==="playlist"?"true":"false","data-folder-drop-zone":s==="folder"?"true":"false","data-drop-type":s,children:u})},Mw="_playlistContainer_1s8lm_1",zw="_searchContainer_1s8lm_10",Ow="_searchWrapper_1s8lm_19",Rw="_searchIcon_1s8lm_24",Lw="_searchInput_1s8lm_33",kw="_actionButton_1s8lm_53",Bw="_playlistList_1s8lm_76",Uw="_playlistItemContainer_1s8lm_86",$w="_playlistItemMain_1s8lm_93",Hw="_playlistItem_1s8lm_86",Vw="_playlistNameWrapper_1s8lm_116",qw="_playlistNameText_1s8lm_123",Iw="_playlistImage_1s8lm_128",Fw="_playlistDropZone_1s8lm_147",Yw="_folderItem_1s8lm_171",Pw="_chevron_1s8lm_175",Gw="_chevronOpen_1s8lm_180",Xw="_songCount_1s8lm_184",Qw="_allSongsItem_1s8lm_190",Zw="_favoritesItem_1s8lm_199",Kw="_noResults_1s8lm_208",Jw="_moreButton_1s8lm_274",Ww="_deleteMenuItem_1s8lm_285",He={playlistContainer:Mw,searchContainer:zw,searchWrapper:Ow,searchIcon:Rw,searchInput:Lw,actionButton:kw,playlistList:Bw,playlistItemContainer:Uw,playlistItemMain:$w,playlistItem:Hw,playlistNameWrapper:Vw,playlistNameText:qw,playlistImage:Iw,playlistDropZone:Fw,folderItem:Yw,chevron:Pw,chevronOpen:Gw,songCount:Xw,allSongsItem:Qw,favoritesItem:Zw,noResults:Kw,moreButton:Jw,deleteMenuItem:Ww},eE=async l=>{const s=document.createElement("canvas");s.width=80,s.height=80;const r=s.getContext("2d");if(!r)return"";const u=Array.from(new Set(l.filter(m=>m.albumArt).map(m=>m.albumArt))).slice(0,4);if(u.length===0)return"";const d=m=>new Promise((f,p)=>{const v=new Image;v.crossOrigin="anonymous",v.onload=()=>f(v),v.onerror=p,v.src=m});try{const m=await Promise.all(u.map(f=>d(f)));switch(r.fillStyle="#1E3A8A",r.fillRect(0,0,s.width,s.height),m.length){case 1:r.drawImage(m[0],0,0,80,80);break;case 2:r.drawImage(m[0],0,0,40,80),r.drawImage(m[1],40,0,40,80);break;case 3:r.drawImage(m[0],0,0,80,40),r.drawImage(m[1],0,40,40,40),r.drawImage(m[2],40,40,40,40);break;case 4:r.drawImage(m[0],0,0,40,40),r.drawImage(m[1],40,0,40,40),r.drawImage(m[2],0,40,40,40),r.drawImage(m[3],40,40,40,40);break}return r.fillStyle="rgba(0, 0, 0, 0.1)",r.fillRect(0,0,80,80),s.toDataURL("image/jpeg",.8)}catch(m){return console.error("Failed to generate playlist image:",m),""}};var io="Collapsible",[tE]=e_(io),[nE,Wu]=tE(io),fb=g.forwardRef((l,s)=>{const{__scopeCollapsible:r,open:u,defaultOpen:d,disabled:m,onOpenChange:f,...p}=l,[v,b]=WS({prop:u,defaultProp:d??!1,onChange:f,caller:io});return c.jsx(nE,{scope:r,disabled:m,contentId:t_(),open:v,onOpenToggle:g.useCallback(()=>b(_=>!_),[b]),children:c.jsx($u.div,{"data-state":td(v),"data-disabled":m?"":void 0,...p,ref:s})})});fb.displayName=io;var mb="CollapsibleTrigger",hb=g.forwardRef((l,s)=>{const{__scopeCollapsible:r,...u}=l,d=Wu(mb,r);return c.jsx($u.button,{type:"button","aria-controls":d.contentId,"aria-expanded":d.open||!1,"data-state":td(d.open),"data-disabled":d.disabled?"":void 0,disabled:d.disabled,...u,ref:s,onClick:n_(l.onClick,d.onOpenToggle)})});hb.displayName=mb;var ed="CollapsibleContent",gb=g.forwardRef((l,s)=>{const{forceMount:r,...u}=l,d=Wu(ed,l.__scopeCollapsible);return c.jsx(a_,{present:r||d.open,children:({present:m})=>c.jsx(aE,{...u,ref:s,present:m})})});gb.displayName=ed;var aE=g.forwardRef((l,s)=>{const{__scopeCollapsible:r,present:u,children:d,...m}=l,f=Wu(ed,r),[p,v]=g.useState(u),b=g.useRef(null),_=l_(s,b),y=g.useRef(0),x=y.current,E=g.useRef(0),P=E.current,A=f.open||p,L=g.useRef(A),V=g.useRef(void 0);return g.useEffect(()=>{const q=requestAnimationFrame(()=>L.current=!1);return()=>cancelAnimationFrame(q)},[]),s_(()=>{const q=b.current;if(q){V.current=V.current||{transitionDuration:q.style.transitionDuration,animationName:q.style.animationName},q.style.transitionDuration="0s",q.style.animationName="none";const j=q.getBoundingClientRect();y.current=j.height,E.current=j.width,L.current||(q.style.transitionDuration=V.current.transitionDuration,q.style.animationName=V.current.animationName),v(u)}},[f.open,u]),c.jsx($u.div,{"data-state":td(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!A,...m,ref:_,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":P?`${P}px`:void 0,...l.style},children:A&&d})});function td(l){return l?"open":"closed"}var lE=fb,sE=hb,iE=gb;const rE=lE,oE=sE,cE=iE,uE="_wrapper_10f4h_1",dE="_inner_10f4h_8",fE="_scrolling_10f4h_16",mE="_pauseOnHover_10f4h_20",hE="_text_10f4h_24",ci={wrapper:uE,inner:dE,scrolling:fE,pauseOnHover:mE,text:hE},Bu=({text:l,className:s,textClassName:r,textStyle:u,speed:d=30,gap:m=24,minDuration:f=10,pauseOnHover:p=!0,allowHTML:v=!0,containerClassName:b,wrapperStyle:_,...y})=>{const{t:x}=Bt(),E=g.useRef(null),P=g.useRef(null),A=g.useRef(null),L=g.useRef(null),[V,q]=g.useState({shouldScroll:!1,distance:0,duration:f}),j=g.useMemo(()=>v?h_.sanitize(l):l,[l,v]),G=g.useMemo(()=>{const B={className:ci.text,style:V.shouldScroll?{marginRight:`${m}px`}:void 0};return v?{...B,dangerouslySetInnerHTML:{__html:j}}:{...B,children:l}},[v,j,l,m,V.shouldScroll]),R=g.useCallback(()=>{const B=E.current,N=P.current;if(!B||!N)return;const U=N.querySelector("[data-scroll-text='primary']");if(!U)return;const D=U.scrollWidth,W=B.clientWidth;if(W<=0){typeof window<"u"&&(L.current&&window.cancelAnimationFrame(L.current),L.current=window.requestAnimationFrame(()=>{L.current=null,R()}));return}const ae=D-W,ce=14,z=6;q(I=>{if(I.shouldScroll?ae>z:ae>ce){const se=D+m,re=Math.max(f,se/d);return I.shouldScroll&&Math.abs(I.distance-se)<1&&Math.abs(I.duration-re)<.1?I:{shouldScroll:!0,distance:se,duration:re}}return!I.shouldScroll&&Math.abs(I.distance-D)<1?I:{shouldScroll:!1,distance:D,duration:f}})},[m,f,d]);g.useEffect(()=>{if(!(typeof ResizeObserver>"u"))return A.current=new ResizeObserver(()=>R()),()=>{A.current?.disconnect()}},[R]),g.useLayoutEffect(()=>{if(!A.current)return;const B=E.current,N=P.current;return B&&A.current.observe(B),N&&A.current.observe(N),R(),()=>{B&&A.current?.unobserve(B),N&&A.current?.unobserve(N)}},[R,j]),g.useEffect(()=>()=>{L.current&&typeof window<"u"&&window.cancelAnimationFrame(L.current)},[]);const T=g.useMemo(()=>[ci.wrapper,p&&V.shouldScroll?ci.pauseOnHover:"",s,b].filter(Boolean).join(" "),[s,b,p,V.shouldScroll]),w=g.useMemo(()=>[ci.inner,r,V.shouldScroll?ci.scrolling:""].filter(Boolean).join(" "),[r,V.shouldScroll]),O=g.useMemo(()=>({...V.shouldScroll?{"--scroll-distance":`${V.distance}px`,"--scroll-duration":`${V.duration}s`,"--scroll-gap":`${m}px`}:{},...u}),[V,m,u]);return c.jsx("div",{ref:E,className:T,style:_,role:"region","aria-label":x("accessibility.scrollingText"),...y,children:c.jsxs("div",{ref:P,className:w,style:O,children:[c.jsx("span",{"data-scroll-text":"primary",...G}),V.shouldScroll&&c.jsx("span",{"data-scroll-text":"clone","aria-hidden":"true",...G})]})})},yb=({musicPlayerHook:l})=>{const{t:s}=Bt(),[r,u]=g.useState(""),[d,m]=g.useState(!1),[f,p]=g.useState(""),[v,b]=g.useState({}),[_,y]=g.useState(!1),[x,E]=g.useState(null),[P,A]=g.useState(new Set),L=g.useCallback(K=>{A(Te=>{const Ee=new Set(Te);return Ee.has(K)?Ee.delete(K):Ee.add(K),Ee})},[]),[V,q]=g.useState(!1),[j,G]=g.useState(null),[R,T]=g.useState([]),[w,O]=g.useState(!1),[B,N]=g.useState(null),[U,D]=g.useState(""),[W,ae]=g.useState(!1),[ce,z]=g.useState(""),{library:I,playSong:X,createPlaylist:se,createFolder:re,removePlaylist:ve,moveToFolder:ue,exportPlaylist:fe,importPlaylist:_e}=l;g.useEffect(()=>{(async()=>{const Te={},Ee=Ie=>{const zt=[];for(const ht of Ie)"children"in ht?zt.push(...Ee(ht.children)):"songs"in ht&&zt.push(ht);return zt},et=Ee(I.playlists);for(const Ie of et)if(Ie.id!=="all-songs"){const zt=await eE(Ie.songs);zt&&(Te[Ie.id]=zt)}b(Te)})()},[I.playlists,I.songs]);const We=g.useCallback(K=>{const Te=[];for(const Ee of K)Te.push(Ee),"children"in Ee&&Te.push(...We(Ee.children));return Te},[]),Oe=g.useMemo(()=>I.playlists.filter(K=>K.id!=="all-songs"&&K.name.toLowerCase().includes(r.toLowerCase())),[I.playlists,r]),ct=K=>u(K),mt=g.useCallback(K=>{K.songs.length>0&&X(K.songs[0],K)},[X]),Ct=g.useCallback(()=>{const K=I.playlists.find(Te=>Te.id==="all-songs");if(K&&"songs"in K&&K.songs.length>0)X(K.songs[0],K);else if(I.songs.length>0){const Te={id:"all-songs",name:s("allSongs"),songs:I.songs};X(Te.songs[0],Te)}},[I.playlists,I.songs,X]),lt=()=>{m(!0),p("")},me=g.useCallback(()=>{f.trim()&&(se(f.trim()),he.success(s("playlist.playlistCreated",{name:f.trim()})),m(!1),p(""))},[f,se]),Ne=()=>{m(!1),p("")},st=K=>{E(K),y(!0)},oe=g.useCallback(()=>{x&&(ve(x.id),he.success(s("playlist.playlistDeleted",{name:x.name})),y(!1),E(null))},[x,ve]),we=g.useCallback(K=>{const Te={title:s("playlist.playlistShareTitle",{name:K.name}),text:s("playlist.playlistShareText",{name:K.name,count:K.songs.length}),url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(Te)?(navigator.share(Te),he.success(s("playlist.playlistShared"))):(navigator.clipboard.writeText(`${Te.title}
${Te.text}
${Te.url}`),he.success(s("playlist.playlistCopied")))}catch{he.error(s("playlist.playlistShareFailed"))}},[]),qe=g.useCallback((K,Te="json")=>{fe(K,Te)},[fe]),Re=g.useCallback(K=>K.toLowerCase().includes("favorite")?c.jsx(te,{name:"heart",size:16,decorative:!0}):K.toLowerCase().includes("made")?c.jsx(te,{name:"list",size:16,decorative:!0}):c.jsx(te,{name:"music",size:16,decorative:!0}),[]),ft=()=>{const K=document.createElement("input");K.type="file",K.accept=".json,.m3u,.m3u8",K.onchange=async Te=>{const Ee=Te.target.files?.[0];if(Ee)try{await _e(Ee)}catch(et){et&&y(!1)}},K.click()},Me=g.useCallback(K=>{const Te=(et,Ie=[])=>{const zt=[];for(const ht of et)"children"in ht&&(zt.push({folder:ht,path:[...Ie]}),zt.push(...Te(ht.children,[...Ie,ht.name])));return zt},Ee=Te(I.playlists);if(Ee.length===0){he.error(s("playlist.noFoldersAvailable"));return}T(Ee),G(K),q(!0)},[I.playlists]),$e=g.useCallback(K=>{N(K),D(K.name),O(!0)},[]),bt=g.useRef(null),St=(K,Te=0)=>"songs"in K?c.jsx(it,{item:K,depth:Te},K.id):c.jsx(Mt,{item:K,depth:Te,renderPlaylistItem:St},K.id),it=g.memo(({item:K,depth:Te})=>{const{open:Ee,setOpen:et,containerRef:Ie}=Au(!0);return c.jsxs("div",{"data-id":K.id,className:He.playlistItemContainer,style:{marginLeft:`${Te*20}px`},ref:Ie,children:[c.jsx("div",{className:He.playlistItemMain,children:c.jsx(Lu,{id:K.id,type:"playlist",data:K,children:c.jsx(ku,{id:K.id,type:"playlist",data:K,className:He.playlistDropZone,children:c.jsxs("button",{className:He.playlistItem,onClick:()=>mt(K),children:[v[K.id]?c.jsx("div",{className:He.playlistImage,children:c.jsx("img",{src:v[K.id],alt:"",loading:"lazy"})}):Re(K.name),c.jsx("div",{className:He.playlistNameWrapper,children:c.jsx(Bu,{text:K.name,textClassName:He.playlistNameText,gap:12,speed:40,minDuration:6,pauseOnHover:!0,allowHTML:!1})}),c.jsx("span",{className:He.songCount,children:K.songs.length})]})})})}),c.jsxs(cs,{open:Ee,onOpenChange:et,children:[c.jsx(us,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon-sm",className:He.moreButton,title:s("moreOptions"),children:c.jsx(te,{name:"moreHorizontal",size:16,decorative:!0})})}),c.jsxs(Tl,{align:"end",sideOffset:8,children:[c.jsxs(vt,{onClick:()=>$e(K),children:[c.jsx(te,{name:"edit",size:16,style:{marginRight:8},decorative:!0}),s("playlist.renamePlaylist")]}),c.jsxs(vt,{onClick:()=>we(K),children:[c.jsx(te,{name:"share",size:16,style:{marginRight:8},decorative:!0}),s("playlist.sharePlaylist")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:()=>Me(K),children:[c.jsx(te,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToFolder")]}),c.jsxs(vt,{onClick:()=>{ue(K.id,null),he.success(s("playlist.movedToRoot",{item:K.name}))},children:[c.jsx(te,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToRoot")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:()=>qe(K,"json"),children:[c.jsx(te,{name:"download",size:16,style:{marginRight:8},decorative:!0}),s("playlist.exportJSON")]}),c.jsxs(vt,{onClick:()=>qe(K,"m3u"),children:[c.jsx(te,{name:"download",size:16,style:{marginRight:8},decorative:!0}),s("playlist.exportM3U")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:()=>st(K),className:He.deleteMenuItem,children:[c.jsx(te,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),s("playlist.deletePlaylist")]})]})]},`dropdown-${K.id}`)]})}),Mt=g.memo(({item:K,depth:Te,renderPlaylistItem:Ee})=>{const et=P.has(K.id),{open:Ie,setOpen:zt,containerRef:ht}=Au(!0);return c.jsxs(rE,{open:et,onOpenChange:()=>L(K.id),children:[c.jsxs("div",{className:He.playlistItemContainer,style:{marginLeft:`${Te*20}px`},"data-id":K.id,ref:ht,children:[c.jsx("div",{className:He.playlistItemMain,children:c.jsx(Lu,{id:K.id,type:"folder",data:K,children:c.jsx(ku,{id:K.id,type:"folder",data:K,className:He.playlistDropZone,children:c.jsx(oE,{asChild:!0,children:c.jsxs("button",{className:`${He.playlistItem} ${He.folderItem}`,style:{width:"100%"},children:[c.jsx(te,{name:"chevronDown",size:16,className:`${He.chevron} ${et?He.chevronOpen:""}`,decorative:!0}),c.jsx(te,{name:"list",size:16,decorative:!0}),c.jsx("div",{className:He.playlistNameWrapper,children:c.jsx(Bu,{text:K.name,textClassName:He.playlistNameText,gap:12,speed:40,minDuration:6,pauseOnHover:!0,allowHTML:!1})}),c.jsx("span",{className:He.songCount,children:K.children.length})]})})})})}),c.jsxs(cs,{open:Ie,onOpenChange:zt,children:[c.jsx(us,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon-sm",className:He.moreButton,title:s("moreOptions"),children:c.jsx(te,{name:"moreHorizontal",size:16,decorative:!0})})}),c.jsxs(Tl,{align:"end",sideOffset:8,children:[c.jsxs(vt,{onClick:()=>$e(K),children:[c.jsx(te,{name:"edit",size:16,style:{marginRight:8},decorative:!0}),s("playlist.renameFolder")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:()=>Me(K),children:[c.jsx(te,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToFolder")]}),c.jsxs(vt,{onClick:()=>{ue(K.id,null),he.success(s("playlist.movedToRoot",{item:K.name}))},children:[c.jsx(te,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToRoot")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:()=>{E(K),y(!0)},className:He.deleteMenuItem,children:[c.jsx(te,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),s("playlist.deleteFolder")]})]})]},`dropdown-${K.id}`)]}),c.jsx(cE,{children:c.jsxs("div",{children:[K.children.map(Ta=>Ee(Ta,Te+1)),K.children.length===0&&c.jsx("div",{style:{height:20,margin:"4px 0 4px 20px",color:"#999",fontSize:12,display:"flex",alignItems:"center",justifyContent:"center"},children:"Empty folder"})]})})]},K.id)});return c.jsxs("div",{className:He.playlistContainer,children:[c.jsxs("div",{className:He.searchContainer,children:[c.jsxs("div",{className:He.searchWrapper,children:[c.jsx("div",{className:He.searchIcon,children:c.jsx(te,{name:"music",size:16,decorative:!0})}),c.jsx("input",{type:"text",className:He.searchInput,placeholder:s("playlist.searchPlaylists"),value:r,onChange:K=>ct(K.target.value)})]}),c.jsxs(cs,{children:[c.jsx(us,{asChild:!0,children:c.jsx(de,{variant:"outline",size:"icon-md",className:He.actionButton,"aria-label":s("playlist.add"),children:c.jsx(te,{name:"plus",size:16,decorative:!0})})}),c.jsxs(Tl,{align:"end",sideOffset:8,children:[c.jsxs(vt,{onClick:lt,children:[c.jsx(te,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),s("playlist.addPlaylist")]}),c.jsxs(vt,{onClick:()=>ae(!0),children:[c.jsx(te,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),s("playlist.addFolder")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:ft,children:[c.jsx(te,{name:"upload",size:16,style:{marginRight:8},decorative:!0}),s("playlist.importPlaylist")]})]})]})]}),c.jsxs("div",{ref:bt,className:He.playlistList,style:{position:"relative"},children:[c.jsxs("button",{className:`${He.playlistItem} ${He.allSongsItem}`,onClick:Ct,children:[c.jsx(te,{name:"music",size:16,decorative:!0}),s("allSongs"),c.jsx("span",{className:He.songCount,children:I.songs.length})]}),c.jsxs("button",{className:`${He.playlistItem} ${He.favoritesItem}`,onClick:()=>mt({id:"favorites",name:s("favorites.favorites"),songs:I.songs.filter(K=>I.favorites.includes(K.id))}),children:[c.jsx(te,{name:"heart",size:16,decorative:!0}),s("favorites.favorites"),c.jsx("span",{className:He.songCount,children:I.favorites.length})]}),Oe.map(K=>St(K)),Oe.length===0&&r&&c.jsx("div",{className:He.noResults,children:s("noPlaylistsFound")})]}),c.jsx($n,{open:d,onOpenChange:m,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:s("playlist.createPlaylist")}),c.jsx(Hn,{children:s("playlist.enterPlaylistName")})]}),c.jsx("div",{style:{margin:"var(--spacing-4) 0"},children:c.jsx(Ja,{placeholder:s("playlist.enterPlaylistName"),value:f,onChange:K=>p(K.target.value),onKeyDown:K=>{K.key==="Enter"&&me()},autoFocus:!0})}),c.jsxs(ea,{children:[c.jsx(de,{variant:"outline",onClick:Ne,children:s("common.cancel")}),c.jsx(de,{onClick:me,disabled:!f.trim(),children:s("common.create")})]})]})}),c.jsx($n,{open:V,onOpenChange:q,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:s("playlist.moveToFolder")}),c.jsx(Hn,{children:s("playlist.selectFolderToMove",{item:j?.name})})]}),c.jsx("div",{className:Pe.spaceY4,children:R.map(({folder:K,path:Te})=>c.jsx(de,{variant:"outline",className:`${Pe["w-full"]} ${Pe["justify-start"]}`,onClick:()=>{j&&ue(j.id,K.id),he.success(s("playlist.movedToFolder",{item:j?.name,folder:K.name})),q(!1),G(null)},children:Te.length>0?`${Te.join(" / ")} / ${K.name}`:K.name},K.id))}),c.jsx(ea,{children:c.jsx(de,{variant:"outline",onClick:()=>q(!1),children:s("common.cancel")})})]})}),c.jsx($n,{open:w,onOpenChange:O,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:B&&"songs"in B?s("playlist.renamePlaylist"):s("playlist.renameFolder")}),c.jsx(Hn,{children:s("playlist.enterNewName")})]}),c.jsx("div",{className:Pe.spaceY4,children:c.jsx(Ja,{placeholder:s("playlist.enterName"),value:U,onChange:K=>D(K.target.value)})}),c.jsxs(ea,{children:[c.jsx(de,{variant:"outline",onClick:()=>O(!1),children:s("common.cancel")}),c.jsx(de,{onClick:()=>{B&&U.trim()&&(B.name=U.trim(),he.success(B&&"songs"in B?s("playlist.playlistRenamed",{name:U.trim()}):s("playlist.folderRenamed",{name:U.trim()})),O(!1),N(null),D(""))},children:s("common.save")})]})]})}),c.jsx($n,{open:_,onOpenChange:y,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:x&&"songs"in x?s("playlist.deletePlaylist"):s("playlist.deleteFolder")}),c.jsx(Hn,{children:x?"songs"in x?s("playlist.deletePlaylistConfirmation",{name:x.name}):s("playlist.deleteFolderConfirmation",{name:x.name}):""})]}),c.jsxs(ea,{children:[c.jsx(de,{variant:"outline",onClick:()=>y(!1),children:s("common.cancel")}),c.jsx(de,{variant:"destructive",onClick:oe,children:s("common.delete")})]})]})}),c.jsx($n,{open:W,onOpenChange:ae,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:s("playlist.createFolder")}),c.jsx(Hn,{children:s("playlist.enterFolderName")})]}),c.jsx("div",{className:Pe.spaceY4,children:c.jsx(Ja,{placeholder:s("playlist.folderName"),value:ce,onChange:K=>z(K.target.value)})}),c.jsxs(ea,{children:[c.jsx(de,{variant:"outline",onClick:()=>{ae(!1),z("")},children:s("common.cancel")}),c.jsx(de,{onClick:()=>{ce.trim()&&(re(ce.trim()),he.success(s("playlist.folderCreated",{name:ce.trim()})),ae(!1),z(""))},children:s("common.create")})]})]})})]})};g.memo(yb,(l,s)=>l.musicPlayerHook.library.playlists===s.musicPlayerHook.library.playlists&&l.musicPlayerHook.library.songs===s.musicPlayerHook.library.songs&&l.musicPlayerHook.library.favorites===s.musicPlayerHook.library.favorites);const gE="_sidebar_1sdop_1",yE="_collapsed_1sdop_15",pE="_expandButton_1sdop_28",vE="_header_1sdop_42",bE="_menuButton_1sdop_49",SE="_title_1sdop_57",_E="_footer_1sdop_160",xE="_footerButton_1sdop_167",TE="_noHover_1sdop_192",CE="_backdrop_1sdop_198",jE="_sidebarMobileOpen_1sdop_217",wE="_sidebarMobileClosed_1sdop_221",on={sidebar:gE,collapsed:yE,expandButton:pE,header:vE,menuButton:bE,title:SE,footer:_E,footerButton:xE,noHover:TE,backdrop:CE,sidebarMobileOpen:jE,sidebarMobileClosed:wE},EE="40px",AE="250px",NE=g.memo(({musicPlayerHook:l,onCollapseChange:s,onShortcutsChanged:r,settingsOpen:u,onSettingsOpenChange:d,isMobileOpen:m,onMobileOpenChange:f})=>{const{t:p}=Bt(),[v,b]=g.useState(!1),[_,y]=g.useState(!1),[x,E]=g.useState(!1),{settings:P,updateSettings:A}=l;g.useEffect(()=>{const w=()=>{E(window.innerWidth<=768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),g.useLayoutEffect(()=>{document.documentElement.style.setProperty("--sidebar-width",_?EE:AE)},[_]);const L=u!==void 0?u:!1,V=d||(()=>{}),q=()=>{b(!0)},j=()=>{V(!L)},G=()=>{if(x)f?.(!1);else{const w=!_;y(w),s?.(w)}},R=()=>{y(!1),s?.(!1)},T=()=>{x&&f?.(!1)};return _&&!x?c.jsx("div",{className:`${on.sidebar} ${on.collapsed}`,onClick:R,children:c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${on.expandButton} ${on.noHover}`,onClick:R,"aria-label":p("expandSidebar"),children:c.jsx(te,{name:"chevronRight",size:16,decorative:!0})})}):c.jsxs(c.Fragment,{children:[x&&m&&c.jsx("div",{className:on.backdrop,onClick:T,"aria-label":p("closeSidebar")}),c.jsxs("div",{className:`${on.sidebar} ${x&&m?on.sidebarMobileOpen:""} ${x&&!m?on.sidebarMobileClosed:""}`,children:[c.jsxs("div",{className:on.header,children:[c.jsx(de,{variant:"ghost",size:"icon-md",className:on.menuButton,onClick:G,"aria-label":p("menu"),children:c.jsx(te,{name:"menu",size:24,decorative:!0})}),c.jsx("h2",{className:on.title,children:p("playlists")})]}),c.jsx(yb,{musicPlayerHook:l}),c.jsxs("div",{className:on.footer,children:[c.jsx(Y_,{}),c.jsxs(de,{variant:"ghost",className:on.footerButton,onClick:q,children:[c.jsx(te,{name:"info",size:16,decorative:!0}),p("aboutMenu")]}),c.jsxs(de,{variant:"ghost",className:on.footerButton,onClick:j,children:[c.jsx(te,{name:"settings",size:16,decorative:!0}),p("settings.title")]}),c.jsx(CC,{open:L,onOpenChange:V,settings:P,onSettingsChange:A,onShortcutsChanged:r})]}),c.jsx($n,{open:v,onOpenChange:b,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:p("aboutHTMLPlayer")}),c.jsx(Hn,{children:p("aboutHTMLPlayerDesc")})]}),c.jsx(ea,{children:c.jsx(de,{onClick:()=>b(!1),children:p("common.close")})})]})})]})]})},(l,s)=>l.musicPlayerHook.library.playlists===s.musicPlayerHook.library.playlists&&l.musicPlayerHook.library.songs===s.musicPlayerHook.library.songs&&l.musicPlayerHook.library.favorites===s.musicPlayerHook.library.favorites&&l.musicPlayerHook.settings===s.musicPlayerHook.settings&&l.settingsOpen===s.settingsOpen&&l.isMobileOpen===s.isMobileOpen),pb=({songs:l,library:s,onCreatePlaylist:r,onAddToPlaylist:u,onAddToFavorites:d,isFavorited:m,open:f,onOpenChange:p})=>{const{t:v}=Bt(),[b,_]=g.useState(""),[y,x]=g.useState(""),[E,P]=g.useState(!1),A=T=>{const w=[];for(const O of T)"children"in O?w.push(...A(O.children)):"songs"in O&&w.push(O);return w},L=A(s.playlists).filter(T=>T.id!=="all-songs"),V=b?L.filter(T=>T.name.toLowerCase().includes(b.toLowerCase())):L,q=T=>{let w=0,O=0;l.forEach(B=>{T.songs.some(U=>U.id===B.id)?O++:(u(T.id,B.id),w++)}),w>0&&he.success(l.length===1?v("addedToPlaylist",{song:l[0].title,playlist:T.name}):v("playlist.addedToExisting",{count:w})),O>0&&he.info(l.length===1?v("songAlreadyInPlaylist",{song:l[0].title,playlist:T.name}):v("playlist.someAlreadyInPlaylist",{count:O})),p(!1),_("")},j=()=>{if(!y.trim()){he.error(v("playlist.enterPlaylistName"));return}const T=r(y,l);he.success(l.length===1?v("createdNewPlaylistAddedSong",{playlist:T.name,song:l[0].title}):v("playlist.created",{name:T.name,count:l.length})),x(""),P(!1),p(!1),_("")},G=()=>{if(!d)return;let T=0,w=0;l.forEach(O=>{m&&m(O.id)?w++:(d(O.id),T++)}),T>0&&he.success(l.length===1?v("favorites.added",{title:l[0].title}):v("favorites.addedMultiple",{count:T})),w>0&&l.length>1&&he.info(v("favorites.someAlreadyAdded",{count:w})),p(!1)},R=()=>{p(!1),_(""),P(!1),x("")};return c.jsx($n,{open:f,onOpenChange:R,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:v("actions.addTo")}),c.jsx(Hn,{children:l.length===1?v("choosePlaylistOrCreate",{song:l[0].title}):v("choosePlaylistOrCreateMultiple",{count:l.length})})]}),E?c.jsxs("div",{className:Pe.spaceY4,children:[c.jsx(Ja,{placeholder:v("playlist.enterPlaylistName"),value:y,onChange:T=>x(T.target.value),onKeyDown:T=>{T.key==="Enter"&&j()},autoFocus:!0}),c.jsxs("div",{className:`${Pe.flex} ${Pe.gap2}`,children:[c.jsx(de,{variant:"outline",onClick:()=>{P(!1),x("")},children:v("common.cancel")}),c.jsx(de,{onClick:j,children:v("playlist.createPlaylist")})]})]}):c.jsxs("div",{className:Pe.spaceY4,children:[d&&c.jsxs("div",{className:Pe.spaceY2,children:[c.jsxs(de,{variant:"outline",className:`${Pe["w-full"]} ${Pe["justify-start"]}`,onClick:G,children:[c.jsx(te,{name:"heart",size:16,className:"mr-2",decorative:!0}),v("favorites.addToFavorites")]}),c.jsxs(de,{variant:"outline",className:`${Pe["w-full"]} ${Pe["justify-start"]}`,onClick:()=>P(!0),children:[c.jsx(te,{name:"plusCircle",size:16,className:"mr-2",decorative:!0}),v("playlist.createNewPlaylist")]})]}),!d&&c.jsxs(de,{variant:"outline",className:`${Pe["w-full"]} ${Pe["justify-start"]}`,onClick:()=>P(!0),children:[c.jsx(te,{name:"plusCircle",size:16,className:"mr-2",decorative:!0}),v("playlist.createNewPlaylist")]}),L.length>0&&c.jsx("div",{style:{borderTop:"1px solid var(--border)",margin:"var(--spacing-2) 0"}}),L.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{position:"relative"},children:[c.jsx(te,{name:"search",size:16,style:{position:"absolute",left:"var(--spacing-3)",top:"50%",transform:"translateY(-50%)",color:"var(--muted-foreground)",pointerEvents:"none"},decorative:!0}),c.jsx(Ja,{placeholder:v("playlist.searchPlaylists"),value:b,onChange:T=>_(T.target.value),style:{paddingLeft:"calc(var(--spacing-3) + 16px + var(--spacing-2))"}})]}),c.jsx("div",{className:Pe.spaceY2,style:{maxHeight:"300px",overflowY:"auto",paddingRight:"var(--spacing-2)"},children:V.length>0?V.map(T=>c.jsxs(de,{variant:"outline",className:`${Pe["w-full"]} ${Pe["justify-start"]}`,onClick:()=>q(T),children:[c.jsx(te,{name:"music",size:16,className:"mr-2",decorative:!0}),T.name]},T.id)):c.jsx("p",{className:Pe.muted,children:v("search.noPlaylistsFound")})})]}),L.length===0&&c.jsx("p",{className:Pe.muted,children:v("playlist.noPlaylists")})]})]})})},vb=({song:l,library:s,onCreatePlaylist:r,onAddToPlaylist:u,onAddToFavorites:d,isFavorited:m,onRemoveSong:f,size:p=16,className:v="",open:b,onOpenChange:_})=>{const{t:y}=Bt(),[x,E]=g.useState(!1),[P,A]=g.useState(!1),[L,V]=g.useState(!1),[q,j]=g.useState(!1),G=b!==void 0?b:q,R=_||j,T=me=>{const Ne=Math.round(me),st=Math.floor(Ne/60),oe=Ne%60;return`${st}:${oe.toString().padStart(2,"0")}`},w=me=>{if(typeof me!="number"||!Number.isFinite(me)||me<=0)return null;const Ne=Math.round(me/1e3);return y("songInfo.kbps",{value:Ne.toLocaleString()})},O=me=>{if(typeof me!="number"||!Number.isFinite(me)||me<=0)return null;const Ne=me/1e3,st=Ne>=100?Ne.toFixed(0):Ne>=10?Ne.toFixed(1):Ne.toFixed(2);return y("songInfo.khz",{value:st})},B=me=>typeof me!="number"||!Number.isFinite(me)||me<=0?null:me===1?y("songInfo.channelMono"):me===2?y("songInfo.channelStereo"):y("songInfo.channelCount",{count:me}),N=me=>typeof me!="number"||!Number.isFinite(me)||me<=0?null:y("songInfo.bitDepthValue",{value:me}),U=me=>me?.trim()||null,D=me=>typeof me!="boolean"?null:y(me?"songInfo.yes":"songInfo.no"),W=l.encoding?.sampleRate,ae=me=>{if(typeof me!="number"||!Number.isFinite(me)||me<=0)return null;const Ne=y("songInfo.samples",{count:Math.round(me),defaultValue:`${Math.round(me).toLocaleString()} samples`});if(typeof W=="number"&&Number.isFinite(W)&&W>0){const st=me/W*1e3,oe=st>=100?0:st>=10?1:2,we=(Math.round(st*Math.pow(10,oe))/Math.pow(10,oe)).toFixed(oe);return`${Ne} (${y("songInfo.ms",{value:we})})`}return Ne},ce=[{label:y("songInfo.title"),value:l.title},{label:y("common.artist"),value:l.artist},{label:y("common.album"),value:l.album},{label:y("common.duration"),value:T(l.duration)}],z=U(l.encoding?.codec)??y("songInfo.notAvailable"),I=w(l.encoding?.bitrate)??y("songInfo.notAvailable"),X=O(l.encoding?.sampleRate)??y("songInfo.notAvailable"),se=B(l.encoding?.channels)??y("songInfo.notAvailable"),re=N(l.encoding?.bitsPerSample)??y("songInfo.notAvailable"),ve=[{label:y("songInfo.codec"),value:z},{label:y("songInfo.bitrate"),value:I},{label:y("songInfo.sampleRate"),value:X},{label:y("songInfo.channels"),value:se},{label:y("songInfo.bitDepth"),value:re}];l.encoding?.container?.trim()&&ve.push({label:y("songInfo.container"),value:l.encoding.container.trim()}),l.encoding?.profile?.trim()&&ve.push({label:y("songInfo.profile"),value:l.encoding.profile.trim()});const ue=D(l.encoding?.lossless);ue&&ve.push({label:y("songInfo.lossless"),value:ue});const fe=[{label:y("songInfo.encoderDelay"),value:ae(l.gapless?.encoderDelay)},{label:y("songInfo.encoderPadding"),value:ae(l.gapless?.encoderPadding)}].filter(me=>!!me.value),_e=me=>c.jsx("dl",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr) auto",columnGap:"var(--spacing-6)",rowGap:"var(--spacing-2)"},children:me.map(({label:Ne,value:st})=>c.jsxs(g.Fragment,{children:[c.jsx("dt",{style:{fontWeight:600},children:Ne}),c.jsx("dd",{style:{margin:0,textAlign:"right",color:"var(--muted-foreground)"},children:st})]},`${Ne}-${st}`))}),We=()=>V(!0),Oe=async()=>{const me={title:`${l.title} - ${l.artist}`,text:y("listenToSong",{song:l.title,artist:l.artist}),url:window.location.href};try{if(navigator.share&&navigator.canShare&&navigator.canShare(me))await navigator.share(me),he.success(y("songShared"));else{const Ne=` ${me.title}
${me.text}
${me.url}`;await navigator.clipboard.writeText(Ne),he.success(y("songInfoCopied"))}}catch(Ne){console.error("Failed to share:",Ne);try{await navigator.clipboard.writeText(`${l.title} by ${l.artist}`),he.success(y("songInfoCopied"))}catch(st){console.error("Failed to copy to clipboard:",st),he.error(y("songShareFailed"))}}},ct=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{view:"artist",value:l.artist}}))},mt=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{view:"album",value:l.album}}))},Ct=()=>A(!0),lt=()=>{f(l.id),he.success(y("deletedFromLibrary",{song:l.title})),A(!1)};return c.jsxs(cs,{open:G,onOpenChange:R,children:[c.jsx(us,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon-sm",className:v,title:y("moreOptions"),onClick:me=>me.stopPropagation(),children:c.jsx(te,{name:"moreHorizontal",size:p,decorative:!0})})}),c.jsxs(Tl,{align:"end",sideOffset:8,children:[c.jsxs(vt,{onClick:()=>E(!0),children:[c.jsx(te,{name:"plus",size:p,style:{marginRight:8},decorative:!0}),y("playlist.addTo")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:We,children:[c.jsx(te,{name:"info",size:p,style:{marginRight:8},decorative:!0}),y("songInfo.songInfoTitle")]}),c.jsxs(vt,{onClick:Oe,children:[c.jsx(te,{name:"share",size:p,style:{marginRight:8},decorative:!0}),y("share")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:ct,children:[c.jsx(te,{name:"user",size:p,style:{marginRight:8},decorative:!0}),y("goToArtist")]}),c.jsxs(vt,{onClick:mt,children:[c.jsx(te,{name:"music",size:p,style:{marginRight:8},decorative:!0}),y("goToAlbum")]}),c.jsx(Wn,{}),c.jsxs(vt,{onClick:Ct,className:Pe.delete,children:[c.jsx(te,{name:"trash2",size:p,style:{marginRight:8},decorative:!0}),y("deleteFromLibrary")]})]}),c.jsx(pb,{songs:[l],library:s,onCreatePlaylist:r,onAddToPlaylist:u,onAddToFavorites:d,isFavorited:m,open:x,onOpenChange:E}),c.jsx($n,{open:P,onOpenChange:A,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:y("deleteSong")}),c.jsx(Hn,{children:y("deleteSongConfirmation",{song:l.title})})]}),c.jsxs(ea,{children:[c.jsx(de,{variant:"outline",onClick:()=>A(!1),children:y("common.cancel")}),c.jsx(de,{variant:"destructive",onClick:lt,children:y("common.delete")})]})]})}),c.jsx($n,{open:L,onOpenChange:V,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:y("songInformation")}),c.jsx(Hn,{children:y("songInformationDescription")})]}),c.jsxs("div",{style:{display:"flex",gap:"var(--spacing-4)"},children:[l.albumArt&&c.jsx("img",{src:l.albumArt,alt:l.album,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"var(--radius-2)"}}),c.jsxs("div",{className:Pe.spaceY4,style:{flex:1},children:[c.jsx("div",{children:_e(ce)}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:0,marginBottom:"var(--spacing-2)",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.08em",color:"var(--muted-foreground)"},children:y("songInfo.encodingDetails")}),_e(ve)]}),fe.length>0&&c.jsxs("div",{children:[c.jsx("h4",{style:{margin:0,marginBottom:"var(--spacing-2)",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.08em",color:"var(--muted-foreground)"},children:y("songInfo.gapless")}),_e(fe)]})]})]}),c.jsx(ea,{children:c.jsx(de,{onClick:()=>V(!1),children:y("common.close")})})]})})]})},DE="_checkboxWrapper_13lc5_2",ME="_checkbox_13lc5_2",zE="_checkmark_13lc5_51",Eu={checkboxWrapper:DE,checkbox:ME,checkmark:zE},bb=g.forwardRef(({className:l,...s},r)=>c.jsxs("div",{className:Eu.checkboxWrapper,children:[c.jsx("input",{...s,type:"checkbox",ref:r,className:`${Eu.checkbox} ${l||""}`}),c.jsx(te,{name:"check",className:Eu.checkmark,size:"1rem",decorative:!0})]}));bb.displayName="Checkbox";function OE(l){if(!l)return;const s={bitrate:typeof l.bitrate=="number"?l.bitrate:void 0,codec:typeof l.codec=="string"?l.codec:void 0,sampleRate:typeof l.sampleRate=="number"?l.sampleRate:void 0,channels:typeof l.numberOfChannels=="number"?l.numberOfChannels:void 0,bitsPerSample:typeof l.bitsPerSample=="number"?l.bitsPerSample:void 0,container:typeof l.container=="string"?l.container:void 0,lossless:typeof l.lossless=="boolean"?l.lossless:void 0,profile:typeof l.codecProfile=="string"?l.codecProfile:void 0};return Object.values(s).some(r=>r!==void 0)?s:void 0}function Sb(l){if(typeof l=="string")return l;if(l instanceof Uint8Array)try{return new TextDecoder("utf-8",{fatal:!1}).decode(l)}catch{return null}return Array.isArray(l)&&l.length>0?Sb(l[0]):null}function og(l){const s=Sb(l);if(!s)return null;const r=s.trim();if(!r)return null;const u=r.match(/[0-9A-Fa-f]{8}/g);if(!u||u.length<3)return null;const d=u[1],m=u[2],f=Number.parseInt(d,16),p=Number.parseInt(m,16),v={};return Number.isFinite(f)&&f>0&&(v.encoderDelay=f),Number.isFinite(p)&&p>0&&(v.encoderPadding=p),Object.keys(v).length>0?v:null}function RE(l){if(!l)return;let s;const r=l.format??{},u=typeof r.encoderDelay=="number"?r.encoderDelay:void 0;typeof u=="number"&&Number.isFinite(u)&&u>0&&(s={...s??{},encoderDelay:u});const d=typeof r.encoderPadding=="number"?r.encoderPadding:void 0;typeof d=="number"&&Number.isFinite(d)&&d>0&&(s={...s??{},encoderPadding:d});for(const m of Object.values(l?.native??{}))if(Array.isArray(m))for(const f of m){const p=typeof f?.id=="string"?f.id.toUpperCase():"";if(p){if(p==="ITUNSMPB"||p.endsWith(":ITUNSMPB")){const v=og(f?.value);v&&(s={...s??{},...v});continue}if(p==="MP4:----:COM.APPLE.ITUNES:ITUNSMPB"||p==="----:COM.APPLE.ITUNES:ITUNSMPB"){const v=og(f?.value);v&&(s={...s??{},...v})}}}return s}let _b=!1;const cg=l=>{_b&&(l.preventDefault(),l.returnValue="")};function ug(l){_b=l,l?window.addEventListener("beforeunload",cg):window.removeEventListener("beforeunload",cg)}async function dg(l,s,r,u){let d=null;for(let m=1;m<=r;m++)try{const f=new Promise((p,v)=>{setTimeout(()=>v(new Error(`Timeout: ${u}`)),s)});return await Promise.race([l,f])}catch(f){if(d=f instanceof Error?f:new Error(String(f)),console.warn(`Attempt ${m} failed: ${d.message}`),m===r)throw d}throw d||new Error("Unknown error after retries")}function LE(){return new Promise(l=>{const s=()=>{const{t:d}=Bt(),[m]=g.useState(()=>new C_({autoProceed:!1,restrictions:{maxNumberOfFiles:null,allowedFileTypes:[".mp3",".wav",".m4a",".flac",".aif",".aiff",".ogg","audio/*"]}})),[f,p]=g.useState(!0),[v,b]=g.useState(document.documentElement.classList.contains("dark")?"dark":"light");return g.useEffect(()=>{const _=new MutationObserver(()=>{const y=document.documentElement.classList.contains("dark")?"dark":"light";b(y)});return _.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>_.disconnect()},[]),g.useEffect(()=>{const _=[],y=E=>{const P=kE([E.data]);P.length===0?m.removeFile(E.id):_.push(...P)},x=()=>{l(_),p(!1)};return m.on("file-added",y),m.on("complete",x),()=>{m.off("file-added",y),m.off("complete",x),m.cancelAll()}},[m]),c.jsx(Hu,{defaultSetId:"lucide",children:c.jsx($n,{open:f,onOpenChange:_=>{p(_),_||(m.cancelAll(),l([]))},children:c.jsxs(Dn,{children:[c.jsx(Mn,{children:c.jsx(zn,{children:d("filePicker.selectAudioFiles")})}),c.jsx("div",{"data-uppy-theme":v,children:c.jsx(j_,{uppy:m,proudlyDisplayPoweredByUppy:!0,hideUploadButton:!1,hideCancelButton:!0,hideProgressDetails:!1,note:d("filePicker.onlyAudioFiles")})},v)]})})})},r=document.createElement("div");document.body.appendChild(r),Rg.createRoot(r).render(c.jsx(s,{}))})}function kE(l){const s=[],r=document.createElement("audio"),u=["mp3","wav","m4a","flac","aif","aiff","ogg"];for(const d of l){const m=d.name.split(".").pop()?.toLowerCase();if(!d.type.startsWith("audio/")&&!(m&&u.includes(m))){he.error(`Skipping non-audio file: ${d.name}`);continue}const f=r.canPlayType(d.type);if(f!=="probably"&&f!=="maybe"){he.error(`Skipping unsupported audio format by browser: ${d.name} (${d.type})`);continue}s.push({file:d,name:d.name,size:d.size,type:d.type})}return s}async function BE(l){ug(!0);const s=new Worker(new URL(""+new URL("metadataWorker-rKmvznKw.js",import.meta.url).href,import.meta.url),{type:"module"});try{return await dg(new Promise((u,d)=>{s.onmessage=m=>{const{metadata:f,albumArt:p,warnings:v,error:b}=m.data;if(b)d(new Error(b));else{const _={...f,artist:f.artist==="__UNKNOWN_ARTIST__"?Ge.t("common.unknownArtist"):f.artist,album:f.album==="__UNKNOWN_ALBUM__"?Ge.t("common.unknownAlbum"):f.album,albumArt:p,metadataWarnings:Array.isArray(v)?v:void 0};if(Array.isArray(v)&&v.length>0)for(const y of v)console.warn(`Metadata warning for ${l.name}:`,y);u(_)}},s.onerror=m=>d(new Error("Worker error: "+m.message)),s.postMessage({file:l,fileName:l.name})}),15e3,3,`Metadata extraction for ${l.name}`)}catch(r){console.warn(`Failed to read metadata for ${l.name}:`,r);const u=l.name.replace(/\.[^/.]+$/,"");let d=u,m=Ge.t("common.unknownArtist"),f=Ge.t("common.unknownAlbum"),p=0,v,b,_;try{const y=await dg(p_(l,{skipCovers:!1,duration:!0}),15e3,3,`Fallback metadata parsing for ${l.name}`);if(y.common){typeof y.common.artist=="string"&&(m=y.common.artist),typeof y.common.title=="string"&&(d=y.common.title),typeof y.common.album=="string"&&(f=y.common.album),p=y.format.duration??0,b=OE(y.format),_=RE(y);const x=v_(y.common.picture);if(x&&x.data.length>0){const E=new Blob([new Uint8Array(x.data)],{type:x.format});v=await new Promise((P,A)=>{const L=new FileReader;L.onloadend=()=>P(L.result),L.onerror=()=>A(new Error("Failed to read album art")),L.readAsDataURL(E)})}}}catch{if(u.includes(" - ")){const y=u.split(" - ");y.length>=2&&(m=y[0].trim(),d=y[1].trim())}}return{title:d,artist:m,album:f,duration:p,albumArt:v,encoding:b,gapless:_}}finally{s.terminate(),ug(!1)}}function UE(l){return URL.createObjectURL(l)}function $E(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}const HE="_mainContent_hgzmk_2",VE="_mainContentWrapper_hgzmk_12",qE="_header_hgzmk_19",IE="_titleArea_hgzmk_34",FE="_mobileMenuButton_hgzmk_41",YE="_title_hgzmk_34",PE="_backLink_hgzmk_55",GE="_actions_hgzmk_71",XE="_searchWrapper_hgzmk_79",QE="_searchIcon_hgzmk_84",ZE="_searchInput_hgzmk_93",KE="_actionButton_hgzmk_106",JE="_sortingControls_hgzmk_129",WE="_sortControls_hgzmk_136",eA="_sortPresets_hgzmk_144",tA="_sortIndicators_hgzmk_149",nA="_sortColumn_hgzmk_155",aA="_sorted_hgzmk_172",lA="_arrows_hgzmk_177",sA="_active_hgzmk_188",iA="_desktopOnly_hgzmk_194",rA="_mobileOnly_hgzmk_198",oA="_songList_hgzmk_228",cA="_songListWrapper_hgzmk_234",uA="_songListHeader_hgzmk_241",dA="_columnHeader_hgzmk_249",fA="_songItem_hgzmk_258",mA="_currentSong_hgzmk_275",hA="_songInfo_hgzmk_285",gA="_albumArt_hgzmk_291",yA="_songDetails_hgzmk_326",pA="_songTitle_hgzmk_332",vA="_songArtist_hgzmk_340",bA="_albumName_hgzmk_346",SA="_songActions_hgzmk_362",_A="_songDropZone_hgzmk_368",xA="_songActionButton_hgzmk_380",TA="_favorited_hgzmk_394",CA="_noResults_hgzmk_399",jA="_fieldLabel_hgzmk_524",dt={mainContent:HE,mainContentWrapper:VE,header:qE,titleArea:IE,mobileMenuButton:FE,title:YE,backLink:PE,actions:GE,searchWrapper:XE,searchIcon:QE,searchInput:ZE,actionButton:KE,sortingControls:JE,sortControls:WE,sortPresets:eA,sortIndicators:tA,sortColumn:nA,sorted:aA,arrows:lA,active:sA,desktopOnly:iA,mobileOnly:rA,songList:oA,songListWrapper:cA,songListHeader:uA,columnHeader:dA,songItem:fA,currentSong:mA,songInfo:hA,albumArt:gA,songDetails:yA,songTitle:pA,songArtist:vA,albumName:bA,songActions:SA,songDropZone:_A,songActionButton:xA,favorited:TA,noResults:CA,fieldLabel:jA},wA="_persistentDropdown_1envf_1",EA="_content_1envf_6",fg={persistentDropdown:wA,content:EA},mg=g.forwardRef(({children:l,trigger:s,onClose:r,enableRightClick:u=!1},d)=>{const[m,f]=g.useState(!1),p=g.useRef(null),v=()=>{f(!m)},b=()=>{f(!1),r()};g.useImperativeHandle(d,()=>({close:b}));const _=y=>{u&&(y.preventDefault(),y.stopPropagation(),f(!0))};return g.useEffect(()=>{const y=x=>{p.current&&p.current.contains(x.target)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[l,v,r]),c.jsxs("div",{className:fg.persistentDropdown,ref:p,onContextMenu:_,children:[c.jsx("div",{onClick:()=>{v()},children:s}),m&&c.jsx("div",{className:fg.content,children:l})]})}),AA=({song:l,isCurrent:s,isSelected:r,onClick:u,onCheckboxChange:d,isSelectActive:m,ratings:f,onRatingChange:p,onFavoriteToggle:v,isFavorited:b,formatDuration:_,styles:y,SongActionsDropdown:x,library:E,createPlaylist:P,addToPlaylist:A,playSong:L,removeSong:V,isInPlaylist:q})=>{const{t:j}=Bt(),{open:G,setOpen:R,containerRef:T}=Au(!0),w=c.jsxs("div",{className:`${y.songItem} ${s?y.currentSong:""}`,onClick:u,ref:T,children:[c.jsxs("div",{className:y.songInfo,children:[m&&c.jsx(bb,{checked:r,onChange:d}),c.jsx("div",{className:y.albumArt,children:l.albumArt&&c.jsx("img",{src:l.albumArt,alt:j("player.albumArtAlt",{title:l.title}),style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"}})}),c.jsxs("div",{className:y.songDetails,children:[c.jsx("div",{className:y.songTitle,children:l.title}),c.jsxs("div",{className:y.songArtist,children:[c.jsxs("span",{className:`${y.fieldLabel}`,children:[j("common.album"),": "]}),l.album||j("common.unknownAlbum"),c.jsxs("span",{className:`${y.fieldLabel} ${y.desktopOnly}`,children:[" ",j("common.duration"),": ",_(l.duration)]})]}),c.jsxs("div",{className:`${y.albumName} ${y.mobileOnly}`,children:[c.jsxs("span",{className:y.fieldLabel,children:[j("common.artist"),": "]}),l.artist]})]})]}),c.jsx("div",{className:`${y.albumName} ${y.desktopOnly}`,children:l.artist}),c.jsxs("div",{className:y.songActions,children:[c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${y.songActionButton} ${b?y.favorited:""}`,onClick:O=>{O.stopPropagation(),v(O)},children:c.jsx(te,{name:"heart",size:14,fill:b?"currentColor":"none",decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${y.songActionButton} ${f[l.id]==="thumbs-up"?y.active:""}`,onClick:O=>{O.stopPropagation(),p("thumbs-up")},children:c.jsx(te,{name:"thumbsUp",size:14,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${y.songActionButton} ${f[l.id]==="thumbs-down"?y.active:""}`,onClick:O=>{O.stopPropagation(),p("thumbs-down")},children:c.jsx(te,{name:"thumbsDown",size:14,decorative:!0})}),c.jsx(x,{song:l,library:E,onCreatePlaylist:P,onAddToPlaylist:A,onRemoveSong:V,onPlaySong:L,size:14,className:y.songActionButton,open:G,onOpenChange:R})]})]});return c.jsx(Lu,{id:l.id,type:"song",data:l,children:q?c.jsx(ku,{id:l.id,type:"song",data:l,className:y.songDropZone,children:w}):w})},NA=({musicPlayerHook:l,onMobileMenuClick:s})=>{const{t:r}=Bt(),[u,d]=g.useState(""),[m,f]=g.useState(null),[p,v]=g.useState("asc"),[b,_]=g.useState({}),[y,x]=g.useState(!1),[E,P]=g.useState(null),[A,L]=g.useState([]),[V,q]=g.useState(!1),[j,G]=g.useState(!1),R=Je.useRef(null),{playerState:T,library:w,playSong:O,addSong:B,removeSong:N,toggleFavorite:U,isFavorited:D,createPlaylist:W,addToPlaylist:ae,navigateToArtist:ce,navigateToAlbum:z,navigateToSongs:I}=l;Je.useEffect(()=>{const oe=we=>{we.detail.view==="artist"?ce(we.detail.value):we.detail.view==="album"&&z(we.detail.value)};return window.addEventListener("navigate",oe),()=>window.removeEventListener("navigate",oe)},[ce,z]),Je.useEffect(()=>{T.currentPlaylist&&(f(null),v("asc"))},[T.currentPlaylist]);const se=Je.useMemo(()=>T.view==="artist"&&T.currentArtist?w.songs.filter(oe=>oe.artist===T.currentArtist):T.view==="album"&&T.currentAlbum?w.songs.filter(oe=>oe.album===T.currentAlbum):T.currentPlaylist?T.currentPlaylist.songs:w.songs,[T.view,T.currentArtist,T.currentAlbum,T.currentPlaylist,w.songs]).filter(oe=>oe.title.toLowerCase().includes(u.toLowerCase())||oe.artist.toLowerCase().includes(u.toLowerCase())),re=Je.useMemo(()=>{let oe=[...se];return m&&oe.sort((we,qe)=>{let Re,ft;switch(m){case"name":Re=we.title.toLowerCase(),ft=qe.title.toLowerCase();break;case"artist":Re=we.artist.toLowerCase(),ft=qe.artist.toLowerCase();break;case"album":Re=we.album?.toLowerCase()||"",ft=qe.album?.toLowerCase()||"";break;case"rating":Re=b[we.id]==="thumbs-up"?1:b[we.id]==="thumbs-down"?-1:0,ft=b[qe.id]==="thumbs-up"?1:b[qe.id]==="thumbs-down"?-1:0;break;default:return 0}return Re<ft?p==="asc"?-1:1:Re>ft?p==="asc"?1:-1:0}),oe},[se,m,p,b]),ve=oe=>d(oe),ue=oe=>{O(oe,T.currentPlaylist||void 0)},fe=(oe,we)=>{const Re=b[oe]===we?"none":we;_(ft=>({...ft,[oe]:Re}))},_e=(oe,we)=>{oe.stopPropagation();const qe=U(we),Re=w.songs.find(ft=>ft.id===we);Re&&he.success(qe?r("favorites.added",{title:Re.title}):r("favorites.removed",{title:Re.title}))},We=()=>{if(se.length===0){he.error(r("delete.noSongs"));return}P(se[0]),x(!0)},Oe=()=>{E&&(N(E.id),he.success(r("deletedFromLibrary",{song:E.title})),x(!1),P(null))},ct=()=>{x(!1),P(null)},mt=async()=>{try{he.info(r("filePicker.selectFiles"));const oe=await LE();if(oe.length===0)return;const we=20;let qe=0,Re=0,ft=1;const Me=Math.ceil(oe.length/we);for(let $e=0;$e<oe.length;$e+=we){const bt=oe.slice($e,$e+we);he.loading(r("batch.processing",{currentBatch:ft,totalBatches:Me}));const St=bt.map(async it=>{try{const Mt=await BE(it.file),K=UE(it.file),Te={id:$E(),title:Mt.title,artist:Mt.artist,album:Mt.album||r("songInfo.album",{title:r("common.unknownAlbum")}),duration:Mt.duration,url:K,albumArt:Mt.albumArt,embeddedLyrics:Mt.embeddedLyrics,encoding:Mt.encoding,gapless:Mt.gapless};await B(Te),URL.revokeObjectURL(K),it.file=null,qe++}catch{Re++}});await Promise.all(St),ft++}he.dismiss(),qe>0&&he.success(r("filePicker.successImport",{count:qe})),Re>0&&he.error(r("filePicker.failedImport",{count:Re}))}catch{he.dismiss(),he.error(r("filePicker.failedOpen"))}},Ct=oe=>{const we=Math.floor(oe/60),qe=Math.round(oe%60);return`${we}:${qe.toString().padStart(2,"0")}`},lt=()=>{q(oe=>!oe),L([])},me=()=>{A.length===re.length?L([]):L(re.map(oe=>oe.id))},Ne=()=>G(!0),st=()=>{A.forEach(oe=>N(oe)),he.success(r("deletedFromLibrary",{song:A.length})),L([])};return c.jsxs("div",{className:dt.mainContentWrapper,children:[c.jsxs("div",{className:dt.header,children:[c.jsxs("div",{className:dt.titleArea,children:[c.jsx(de,{variant:"ghost",size:"icon-md",className:dt.mobileMenuButton,onClick:s,"aria-label":r("menu"),children:c.jsx(te,{name:"menu",size:24,decorative:!0})}),T.view==="songs"?c.jsx("h1",{className:dt.title,children:"HTMLPlayer"}):T.view==="artist"?c.jsxs(c.Fragment,{children:[c.jsx(de,{variant:"link",onClick:I,className:dt.backLink,children:r("actions.back")}),c.jsx("h1",{className:dt.title,children:`${r("common.artist")}: ${T.currentArtist}`})]}):T.view==="album"?c.jsxs(c.Fragment,{children:[c.jsx(de,{variant:"link",onClick:I,className:dt.backLink,children:r("actions.back")}),c.jsx("h1",{className:dt.title,children:`${r("common.album")}: ${T.currentAlbum}`})]}):null]}),c.jsxs("div",{className:dt.actions,children:[c.jsxs("div",{className:dt.searchWrapper,children:[c.jsx(te,{name:"search",className:dt.searchIcon,size:16,decorative:!0}),c.jsx(Ja,{placeholder:r("search.placeholder"),className:dt.searchInput,value:u,onChange:oe=>ve(oe.target.value)})]}),c.jsx(de,{variant:"outline",size:"icon-md",className:dt.actionButton,onClick:We,"aria-label":r("actions.delete"),children:c.jsx(te,{name:"trash2",size:16,decorative:!0})}),c.jsxs(mg,{ref:R,trigger:c.jsx(de,{variant:"outline",size:"icon-md",className:dt.actionButton,"aria-label":r("sort.sortBy"),children:c.jsx(te,{name:"arrowUpDown",size:16,decorative:!0})}),onClose:()=>{},children:[c.jsxs(de,{variant:"ghost",onClick:()=>f("name"),className:"w-full justify-start text-sm",children:[c.jsx(te,{name:"type",size:16,className:"mr-2",decorative:!0}),r("sort.name"),m==="name"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(de,{variant:"ghost",onClick:()=>f("artist"),className:"w-full justify-start text-sm",children:[c.jsx(te,{name:"user",size:16,className:"mr-2",decorative:!0}),r("sort.artist"),m==="artist"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(de,{variant:"ghost",onClick:()=>f("album"),className:"w-full justify-start text-sm",children:[c.jsx(te,{name:"disc",size:16,className:"mr-2",decorative:!0}),r("sort.album"),m==="album"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(de,{variant:"ghost",onClick:()=>f("rating"),className:"w-full justify-start text-sm",children:[c.jsx(te,{name:"star",size:16,className:"mr-2",decorative:!0}),r("sort.rating"),m==="rating"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs(de,{variant:"ghost",onClick:()=>v(p==="asc"?"desc":"asc"),className:"w-full justify-start text-sm",children:[p==="asc"?c.jsx(te,{name:"arrowUp",size:16,className:"mr-2",decorative:!0}):c.jsx(te,{name:"arrowDown",size:16,className:"mr-2",decorative:!0}),r(p==="asc"?"sort.ascending":"sort.descending")]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs(de,{variant:"ghost",onClick:()=>{f(null),R.current?.close()},className:"w-full justify-start text-sm",children:[c.jsx(te,{name:"close",size:16,className:"mr-2",decorative:!0}),r("sort.clear")]})]}),c.jsxs(mg,{trigger:c.jsx(de,{variant:"outline",size:"icon-md",className:dt.actionButton,onClick:lt,"aria-label":r("actions.selectSongs"),children:c.jsx(te,{name:"listChecks",size:16,decorative:!0})}),onClose:()=>lt(),children:[c.jsxs(de,{variant:"ghost",onClick:me,children:[c.jsx(te,{name:"listChecks",size:16,style:{marginRight:8},decorative:!0}),A.length===re.length?r("actions.deselectAll"):r("actions.selectAll")]}),c.jsxs(de,{variant:"ghost",onClick:Ne,children:[c.jsx(te,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),r("playlist.addTo")]}),c.jsxs(de,{variant:"ghost",onClick:st,children:[c.jsx(te,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),r("common.delete")]})]}),c.jsx(de,{variant:"outline",size:"icon-md",className:dt.actionButton,onClick:mt,"aria-label":r("actions.addMusic"),children:c.jsx(te,{name:"plus",size:16,decorative:!0})})]})]}),c.jsx("div",{className:dt.songListWrapper,children:c.jsxs("div",{className:dt.songList,children:[c.jsxs("div",{className:dt.songListHeader,children:[c.jsx("span",{className:dt.columnHeader,children:r("songInfo.title")}),c.jsx("span",{className:`${dt.columnHeader} ${dt.desktopOnly}`,children:r("common.artist")}),c.jsx("span",{className:dt.columnHeader,children:r("actions.addTo")})]}),re.map(oe=>c.jsx(AA,{song:oe,isCurrent:T.currentSong?.id===oe.id,isSelected:A.includes(oe.id),onClick:()=>ue(oe),onCheckboxChange:we=>{we.stopPropagation(),L(qe=>qe.includes(oe.id)?qe.filter(Re=>Re!==oe.id):[...qe,oe.id])},isSelectActive:V,ratings:b,onRatingChange:we=>fe(oe.id,we),onFavoriteToggle:we=>_e(we,oe.id),isFavorited:D(oe.id),formatDuration:Ct,styles:dt,SongActionsDropdown:vb,library:w,createPlaylist:W,addToPlaylist:ae,playSong:O,isInPlaylist:!!T.currentPlaylist,removeSong:N},oe.id)),re.length===0&&c.jsx("div",{className:dt.noResults,children:r(u?"noResults.search":"noResults.playlist")})]})}),c.jsx($n,{open:y,onOpenChange:x,children:c.jsxs(Dn,{children:[c.jsxs(Mn,{children:[c.jsx(zn,{children:r("delete.songTitle")}),c.jsx(Hn,{children:r("delete.confirm",{title:E?.title})})]}),c.jsxs(ea,{children:[c.jsx(de,{variant:"outline",onClick:ct,children:r("common.cancel")}),c.jsx(de,{variant:"destructive",onClick:Oe,children:r("common.delete")})]})]})}),c.jsx(pb,{songs:A.map(oe=>w.songs.find(we=>we.id===oe)).filter(oe=>oe!==void 0),library:w,onCreatePlaylist:W,onAddToPlaylist:ae,open:j,onOpenChange:G})]})};var pi=g_();const DA="_visualizerContainer_187rc_1",MA="_canvas_187rc_10",zA="_controls_187rc_17",OA="_dropdownTrigger_187rc_27",RA="_settingsPanel_187rc_41",LA="_setting_187rc_41",kA="_dropdownContent_187rc_112",Sl={visualizerContainer:DA,canvas:MA,controls:zA,dropdownTrigger:OA,settingsPanel:RA,setting:LA,dropdownContent:kA},BA=({analyserNode:l,isPlaying:s,className:r})=>{const{t:u}=Bt(),d=g.useRef(null),m=g.useRef(null),[f,p]=g.useState([]),[v,b]=g.useState(new Map),[_,y]=g.useState(""),[x,E]=g.useState(null),[P,A]=g.useState({}),[L,V]=g.useState(!1),[q,j]=g.useState(!1);g.useEffect(()=>{const w=w_();p(w),Promise.all(w.map(async O=>{const B=await Uh(O);return{key:O,name:B?.name||O}})).then(O=>{const B=new Map(O.map(({key:N,name:U})=>[N,U]));b(B)}),w.length>0&&!_&&y(w[0])},[_]),g.useEffect(()=>{_&&(j(!0),Uh(_).then(w=>{E(w),j(!1),w?.settingsConfig&&A(Object.entries(w.settingsConfig).reduce((O,[B,N])=>(O[B]=N.default,O),{}))}).catch(w=>{console.error("Failed to load visualizer:",w),j(!1)}))},[_]);const G=(w,O)=>{A(B=>({...B,[w]:O}))},R=g.useCallback(()=>{if(!l||!d.current||!x)return;const w=d.current,O=w.getContext("2d");if(!O)return;const B=l.frequencyBinCount,N=new Uint8Array(B);x.draw(l,w,O,B,N,x.dataType,P),m.current=requestAnimationFrame(R)},[l,x,P]);g.useEffect(()=>(s&&l&&x?m.current=requestAnimationFrame(R):m.current&&cancelAnimationFrame(m.current),()=>{m.current&&cancelAnimationFrame(m.current)}),[s,l,x,R]),g.useEffect(()=>{const w=d.current;if(!w)return;const O=new ResizeObserver(()=>{const{width:B,height:N}=w.getBoundingClientRect();w.width=B,w.height=N});return O.observe(w),()=>O.disconnect()},[]);const T=async w=>{y(w)};return c.jsxs("div",{className:`${Sl.visualizerContainer} ${r??""}`,children:[c.jsx("canvas",{ref:d,className:Sl.canvas}),c.jsxs("div",{className:Sl.controls,children:[c.jsxs(cs,{children:[c.jsx(us,{asChild:!0,children:c.jsxs(de,{variant:"outline",className:Sl.dropdownTrigger,disabled:q,children:[c.jsx(te,{name:"visualizerControls",size:16,decorative:!0,inline:!0}),c.jsx("span",{children:q?u("common.loading"):x?.name||u("visualizer.selectVisualizer")})]})}),c.jsx(Tl,{align:"start",className:Sl.dropdownContent,children:c.jsx(_T,{value:_,onValueChange:T,children:f.map(w=>c.jsx(Uv,{value:w,children:v.get(w)||w},w))})})]}),x?.settingsConfig&&c.jsx(de,{variant:"outline",size:"icon",onClick:()=>V(!L),children:c.jsx(te,{name:"settings",size:16,decorative:!0,inline:!0})})]}),L&&x?.settingsConfig&&c.jsxs("div",{className:Sl.settingsPanel,children:[c.jsxs("h4",{children:[x.name," ",u("settings.title")]}),Object.entries(x.settingsConfig).map(([w,O])=>c.jsxs("div",{className:Sl.setting,children:[c.jsx("label",{htmlFor:w,children:u(`visualizers.${_}.settings.${w}`)}),O.type==="range"&&c.jsx("input",{type:"range",id:w,min:O.min,max:O.max,step:O.step,value:P[w]??O.default,onChange:B=>G(w,parseFloat(B.target.value))}),O.type==="number"&&c.jsx("input",{type:"number",id:w,min:O.min,max:O.max,step:O.step,value:P[w]??O.default,onChange:B=>G(w,parseFloat(B.target.value))})]},w))]})]})},UA="_lyricsOverlay_1qzg2_1",$A="_lyricsContainer_1qzg2_19",HA="_lyricsHeader_1qzg2_25",VA="_lyricsTitle_1qzg2_39",qA="_lyricsSubtitle_1qzg2_46",IA="_lyricsCloseButton_1qzg2_53",FA="_lyricsContent_1qzg2_68",YA="_embeddedBody_1qzg2_69",PA="_lyricsText_1qzg2_82",GA="_unsyncedLyrics_1qzg2_83",XA="_embeddedContent_1qzg2_91",QA="_lyricsSelector_1qzg2_97",ZA="_selector_1qzg2_101",KA="_syncedLyrics_1qzg2_111",JA="_lyricsLine_1qzg2_117",WA="_currentLine_1qzg2_126",eN="_timestamp_1qzg2_131",tN="_lineText_1qzg2_137",nN="_noLyrics_1qzg2_142",aN="_loading_1qzg2_151",lN="_error_1qzg2_155",sN="_retryButton_1qzg2_160",pt={lyricsOverlay:UA,lyricsContainer:$A,lyricsHeader:HA,lyricsTitle:VA,lyricsSubtitle:qA,lyricsCloseButton:IA,lyricsContent:FA,embeddedBody:YA,lyricsText:PA,unsyncedLyrics:GA,embeddedContent:XA,lyricsSelector:QA,selector:ZA,syncedLyrics:KA,lyricsLine:JA,currentLine:WA,timestamp:eN,lineText:tN,noLyrics:nN,loading:aN,error:lN,retryButton:sN},hg={lyrics:"",loading:!1,error:null},gg=l=>l.replace(/ - Topic$/i,"").replace(/\s*\[.*?\]$/i,"").trim(),iN=l=>s=>{if(!l)return s;const r=l.replace(/[.*+?^${}()|[\]\\]/g,""),u=new RegExp(`^${r}\\s*[-:|]?\\s*`,"i");return s.replace(u,"").trim()},rN=l=>new Bh({}).extend(b_()).extend(S_()).extend(__()).extend(x_()).extend(T_()).extend(new Bh({artist:gg,track:[gg,iN(l)]})),oN=(l,s)=>{const r=rN(l),u=r.canFilterField("artist")?r.filterField("artist",l):l,d=r.canFilterField("track")?r.filterField("track",s):s;return{artist:u,title:d}},cN=({artist:l,title:s,visible:r,onClose:u,embeddedLyrics:d,currentTime:m=0})=>{const{t:f}=Bt(),[p,v]=g.useState(hg),b=g.useRef(null),[_,y]=g.useState(null),[x,E]=g.useState(-1),P=g.useRef(null),A=g.useCallback(async(B,N)=>{b.current&&b.current.abort();const U=new AbortController;if(b.current=U,v(z=>({...z,loading:!0,error:null})),B.trim().toLowerCase()===f("common.unknownArtist").toLowerCase()){v(z=>({...z,error:f("lyrics.cannotSearchWithoutArtist"),loading:!1}));return}const{artist:D,title:W}=oN(B,N),ae=[{artist:D,title:W},{artist:B,title:N},{artist:D,title:N},{artist:B,title:W}];let ce=null;for(const{artist:z,title:I}of ae)try{const X=await fetch(`https://api.lyrics.ovh/v1/${encodeURIComponent(z)}/${encodeURIComponent(I)}`,{signal:U.signal});if(X.ok){const se=await X.json();if(se.lyrics?.trim()){v({lyrics:se.lyrics.trim(),loading:!1,error:null});return}}ce=new Error(X.status===404?f("lyrics.notFound"):f("lyrics.failedToFetch",{status:X.status}))}catch(X){if(X instanceof Error&&X.name==="AbortError")return;ce=X instanceof Error?X:new Error(f("lyrics.failedToLoad"))}v({lyrics:"",loading:!1,error:ce?.message||f("lyrics.failedToLoad")})},[f]),L=!!d?.length;g.useEffect(()=>{if(!r||!l||!s){v(hg);return}if(L){v({lyrics:"",loading:!1,error:null});return}return A(l,s),()=>b.current?.abort()},[l,s,r,A,L]),g.useEffect(()=>{if(!r||!L){y(null),E(-1);return}y(B=>d?.length?B&&d.includes(B)?B:d[0]??null:null),E(-1)},[d,L,r]),g.useEffect(()=>{if(!r)return;if(!_||!_.synced||!_.lines?.length){x!==-1&&E(-1);return}const B=m*1e3,N=_.lines.findIndex((U,D)=>{const W=_.lines?.[D+1];return U.timestamp<=B&&(!W||W.timestamp>B)});N!==x&&E(N)},[x,m,_,r]),g.useEffect(()=>{if(!r||x<0)return;const B=P.current;if(!B)return;B.children.item(x)?.scrollIntoView({behavior:"smooth",block:"center"})},[x,r]),g.useEffect(()=>{if(!r||!u)return;const B=N=>{N.key==="Escape"&&u()};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[r,u]);const V=g.useCallback(()=>{l&&s&&A(l,s)},[l,s,A]),q=g.useCallback(B=>{B.target===B.currentTarget&&u?.()},[u]);if(!r)return null;const j=B=>{if(!d?.length)return;const N=parseInt(B.target.value,10),U=d[N];U&&(y(U),E(-1))},G=B=>{const N=Math.floor(B/6e4),U=Math.floor(B%6e4/1e3),D=Math.floor(B%1e3/10);return`${N.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}.${D.toString().padStart(2,"0")}`},{lyrics:R,loading:T,error:w}=p,O=_&&d?d.indexOf(_):-1;return c.jsx("div",{className:pt.lyricsOverlay,onClick:q,role:"dialog","aria-modal":"true",children:c.jsxs("div",{className:pt.lyricsContainer,children:[c.jsxs("header",{className:pt.lyricsHeader,children:[c.jsxs("div",{children:[c.jsxs("h3",{className:pt.lyricsTitle,children:[s," - ",l]}),L&&c.jsx("p",{className:pt.lyricsSubtitle,children:f("lyrics.embeddedLyrics")})]}),u&&c.jsx("button",{className:pt.lyricsCloseButton,onClick:u,children:""})]}),L?c.jsxs("div",{className:pt.embeddedContent,children:[d&&d.length>1&&c.jsx("div",{className:pt.lyricsSelector,children:c.jsx("select",{value:O>=0?O:0,onChange:j,className:pt.selector,children:d.map((B,N)=>c.jsxs("option",{value:N,children:[B.synced?f("lyrics.synchronized"):f("lyrics.unsynchronized"),B.language&&` (${B.language})`,B.description&&` - ${B.description}`]},`${B.synced?"synced":"unsynced"}-${N}`))})}),c.jsx("div",{className:pt.embeddedBody,children:_?_.synced&&_.lines?.length?c.jsx("div",{ref:P,className:pt.syncedLyrics,children:_.lines.map((B,N)=>c.jsxs("div",{className:`${pt.lyricsLine}${N===x?` ${pt.currentLine}`:""}`,children:[c.jsx("span",{className:pt.timestamp,children:G(B.timestamp)}),c.jsx("span",{className:pt.lineText,children:B.text||""})]},`${B.timestamp}-${N}`))}):_.text?c.jsx("pre",{className:pt.unsyncedLyrics,children:_.text}):c.jsx("div",{className:pt.noLyrics,children:f("lyrics.noEmbeddedLyrics")}):c.jsx("div",{className:pt.noLyrics,children:f("lyrics.noEmbeddedLyrics")})})]}):c.jsxs("div",{className:pt.lyricsContent,children:[T&&c.jsx("div",{className:pt.loading,children:f("lyrics.loading")}),w&&c.jsxs("div",{className:pt.error,children:[c.jsx("p",{children:w}),c.jsx("button",{onClick:V,className:pt.retryButton,children:f("lyrics.tryAgain")})]}),!T&&!w&&R&&c.jsx("pre",{className:pt.lyricsText,children:R}),!T&&!w&&!R&&c.jsx("div",{className:pt.error,children:f("lyrics.noLyricsAvailable")})]})]})})},uN="_player_xrzty_2",dN="_currentSong_xrzty_25",fN="_albumArt_xrzty_32",mN="_songInfo_xrzty_67",hN="_songTitleWrapper_xrzty_73",gN="_songTitle_xrzty_73",yN="_artistName_xrzty_91",pN="_favoriteButton_xrzty_97",vN="_favorited_xrzty_102",bN="_controlButton_xrzty_106",SN="_active_xrzty_106",_N="_repeatOne_xrzty_120",xN="_noSong_xrzty_138",TN="_controls_xrzty_147",CN="_playbackButtons_xrzty_155",jN="_playButton_xrzty_170",wN="_progressSection_xrzty_191",EN="_timeDisplay_xrzty_199",AN="_progressBar_xrzty_207",NN="_dragging_xrzty_218",DN="_progressFill_xrzty_223",MN="_rightSection_xrzty_255",zN="_secondaryControls_xrzty_263",ON="_secondaryButton_xrzty_269",RN="_volumeControls_xrzty_284",LN="_volumeButton_xrzty_294",kN="_volumeBar_xrzty_303",BN="_volumeFill_xrzty_319",UN="_moreButton_xrzty_350",$N="_visualizerOverlay_xrzty_360",HN="_visualizer_xrzty_360",Ae={player:uN,currentSong:dN,albumArt:fN,songInfo:mN,songTitleWrapper:hN,songTitle:gN,artistName:yN,favoriteButton:pN,favorited:vN,controlButton:bN,active:SN,repeatOne:_N,noSong:xN,controls:TN,playbackButtons:CN,playButton:jN,progressSection:wN,timeDisplay:EN,progressBar:AN,dragging:NN,progressFill:DN,rightSection:MN,secondaryControls:zN,secondaryButton:ON,volumeControls:RN,volumeButton:LN,volumeBar:kN,volumeFill:BN,moreButton:UN,visualizerOverlay:$N,visualizer:HN},VN=({musicPlayerHook:l,isMiniplayer:s=!1})=>{const{setPlaying:r,setCurrentTime:u,setVolume:d,setCurrentSong:m,setDuration:f,play:p,pause:v,next:b,previous:_,seek:y,changeVolume:x}=Wr(),{playerState:E,togglePlayPause:P,playNext:A,playPrevious:L,setVolume:V,seekTo:q}=l,j=s?"pip":"main",G=g.useRef({togglePlayPause:P,playNext:A,playPrevious:L,playerSetVolume:V,seekTo:q});G.current={togglePlayPause:P,playNext:A,playPrevious:L,playerSetVolume:V,seekTo:q};const R=l.crossfadeManagerRef?.current?.isCrossfading?.()||!1;g.useEffect(()=>{R||r(E.isPlaying,j)},[E.isPlaying,r,j,R]),g.useEffect(()=>{R||u(E.currentTime,j)},[E.currentTime,u,j,R]),g.useEffect(()=>{R||d(E.volume,j)},[E.volume,d,j,R]),g.useEffect(()=>{R||m(E.currentSong,j)},[E.currentSong,m,j,R]),g.useEffect(()=>{E.currentSong?.duration&&f(E.currentSong.duration,j)},[E.currentSong?.duration,f,j]);const T=g.useCallback(D=>{D.source!==j&&!E.isPlaying&&(console.log(`[${j}] Received play event from ${D.source}`),G.current.togglePlayPause())},[j,E.isPlaying]),w=g.useCallback(D=>{D.source!==j&&E.isPlaying&&(console.log(`[${j}] Received pause event from ${D.source}`),G.current.togglePlayPause())},[j,E.isPlaying]),O=g.useCallback(D=>{D.source!==j&&(console.log(`[${j}] Received next event from ${D.source}`),G.current.playNext())},[j]),B=g.useCallback(D=>{D.source!==j&&(console.log(`[${j}] Received previous event from ${D.source}`),G.current.playPrevious())},[j]),N=g.useCallback(D=>{D.source!==j&&D.payload?.volume!==E.volume&&(console.log(`[${j}] Received volume event from ${D.source}:`,D.payload.volume),G.current.playerSetVolume(D.payload.volume))},[j,E.volume]),U=g.useCallback(D=>{D.source!==j&&Math.abs(D.payload?.time-E.currentTime)>1&&(console.log(`[${j}] Received seek event from ${D.source}:`,D.payload.time),G.current.seekTo(D.payload.time))},[j,E.currentTime]);return ss("play",T),ss("pause",w),ss("next",O),ss("previous",B),ss("volume",N),ss("seek",U),{audioControls:{play:()=>p(j),pause:()=>v(j),next:()=>b(j),previous:()=>_(j),seek:D=>y(D,j),setVolume:D=>x(D,j),togglePlayPause:()=>{E.isPlaying?v(j):p(j)}}}},qN=({musicPlayerHook:l,settings:s})=>{const{t:r}=Bt();VN({musicPlayerHook:l,isMiniplayer:!1});const u=g.useRef(null),d=g.useRef(null),{playerState:m,library:f,togglePlayPause:p,playNext:v,playPrevious:b,setVolume:_,seekTo:y,addToFavorites:x,removeFromFavorites:E,isFavorited:P,toggleShuffle:A,toggleRepeat:L,createPlaylist:V,addToPlaylist:q,playSong:j,removeSong:G}=l,{currentSong:R,isPlaying:T,currentTime:w,volume:O,shuffle:B,repeat:N,analyserNode:U}=m,[D,W]=g.useState(!1),[ae,ce]=g.useState(!1),[z,I]=g.useState(!1),[X,se]=g.useState(!1),re=Me=>{const $e=Math.round(Me);if(R&&R.duration>=3600){const St=Math.floor($e/3600),it=Math.floor($e%3600/60),Mt=$e%60;return`${St}:${it.toString().padStart(2,"0")}:${Mt.toString().padStart(2,"0")}`}else{const St=Math.floor($e/60),it=$e%60;return`${St}:${it.toString().padStart(2,"0")}`}},ve=g.useCallback(Me=>{if(!u.current||!R)return;const $e=u.current.getBoundingClientRect(),bt=Me-$e.left,it=Math.max(0,Math.min(1,bt/$e.width))*R.duration;y(it)},[R,y]),ue=g.useCallback(Me=>{if(!d.current)return;const $e=d.current.getBoundingClientRect(),bt=Me-$e.left,St=Math.max(0,Math.min(1,bt/$e.width));_(St)},[_]),fe=Me=>{z||ve(Me.clientX)},_e=Me=>{X||ue(Me.clientX)},We=Me=>{I(!0),ve(Me.clientX)},Oe=Me=>{I(!0),ve(Me.touches[0].clientX)},ct=Me=>{se(!0),ue(Me.clientX)},mt=Me=>{se(!0),ue(Me.touches[0].clientX)};g.useEffect(()=>{const Me=it=>{z?ve(it.clientX):X&&ue(it.clientX)},$e=it=>{z?(it.preventDefault(),ve(it.touches[0].clientX)):X&&(it.preventDefault(),ue(it.touches[0].clientX))},bt=()=>{I(!1),se(!1)},St=()=>{I(!1),se(!1)};return(z||X)&&(document.addEventListener("mousemove",Me),document.addEventListener("mouseup",bt),document.addEventListener("touchmove",$e,{passive:!1}),document.addEventListener("touchend",St)),()=>{document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",bt),document.removeEventListener("touchmove",$e),document.removeEventListener("touchend",St)}},[z,X,ve,ue]);const Ct=()=>{_(O===0?.7:0)},lt=()=>{if(!R)return;f.favorites.includes(R.id)?E(R.id):x(R.id)},me=()=>W(Me=>!Me),Ne=()=>ce(Me=>!Me),st=()=>O===0?c.jsx(te,{name:"volumeOff",size:16,decorative:!0}):O<.3?c.jsx(te,{name:"volumeX",size:16,decorative:!0}):O<.7?c.jsx(te,{name:"volume1",size:16,decorative:!0}):c.jsx(te,{name:"volume2",size:16,decorative:!0}),oe=()=>{switch(N){case"one":return r("player.repeatTrack");case"all":return r("player.repeatAll");default:return r("player.repeatOff")}};g.useEffect(()=>{R&&s?.showLyrics&&ce(!0)},[R,s?.showLyrics]);const we=Vu(),qe=R?w/R.duration*100:0,Re=O*100;if(!R)return c.jsx("div",{className:Ae.player,children:c.jsx("div",{className:Ae.noSong,children:c.jsx("span",{children:r("player.selectSong")})})});const ft=f.favorites.includes(R.id);return c.jsxs(c.Fragment,{children:[D&&c.jsx("div",{className:Ae.visualizerOverlay,children:c.jsx(BA,{analyserNode:U,isPlaying:T,className:Ae.visualizer})}),c.jsxs("div",{className:Ae.player,children:[c.jsxs("div",{className:Ae.currentSong,children:[c.jsx("div",{className:Ae.albumArt,children:R.albumArt&&c.jsx("img",{src:R.albumArt,alt:r("player.albumArtAlt",{title:R.title}),loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"}})}),c.jsxs("div",{className:Ae.songInfo,children:[c.jsx("div",{className:Ae.songTitleWrapper,children:c.jsx(Bu,{text:R?.title||r("common.loading"),textClassName:Ae.songTitle,textStyle:{opacity:R?.title?1:0},allowHTML:!0,pauseOnHover:!0})}),c.jsx("div",{className:Ae.artistName,children:R.artist})]})]}),c.jsxs("div",{className:Ae.controls,children:[c.jsxs("div",{className:Ae.playbackButtons,children:[c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Ae.controlButton} ${B?Ae.active:""}`,onClick:A,title:r(B?"player.shuffleOn":"player.shuffleOff"),children:c.jsx(te,{name:"shuffle",size:16,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-md",className:Ae.controlButton,onClick:pi.debounce(b,200),title:r("player.previous"),children:c.jsx(te,{name:"skipBack",size:18,decorative:!0})}),c.jsx(de,{variant:"primary",size:"icon-lg",className:Ae.playButton,onClick:pi.debounce(p,200),title:r(T?"player.pause":"player.play"),children:T?c.jsx(te,{name:"pause",size:20,decorative:!0}):c.jsx(te,{name:"play",size:20,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-md",className:Ae.controlButton,onClick:pi.debounce(v,200),title:r("player.next"),children:c.jsx(te,{name:"skipForward",size:18,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Ae.controlButton} ${N!=="off"?Ae.active:""} ${N==="one"?Ae.repeatOne:""}`,onClick:L,title:oe(),children:c.jsx(te,{name:"repeat",size:16,decorative:!0})})]}),c.jsxs("div",{className:Ae.progressSection,children:[c.jsx("span",{className:Ae.timeDisplay,children:re(w)}),c.jsx("div",{className:`${Ae.progressBar} ${z?Ae.dragging:""}`,ref:u,onClick:fe,onMouseDown:We,onTouchStart:Oe,title:r("player.seek"),children:c.jsx("div",{className:Ae.progressFill,style:{width:`${qe}%`}})}),c.jsx("span",{className:Ae.timeDisplay,children:re(R.duration)})]})]}),c.jsxs("div",{className:Ae.rightSection,children:[c.jsxs("div",{className:Ae.volumeControls,children:[c.jsx(de,{variant:"ghost",size:"icon-sm",className:Ae.volumeButton,onClick:Ct,title:r(O===0?"player.unmute":"player.mute"),children:st()}),c.jsx("div",{className:`${Ae.volumeBar} ${X?Ae.dragging:""}`,ref:d,onClick:_e,onMouseDown:ct,onTouchStart:mt,title:r("player.volume"),children:c.jsx("div",{className:Ae.volumeFill,style:{width:`${Re}%`}})})]}),c.jsxs("div",{className:Ae.secondaryControls,children:[c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Ae.favoriteButton} ${ft?Ae.favorited:""}`,onClick:lt,title:r(ft?"player.removeFavorite":"player.addFavorite"),children:c.jsx(te,{name:"heart",size:16,decorative:!0})}),!we&&c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Ae.secondaryButton} ${D?Ae.active:""}`,onClick:me,title:r("player.visualizer"),children:c.jsx(te,{name:"barChart3",size:16,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Ae.secondaryButton} ${ae?Ae.active:""}`,onClick:Ne,title:r("player.lyrics"),children:c.jsx(te,{name:"type",size:16,decorative:!0})}),UT()&&c.jsx(de,{variant:"ghost",size:"icon-sm",className:Ae.secondaryButton,onClick:()=>{$v({playerState:{currentSong:R,isPlaying:T}})},title:"Picture-in-Picture",children:c.jsx(te,{name:"pictureInPicture2",size:16,decorative:!0})})]}),c.jsx(vb,{song:R,library:f,onCreatePlaylist:V,onAddToPlaylist:q,onAddToFavorites:x,isFavorited:P,onPlaySong:j,onRemoveSong:G,size:16,className:Ae.moreButton})]}),ae&&R&&c.jsx(cN,{artist:R.artist,title:R.title,visible:ae,onClose:()=>ce(!1),embeddedLyrics:R.embeddedLyrics,currentTime:w})]})]})},IN="HTMLPlayerDB",FN=1,Dt={LIBRARY:"library",SETTINGS:"settings",AUDIO_DATA:"audioData"},vi=()=>new Promise((l,s)=>{const r=indexedDB.open(IN,FN);r.onerror=()=>{console.error("Failed to open IndexedDB:",r.error),s(r.error)},r.onsuccess=()=>{l(r.result)},r.onupgradeneeded=u=>{const d=u.target.result,m=u.oldVersion;if(d.objectStoreNames.contains(Dt.LIBRARY)||d.createObjectStore(Dt.LIBRARY,{keyPath:"id"}),d.objectStoreNames.contains(Dt.SETTINGS)||d.createObjectStore(Dt.SETTINGS,{keyPath:"id"}),d.objectStoreNames.contains(Dt.AUDIO_DATA)||d.createObjectStore(Dt.AUDIO_DATA,{keyPath:"songId"}).createIndex("lastAccessed","lastAccessed",{unique:!1}),m<2){const f=u.target.transaction;if(f){const p=f.objectStore(Dt.LIBRARY),v=f.objectStore(Dt.AUDIO_DATA);p.get("musicLibrary").onsuccess=function(b){const _=b.target.result?.data;_?.songs&&(_.songs.forEach(y=>{y.fileData&&y.mimeType&&(v.add({songId:y.id,fileData:y.fileData,mimeType:y.mimeType,lastAccessed:Date.now()}),delete y.fileData,delete y.mimeType)}),p.put({id:"musicLibrary",data:_}))}}}}}),yg=async(l,s,r)=>{try{s==="musicLibrary"&&r?.songs;const u=await vi(),d=u.transaction([l],"readwrite"),m=d.objectStore(l);let f=r;s==="musicLibrary"&&r?.songs&&(f={...r,songs:r.songs.map(v=>({...v,hasStoredAudio:v.hasStoredAudio||!1,url:"",albumArt:v.albumArt}))}),await new Promise((v,b)=>{d.oncomplete=()=>v(),d.onerror=()=>b(d.error),m.put({id:s,data:f})}),u.close(),console.log(`Saved ${s} to IndexedDB`)}catch(u){throw console.error(`Failed to save ${s} to IndexedDB:`,u),u}},pg=async(l,s)=>{try{const r=await vi(),d=r.transaction([l],"readonly").objectStore(l),m=await new Promise((f,p)=>{const v=d.get(s);v.onsuccess=()=>f(v.result?.data),v.onerror=()=>p(v.error)});return r.close(),console.log(`Loaded ${s} from IndexedDB`),s==="musicLibrary"&&m?.songs?(m.songs=m.songs||[],{songs:m.songs.map(p=>{const v=p.hasStoredAudio?`indexeddb://${p.id}`:p.url||"";return{id:p.id||`song-${Date.now()}-${Math.random()}`,title:p.title||Ge.t("common.unknownTitle"),artist:p.artist||Ge.t("common.unknownArtist"),album:p.album||Ge.t("common.unknownAlbum"),duration:p.duration||0,url:v,hasStoredAudio:p.hasStoredAudio||!1,albumArt:p.albumArt}}),playlists:m.playlists||[],favorites:m.favorites||[]}):m}catch(r){return console.error(`Failed to load ${s} from IndexedDB:`,r),null}},ta={async loadLibrary(){try{const l=await pg(Dt.LIBRARY,"musicLibrary");return console.log("Loaded library state:",{songCount:l?.songs?.length||0,playlistCount:l?.playlists?.length||0,favoriteCount:l?.favorites?.length||0}),l}catch(l){return console.error("Failed to load library:",l),{songs:[],playlists:[],favorites:[]}}},async saveLibrary(l){await yg(Dt.LIBRARY,"musicLibrary",l)},async loadSettings(){return await pg(Dt.SETTINGS,"playerSettings")},async saveSettings(l){await yg(Dt.SETTINGS,"playerSettings",l)},async loadSongAudio(l){try{const s=await vi(),u=s.transaction([Dt.AUDIO_DATA],"readwrite").objectStore(Dt.AUDIO_DATA),d=await new Promise((m,f)=>{const p=u.get(l);p.onsuccess=()=>m(p.result),p.onerror=()=>f(p.error)});return d?(u.put({...d,lastAccessed:Date.now()}),{fileData:d.fileData,mimeType:d.mimeType}):(s.close(),null)}catch(s){return console.error(`Failed to load audio data for song ${l}:`,s),null}},async saveSongAudio(l,s){try{const r=await vi(),u=r.transaction([Dt.AUDIO_DATA,Dt.LIBRARY],"readwrite"),d=u.objectStore(Dt.AUDIO_DATA),m=u.objectStore(Dt.LIBRARY);await new Promise((p,v)=>{const b=d.put({songId:l,fileData:s.fileData,mimeType:s.mimeType,lastAccessed:Date.now()});b.onsuccess=()=>p(),b.onerror=()=>v(b.error)});const f=await new Promise((p,v)=>{const b=m.get("musicLibrary");b.onsuccess=()=>p(b.result?.data),b.onerror=()=>v(b.error)});if(f?.songs){const p=f.songs.map(v=>v.id===l?{...v,hasStoredAudio:!0}:v);await new Promise((v,b)=>{const _=m.put({id:"musicLibrary",data:{...f,songs:p}});_.onsuccess=()=>v(),_.onerror=()=>b(_.error)})}r.close()}catch(r){throw console.error(`Failed to save audio data for song ${l}:`,r),r}},async removeSongAudio(l){try{const s=await vi(),u=s.transaction([Dt.AUDIO_DATA],"readwrite").objectStore(Dt.AUDIO_DATA);await new Promise((d,m)=>{const f=u.delete(l);f.onsuccess=()=>d(),f.onerror=()=>m(f.error)}),s.close()}catch(s){throw console.error(`Failed to remove audio data for song ${l}:`,s),s}}},ba=class ba{constructor(){}static getInstance(){return ba.instance||(ba.instance=new ba),ba.instance}async updatePresence(s){return console.log(`[DiscordService] Would POST to ${ba.API_BASE_URL}/presence with:`,s),!0}async clearPresence(s){return console.log(`[DiscordService] Would clear presence for userId: ${s}`),!0}static parseUserIdFromCallback(s){try{return new URL(s).searchParams.get("code"),null}catch(r){return console.error("Error parsing Discord callback:",r),null}}static isDiscordAvailable(s){return!!(s&&s.length>0)}};ba.API_BASE_URL="https://htmlplayer-backend.onrender.com",ba.instance=null;let Uu=ba;const vg=l=>typeof l!="number"||!Number.isFinite(l)||l<=0?1:l,An={PREV_SONGS:2,NEXT_SONGS:4,CACHE_EXPIRY:600*1e3,MAX_CACHE_SIZE:50,PRELOAD_THRESHOLD:10*1024*1024},YN=l=>{const s=async b=>{const _=l.current.get(b.id);if(_)if(Date.now()-_.loadedAt<An.CACHE_EXPIRY){if(b.hasStoredAudio&&b.url.startsWith("indexeddb://"))try{const x=await ta.loadSongAudio(b.id);if(x&&!_.url.startsWith("blob:")){const E=URL.createObjectURL(new Blob([x.fileData],{type:x.mimeType}));_.url.startsWith("blob:")&&URL.revokeObjectURL(_.url),l.current.set(b.id,{..._,url:E,song:{...b,url:E},loadedAt:Date.now()})}}catch(x){console.warn("Failed to refresh IndexedDB cache for song:",b.id,x)}}else _.url.startsWith("blob:")&&URL.revokeObjectURL(_.url),l.current.delete(b.id);try{let y,x;if(b.hasStoredAudio&&(console.log("CacheManager: Loading song from IndexedDB:",b.id),y=await ta.loadSongAudio(b.id),y)){const V=URL.createObjectURL(new Blob([y.fileData],{type:y.mimeType}));l.current.set(b.id,{song:{...b,url:V},audioBuffer:y.fileData,url:V,loadedAt:Date.now()}),console.log("CacheManager: Successfully cached song from IndexedDB:",b.title)}if(b.hasStoredAudio){console.warn("CacheManager: Song has stored audio but not found in IndexedDB:",b.id);return}if(!b.url||b.url.startsWith("indexeddb://")||b.url.includes("about:blank")){console.error("CacheManager: No valid URL to fetch song from:",b.id);return}console.log("CacheManager: Fetching song from URL:",b.title);let E=!0;try{const q=(await fetch(b.url,{method:"HEAD"})).headers.get("content-length");q&&parseInt(q)>An.PRELOAD_THRESHOLD&&(console.log("CacheManager: Large file detected, skipping aggressive caching:",b.title),E=!1)}catch(V){console.warn("CacheManager: HEAD request failed, continuing with caching:",V)}const P=await fetch(b.url);if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);const A=await P.arrayBuffer();x=P.headers.get("content-type")||"audio/mpeg";const L=URL.createObjectURL(new Blob([A],{type:x}));if((E||A.byteLength<=An.PRELOAD_THRESHOLD)&&l.current.set(b.id,{song:{...b,url:L},audioBuffer:A,url:L,loadedAt:Date.now()}),!b.hasStoredAudio)try{await ta.saveSongAudio(b.id,{fileData:A,mimeType:x}),console.log("CacheManager: Saved song to IndexedDB:",b.title)}catch(V){console.warn("CacheManager: Failed to save to IndexedDB:",V)}console.log("CacheManager: Successfully cached song from URL:",b.title)}catch(y){console.error("CacheManager: Failed to cache song:",b.title,y)}},r=b=>{const _=l.current.get(b);if(_){if(Date.now()-_.loadedAt<An.CACHE_EXPIRY)return _;_.url.startsWith("blob:")&&URL.revokeObjectURL(_.url),l.current.delete(b)}},u=()=>{const b=Date.now(),_=[];for(const[y,x]of l.current.entries())b-x.loadedAt>An.CACHE_EXPIRY&&(_.push(y),x.url.startsWith("blob:")&&URL.revokeObjectURL(x.url));_.forEach(y=>l.current.delete(y)),_.length>0&&console.log(`CacheManager: Cleared ${_.length} expired cache entries`)},d=()=>{if(l.current.size<=An.MAX_CACHE_SIZE)return;const _=Array.from(l.current.entries()).sort((y,x)=>y[1].loadedAt-x[1].loadedAt).slice(0,l.current.size-An.MAX_CACHE_SIZE);for(const[y,x]of _)x.url.startsWith("blob:")&&URL.revokeObjectURL(x.url),l.current.delete(y);console.log(`CacheManager: Removed ${_.length} entries to enforce cache size limit`)},m=g.useCallback(b=>b.map(_=>{if(_.hasStoredAudio)return{..._,url:`indexeddb://${_.id}`};if(l.current.has(_.id)){const y=l.current.get(_.id);return{..._,url:y?.url||_.url}}return _}),[]);return{cacheSong:s,getCachedSong:r,clearExpiredCache:u,enforceCacheSize:d,prepareSongsForPlaylist:m,updateSongCache:async(b,_,y,x,E,P)=>{if(!b||!_)return;u(),d();const A=_.songs.findIndex(O=>O.id===b.id);if(A===-1)return;const L=Math.max(0,A-An.PREV_SONGS),V=Math.min(_.songs.length-1,A+An.NEXT_SONGS),q=[];if(y.current.shuffle){const O=_.songs.filter((B,N)=>N!==A);if(O.length>0){const B=Math.min(3,O.length),N=new Set;for(let U=0;U<B;U++){let D=null;if(x.current.smartShuffle){const W=O.filter(ae=>!N.has(ae.id));D=P(W,b.id,E.current)}else{const W=O.filter(ae=>!N.has(ae.id));if(W.length>0){const ae=Math.floor(Math.random()*W.length);D=W[ae]}}D&&!N.has(D.id)&&(q.push(D),N.add(D.id))}}}const j=new Set([..._.songs.slice(L,V+1),...q]),G=[],R=Array.from(j);R.sort((O,B)=>{if(O.id===b.id)return-1;if(B.id===b.id)return 1;const N=_.songs.findIndex(ae=>ae.id===O.id),U=_.songs.findIndex(ae=>ae.id===B.id),D=Math.abs(N-A),W=Math.abs(U-A);return D-W});for(const O of R)l.current.has(O.id)||G.push(s(O));const T=new Set(Array.from(l.current.keys())),w=new Set(R.map(O=>O.id));for(const O of T)if(!w.has(O)){const B=l.current.get(O);B&&Date.now()-B.loadedAt>An.CACHE_EXPIRY/2&&(B.url.startsWith("blob:")&&URL.revokeObjectURL(B.url),l.current.delete(O))}try{const B=(await Promise.allSettled(G)).filter(N=>N.status==="fulfilled"&&N.value).length;console.log(`CacheManager: Successfully cached ${B} of ${G.length} songs`)}catch(O){console.error("CacheManager: Error in batch caching:",O)}},clearAllCache:()=>{console.log("CacheManager: Clearing all cache");for(const[,b]of l.current.entries())b.url.startsWith("blob:")&&URL.revokeObjectURL(b.url);l.current.clear()},getCacheStats:()=>{const b=Date.now();let _=0,y=0;for(const[,x]of l.current.entries())b-x.loadedAt<An.CACHE_EXPIRY?_++:y++;return{total:l.current.size,valid:_,expired:y,maxSize:An.MAX_CACHE_SIZE}}}},xb=(l,s,r)=>{if(l.length===0)return null;const u=Date.now(),d=l.filter(b=>b.id!==s);if(d.length===0)return null;let m=d;if(l.length<=3){const b=u-18e5,_=new Set;for(const[y,x]of r.entries())x.lastPlayed>b&&_.add(y);m=d.filter(y=>!_.has(y.id)),m.length===0&&(m=d.sort((y,x)=>{const E=r.get(y.id),P=r.get(x.id),A=E?.lastPlayed||0,L=P?.lastPlayed||0;return A-L}),m=m.slice(0,1))}const f=m.map(b=>{const _=r.get(b.id);let y=100;if(_){const E=(u-_.lastPlayed)/(1e3*60*60);E<24&&(y*=Math.pow(.5,Math.max(0,4-E))),y*=Math.max(.3,1-_.playCount*.1)}return{song:b,weight:y}});if(f.length===0)return d[Math.floor(Math.random()*d.length)];const p=f.reduce((b,_)=>b+_.weight,0);let v=Math.random()*p;for(const b of f)if(v-=b.weight,v<=0)return b.song;return f[0].song},PN=(l,s)=>{let r=0;const u=500;return{getAndCacheNextSong:(p,v,b)=>{if(!p.current.currentPlaylist||!p.current.currentSong)return null;if(s.current&&l.current)return l.current;const _=p.current.currentPlaylist.songs,y=_.findIndex(E=>E.id===p.current.currentSong.id);let x=null;if(p.current.shuffle){const E=_.filter(P=>P.id!==p.current.currentSong.id);if(E.length>0)if(v.current.smartShuffle)x=xb(E,p.current.currentSong.id,b.current),x||(x=E[Math.floor(Math.random()*E.length)]);else{const P=Math.floor(Math.random()*E.length);x=E[P]}}else y<_.length-1?x=_[y+1]:p.current.repeat==="all"&&(x=_[0]);return l.current=x,s.current=!0,x},invalidateNextSongCache:(p=!1)=>{const v=Date.now();(p||v-r>u)&&(l.current=null,s.current=!1,r=v)},updatePlayHistory:(p,v)=>{const b=Date.now(),_=p.current.get(v)||{playCount:0};p.current.set(v,{lastPlayed:b,playCount:_.playCount+1});const y=b-10080*60*1e3;for(const[x,E]of p.current.entries())E.lastPlayed<y&&p.current.delete(x)}}};function GN(l){return typeof l!="number"||!Number.isFinite(l)?0:Math.max(-12,Math.min(12,l))}class XN{constructor(s){this.currentSource=null,this.nextSource=null,this.crossfadeInProgress=!1,this.crossfadeTimeout=null,this.crossfadePromise=null,this.activeElement=null,this.currentPitch=0,this.audioContext=s,this.masterGain=s.createGain(),this.masterGain.connect(s.destination),this.analyzerNode=s.createAnalyser(),this.analyzerNode.fftSize=2048,this.masterGain.connect(this.analyzerNode)}createAudioSource(s){const r=s._webAudioSource;if(r&&r.source.mediaElement===s)return r;try{const u=this.audioContext.createMediaElementSource(s),d=this.audioContext.createGain();u.connect(d),d.connect(this.masterGain);const m={element:s,source:u,gainNode:d,id:Math.random().toString(36).substr(2,9)};return s._webAudioSource=m,m}catch(u){throw console.error("Failed to create audio source:",u),u}}setCurrentSource(s){this.currentSource!==s&&(this.currentSource=s,this.activeElement=s.element,this.currentSource.gainNode.gain.setValueAtTime(1,this.audioContext.currentTime),this.nextSource&&this.nextSource!==s&&this.nextSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime))}prepareNextSource(s){this.nextSource=s,this.nextSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime)}async startCrossfade(s){if(!this.currentSource||!this.nextSource)throw new Error("Cannot start crossfade - missing audio sources");this.crossfadeInProgress&&(console.warn("Crossfade already in progress, cancelling previous"),this.cancelCrossfade()),this.crossfadeInProgress=!0;const{duration:r,curve:u="smooth"}=s,d=this.audioContext.currentTime;return console.log("Starting crossfade transition..."),this.crossfadePromise=new Promise(async(m,f)=>{try{this.nextSource.element.readyState<2&&await new Promise((v,b)=>{const _=setTimeout(()=>{b(new Error(Ge.t("crossfade.nextAudioFailedToLoadInTime")))},5e3),y=()=>{clearTimeout(_),this.nextSource.element.removeEventListener("canplay",x),this.nextSource.element.removeEventListener("loadeddata",x),this.nextSource.element.removeEventListener("error",E)},x=()=>{y(),v()},E=()=>{y(),b(new Error(Ge.t("crossfade.nextAudioFailedToLoad")))};this.nextSource.element.addEventListener("canplay",x),this.nextSource.element.addEventListener("loadeddata",x),this.nextSource.element.addEventListener("error",E)}),await this.nextSource.element.play(),this.setupCrossfadeCurves(r,u,d),this.activeElement=this.nextSource.element;const p=()=>{this.crossfadeInProgress&&(console.log("Current song ended during crossfade"),this.completeCrossfade(),m())};this.currentSource.element.addEventListener("ended",p,{once:!0}),this.crossfadeTimeout=window.setTimeout(()=>{this.crossfadeInProgress&&(this.currentSource.element.removeEventListener("ended",p),this.completeCrossfade(),m())},r*1e3+100)}catch(p){console.error("Crossfade failed:",p),this.crossfadeInProgress=!1,this.clearCrossfadeTimeout(),f(p)}}),this.crossfadePromise}setupCrossfadeCurves(s,r,u){if(!this.currentSource||!this.nextSource)return;const d=this.currentSource.gainNode.gain,m=this.nextSource.gainNode.gain;d.cancelScheduledValues(u),m.cancelScheduledValues(u);const f=u+s;switch(r){case"linear":d.setValueAtTime(1,u),d.linearRampToValueAtTime(0,f),m.setValueAtTime(0,u),m.linearRampToValueAtTime(1,f);break;case"exponential":d.setValueAtTime(1,u),d.exponentialRampToValueAtTime(.001,f),m.setValueAtTime(.001,u),m.exponentialRampToValueAtTime(1,f);break;case"smooth":default:const p=20,v=s/p;for(let b=0;b<=p;b++){const _=b/p,y=u+b*v,x=Math.sqrt(1-_),E=Math.sqrt(_);b===0?(d.setValueAtTime(x,y),m.setValueAtTime(E,y)):(d.linearRampToValueAtTime(x,y),m.linearRampToValueAtTime(E,y))}break}}completeCrossfade(){if(this.crossfadeInProgress)try{console.log("Completing crossfade transition"),this.currentSource&&(this.currentSource.element.pause(),this.currentSource.element.currentTime=0,this.currentSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime)),this.nextSource&&this.nextSource.gainNode.gain.setValueAtTime(1,this.audioContext.currentTime),this.currentSource=this.nextSource,this.nextSource=null,this.crossfadeInProgress=!1,this.crossfadePromise=null,this.clearCrossfadeTimeout()}catch(s){console.error("Error completing crossfade:",s),this.crossfadeInProgress=!1}}cancelCrossfade(){if(this.crossfadeInProgress){console.log("Cancelling crossfade");try{const s=this.audioContext.currentTime;this.currentSource&&(this.currentSource.gainNode.gain.cancelScheduledValues(s),this.currentSource.gainNode.gain.setValueAtTime(1,s)),this.nextSource&&(this.nextSource.gainNode.gain.cancelScheduledValues(s),this.nextSource.gainNode.gain.setValueAtTime(0,s),this.nextSource.element.pause(),this.nextSource.element.currentTime=0),this.currentSource&&(this.activeElement=this.currentSource.element),this.crossfadeInProgress=!1,this.crossfadePromise=null,this.clearCrossfadeTimeout()}catch(s){console.error("Error cancelling crossfade:",s)}}}clearCrossfadeTimeout(){this.crossfadeTimeout&&(clearTimeout(this.crossfadeTimeout),this.crossfadeTimeout=null)}setMasterVolume(s){const r=Math.max(0,Math.min(1,s)),u=this.audioContext.currentTime;this.masterGain.gain.cancelScheduledValues(u),this.masterGain.gain.setValueAtTime(this.masterGain.gain.value,u),this.masterGain.gain.linearRampToValueAtTime(r,u+.1)}getActiveElement(){return this.activeElement}isCrossfading(){return this.crossfadeInProgress}getMasterGainNode(){return this.masterGain}getAnalyzerNode(){return this.analyzerNode}seekTo(s){this.activeElement&&(this.activeElement.currentTime=s)}getCurrentTime(){return this.activeElement?.currentTime||0}getDuration(){return this.activeElement?.duration||0}isPlaying(){return this.activeElement?!this.activeElement.paused:!1}async play(){this.activeElement&&await this.activeElement.play()}pause(){this.activeElement&&this.activeElement.pause()}setPitch(s){this.currentPitch=GN(s)}getPitch(){return this.currentPitch}destroy(){console.log("Destroying crossfade manager"),this.cancelCrossfade();try{this.currentSource&&(this.currentSource.source.disconnect(),this.currentSource.gainNode.disconnect()),this.nextSource&&(this.nextSource.source.disconnect(),this.nextSource.gainNode.disconnect()),this.analyzerNode.disconnect(),this.masterGain.disconnect()}catch(s){console.error("Error during cleanup:",s)}this.currentSource=null,this.nextSource=null,this.activeElement=null}}function Xr(l){if(!l||!l.gapless||!l.encoding?.sampleRate)return{start:0,end:0};const s=l.encoding.sampleRate;if(typeof s!="number"||!Number.isFinite(s)||s<=0)return{start:0,end:0};const r=l.gapless.encoderDelay??0,u=l.gapless.encoderPadding??0,d=typeof r=="number"&&Number.isFinite(r)&&r>0?r/s:0,m=typeof u=="number"&&Number.isFinite(u)&&u>0?u/s:0;return{start:Number.isFinite(d)&&d>0?d:0,end:Number.isFinite(m)&&m>0?m:0}}const QN=(l,s,r,u,d,m,f)=>{const p=A=>typeof A!="number"||!Number.isFinite(A)||A<=0?1:Math.max(.25,Math.min(4,A)),v=A=>{try{return r.current||(console.log("CrossfadeUtils: Creating new crossfade manager"),r.current=new XN(A)),!u.current&&l.current&&(console.log("CrossfadeUtils: Setting up current audio source"),u.current=r.current.createAudioSource(l.current),r.current.setCurrentSource(u.current)),r.current}catch(L){return console.error("CrossfadeUtils: Failed to setup crossfade manager:",L),null}},b=A=>{try{return A()}catch(L){return console.error("CrossfadeUtils: Failed to get next song for crossfade:",L),null}},_=async(A,L,V,q)=>{if(!s.current||!r.current)throw new Error("CrossfadeUtils: Missing audio elements for crossfade preparation");console.log("CrossfadeUtils: Preparing next song for crossfade:",A.title);try{console.log("CrossfadeUtils: Caching next song"),await L(A);const j=V(A.id);if(!j)throw new Error(`Failed to cache next song: ${A.title}`);s.current.pause(),s.current.currentTime=0,s.current.src=j.url,s.current.playbackRate=p(q.current.tempo),console.log("CrossfadeUtils: Waiting for next audio to be ready"),await new Promise((R,T)=>{const w=setTimeout(()=>{O(),T(new Error("Timeout waiting for audio to load"))},1e4),O=()=>{clearTimeout(w),s.current?.removeEventListener("canplay",B),s.current?.removeEventListener("loadeddata",B),s.current?.removeEventListener("error",N)},B=()=>{console.log("CrossfadeUtils: Next audio is ready"),O(),R()},N=U=>{console.error("CrossfadeUtils: Error loading next audio:",U),O(),T(new Error("Failed to load next audio"))};if(s.current.readyState>=2){O(),R();return}s.current.addEventListener("canplay",B),s.current.addEventListener("loadeddata",B),s.current.addEventListener("error",N),s.current.load()});const G=Xr(A);if(G.start>0&&G.start<s.current.duration)try{s.current.currentTime=G.start}catch(R){console.warn("CrossfadeUtils: Failed to apply gapless start offset to next track:",R)}(!d.current||d.current.element!==s.current)&&(d.current=r.current.createAudioSource(s.current)),r.current.prepareNextSource(d.current),console.log("CrossfadeUtils: Next song prepared successfully for crossfade")}catch(j){throw console.error("CrossfadeUtils: Failed to prepare next song for crossfade:",j),j}},y=(A,L,V,q,j,G,R,T,w,O)=>{console.log("CrossfadeUtils: Updating player state after crossfade to:",A.title);try{L.current.currentSong&&L.current.shuffle&&(q(V,L.current.currentSong.id),console.log("CrossfadeUtils: Updated play history for shuffle mode"));const B=G.current;G.current=R.current,R.current=B;const N=T.current;T.current=w.current,w.current=N;const U=r.current?.getCurrentTime()||0;j(D=>(console.log("CrossfadeUtils: Finalizing player state after crossfade:",A.title,"currentTime:",U),{...D,currentTime:U})),O&&(O(),console.log("CrossfadeUtils: Invalidated next song cache after crossfade")),console.log("CrossfadeUtils: Player state updated successfully")}catch(B){console.error("CrossfadeUtils: Error updating player state after crossfade:",B)}};return{setupCrossfadeManager:v,getNextSongForCrossfade:b,prepareNextSongForCrossfade:_,updatePlayerStateAfterCrossfade:y,preloadNextSong:async(A,L,V,q)=>{if(!s.current||r.current?.isCrossfading()){console.log("CrossfadeUtils: Skipping preload - no audio element or crossfade in progress");return}try{const j=A();if(!j){console.log("CrossfadeUtils: No next song to preload");return}console.log("CrossfadeUtils: Preloading next song:",j.title),await L(j);const G=V(j.id);G&&(s.current.src=G.url,s.current.playbackRate=p(q.current.tempo),s.current.preload="auto",s.current.load(),console.log("CrossfadeUtils: Successfully preloaded next song"))}catch(j){console.warn("CrossfadeUtils: Failed to preload next song:",j)}},startCrossfadeTransition:async(A,L,V,q,j,G,R,T,w,O,B,N)=>{if(console.log("CrossfadeUtils: Starting crossfade transition..."),!A.current)throw console.warn("CrossfadeUtils: No playNext function available"),new Error("No playNext function available for crossfade");if(!r.current)if(w?.current){if(console.log("CrossfadeUtils: Initializing crossfade manager"),!v(w.current))throw new Error("Failed to initialize crossfade manager")}else throw new Error("No audio context available for crossfade");if(!l.current)throw new Error("No current audio element available");if(!s.current)throw new Error("No next audio element available");(!u.current||u.current.element!==l.current)&&(console.log("CrossfadeUtils: Setting up current audio source"),u.current=r.current.createAudioSource(l.current),r.current.setCurrentSource(u.current)),r.current&&r.current.isCrossfading()&&(console.log("CrossfadeUtils: Cancelling existing crossfade"),r.current.cancelCrossfade());try{const U=L();if(!U)throw new Error("No next song available for crossfade");console.log("CrossfadeUtils: Preparing next song for crossfade:",U.title),await V(U);const D=Xr(U),W=s.current&&Number.isFinite(s.current.duration)?s.current.duration:U.duration||0,ae=W-D.start-D.end,ce=Number.isFinite(ae)&&ae>.1?ae:W;B?B.current=!1:m&&(m.current=!1),N?N.current=D.start>0:f&&(f.current=D.start>0),w?.current?.state==="suspended"&&(console.log("CrossfadeUtils: Resuming audio context"),await w.current.resume());const z=Math.max(.5,Math.min(10,T.current.crossfade||3)),I=l.current?l.current.duration-l.current.currentTime:z,X=Math.min(z,Math.max(.5,I));console.log("CrossfadeUtils: Starting crossfade with effective duration:",X,"(requested:",z,"time remaining:",I.toFixed(1)+")"),console.log("CrossfadeUtils: Updating player state at crossfade start"),R(se=>({...se,currentSong:U,currentTime:0,duration:ce&&ce>0?ce:U.duration||0,isPlaying:!0})),await r.current.startCrossfade({duration:X,curve:"smooth"}),console.log("CrossfadeUtils: Crossfade completed, finalizing player state"),y(U,q,j,G,R,l,s,u,d,O),console.log("CrossfadeUtils: Crossfade transition completed successfully")}catch(U){throw console.error("CrossfadeUtils: Crossfade transition failed:",U),console.log("CrossfadeUtils: Reverting UI state after failed crossfade"),R(D=>({...D,currentSong:q.current.currentSong,currentTime:l.current?.currentTime||D.currentTime,duration:q.current.currentSong?.duration||D.duration})),r.current?.isCrossfading()&&r.current.cancelCrossfade(),U}},cleanupCrossfadeManager:()=>{console.log("CrossfadeUtils: Cleaning up crossfade manager");try{r.current&&(r.current.destroy(),r.current=null),u.current=null,d.current=null,console.log("CrossfadeUtils: Cleanup completed")}catch(A){console.error("CrossfadeUtils: Error during cleanup:",A)}}}},ZN=()=>({processAudioBatch:async r=>{const u=[],d=r.length;let m=0;const f=he.loading(Ge.t("audioProcessor.processingZero",{totalSongs:d}));for(const p of r)if(p.url.startsWith("blob:"))try{const v=await fetch(p.url),b=await v.arrayBuffer(),_=v.headers.get("content-type")||"audio/mpeg";await ta.saveSongAudio(p.id,{fileData:b,mimeType:_}),u.push({...p,hasStoredAudio:!0,albumArt:p.albumArt}),m++,he.loading(Ge.t("audioProcessor.processing",{processedCount:m,totalSongs:d}),{id:f,description:Ge.t("audioProcessor.current",{songTitle:p.title})})}catch(v){const b=v;console.error(Ge.t("audioProcessor.failedToProcess",{songTitle:p.title}),b),he.error(`Failed to process "${p.title}"`,{description:b.message||Ge.t("common.unknownError")}),u.push(p)}else u.push(p),m++;return he.success(Ge.t("audioProcessor.processed",{processedCount:m}),{id:f}),u},getValidTempo:r=>typeof r!="number"||!Number.isFinite(r)||r<=0?1:r}),KN=(l,s,r,u,d)=>{const m=(N,U)=>N.map(D=>{if(D.hasStoredAudio)return{...D,url:`indexeddb://${D.id}`};if(U?.current.has(D.id)){const W=U.current.get(D.id);return{...D,url:W?.url||D.url}}return D}),f=()=>crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now(),p=(N,U=[])=>{const D={id:f(),name:N,songs:m(U)};return l(W=>({...W,playlists:[...W.playlists,D]})),D},v=N=>{const U={id:f(),name:N,children:[]};return l(D=>({...D,playlists:[...D.playlists,U]})),U},b=N=>{l(U=>{const D=W=>W.filter(ae=>ae.id!==N).map(ae=>"children"in ae?{...ae,children:D(ae.children)}:ae);return{...U,playlists:D(U.playlists)}})},_=N=>{l(U=>({...U,favorites:U.favorites.includes(N)?U.favorites:[...U.favorites,N]}))},y=N=>{l(U=>({...U,favorites:U.favorites.filter(D=>D!==N)}))},x=(N,U)=>{l(D=>{const W=D.songs.find(ce=>ce.id===U);if(!W)return D;const ae=ce=>ce.map(z=>z.id===N&&"songs"in z?z.songs.some(I=>I.id===U)?z:{...z,songs:[...z.songs,W]}:"children"in z?{...z,children:ae(z.children)}:z);return{...D,playlists:ae(D.playlists)}})},E=(N,U)=>{l(D=>{if(!N)return{...D,songs:U,playlists:D.playlists.map(ae=>ae.id==="all-songs"?{...ae,songs:U}:ae)};const W=ae=>ae.map(ce=>ce.id===N&&"songs"in ce?{...ce,songs:U}:"children"in ce?{...ce,children:W(ce.children)}:ce);return{...D,playlists:W(D.playlists)}})},P=(N,U,D)=>{l(W=>{const ae=W.songs.find(X=>X.id===N);if(!ae)return W;const ce=(X,se)=>se===null||se==="all-songs"?X:X.map(re=>re.id===se&&"songs"in re?{...re,songs:re.songs.filter(ve=>ve.id!==N)}:"children"in re?{...re,children:ce(re.children,se)}:re),z=(X,se)=>X.map(re=>re.id===se&&"songs"in re?re.songs.some(ve=>ve.id===N)?re:{...re,songs:[...re.songs,ae]}:"children"in re?{...re,children:z(re.children,se)}:re);let I=W.playlists;return U&&U!=="all-songs"&&(I=ce(I,U)),I=z(I,D),{...W,playlists:I}})},A=(N,U,D)=>{l(W=>{console.debug("[playlistManager] moveToFolder called with",{itemId:N,folderId:U,beforeId:D});let ae=null;const ce=X=>X.filter(se=>se.id===N?(ae=se,!1):!0).map(se=>"children"in se?{...se,children:ce(se.children)}:se);let z=ce(W.playlists);if(!ae)return console.warn("[playlistManager] moveToFolder: item not found",N),W;if(U&&ae&&"children"in ae){const X=(ue,fe)=>{for(const _e of ue)if(_e.id===fe||"children"in _e&&X(_e.children,fe))return!0;return!1},se=(ue,fe)=>{for(const _e of ue){if(_e.id===fe&&"children"in _e)return _e;if("children"in _e){const We=se(_e.children,fe);if(We)return We}}return null};if(se(z,U)&&X(ae.children,U))return W}const I=(X,se,re,ve)=>{if(se===null){if(!ve)return[...X,re];const ue=X.findIndex(fe=>fe.id===ve);return ue===-1?[...X,re]:[...X.slice(0,ue),re,...X.slice(ue)]}return X.map(ue=>{if(ue.id===se&&"children"in ue){const fe=ue.children;if(!ve)return{...ue,children:[...fe,re]};const _e=fe.findIndex(We=>We.id===ve);return _e===-1?{...ue,children:[...fe,re]}:{...ue,children:[...fe.slice(0,_e),re,...fe.slice(_e)]}}else if("children"in ue)return{...ue,children:I(ue.children,se,re,ve)};return ue})};return U?(console.debug("[playlistManager] inserting into folder",U,"beforeId",D),z=I(z,U,ae,D||null)):(console.debug("[playlistManager] inserting into root beforeId",D),z=I(z,null,ae,D||null)),{...W,playlists:z}})},L=N=>{const U=s.favorites.includes(N);return U?y(N):_(N),!U},V=N=>s.favorites.includes(N),q=()=>s.songs.filter(N=>s.favorites.includes(N.id)),j=N=>(r(N),N.trim()?s.songs.filter(U=>U.title.toLowerCase().includes(N.toLowerCase())||U.artist.toLowerCase().includes(N.toLowerCase())):s.songs);return{prepareSongsForPlaylist:m,createPlaylist:p,createFolder:v,removePlaylist:b,addToFavorites:_,removeFromFavorites:y,addToPlaylist:x,reorderPlaylistSongs:E,moveSongToPlaylist:P,moveToFolder:A,toggleFavorite:L,isFavorited:V,getFavoriteSongs:q,searchSongs:j,getSearchResults:()=>j(u),navigateToArtist:N=>{d(U=>({...U,view:"artist",currentArtist:N}))},navigateToAlbum:N=>{d(U=>({...U,view:"album",currentAlbum:N}))},navigateToSongs:()=>{d(N=>({...N,view:"songs",currentArtist:void 0,currentAlbum:void 0}))},exportPlaylist:(N,U="json")=>{try{let D,W,ae;if(U==="json"){const X={name:N.name,created:new Date().toISOString(),songs:N.songs.map(se=>({title:se.title,artist:se.artist,album:se.album,duration:se.duration}))};D=JSON.stringify(X,null,2),W=`${N.name.replace(/[^a-z0-9]/gi,"_")}.json`,ae="application/json"}else D=`#EXTM3U
`,N.songs.forEach(X=>{D+=`#EXTINF:${Math.floor(X.duration)},${X.artist} - ${X.title}
`,D+=`# ${X.album}
`}),W=`${N.name.replace(/[^a-z0-9]/gi,"_")}.m3u`,ae="audio/x-mpegurl";const ce=new Blob([D],{type:ae}),z=URL.createObjectURL(ce),I=document.createElement("a");I.href=z,I.download=W,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(z),he.success(Ge.t("playlist.exportedAs",{name:N.name,format:U.toUpperCase()}))}catch(D){console.error("Export failed:",D),he.error(Ge.t("playlist.exportFailed")+" "+(D instanceof Error?D.message:Ge.t("common.unknownError")))}},importPlaylist:N=>new Promise((U,D)=>{const W=new FileReader;W.onload=ae=>{try{const ce=ae.target?.result;if(N.name.endsWith(".json")){const z=JSON.parse(ce);if(!z.name||!Array.isArray(z.songs))throw new Error(Ge.t("playlist.invalidFormat"));const I={id:Date.now().toString(),name:`${z.name} (Imported)`,songs:[]};p(I.name,I.songs),he.success(Ge.t("playlist.importedPlaylist",{name:z.name,count:z.songs.length})),he.info(Ge.t("playlist.noteManualAdd")),U()}else if(N.name.endsWith(".m3u")||N.name.endsWith(".m3u8")){const z=ce.split(`
`).filter(se=>se.trim()),I=[];for(let se=0;se<z.length;se++){const re=z[se].trim();if(re.startsWith("#EXTINF:")){const ve=re.match(/#EXTINF:\d+,(.+?) - (.+)/);ve&&I.push({artist:ve[1],title:ve[2]})}}const X=N.name.replace(/\.(m3u|m3u8)$/i,"");p(`${X} (Imported)`,[]),he.success(Ge.t("playlist.importedM3u",{count:I.length})),he.info(Ge.t("playlist.noteManualAdd")),U()}else throw new Error(Ge.t("playlist.unsupportedFormat"))}catch(ce){console.error("Import failed:",ce);const z=ce instanceof Error?ce.message:Ge.t("playlist.failedToParse");he.error(Ge.t("playlist.importFailedWithMessage",{message:z})),D(ce)}},W.onerror=()=>{const ae=new Error(Ge.t("playlist.failedToReadFile"));he.error(Ge.t("playlist.failedToReadFile")),D(ae)},W.readAsText(N)})}},JN=()=>{const{t:l}=Bt(),s=g.useRef(null),r=g.useRef(null),u=g.useRef(new Map),d=g.useRef(kT()),m=g.useRef(null),f=g.useRef(null),p=g.useRef(null),v=g.useRef(null),b=g.useRef(null),_=g.useRef(null),y=g.useRef(!1),x=g.useRef(!1),E=g.useRef(null),P=g.useRef(!1),A=g.useRef(!1),[L,V]=g.useState(!1),q=g.useRef(null),[j,G]=g.useState({currentSong:null,currentPlaylist:null,isPlaying:!1,volume:.75,currentTime:0,duration:0,shuffle:!1,repeat:"off",analyserNode:null,view:"songs"}),[R,T]=g.useState({volume:.75,crossfade:3,colorTheme:"Blue",defaultShuffle:!1,defaultRepeat:"off",autoPlayNext:!0,themeMode:"auto",compactMode:!1,showAlbumArt:!0,showLyrics:!1,sessionRestore:!0,lastPlayedSongId:"none",lastPlayedPlaylistId:"none",language:"English",tempo:1,pitch:0,gaplessPlayback:!0,smartShuffle:!0,discordEnabled:!1,discordUserId:void 0}),[w,O]=g.useState(()=>({songs:[],playlists:[],favorites:[]})),[B,N]=g.useState(""),U=g.useRef(new Map),D=g.useRef(R),W=g.useRef(j),ae=g.useCallback(pi.debounce(async Z=>{try{await ta.saveLibrary(Z),console.log("Saved musicLibrary to IndexedDB")}catch(ie){console.error("Failed to persist library data:",ie)}},500),[]),ce=g.useCallback(pi.debounce(async(Z,ie)=>{try{const le=Array.from(ie.entries()),ge={...Z,playHistory:le};await ta.saveSettings(ge),console.log("Saved playerSettings to IndexedDB")}catch(le){console.error("Failed to persist settings:",le)}},300),[]),z=YN(u),I=PN(E,P),X=QN(s,m,f,p,v,y,x),se=ZN(),re=KN(O,w,N,B,G),{cacheSong:ve,getCachedSong:ue,prepareSongsForPlaylist:fe,updateSongCache:_e,clearAllCache:We}=z,{getAndCacheNextSong:Oe,invalidateNextSongCache:ct,updatePlayHistory:mt}=I,{setupCrossfadeManager:Ct,prepareNextSongForCrossfade:lt,preloadNextSong:me,startCrossfadeTransition:Ne,cleanupCrossfadeManager:st}=X,{processAudioBatch:oe}=se,{createPlaylist:we,createFolder:qe,removePlaylist:Re,addToFavorites:ft,removeFromFavorites:Me,addToPlaylist:$e,reorderPlaylistSongs:bt,moveSongToPlaylist:St,moveToFolder:it,toggleFavorite:Mt,isFavorited:K,getFavoriteSongs:Te,searchSongs:Ee,getSearchResults:et,navigateToArtist:Ie,navigateToAlbum:zt,navigateToSongs:ht,exportPlaylist:Ta,importPlaylist:Ca}=re,qn=g.useCallback(()=>{if(d.current.isActive()){console.log("[Safari] Skipping Web Audio API setup for background playback compatibility");return}if(!r.current&&s.current){const ie=new(window.AudioContext||window.webkitAudioContext);r.current=ie;const le=Ct(ie);if(le){const ge=le.getAnalyzerNode();G(pe=>({...pe,analyserNode:ge}))}console.log("[Audio Context] Created and initialized")}},[Ct]);g.useEffect(()=>{const Z=()=>{r.current&&r.current.state==="suspended"&&(console.log("[Audio Context] Resuming suspended context"),r.current.resume())},ie=()=>{r.current&&r.current.state==="suspended"&&(console.log("[Audio Context] Resuming on focus"),r.current.resume())};return document.addEventListener("visibilitychange",Z),window.addEventListener("focus",ie),()=>{document.removeEventListener("visibilitychange",Z),window.removeEventListener("focus",ie)}},[]),g.useEffect(()=>()=>{st(),b.current&&clearTimeout(b.current),We()},[]),g.useEffect(()=>{(async()=>{try{const ie=await ta.loadLibrary(),le=await ta.loadSettings();if(ie){const ge={...ie,songs:ie.songs.filter(Ce=>Ce.url&&Ce.url!=="")},pe={id:"all-songs",name:l("allSongs"),songs:fe(ge.songs)},De={...ge,playlists:ge.playlists.some(Ce=>Ce.id==="all-songs")?ge.playlists.map(Ce=>Ce.id==="all-songs"?{...Ce,songs:fe(ge.songs)}:Ce):[pe,...ge.playlists]};O(De);let rt=null,Qe=null;le?.sessionRestore!==!1&&(le?.lastPlayedSongId&&(rt=De.songs.find(Ce=>Ce.id===le.lastPlayedSongId)||null),le?.lastPlayedPlaylistId&&(Qe=De.playlists.find(Ce=>Ce.id===le.lastPlayedPlaylistId)||null)),(!Qe||!Qe.songs||Qe.songs.length===0)&&(Qe=pe),!rt&&Qe.songs.length>0&&le?.sessionRestore!==!1&&(rt=Qe.songs[0]),G(Ce=>({...Ce,currentSong:rt,currentPlaylist:Qe,isPlaying:!1,currentTime:0,duration:rt?.duration||0})),le&&(d.current.isActive()&&(le.gaplessPlayback=!1,le.crossfade=0),(le.pitch===void 0||le.pitch===null||isNaN(le.pitch))&&(le.pitch=0),T(le),le.playHistory&&(U.current=new Map(le.playHistory),console.log("Restored play history with",le.playHistory.length,"entries")))}}catch(ie){console.error("Failed to load persisted data:",ie)}finally{V(!0)}})()},[fe]),g.useEffect(()=>{L&&ae(w)},[w,L,ae]),g.useEffect(()=>{L&&ce(R,U.current)},[R,L,ce]),g.useEffect(()=>{const Z=D.current;D.current=R,Z.smartShuffle!==R.smartShuffle&&(console.log("Smart shuffle setting changed, invalidating cache"),ct(!0))},[R,ct]),g.useEffect(()=>{const Z=W.current;W.current=j,(Z.currentPlaylist?.id!==j.currentPlaylist?.id||Z.shuffle!==j.shuffle&&j.shuffle||Z.repeat!==j.repeat)&&(console.log("Player state changed significantly, invalidating cache"),ct(!0))},[j,ct]),g.useEffect(()=>{if(j.currentPlaylist){const Z=le=>{for(const ge of le){if("songs"in ge&&ge.id===j.currentPlaylist?.id)return ge;if("children"in ge){const pe=Z(ge.children);if(pe)return pe}}return null},ie=Z(w.playlists);ie&&ie.songs!==j.currentPlaylist.songs&&G(le=>({...le,currentPlaylist:ie}))}},[w.playlists,j.currentPlaylist?.id]),g.useEffect(()=>{f.current?f.current.setMasterVolume(R.volume):s.current&&(s.current.volume=R.volume)},[R.volume]),g.useEffect(()=>{G(Z=>({...Z,volume:R.volume,shuffle:R.defaultShuffle,repeat:R.defaultRepeat}))},[R.volume,R.defaultShuffle,R.defaultRepeat]),g.useEffect(()=>{if(L&&(R.sessionRestore&&T(Z=>({...Z,lastPlayedSongId:j.currentSong?.id??Z.lastPlayedSongId,lastPlayedPlaylistId:j.currentPlaylist?.id??Z.lastPlayedPlaylistId})),"mediaSession"in navigator&&j.currentSong)){navigator.mediaSession.metadata=new MediaMetadata({title:j.currentSong.title,artist:j.currentSong.artist,album:j.currentSong.album,artwork:j.currentSong.albumArt?[{src:j.currentSong.albumArt}]:[]}),navigator.mediaSession.setActionHandler("previoustrack",()=>{ja()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{In()}),navigator.mediaSession.setActionHandler("seekto",Z=>{if(Z.seekTime!==void 0&&s.current){const ie=Math.max(0,Math.min(Z.seekTime,s.current.duration||0));s.current.currentTime=ie,d.current.isActive()&&d.current.seek(ie),console.log("[Media Session] Seek to:",ie)}}),navigator.mediaSession.setActionHandler("seekforward",Z=>{if(s.current){const ie=Z.seekOffset||10,le=Math.min(s.current.currentTime+ie,s.current.duration||0);s.current.currentTime=le,d.current.isActive()&&d.current.seek(le),console.log("[Media Session] Seek forward:",ie,"seconds")}}),navigator.mediaSession.setActionHandler("seekbackward",Z=>{if(s.current){const ie=Z.seekOffset||10,le=Math.max(s.current.currentTime-ie,0);s.current.currentTime=le,d.current.isActive()&&d.current.seek(le),console.log("[Media Session] Seek backward:",ie,"seconds")}});try{navigator.mediaSession.setActionHandler("enterpictureinpicture",()=>{$v({playerState:{currentSong:j.currentSong,isPlaying:j.isPlaying},togglePlayPause:Wa,playNext:In,playPrevious:ja})})}catch{console.log("enterpictureinpicture action not supported")}return()=>{if("mediaSession"in navigator){navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null);try{navigator.mediaSession.setActionHandler("enterpictureinpicture",null)}catch{}}}}},[j.currentSong,j.currentPlaylist,L]),g.useEffect(()=>{const Z=vg(R.tempo),ie=Math.pow(2,(R.pitch??0)/12),le=Z*ie;s.current&&(s.current.playbackRate=le),m.current&&(m.current.playbackRate=le)},[R.tempo,R.pitch]);const Ft=g.useCallback(async(Z,ie)=>{const le=Uu.getInstance();if(!(!R.discordEnabled||!R.discordUserId))try{Z&&ie?await le.updatePresence({userId:R.discordUserId,details:Z.title,state:Z.artist}):await le.clearPresence(R.discordUserId)}catch(ge){console.error("Failed to update Discord presence:",ge)}},[R.discordEnabled,R.discordUserId]),vn=g.useCallback(async()=>{if(!(A.current||!j.currentSong||!j.currentPlaylist)&&j.repeat!=="one"){A.current=!0;try{const Z=Oe(W,D,U);Z&&(E.current=Z,P.current=!0,R.crossfade>0&&m.current&&await me(()=>Z,ve,ue,D))}catch(Z){console.error("Failed to preload next song:",Z)}finally{A.current=!1}}},[j,R,me,ve,ue,Oe]),Kt=g.useCallback(async(Z,ie)=>{if(!Z.url&&!Z.hasStoredAudio){console.error("No URL or stored audio available for song:",Z),he.error(`Cannot play "${Z.title}" - No audio source available`);return}r.current||qn(),r.current?.state==="suspended"&&r.current.resume(),_.current&&(clearTimeout(_.current),_.current=null),b.current&&(clearTimeout(b.current),b.current=null);const le=Z.hasStoredAudio?{...Z,url:`indexeddb://${Z.id}`}:Z;await ve(le);const ge=ue(Z.id);if(!ge){console.error("Failed to play song: could not cache");return}const pe=ie&&"songs"in ie?{...ie,songs:fe(ie.songs)}:W.current.currentPlaylist&&"songs"in W.current.currentPlaylist?W.current.currentPlaylist:null;if(G(De=>({...De,currentSong:Z,currentPlaylist:pe,isPlaying:!0,currentTime:0})),W.current.currentSong&&W.current.currentSong.id!==Z.id&&mt(U,W.current.currentSong.id),s.current){f.current?.isCrossfading()&&f.current.cancelCrossfade(),y.current=!1,x.current=!1,s.current.src=ge.url;const De=vg(D.current.tempo),rt=Math.pow(2,D.current.pitch/12);s.current.playbackRate=De*rt,r.current||qn(),r.current&&!f.current&&Ct(r.current),f.current&&((!p.current||p.current.element!==s.current)&&(p.current=f.current.createAudioSource(s.current)),f.current.setCurrentSource(p.current));try{await s.current.play()}catch(Qe){console.error("Failed to play song:",Qe),he.error(`Failed to play "${Z.title}"`,{description:Qe.message||"Unknown error occurred"}),G(Ce=>({...Ce,isPlaying:!1}));return}ie&&_e(Z,ie,W,D,U,xb),Ft(Z,!0),ct(),b.current=window.setTimeout(()=>{vn()},2e3)}},[qn,ve,ue,_e,fe,Ft,ct,vn]);g.useEffect(()=>{const Z=d.current.getElement();Z?(console.log("[Music Player] Using Safari audio element as primary audio"),s.current=Z,Z.muted=!1,Z.volume=D.current.volume):(s.current=new Audio,s.current.crossOrigin="anonymous"),m.current=new Audio,m.current.crossOrigin="anonymous";const ie=s.current,le=rt=>{const Qe=rt.target,Ce=s.current,Pt=m.current;let nn=Ce;if(f.current?.isCrossfading()&&Pt&&Pt.src&&!Pt.src.includes("about:blank")&&(nn=Pt),Qe!==nn)return;if(G(On=>({...On,currentTime:Qe.currentTime})),"mediaSession"in navigator&&"setPositionState"in navigator.mediaSession)try{navigator.mediaSession.setPositionState({duration:Qe.duration||0,playbackRate:Qe.playbackRate||1,position:Qe.currentTime||0})}catch{}const hs=D.current.crossfade>0,Fn=D.current.gaplessPlayback,Yn=D.current.autoPlayNext,tl=!!q.current,wa=W.current.repeat!=="one",Et=Ce&&Ce.duration>0,Ei=!f.current?.isCrossfading();if(Yn&&tl&&wa&&Et&&Ei&&Ce){const On=Fn?Xr(W.current.currentSong):{start:0,end:0},Rn=Ce.duration-On.start-On.end,Ea=Number.isFinite(Rn)&&Rn>.1?Rn:Ce.duration,ro=Math.max(0,Ce.currentTime-On.start),Pn=Math.max(0,Ea-ro),Ai=Fn&&(On.start>0||On.end>0);if(hs){const Cl=D.current.crossfade,nl=Math.max(Cl+5,10);Pn<=nl&&Pn>nl-1&&(A.current||vn()),Pn<=Cl&&(console.log("Triggering crossfade at",Pn.toFixed(1),"seconds remaining"),Ne(q,()=>E.current||Oe(W,D,U),Aa=>lt(Aa,ve,ue,D),W,U,mt,G,D,r,ct,y,x).catch(Aa=>{console.error("Crossfade transition failed:",Aa)}))}else Fn&&(Pn<=3&&Pn>2.5&&(A.current||vn()),Ai&&Pn<=.05&&!y.current&&(y.current=!0,Yn&&q.current?q.current():Yn||(Ce.pause(),G(Cl=>({...Cl,isPlaying:!1})))))}},ge=()=>{const rt=s.current;if(!rt)return;let Qe=rt.duration;if(D.current.gaplessPlayback){const Ce=Xr(W.current.currentSong);if(!x.current&&Ce.start>0&&Ce.start<rt.duration)try{rt.currentTime=Ce.start,x.current=!0}catch(nn){console.warn("Failed to apply gapless start offset:",nn)}const Pt=rt.duration-Ce.start-Ce.end;Number.isFinite(Pt)&&Pt>.1&&(Qe=Pt)}G(Ce=>({...Ce,duration:Qe}))},pe=rt=>{if(rt.target===s.current){if(f.current?.isCrossfading()){console.log("Current song ended during crossfade, completing immediately"),f.current&&setTimeout(()=>{console.log("Crossfade interrupted by song end")},100);return}D.current.autoPlayNext&&(W.current.repeat==="one"?s.current&&(s.current.currentTime=0,s.current.play()):q.current&&(D.current.crossfade===0?D.current.gaplessPlayback?q.current():setTimeout(()=>q.current?.(),400):f.current?.isCrossfading()?console.log("Crossfade transition already in progress"):(console.log("Starting immediate crossfade transition on song end"),_.current&&(clearTimeout(_.current),_.current=null),Ne(q,()=>E.current||Oe(W,D,U),Ce=>lt(Ce,ve,ue,D),W,U,mt,G,D,r,ct,y,x).catch(Ce=>{console.error("Immediate crossfade failed:",Ce),q.current&&(console.log("Falling back to regular playNext"),q.current())}))))}};ie.addEventListener("timeupdate",le),ie.addEventListener("loadedmetadata",ge),ie.addEventListener("ended",pe);const De=m.current;return De.addEventListener("timeupdate",le),De.addEventListener("loadedmetadata",ge),De.addEventListener("ended",pe),()=>{ie.removeEventListener("timeupdate",le),ie.removeEventListener("loadedmetadata",ge),ie.removeEventListener("ended",pe),De.removeEventListener("timeupdate",le),De.removeEventListener("loadedmetadata",ge),De.removeEventListener("ended",pe),ie.pause(),De.pause()}},[]);const Wa=g.useCallback(async()=>{if(!(!s.current||!j.currentSong))if(r.current?.state==="suspended"&&r.current.resume(),j.isPlaying)s.current.pause(),G(Z=>({...Z,isPlaying:!1})),Ft(j.currentSong,!1);else{if(!s.current.src||s.current.src.includes("about:blank")){await Kt(j.currentSong,j.currentPlaylist||void 0);return}try{await s.current.play(),G(Z=>({...Z,isPlaying:!0})),Ft(j.currentSong,!0)}catch{G(ie=>({...ie,isPlaying:!1}))}}},[j.isPlaying,j.currentSong,j.currentPlaylist,Kt,Ft]),In=g.useCallback(()=>{if(!j.currentPlaylist||!j.currentSong)return;f.current?.isCrossfading()&&f.current.cancelCrossfade(),_.current&&(clearTimeout(_.current),_.current=null),b.current&&(clearTimeout(b.current),b.current=null);let Z=null;E.current&&P.current?(Z=E.current,E.current=null,P.current=!1):Z=Oe(W,D,U),Z&&(j.shuffle&&mt(U,j.currentSong.id),Kt(Z,j.currentPlaylist))},[j,R.smartShuffle,mt,Kt,Oe]);g.useEffect(()=>{q.current=In},[In]);const ja=g.useCallback(()=>{if(!j.currentPlaylist||!j.currentSong)return;f.current?.isCrossfading()&&f.current.cancelCrossfade(),_.current&&(clearTimeout(_.current),_.current=null),b.current&&(clearTimeout(b.current),b.current=null);const Z=j.currentPlaylist.songs,ie=Z.findIndex(ge=>ge.id===j.currentSong.id);let le=null;j.shuffle?le=Oe(W,D,U):ie>0?le=Z[ie-1]:j.repeat==="all"&&(le=Z[Z.length-1]),le&&(j.shuffle&&mt(U,j.currentSong.id),Kt(le,j.currentPlaylist))},[j,R.smartShuffle,mt,Kt,Oe]),el=g.useCallback(Z=>{const ie=Math.max(0,Math.min(1,Z));if(T(ge=>({...ge,volume:ie})),d.current.isActive()){s.current&&(s.current.volume=ie);return}f.current?f.current.setMasterVolume(ie):s.current&&(s.current.volume=ie)},[]),gt=g.useCallback(()=>{G(Z=>({...Z,shuffle:!Z.shuffle})),ct(!0)},[ct]),Yt=g.useCallback(()=>{G(Z=>({...Z,repeat:Z.repeat==="off"?"all":Z.repeat==="all"?"one":"off"}))},[]),Ut=g.useCallback(Z=>{T(ie=>({...ie,...Z}))},[]),cn=g.useCallback(Z=>{if(s.current){const ie=s.current.currentTime;console.log("Seeking to:",Z,"from:",ie,"readyState:",s.current.readyState),s.current.currentTime=Z,setTimeout(()=>{const le=s.current?.currentTime;console.log("After seek - requested:",Z,"actual:",le),Math.abs((le||0)-Z)>.1&&console.warn("Seek failed or was overridden!")},100),G(le=>({...le,currentTime:Z}))}},[]),$t=g.useCallback(async Z=>{O(ie=>{const le=[...ie.songs,Z],ge=ie.playlists.some(De=>De.id==="all-songs");let pe=ie.playlists.map(De=>De.id==="all-songs"?{...De,songs:fe(le)}:De);return ge||(pe=[{id:"all-songs",name:l("allSongs"),songs:fe(le)},...pe]),{...ie,songs:le,playlists:pe}});try{const[ie]=await oe([Z]);O(le=>{const ge=le.songs.map(pe=>pe.id===ie.id?ie:pe);return{...le,songs:ge,playlists:le.playlists.map(pe=>pe.id==="all-songs"?{...pe,songs:fe(ge)}:pe)}})}catch(ie){console.error("Failed to process song audio:",ie),he.error(`Failed to process "${Z.title}"`,{description:ie.message||"Unknown error occurred"})}},[oe,fe]),Ot=g.useCallback(async Z=>{O(ie=>{const le=ie.songs.filter(pe=>pe.id!==Z),ge=ie.playlists.map(pe=>"songs"in pe?{...pe,songs:pe.songs.filter(De=>De.id!==Z)}:pe);return{...ie,songs:le,playlists:ge,favorites:ie.favorites.filter(pe=>pe!==Z)}});try{await ta.removeSongAudio(Z)}catch(ie){console.error("Failed to remove song audio from IndexedDB:",ie)}},[]);return{playerState:j,library:w,settings:R,searchQuery:B,isInitialized:L,playSong:Kt,togglePlayPause:Wa,playNext:In,playPrevious:ja,setVolume:el,seekTo:cn,toggleShuffle:gt,toggleRepeat:Yt,updateSettings:Ut,addSong:$t,removeSong:Ot,createPlaylist:we,createFolder:qe,removePlaylist:Re,addToPlaylist:$e,reorderPlaylistSongs:bt,moveSongToPlaylist:St,moveToFolder:it,addToFavorites:ft,removeFromFavorites:Me,toggleFavorite:Mt,isFavorited:K,getFavoriteSongs:Te,searchSongs:Ee,getSearchResults:et,setSearchQuery:N,navigateToArtist:Ie,navigateToAlbum:zt,navigateToSongs:ht,exportPlaylist:Ta,importPlaylist:Ca}},WN=({musicPlayerHook:l,onOpenSettings:s,onToggleLyrics:r,onToggleVisualizer:u,onSearch:d})=>{const[m,f]=g.useState({});g.useEffect(()=>{(async()=>{try{const _=await xl.getAllShortcuts();f(_)}catch(_){console.error("Failed to load keyboard shortcuts:",_),f(await xl.getAllShortcuts())}})()},[]);const p=g.useCallback((b,_)=>b.key===_.key&&(_.ctrlKey||!1)===b.ctrlKey&&(_.altKey||!1)===b.altKey&&(_.shiftKey||!1)===b.shiftKey,[]),v=g.useCallback(b=>{const _=b.target;if(_.tagName==="INPUT"||_.tagName==="TEXTAREA"||_.isContentEditable)return;const y=Object.values(m).find(x=>p(b,x));if(y)switch(b.preventDefault(),y.action){case"playPause":l.togglePlayPause();break;case"nextSong":l.playNext();break;case"previousSong":l.playPrevious();break;case"volumeUp":const x=Math.min(1,l.playerState.volume+.05);console.log("Volume up:",l.playerState.volume,"->",x),l.setVolume(x);break;case"volumeDown":const E=Math.max(0,l.playerState.volume-.05);console.log("Volume down:",l.playerState.volume,"->",E),l.setVolume(E);break;case"mute":const P=l.playerState.volume;if(P>0)sessionStorage.setItem("previousVolume",P.toString()),l.setVolume(0);else{const A=parseFloat(sessionStorage.getItem("previousVolume")||"0.7");l.setVolume(A)}break;case"toggleShuffle":l.toggleShuffle();break;case"toggleRepeat":l.toggleRepeat();break;case"toggleLyrics":r?.();break;case"toggleVisualizer":u?.();break;case"search":d?.();break;case"openSettings":s?.();break}},[m,p,l,r,u,d,s]);return g.useEffect(()=>(document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}),[v]),{shortcuts:m,reloadShortcuts:async()=>{const b=await xl.getAllShortcuts();f(b)}}},e2="_container_18c42_15",t2="_mainSection_18c42_40",bg={container:e2,mainSection:t2};function n2(){const{t:l}=Bt(),s=JN(),[,r]=g.useState("auto"),[u,d]=g.useState(!1),[m,f]=g.useState(!1),p=(b,_)=>{if(console.log("Drag operation:",{dragItem:b,dropZone:_}),b.type==="song"&&_.type==="playlist"){const y=b.id,x=_.id;console.log("Adding song to playlist:",{songId:y,targetPlaylistId:x});const E=s.library.songs.find(L=>L.id===y),P=(L,V)=>{for(const q of L){if(q.id===V&&"songs"in q)return q;if("children"in q){const j=P(q.children,V);if(j)return j}}return null},A=P(s.library.playlists,x);if(A&&A.songs.some(L=>L.id===y)){E&&A&&he.info(l("songAlreadyInPlaylist",{song:E.title,playlist:A.name}));return}s.addToPlaylist(x,y),E&&A&&he.success(l("songMovedToPlaylist",{song:E.title,playlist:A.name}),{duration:3e3});return}if(b.type==="song"&&_.type==="song"){const y=s.playerState.currentPlaylist;if(y){const x=y.songs,E=x.findIndex(A=>A.id===b.id),P=x.findIndex(A=>A.id===_.id);if(E!==-1&&P!==-1){const A=[...x],[L]=A.splice(E,1);A.splice(P,0,L),s.reorderPlaylistSongs(y.id,A),console.log("Reordered songs in playlist:",{from:E,to:P})}}return}if(b.type==="playlist"&&_.type==="playlist"){const y=b.id,x=_.id,E=(L,V,q=null)=>{for(const j of L){if(j.id===V)return q;if("children"in j){const G=E(j.children,V,j.id);if(G!==void 0)return G}}},P=E(s.library.playlists,x),A=b.data;s.moveToFolder(y,P??null,x),he.success(l("playlist.reordered",{item:A?.name||"Playlist"})||`Moved "${A?.name||"Playlist"}" playlist`);return}if(b.type==="playlist"&&_.type==="folder"){const y=b.id,x=_.id;s.moveToFolder(y,x),he.success(l("playlist.movedToFolder",{item:b.data?.name||"Playlist",folder:_.data?.name||"Folder"}));return}if(b.type==="folder"&&_.type==="folder"){const y=b.id,x=_.id;if(y===x)return;const E=(A,L,V=null)=>{for(const q of A){if(q.id===L)return V;if("children"in q){const j=E(q.children,L,q.id);if(j!==void 0)return j}}},P=E(s.library.playlists,x);s.moveToFolder(y,P??null,x),he.success(l("playlist.reordered",{item:b.data?.name||"Folder"})||`Reordered "${b.data?.name||"Folder"}" folder`);return}console.log("Unhandled drag operation:",{dragItem:b,dropZone:_})},{reloadShortcuts:v}=WN({musicPlayerHook:s,onOpenSettings:()=>{d(!u)},onToggleLyrics:()=>{const b=s.settings;s.updateSettings({showLyrics:!b.showLyrics})},onToggleVisualizer:()=>{console.log("Toggle visualizer shortcut - implementation needed")},onSearch:()=>{const b=document.querySelector('input[type="search"], input[placeholder*="search" i]');b&&(b.focus(),b.select())}});return g.useEffect(()=>{document.title=l("title");const b=document.querySelector('meta[name="description"]');if(b)b.setAttribute("content",l("about.description"));else{const x=document.createElement("meta");x.name="description",x.content=l("about.description"),document.head.appendChild(x)}async function _(){const E=(await ta.loadSettings())?.themeMode||"auto";switch(r(E),E){case"light":Vv();break;case"dark":Hv();break;case"auto":default:qv();break}}_();const y=document.getElementById("loading-screen");y&&setTimeout(()=>{y.remove()},1100)},[]),c.jsx(Dw,{onDragOperation:p,children:c.jsxs("div",{className:bg.container,children:[c.jsx(NE,{musicPlayerHook:s,onShortcutsChanged:v,settingsOpen:u,onSettingsOpenChange:d,isMobileOpen:m,onMobileOpenChange:f}),c.jsxs("div",{className:bg.mainSection,children:[c.jsx(NA,{musicPlayerHook:s,onMobileMenuClick:()=>f(!0)}),c.jsx(qN,{musicPlayerHook:s,settings:{volume:0,crossfade:0,defaultShuffle:!1,defaultRepeat:"off",themeMode:"light",colorTheme:"",autoPlayNext:!1,compactMode:!1,showAlbumArt:!1,showLyrics:!1,sessionRestore:!0,gaplessPlayback:!0,smartShuffle:!0,lastPlayedSongId:void 0,lastPlayedPlaylistId:void 0,language:"English",tempo:1,pitch:0,discordEnabled:!1}})]})]})})}Ge.use(c_).use(u_).use(d_).init({fallbackLng:"en",debug:!0,supportedLngs:Object.keys(Hr),backend:{loadPath:"./locales/{{lng}}/translation.json"},detection:{order:["queryString","cookie"],caches:["cookie"]},interpolation:{escapeValue:!1}});const a2=()=>{const l=document.getElementById("loading-screen");l&&(l.classList.add("fade-out"),setTimeout(()=>{l.remove()},500))};Rg.createRoot(document.getElementById("root")).render(c.jsx(Je.StrictMode,{children:c.jsx(f_,{i18n:Ge,children:c.jsx(Hu,{defaultSetId:"lucide",children:c.jsxs(xC,{defaultTheme:"Blue",children:[c.jsx(y_,{}),c.jsx(n2,{})]})})})}));a2();
//# sourceMappingURL=index-BzPqybt5.js.map
