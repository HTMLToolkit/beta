const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bootstrap.icons-w-ksyN7U.js","./iconBase-DUozSQKX.js","./vendor-ui-Br6e9zSa.js","./vendor-react-c5ypKtDW.js","./css-gg.icons-CIhwm2jF.js","./Lucide.icons-Ca1vwpPK.js","./vendor-icons-htYG8YcH.js","./MaterialDesign.icons-CV6jFePv.js","./Phosphor.icons-D76IbvJA.js","./RemixIcon.icons-B1dcVoYg.js","./SimpleLineIcons.icons-AZLmccKJ.js","./TablerIcons.icons-jqyRdODH.js"])))=>i.map(i=>d[i]);
import{R as he,j as c,S as w_,b as C_,r as y,O as ii,P as Kg,C as ci,c as Zg,T as ui,D as di,d as Jg,e as Wg,f as T_,g as ep,h as j_,i as E_,k as ng,l as tp,I as A_,m as np,n as ap,o as N_,p as lp,V as D_,L as sp,q as rp,s as M_,t as O_,u as op,v as z_,w as R_,x as k_,y as L_,z as B_,A as U_,B as $_,E as H_,F as ip,G as V_,H as q_,J as I_,K as P_,M as F_,N as Y_,Q as mr,U as G_,W as X_,X as Q_,Y as nd,Z as K_,_ as Z_,$ as J_,a0 as W_}from"./vendor-ui-Br6e9zSa.js";import{r as e1,a as t1,g as n1}from"./vendor-react-c5ypKtDW.js";import{_ as Le,u as At,i as Ye,B as a1,a as l1,b as s1,I as r1}from"./vendor-i18n-BBsUE1v-.js";import{c as o1,t as ce,p as i1,r as c1,T as u1}from"./vendor-utils-CJcuHqKu.js";import{p as d1,s as f1,M as ag,c as h1,a as m1,b as g1,d as p1,e as v1}from"./vendor-audio-BqCqqooE.js";import{U as y1,D as b1}from"./vendor-uppy-DPCC4q7y.js";import{g as S1,a as lg}from"./visualizers-D-qNxZFn.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(d){if(d.ep)return;d.ep=!0;const h=r(d);fetch(d.href,h)}})();var Du={exports:{}},ur={},Mu={exports:{}},Ou={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function _1(){return sg||(sg=1,(function(a){function s(z,$){var X=z.length;z.push($);e:for(;0<X;){var le=X-1>>>1,Z=z[le];if(0<d(Z,$))z[le]=$,z[X]=Z,X=le;else break e}}function r(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var $=z[0],X=z.pop();if(X!==$){z[0]=X;e:for(var le=0,Z=z.length,ge=Z>>>1;le<ge;){var ue=2*(le+1)-1,fe=z[ue],_e=ue+1,Ge=z[_e];if(0>d(fe,X))_e<Z&&0>d(Ge,fe)?(z[le]=Ge,z[_e]=X,le=_e):(z[le]=fe,z[ue]=X,le=ue);else if(_e<Z&&0>d(Ge,X))z[le]=Ge,z[_e]=X,le=_e;else break e}}return $}function d(z,$){var X=z.sortIndex-$.sortIndex;return X!==0?X:z.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var v=[],b=[],S=1,p=null,x=3,w=!1,B=!1,E=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function G(z){for(var $=r(b);$!==null;){if($.callback===null)i(b);else if($.startTime<=z)i(b),$.sortIndex=$.expirationTime,s(v,$);else break;$=r(b)}}function V(z){if(E=!1,G(z),!B)if(r(v)!==null)B=!0,U||(U=!0,C());else{var $=r(b);$!==null&&oe(V,$.startTime-z)}}var U=!1,M=-1,N=5,L=-1;function O(){return D?!0:!(a.unstable_now()-L<N)}function T(){if(D=!1,U){var z=a.unstable_now();L=z;var $=!0;try{e:{B=!1,E&&(E=!1,q(M),M=-1),w=!0;var X=x;try{t:{for(G(z),p=r(v);p!==null&&!(p.expirationTime>z&&O());){var le=p.callback;if(typeof le=="function"){p.callback=null,x=p.priorityLevel;var Z=le(p.expirationTime<=z);if(z=a.unstable_now(),typeof Z=="function"){p.callback=Z,G(z),$=!0;break t}p===r(v)&&i(v),G(z)}else i(v);p=r(v)}if(p!==null)$=!0;else{var ge=r(b);ge!==null&&oe(V,ge.startTime-z),$=!1}}break e}finally{p=null,x=X,w=!1}$=void 0}}finally{$?C():U=!1}}}var C;if(typeof j=="function")C=function(){j(T)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,K=Q.port2;Q.port1.onmessage=T,C=function(){K.postMessage(null)}}else C=function(){k(T,0)};function oe(z,$){M=k(function(){z(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(z){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var X=x;x=$;try{return z()}finally{x=X}},a.unstable_requestPaint=function(){D=!0},a.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=x;x=z;try{return $()}finally{x=X}},a.unstable_scheduleCallback=function(z,$,X){var le=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?le+X:le):X=le,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,z={id:S++,callback:$,priorityLevel:z,startTime:X,expirationTime:Z,sortIndex:-1},X>le?(z.sortIndex=X,s(b,z),r(v)===null&&z===r(b)&&(E?(q(M),M=-1):E=!0,oe(V,X-le))):(z.sortIndex=Z,s(v,z),B||w||(B=!0,U||(U=!0,C()))),z},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(z){var $=x;return function(){var X=x;x=$;try{return z.apply(this,arguments)}finally{x=X}}}})(Ou)),Ou}var rg;function x1(){return rg||(rg=1,Mu.exports=_1()),Mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function w1(){if(og)return ur;og=1;var a=x1(),s=e1(),r=t1();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(i(188))}function v(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){n=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return m(o),e;if(u===l)return m(o),t;u=u.sibling}throw Error(i(188))}if(n.return!==l.return)n=o,l=u;else{for(var g=!1,_=o.child;_;){if(_===n){g=!0,n=o,l=u;break}if(_===l){g=!0,l=o,n=u;break}_=_.sibling}if(!g){for(_=u.child;_;){if(_===n){g=!0,n=u,l=o;break}if(_===l){g=!0,l=u,n=o;break}_=_.sibling}if(!g)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),j=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=T&&e[T]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case U:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case j:return(e.displayName||"Context")+".Provider";case q:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return t=e.displayName||null,t!==null?t:K(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return K(e(t))}catch{}}return null}var oe=Array.isArray,z=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},le=[],Z=-1;function ge(e){return{current:e}}function ue(e){0>Z||(e.current=le[Z],le[Z]=null,Z--)}function fe(e,t){Z++,le[Z]=e.current,e.current=t}var _e=ge(null),Ge=ge(null),Ae=ge(null),tt=ge(null);function ct(e,t){switch(fe(Ae,t),fe(Ge,e),fe(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dm(t),e=Mm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ue(_e),fe(_e,e)}function bt(){ue(_e),ue(Ge),ue(Ae)}function Xe(e){e.memoizedState!==null&&fe(tt,e);var t=_e.current,n=Mm(t,e.type);t!==n&&(fe(Ge,e),fe(_e,n))}function pe(e){Ge.current===e&&(ue(_e),ue(Ge)),tt.current===e&&(ue(tt),sr._currentValue=X)}var Me=Object.prototype.hasOwnProperty,Ze=a.unstable_scheduleCallback,nt=a.unstable_cancelCallback,me=a.unstable_shouldYield,Ne=a.unstable_requestPaint,qe=a.unstable_now,ut=a.unstable_getCurrentPriorityLevel,Te=a.unstable_ImmediatePriority,Qe=a.unstable_UserBlockingPriority,Ct=a.unstable_NormalPriority,Tt=a.unstable_LowPriority,St=a.unstable_IdlePriority,Pn=a.log,ee=a.unstable_setDisableYieldValue,je=null,De=null;function at(e){if(typeof Pn=="function"&&ee(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(je,e)}catch{}}var Ie=Math.clz32?Math.clz32:aa,Ot=Math.log,mt=Math.LN2;function aa(e){return e>>>=0,e===0?32:31-(Ot(e)/mt|0)|0}var Ta=256,Fn=4194304;function It(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xn(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var o=0,u=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~u,l!==0?o=It(l):(g&=_,g!==0?o=It(g):n||(n=_&~e,n!==0&&(o=It(n))))):(_=l&~u,_!==0?o=It(_):g!==0?o=It(g):n||(n=l&~e,n!==0&&(o=It(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Zt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(){var e=Ta;return Ta<<=1,(Ta&4194048)===0&&(Ta=256),e}function ja(){var e=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),e}function nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pt(e,t,n,l,o,u){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,P=e.hiddenUpdates;for(n=g&~n;0<n;){var J=31-Ie(n),ae=1<<J;_[J]=0,A[J]=-1;var F=P[J];if(F!==null)for(P[J]=null,J=0;J<F.length;J++){var Y=F[J];Y!==null&&(Y.lane&=-536870913)}n&=~ae}l!==0&&Bt(e,l,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(g&~t))}function Bt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ie(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function un(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ie(n),o=1<<l;o&t|e[l]&t&&(e[l]|=t),n&=~o}}function Ut(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function W(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Km(e.type))}function ie(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var re=Math.random().toString(36).slice(2),ve="__reactFiber$"+re,be="__reactProps$"+re,ze="__reactContainer$"+re,ot="__reactEvents$"+re,Je="__reactListeners$"+re,Ce="__reactHandles$"+re,Ft="__reactResources$"+re,an="__reactMarker$"+re;function vs(e){delete e[ve],delete e[be],delete e[ot],delete e[Je],delete e[Ce]}function Gn(e){var t=e[ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[ve]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=km(e);e!==null;){if(n=e[ve])return n;e=km(e)}return t}e=n,n=e.parentNode}return null}function Xn(e){if(e=e[ve]||e[ze]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function al(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ea(e){var t=e[Ft];return t||(t=e[Ft]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[an]=!0}var Mr=new Set,Ln={};function Bn(e,t){Aa(e,t),Aa(e+"Capture",t)}function Aa(e,t){for(Ln[e]=t,e=0;e<t.length;e++)Mr.add(t[e])}var wi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qn={},Or={};function jl(e){return Me.call(Or,e)?!0:Me.call(Qn,e)?!1:wi.test(e)?Or[e]=!0:(Qn[e]=!0,!1)}function ll(e,t,n){if(jl(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Na(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function la(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var Ci,xd;function El(e){if(Ci===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ci=t&&t[1]||"",xd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ci+e+xd}var Ti=!1;function ji(e,t){if(!e||Ti)return"";Ti=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Y){var F=Y}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(Y){F=Y}e.call(ae.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),g=u[0],_=u[1];if(g&&_){var A=g.split(`
`),P=_.split(`
`);for(o=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;o<P.length&&!P[o].includes("DetermineComponentFrameRoot");)o++;if(l===A.length||o===P.length)for(l=A.length-1,o=P.length-1;1<=l&&0<=o&&A[l]!==P[o];)o--;for(;1<=l&&0<=o;l--,o--)if(A[l]!==P[o]){if(l!==1||o!==1)do if(l--,o--,0>o||A[l]!==P[o]){var J=`
`+A[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=o);break}}}finally{Ti=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?El(n):""}function v0(e){switch(e.tag){case 26:case 27:case 5:return El(e.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 15:return ji(e.type,!1);case 11:return ji(e.type.render,!1);case 1:return ji(e.type,!0);case 31:return El("Activity");default:return""}}function wd(e){try{var t="";do t+=v0(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function y0(e){var t=Cd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){l=""+g,u.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zr(e){e._valueTracker||(e._valueTracker=y0(e))}function Td(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Cd(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var b0=/[\n"\\]/g;function Cn(e){return e.replace(b0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ei(e,t,n,l,o,u,g,_){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wn(t)):e.value!==""+wn(t)&&(e.value=""+wn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Ai(e,g,wn(t)):n!=null?Ai(e,g,wn(n)):l!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+wn(_):e.removeAttribute("name")}function jd(e,t,n,l,o,u,g,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+wn(n):"",t=t!=null?""+wn(t):n,_||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Ai(e,t,n){t==="number"&&Rr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Al(e,t,n,l){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&l&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ed(e,t,n){if(t!=null&&(t=""+wn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+wn(n):""}function Ad(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(oe(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=wn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function Nl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var S0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nd(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||S0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Dd(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&n[o]!==l&&Nd(e,o,l)}else for(var u in t)t.hasOwnProperty(u)&&Nd(e,u,t[u])}function Ni(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(e){return x0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Di=null;function Mi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dl=null,Ml=null;function Md(e){var t=Xn(e);if(t&&(e=t.stateNode)){var n=e[be]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ei(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var o=l[be]||null;if(!o)throw Error(i(90));Ei(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Td(l)}break e;case"textarea":Ed(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Al(e,!!n.multiple,t,!1)}}}var Oi=!1;function Od(e,t,n){if(Oi)return e(t,n);Oi=!0;try{var l=e(t);return l}finally{if(Oi=!1,(Dl!==null||Ml!==null)&&(_o(),Dl&&(t=Dl,e=Ml,Ml=Dl=null,Md(t),e)))for(t=0;t<e.length;t++)Md(e[t])}}function ys(e,t){var n=e.stateNode;if(n===null)return null;var l=n[be]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=!1;if(sa)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){zi=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{zi=!1}var Da=null,Ri=null,Lr=null;function zd(){if(Lr)return Lr;var e,t=Ri,n=t.length,l,o="value"in Da?Da.value:Da.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var g=n-e;for(l=1;l<=g&&t[n-l]===o[u-l];l++);return Lr=o.slice(e,1<l?1-l:void 0)}function Br(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ur(){return!0}function Rd(){return!1}function ln(e){function t(n,l,o,u,g){this._reactName=n,this._targetInst=o,this.type=l,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(n=e[_],this[_]=n?n(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ur:Rd,this.isPropagationStopped=Rd,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),t}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=ln(sl),Ss=S({},sl,{view:0,detail:0}),w0=ln(Ss),ki,Li,_s,Hr=S({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(ki=e.screenX-_s.screenX,Li=e.screenY-_s.screenY):Li=ki=0,_s=e),ki)},movementY:function(e){return"movementY"in e?e.movementY:Li}}),kd=ln(Hr),C0=S({},Hr,{dataTransfer:0}),T0=ln(C0),j0=S({},Ss,{relatedTarget:0}),Bi=ln(j0),E0=S({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),A0=ln(E0),N0=S({},sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=ln(N0),M0=S({},sl,{data:0}),Ld=ln(M0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=R0[e])?!!t[e]:!1}function Ui(){return k0}var L0=S({},Ss,{key:function(e){if(e.key){var t=O0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B0=ln(L0),U0=S({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=ln(U0),$0=S({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),H0=ln($0),V0=S({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=ln(V0),I0=S({},Hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P0=ln(I0),F0=S({},sl,{newState:0,oldState:0}),Y0=ln(F0),G0=[9,13,27,32],$i=sa&&"CompositionEvent"in window,xs=null;sa&&"documentMode"in document&&(xs=document.documentMode);var X0=sa&&"TextEvent"in window&&!xs,Ud=sa&&(!$i||xs&&8<xs&&11>=xs),$d=" ",Hd=!1;function Vd(e,t){switch(e){case"keyup":return G0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ol=!1;function Q0(e,t){switch(e){case"compositionend":return qd(t);case"keypress":return t.which!==32?null:(Hd=!0,$d);case"textInput":return e=t.data,e===$d&&Hd?null:e;default:return null}}function K0(e,t){if(Ol)return e==="compositionend"||!$i&&Vd(e,t)?(e=zd(),Lr=Ri=Da=null,Ol=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ud&&t.locale!=="ko"?null:t.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z0[e.type]:t==="textarea"}function Pd(e,t,n,l){Dl?Ml?Ml.push(l):Ml=[l]:Dl=l,t=Eo(t,"onChange"),0<t.length&&(n=new $r("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var ws=null,Cs=null;function J0(e){Tm(e,0)}function Vr(e){var t=al(e);if(Td(t))return e}function Fd(e,t){if(e==="change")return t}var Yd=!1;if(sa){var Hi;if(sa){var Vi="oninput"in document;if(!Vi){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),Vi=typeof Gd.oninput=="function"}Hi=Vi}else Hi=!1;Yd=Hi&&(!document.documentMode||9<document.documentMode)}function Xd(){ws&&(ws.detachEvent("onpropertychange",Qd),Cs=ws=null)}function Qd(e){if(e.propertyName==="value"&&Vr(Cs)){var t=[];Pd(t,Cs,e,Mi(e)),Od(J0,t)}}function W0(e,t,n){e==="focusin"?(Xd(),ws=t,Cs=n,ws.attachEvent("onpropertychange",Qd)):e==="focusout"&&Xd()}function eS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vr(Cs)}function tS(e,t){if(e==="click")return Vr(t)}function nS(e,t){if(e==="input"||e==="change")return Vr(t)}function aS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:aS;function Ts(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var o=n[l];if(!Me.call(t,o)||!dn(e[o],t[o]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zd(e,t){var n=Kd(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function Jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Rr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rr(e.document)}return t}function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lS=sa&&"documentMode"in document&&11>=document.documentMode,zl=null,Ii=null,js=null,Pi=!1;function ef(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pi||zl==null||zl!==Rr(l)||(l=zl,"selectionStart"in l&&qi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),js&&Ts(js,l)||(js=l,l=Eo(Ii,"onSelect"),0<l.length&&(t=new $r("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=zl)))}function rl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rl={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionrun:rl("Transition","TransitionRun"),transitionstart:rl("Transition","TransitionStart"),transitioncancel:rl("Transition","TransitionCancel"),transitionend:rl("Transition","TransitionEnd")},Fi={},tf={};sa&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function ol(e){if(Fi[e])return Fi[e];if(!Rl[e])return e;var t=Rl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tf)return Fi[e]=t[n];return e}var nf=ol("animationend"),af=ol("animationiteration"),lf=ol("animationstart"),sS=ol("transitionrun"),rS=ol("transitionstart"),oS=ol("transitioncancel"),sf=ol("transitionend"),rf=new Map,Yi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yi.push("scrollEnd");function Un(e,t){rf.set(e,t),Bn(t,[e])}var of=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var n=of.get(e);return n!==void 0?n:(t={value:e,source:t,stack:wd(t)},of.set(e,t),t)}return{value:e,source:t,stack:wd(t)}}var jn=[],kl=0,Gi=0;function qr(){for(var e=kl,t=Gi=kl=0;t<e;){var n=jn[t];jn[t++]=null;var l=jn[t];jn[t++]=null;var o=jn[t];jn[t++]=null;var u=jn[t];if(jn[t++]=null,l!==null&&o!==null){var g=l.pending;g===null?o.next=o:(o.next=g.next,g.next=o),l.pending=o}u!==0&&cf(n,o,u)}}function Ir(e,t,n,l){jn[kl++]=e,jn[kl++]=t,jn[kl++]=n,jn[kl++]=l,Gi|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xi(e,t,n,l){return Ir(e,t,n,l),Pr(e)}function Ll(e,t){return Ir(e,null,null,t),Pr(e)}function cf(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Ie(n),e=u.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=n|536870912),u):null}function Pr(e){if(50<Zs)throw Zs=0,eu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bl={};function iS(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,l){return new iS(e,t,n,l)}function Qi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ra(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function uf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fr(e,t,n,l,o,u){var g=0;if(l=e,typeof e=="function")Qi(e)&&(g=1);else if(typeof e=="string")g=u_(e,n,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=fn(31,n,t,o),e.elementType=L,e.lanes=u,e;case B:return il(n.children,o,u,t);case E:g=8,o|=24;break;case D:return e=fn(12,n,t,o|2),e.elementType=D,e.lanes=u,e;case V:return e=fn(13,n,t,o),e.elementType=V,e.lanes=u,e;case U:return e=fn(19,n,t,o),e.elementType=U,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case j:g=10;break e;case q:g=9;break e;case G:g=11;break e;case M:g=14;break e;case N:g=16,l=null;break e}g=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=fn(g,n,t,o),t.elementType=e,t.type=l,t.lanes=u,t}function il(e,t,n,l){return e=fn(7,e,l,t),e.lanes=n,e}function Ki(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function Zi(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ul=[],$l=0,Yr=null,Gr=0,En=[],An=0,cl=null,oa=1,ia="";function ul(e,t){Ul[$l++]=Gr,Ul[$l++]=Yr,Yr=e,Gr=t}function df(e,t,n){En[An++]=oa,En[An++]=ia,En[An++]=cl,cl=e;var l=oa;e=ia;var o=32-Ie(l)-1;l&=~(1<<o),n+=1;var u=32-Ie(t)+o;if(30<u){var g=o-o%5;u=(l&(1<<g)-1).toString(32),l>>=g,o-=g,oa=1<<32-Ie(t)+o|n<<o|l,ia=u+e}else oa=1<<u|n<<o|l,ia=e}function Ji(e){e.return!==null&&(ul(e,1),df(e,1,0))}function Wi(e){for(;e===Yr;)Yr=Ul[--$l],Ul[$l]=null,Gr=Ul[--$l],Ul[$l]=null;for(;e===cl;)cl=En[--An],En[An]=null,ia=En[--An],En[An]=null,oa=En[--An],En[An]=null}var Jt=null,xt=null,Ke=!1,dl=null,Kn=!1,ec=Error(i(519));function fl(e){var t=Error(i(418,""));throw Ns(Tn(t,e)),ec}function ff(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ve]=e,t[be]=l,n){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(n=0;n<Ws.length;n++)Ue(Ws[n],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),jd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zr(t);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),Ad(t,l.value,l.defaultValue,l.children),zr(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Nm(t.textContent,n)?(l.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),l.onScroll!=null&&Ue("scroll",t),l.onScrollEnd!=null&&Ue("scrollend",t),l.onClick!=null&&(t.onclick=Ao),t=!0):t=!1,t||fl(e)}function hf(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Jt=Jt.return}}function Es(e){if(e!==Jt)return!1;if(!Ke)return hf(e),Ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||pu(e.type,e.memoizedProps)),n=!n),n&&xt&&fl(e),hf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){xt=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}xt=null}}else t===27?(t=xt,Ya(e.type)?(e=Su,Su=null,xt=e):xt=t):xt=Jt?Hn(e.stateNode.nextSibling):null;return!0}function As(){xt=Jt=null,Ke=!1}function mf(){var e=dl;return e!==null&&(on===null?on=e:on.push.apply(on,e),dl=null),e}function Ns(e){dl===null?dl=[e]:dl.push(e)}var tc=ge(null),hl=null,ca=null;function Ma(e,t,n){fe(tc,t._currentValue),t._currentValue=n}function ua(e){e._currentValue=tc.current,ue(tc)}function nc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function ac(e,t,n,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var g=o.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=o;for(var A=0;A<t.length;A++)if(_.context===t[A]){u.lanes|=n,_=u.alternate,_!==null&&(_.lanes|=n),nc(u.return,n,e),l||(g=null);break e}u=_.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(i(341));g.lanes|=n,u=g.alternate,u!==null&&(u.lanes|=n),nc(g,n,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Ds(e,t,n,l){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var _=o.type;dn(o.pendingProps.value,g.value)||(e!==null?e.push(_):e=[_])}}else if(o===tt.current){if(g=o.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(sr):e=[sr])}o=o.return}e!==null&&ac(t,e,n,l),t.flags|=262144}function Xr(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ml(e){hl=e,ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return gf(hl,e)}function Qr(e,t){return hl===null&&ml(e),gf(e,t)}function gf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ca===null){if(e===null)throw Error(i(308));ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ca=ca.next=t;return n}var cS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},uS=a.unstable_scheduleCallback,dS=a.unstable_NormalPriority,Rt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lc(){return{controller:new cS,data:new Map,refCount:0}}function Ms(e){e.refCount--,e.refCount===0&&uS(dS,function(){e.controller.abort()})}var Os=null,sc=0,Hl=0,Vl=null;function fS(e,t){if(Os===null){var n=Os=[];sc=0,Hl=ou(),Vl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return sc++,t.then(pf,pf),t}function pf(){if(--sc===0&&Os!==null){Vl!==null&&(Vl.status="fulfilled");var e=Os;Os=null,Hl=0,Vl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hS(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),l}var vf=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&fS(e,t),vf!==null&&vf(e,t)};var gl=ge(null);function rc(){var e=gl.current;return e!==null?e:dt.pooledCache}function Kr(e,t){t===null?fe(gl,gl.current):fe(gl,t.pool)}function yf(){var e=rc();return e===null?null:{parent:Rt._currentValue,pool:e}}var zs=Error(i(460)),bf=Error(i(474)),Zr=Error(i(542)),oc={then:function(){}};function Sf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jr(){}function _f(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Jr,Jr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wf(e),e;default:if(typeof t.status=="string")t.then(Jr,Jr);else{if(e=dt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wf(e),e}throw Rs=t,zs}}var Rs=null;function xf(){if(Rs===null)throw Error(i(459));var e=Rs;return Rs=null,e}function wf(e){if(e===zs||e===Zr)throw Error(i(483))}var Oa=!1;function ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=Pr(e),cf(e,null,n),t}return Ir(e,l,t,n),Pr(e)}function ks(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,un(e,n)}}function uc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=g:u=u.next=g,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var dc=!1;function Ls(){if(dc){var e=Vl;if(e!==null)throw e}}function Bs(e,t,n,l){dc=!1;var o=e.updateQueue;Oa=!1;var u=o.firstBaseUpdate,g=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var A=_,P=A.next;A.next=null,g===null?u=P:g.next=P,g=A;var J=e.alternate;J!==null&&(J=J.updateQueue,_=J.lastBaseUpdate,_!==g&&(_===null?J.firstBaseUpdate=P:_.next=P,J.lastBaseUpdate=A))}if(u!==null){var ae=o.baseState;g=0,J=P=A=null,_=u;do{var F=_.lane&-536870913,Y=F!==_.lane;if(Y?(Pe&F)===F:(l&F)===F){F!==0&&F===Hl&&(dc=!0),J!==null&&(J=J.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Ee=e,xe=_;F=t;var rt=n;switch(xe.tag){case 1:if(Ee=xe.payload,typeof Ee=="function"){ae=Ee.call(rt,ae,F);break e}ae=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=xe.payload,F=typeof Ee=="function"?Ee.call(rt,ae,F):Ee,F==null)break e;ae=S({},ae,F);break e;case 2:Oa=!0}}F=_.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=o.callbacks,Y===null?o.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:_.tag,payload:_.payload,callback:_.callback,next:null},J===null?(P=J=Y,A=ae):J=J.next=Y,g|=F;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;Y=_,_=Y.next,Y.next=null,o.lastBaseUpdate=Y,o.shared.pending=null}}while(!0);J===null&&(A=ae),o.baseState=A,o.firstBaseUpdate=P,o.lastBaseUpdate=J,u===null&&(o.shared.lanes=0),qa|=g,e.lanes=g,e.memoizedState=ae}}function Cf(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Tf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Cf(n[e],t)}var ql=ge(null),Wr=ge(0);function jf(e,t){e=va,fe(Wr,e),fe(ql,t),va=e|t.baseLanes}function fc(){fe(Wr,va),fe(ql,ql.current)}function hc(){va=Wr.current,ue(ql),ue(Wr)}var ka=0,Re=null,lt=null,Dt=null,eo=!1,Il=!1,pl=!1,to=0,Us=0,Pl=null,mS=0;function jt(){throw Error(i(321))}function mc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function gc(e,t,n,l,o,u){return ka=u,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?ch:uh,pl=!1,u=n(l,o),pl=!1,Il&&(u=Af(t,n,l,o)),Ef(e),u}function Ef(e){z.H=oo;var t=lt!==null&&lt.next!==null;if(ka=0,Dt=lt=Re=null,eo=!1,Us=0,Pl=null,t)throw Error(i(300));e===null||$t||(e=e.dependencies,e!==null&&Xr(e)&&($t=!0))}function Af(e,t,n,l){Re=e;var o=0;do{if(Il&&(Pl=null),Us=0,Il=!1,25<=o)throw Error(i(301));if(o+=1,Dt=lt=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=_S,u=t(n,l)}while(Il);return u}function gS(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?$s(t):t,e=e.useState()[0],(lt!==null?lt.memoizedState:null)!==e&&(Re.flags|=1024),t}function pc(){var e=to!==0;return to=0,e}function vc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yc(e){if(eo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}eo=!1}ka=0,Dt=lt=Re=null,Il=!1,Us=to=0,Pl=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Re.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Mt(){if(lt===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=Dt===null?Re.memoizedState:Dt.next;if(t!==null)Dt=t,lt=e;else{if(e===null)throw Re.alternate===null?Error(i(467)):Error(i(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Dt===null?Re.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $s(e){var t=Us;return Us+=1,Pl===null&&(Pl=[]),e=_f(Pl,e,t),t=Re,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?ch:uh),e}function no(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $s(e);if(e.$$typeof===j)return Qt(e)}throw Error(i(438,String(e)))}function Sc(e){var t=null,n=Re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=bc(),Re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=O;return t.index++,n}function da(e,t){return typeof t=="function"?t(e):t}function ao(e){var t=Mt();return _c(t,lt,e)}function _c(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var o=e.baseQueue,u=l.pending;if(u!==null){if(o!==null){var g=o.next;o.next=u.next,u.next=g}t.baseQueue=o=u,l.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var _=g=null,A=null,P=t,J=!1;do{var ae=P.lane&-536870913;if(ae!==P.lane?(Pe&ae)===ae:(ka&ae)===ae){var F=P.revertLane;if(F===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),ae===Hl&&(J=!0);else if((ka&F)===F){P=P.next,F===Hl&&(J=!0);continue}else ae={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(_=A=ae,g=u):A=A.next=ae,Re.lanes|=F,qa|=F;ae=P.action,pl&&n(u,ae),u=P.hasEagerState?P.eagerState:n(u,ae)}else F={lane:ae,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(_=A=F,g=u):A=A.next=F,Re.lanes|=ae,qa|=ae;P=P.next}while(P!==null&&P!==t);if(A===null?g=u:A.next=_,!dn(u,e.memoizedState)&&($t=!0,J&&(n=Vl,n!==null)))throw n;e.memoizedState=u,e.baseState=g,e.baseQueue=A,l.lastRenderedState=u}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xc(e){var t=Mt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var g=o=o.next;do u=e(u,g.action),g=g.next;while(g!==o);dn(u,t.memoizedState)||($t=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function Nf(e,t,n){var l=Re,o=Mt(),u=Ke;if(u){if(n===void 0)throw Error(i(407));n=n()}else n=t();var g=!dn((lt||o).memoizedState,n);g&&(o.memoizedState=n,$t=!0),o=o.queue;var _=Of.bind(null,l,o,e);if(Hs(2048,8,_,[e]),o.getSnapshot!==t||g||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Fl(9,lo(),Mf.bind(null,l,o,n,t),null),dt===null)throw Error(i(349));u||(ka&124)!==0||Df(l,t,n)}return n}function Df(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t=bc(),Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mf(e,t,n,l){t.value=n,t.getSnapshot=l,zf(t)&&Rf(e)}function Of(e,t,n){return n(function(){zf(t)&&Rf(e)})}function zf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function Rf(e){var t=Ll(e,2);t!==null&&vn(t,e,2)}function wc(e){var t=sn();if(typeof e=="function"){var n=e;if(e=n(),pl){at(!0);try{n()}finally{at(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function kf(e,t,n,l){return e.baseState=n,_c(e,lt,typeof l=="function"?l:da)}function pS(e,t,n,l,o){if(ro(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){u.listeners.push(g)}};z.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,Lf(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Lf(e,t){var n=t.action,l=t.payload,o=e.state;if(t.isTransition){var u=z.T,g={};z.T=g;try{var _=n(o,l),A=z.S;A!==null&&A(g,_),Bf(e,t,_)}catch(P){Cc(e,t,P)}finally{z.T=u}}else try{u=n(o,l),Bf(e,t,u)}catch(P){Cc(e,t,P)}}function Bf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Uf(e,t,l)},function(l){return Cc(e,t,l)}):Uf(e,t,n)}function Uf(e,t,n){t.status="fulfilled",t.value=n,$f(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Lf(e,n)))}function Cc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,$f(t),t=t.next;while(t!==l)}e.action=null}function $f(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hf(e,t){return t}function Vf(e,t){if(Ke){var n=dt.formState;if(n!==null){e:{var l=Re;if(Ke){if(xt){t:{for(var o=xt,u=Kn;o.nodeType!==8;){if(!u){o=null;break t}if(o=Hn(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){xt=Hn(o.nextSibling),l=o.data==="F!";break e}}fl(l)}l=!1}l&&(t=n[0])}}return n=sn(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:t},n.queue=l,n=rh.bind(null,Re,l),l.dispatch=n,l=wc(!1),u=Nc.bind(null,Re,!1,l.queue),l=sn(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,n=pS.bind(null,Re,o,u,n),o.dispatch=n,l.memoizedState=e,[t,n,!1]}function qf(e){var t=Mt();return If(t,lt,e)}function If(e,t,n){if(t=_c(e,t,Hf)[0],e=ao(da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=$s(t)}catch(g){throw g===zs?Zr:g}else l=t;t=Mt();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(Re.flags|=2048,Fl(9,lo(),vS.bind(null,o,n),null)),[l,u,e]}function vS(e,t){e.action=t}function Pf(e){var t=Mt(),n=lt;if(n!==null)return If(t,n,e);Mt(),t=t.memoizedState,n=Mt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Fl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Re.updateQueue,t===null&&(t=bc(),Re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function lo(){return{destroy:void 0,resource:void 0}}function Ff(){return Mt().memoizedState}function so(e,t,n,l){var o=sn();l=l===void 0?null:l,Re.flags|=e,o.memoizedState=Fl(1|t,lo(),n,l)}function Hs(e,t,n,l){var o=Mt();l=l===void 0?null:l;var u=o.memoizedState.inst;lt!==null&&l!==null&&mc(l,lt.memoizedState.deps)?o.memoizedState=Fl(t,u,n,l):(Re.flags|=e,o.memoizedState=Fl(1|t,u,n,l))}function Yf(e,t){so(8390656,8,e,t)}function Gf(e,t){Hs(2048,8,e,t)}function Xf(e,t){return Hs(4,2,e,t)}function Qf(e,t){return Hs(4,4,e,t)}function Kf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zf(e,t,n){n=n!=null?n.concat([e]):null,Hs(4,4,Kf.bind(null,t,e),n)}function Tc(){}function Jf(e,t){var n=Mt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&mc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Wf(e,t){var n=Mt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&mc(t,l[1]))return l[0];if(l=e(),pl){at(!0);try{e()}finally{at(!1)}}return n.memoizedState=[l,t],l}function jc(e,t,n){return n===void 0||(ka&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=nm(),Re.lanes|=e,qa|=e,n)}function eh(e,t,n,l){return dn(n,t)?n:ql.current!==null?(e=jc(e,n,l),dn(e,t)||($t=!0),e):(ka&42)===0?($t=!0,e.memoizedState=n):(e=nm(),Re.lanes|=e,qa|=e,t)}function th(e,t,n,l,o){var u=$.p;$.p=u!==0&&8>u?u:8;var g=z.T,_={};z.T=_,Nc(e,!1,t,n);try{var A=o(),P=z.S;if(P!==null&&P(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var J=hS(A,l);Vs(e,t,J,pn(e))}else Vs(e,t,l,pn(e))}catch(ae){Vs(e,t,{then:function(){},status:"rejected",reason:ae},pn())}finally{$.p=u,z.T=g}}function yS(){}function Ec(e,t,n,l){if(e.tag!==5)throw Error(i(476));var o=nh(e).queue;th(e,o,t,X,n===null?yS:function(){return ah(e),n(l)})}function nh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:X},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ah(e){var t=nh(e).next.queue;Vs(e,t,{},pn())}function Ac(){return Qt(sr)}function lh(){return Mt().memoizedState}function sh(){return Mt().memoizedState}function bS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pn();e=za(n);var l=Ra(t,e,n);l!==null&&(vn(l,t,n),ks(l,t,n)),t={cache:lc()},e.payload=t;return}t=t.return}}function SS(e,t,n){var l=pn();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e)?oh(t,n):(n=Xi(e,t,n,l),n!==null&&(vn(n,e,l),ih(n,t,l)))}function rh(e,t,n){var l=pn();Vs(e,t,n,l)}function Vs(e,t,n,l){var o={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))oh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var g=t.lastRenderedState,_=u(g,n);if(o.hasEagerState=!0,o.eagerState=_,dn(_,g))return Ir(e,t,o,0),dt===null&&qr(),!1}catch{}finally{}if(n=Xi(e,t,o,l),n!==null)return vn(n,e,l),ih(n,t,l),!0}return!1}function Nc(e,t,n,l){if(l={lane:2,revertLane:ou(),action:l,hasEagerState:!1,eagerState:null,next:null},ro(e)){if(t)throw Error(i(479))}else t=Xi(e,n,l,2),t!==null&&vn(t,e,2)}function ro(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function oh(e,t){Il=eo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ih(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,un(e,n)}}var oo={readContext:Qt,use:no,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},ch={readContext:Qt,use:no,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Yf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,so(4194308,4,Kf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4194308,4,e,t)},useInsertionEffect:function(e,t){so(4,2,e,t)},useMemo:function(e,t){var n=sn();t=t===void 0?null:t;var l=e();if(pl){at(!0);try{e()}finally{at(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=sn();if(n!==void 0){var o=n(t);if(pl){at(!0);try{n(t)}finally{at(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=SS.bind(null,Re,e),[l.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:function(e){e=wc(e);var t=e.queue,n=rh.bind(null,Re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Tc,useDeferredValue:function(e,t){var n=sn();return jc(n,e,t)},useTransition:function(){var e=wc(!1);return e=th.bind(null,Re,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Re,o=sn();if(Ke){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),dt===null)throw Error(i(349));(Pe&124)!==0||Df(l,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Yf(Of.bind(null,l,u,e),[e]),l.flags|=2048,Fl(9,lo(),Mf.bind(null,l,u,n,t),null),n},useId:function(){var e=sn(),t=dt.identifierPrefix;if(Ke){var n=ia,l=oa;n=(l&~(1<<32-Ie(l)-1)).toString(32)+n,t=""+t+"R"+n,n=to++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=mS++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ac,useFormState:Vf,useActionState:Vf,useOptimistic:function(e){var t=sn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Nc.bind(null,Re,!0,n),n.dispatch=t,[e,t]},useMemoCache:Sc,useCacheRefresh:function(){return sn().memoizedState=bS.bind(null,Re)}},uh={readContext:Qt,use:no,useCallback:Jf,useContext:Qt,useEffect:Gf,useImperativeHandle:Zf,useInsertionEffect:Xf,useLayoutEffect:Qf,useMemo:Wf,useReducer:ao,useRef:Ff,useState:function(){return ao(da)},useDebugValue:Tc,useDeferredValue:function(e,t){var n=Mt();return eh(n,lt.memoizedState,e,t)},useTransition:function(){var e=ao(da)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:$s(e),t]},useSyncExternalStore:Nf,useId:lh,useHostTransitionStatus:Ac,useFormState:qf,useActionState:qf,useOptimistic:function(e,t){var n=Mt();return kf(n,lt,e,t)},useMemoCache:Sc,useCacheRefresh:sh},_S={readContext:Qt,use:no,useCallback:Jf,useContext:Qt,useEffect:Gf,useImperativeHandle:Zf,useInsertionEffect:Xf,useLayoutEffect:Qf,useMemo:Wf,useReducer:xc,useRef:Ff,useState:function(){return xc(da)},useDebugValue:Tc,useDeferredValue:function(e,t){var n=Mt();return lt===null?jc(n,e,t):eh(n,lt.memoizedState,e,t)},useTransition:function(){var e=xc(da)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:$s(e),t]},useSyncExternalStore:Nf,useId:lh,useHostTransitionStatus:Ac,useFormState:Pf,useActionState:Pf,useOptimistic:function(e,t){var n=Mt();return lt!==null?kf(n,lt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Sc,useCacheRefresh:sh},Yl=null,qs=0;function io(e){var t=qs;return qs+=1,Yl===null&&(Yl=[]),_f(Yl,e,t)}function Is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function co(e,t){throw t.$$typeof===p?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function dh(e){var t=e._init;return t(e._payload)}function fh(e){function t(H,R){if(e){var I=H.deletions;I===null?(H.deletions=[R],H.flags|=16):I.push(R)}}function n(H,R){if(!e)return null;for(;R!==null;)t(H,R),R=R.sibling;return null}function l(H){for(var R=new Map;H!==null;)H.key!==null?R.set(H.key,H):R.set(H.index,H),H=H.sibling;return R}function o(H,R){return H=ra(H,R),H.index=0,H.sibling=null,H}function u(H,R,I){return H.index=I,e?(I=H.alternate,I!==null?(I=I.index,I<R?(H.flags|=67108866,R):I):(H.flags|=67108866,R)):(H.flags|=1048576,R)}function g(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function _(H,R,I,te){return R===null||R.tag!==6?(R=Ki(I,H.mode,te),R.return=H,R):(R=o(R,I),R.return=H,R)}function A(H,R,I,te){var ye=I.type;return ye===B?J(H,R,I.props.children,te,I.key):R!==null&&(R.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&dh(ye)===R.type)?(R=o(R,I.props),Is(R,I),R.return=H,R):(R=Fr(I.type,I.key,I.props,null,H.mode,te),Is(R,I),R.return=H,R)}function P(H,R,I,te){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=Zi(I,H.mode,te),R.return=H,R):(R=o(R,I.children||[]),R.return=H,R)}function J(H,R,I,te,ye){return R===null||R.tag!==7?(R=il(I,H.mode,te,ye),R.return=H,R):(R=o(R,I),R.return=H,R)}function ae(H,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ki(""+R,H.mode,I),R.return=H,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return I=Fr(R.type,R.key,R.props,null,H.mode,I),Is(I,R),I.return=H,I;case w:return R=Zi(R,H.mode,I),R.return=H,R;case N:var te=R._init;return R=te(R._payload),ae(H,R,I)}if(oe(R)||C(R))return R=il(R,H.mode,I,null),R.return=H,R;if(typeof R.then=="function")return ae(H,io(R),I);if(R.$$typeof===j)return ae(H,Qr(H,R),I);co(H,R)}return null}function F(H,R,I,te){var ye=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ye!==null?null:_(H,R,""+I,te);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return I.key===ye?A(H,R,I,te):null;case w:return I.key===ye?P(H,R,I,te):null;case N:return ye=I._init,I=ye(I._payload),F(H,R,I,te)}if(oe(I)||C(I))return ye!==null?null:J(H,R,I,te,null);if(typeof I.then=="function")return F(H,R,io(I),te);if(I.$$typeof===j)return F(H,R,Qr(H,I),te);co(H,I)}return null}function Y(H,R,I,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(I)||null,_(R,H,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return H=H.get(te.key===null?I:te.key)||null,A(R,H,te,ye);case w:return H=H.get(te.key===null?I:te.key)||null,P(R,H,te,ye);case N:var ke=te._init;return te=ke(te._payload),Y(H,R,I,te,ye)}if(oe(te)||C(te))return H=H.get(I)||null,J(R,H,te,ye,null);if(typeof te.then=="function")return Y(H,R,I,io(te),ye);if(te.$$typeof===j)return Y(H,R,I,Qr(R,te),ye);co(R,te)}return null}function Ee(H,R,I,te){for(var ye=null,ke=null,Se=R,we=R=0,Vt=null;Se!==null&&we<I.length;we++){Se.index>we?(Vt=Se,Se=null):Vt=Se.sibling;var Fe=F(H,Se,I[we],te);if(Fe===null){Se===null&&(Se=Vt);break}e&&Se&&Fe.alternate===null&&t(H,Se),R=u(Fe,R,we),ke===null?ye=Fe:ke.sibling=Fe,ke=Fe,Se=Vt}if(we===I.length)return n(H,Se),Ke&&ul(H,we),ye;if(Se===null){for(;we<I.length;we++)Se=ae(H,I[we],te),Se!==null&&(R=u(Se,R,we),ke===null?ye=Se:ke.sibling=Se,ke=Se);return Ke&&ul(H,we),ye}for(Se=l(Se);we<I.length;we++)Vt=Y(Se,H,we,I[we],te),Vt!==null&&(e&&Vt.alternate!==null&&Se.delete(Vt.key===null?we:Vt.key),R=u(Vt,R,we),ke===null?ye=Vt:ke.sibling=Vt,ke=Vt);return e&&Se.forEach(function(Za){return t(H,Za)}),Ke&&ul(H,we),ye}function xe(H,R,I,te){if(I==null)throw Error(i(151));for(var ye=null,ke=null,Se=R,we=R=0,Vt=null,Fe=I.next();Se!==null&&!Fe.done;we++,Fe=I.next()){Se.index>we?(Vt=Se,Se=null):Vt=Se.sibling;var Za=F(H,Se,Fe.value,te);if(Za===null){Se===null&&(Se=Vt);break}e&&Se&&Za.alternate===null&&t(H,Se),R=u(Za,R,we),ke===null?ye=Za:ke.sibling=Za,ke=Za,Se=Vt}if(Fe.done)return n(H,Se),Ke&&ul(H,we),ye;if(Se===null){for(;!Fe.done;we++,Fe=I.next())Fe=ae(H,Fe.value,te),Fe!==null&&(R=u(Fe,R,we),ke===null?ye=Fe:ke.sibling=Fe,ke=Fe);return Ke&&ul(H,we),ye}for(Se=l(Se);!Fe.done;we++,Fe=I.next())Fe=Y(Se,H,we,Fe.value,te),Fe!==null&&(e&&Fe.alternate!==null&&Se.delete(Fe.key===null?we:Fe.key),R=u(Fe,R,we),ke===null?ye=Fe:ke.sibling=Fe,ke=Fe);return e&&Se.forEach(function(x_){return t(H,x_)}),Ke&&ul(H,we),ye}function rt(H,R,I,te){if(typeof I=="object"&&I!==null&&I.type===B&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case x:e:{for(var ye=I.key;R!==null;){if(R.key===ye){if(ye=I.type,ye===B){if(R.tag===7){n(H,R.sibling),te=o(R,I.props.children),te.return=H,H=te;break e}}else if(R.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&dh(ye)===R.type){n(H,R.sibling),te=o(R,I.props),Is(te,I),te.return=H,H=te;break e}n(H,R);break}else t(H,R);R=R.sibling}I.type===B?(te=il(I.props.children,H.mode,te,I.key),te.return=H,H=te):(te=Fr(I.type,I.key,I.props,null,H.mode,te),Is(te,I),te.return=H,H=te)}return g(H);case w:e:{for(ye=I.key;R!==null;){if(R.key===ye)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){n(H,R.sibling),te=o(R,I.children||[]),te.return=H,H=te;break e}else{n(H,R);break}else t(H,R);R=R.sibling}te=Zi(I,H.mode,te),te.return=H,H=te}return g(H);case N:return ye=I._init,I=ye(I._payload),rt(H,R,I,te)}if(oe(I))return Ee(H,R,I,te);if(C(I)){if(ye=C(I),typeof ye!="function")throw Error(i(150));return I=ye.call(I),xe(H,R,I,te)}if(typeof I.then=="function")return rt(H,R,io(I),te);if(I.$$typeof===j)return rt(H,R,Qr(H,I),te);co(H,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(n(H,R.sibling),te=o(R,I),te.return=H,H=te):(n(H,R),te=Ki(I,H.mode,te),te.return=H,H=te),g(H)):n(H,R)}return function(H,R,I,te){try{qs=0;var ye=rt(H,R,I,te);return Yl=null,ye}catch(Se){if(Se===zs||Se===Zr)throw Se;var ke=fn(29,Se,null,H.mode);return ke.lanes=te,ke.return=H,ke}finally{}}}var Gl=fh(!0),hh=fh(!1),Nn=ge(null),Zn=null;function La(e){var t=e.alternate;fe(kt,kt.current&1),fe(Nn,e),Zn===null&&(t===null||ql.current!==null||t.memoizedState!==null)&&(Zn=e)}function mh(e){if(e.tag===22){if(fe(kt,kt.current),fe(Nn,e),Zn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Zn=e)}}else Ba()}function Ba(){fe(kt,kt.current),fe(Nn,Nn.current)}function fa(e){ue(Nn),Zn===e&&(Zn=null),ue(kt)}var kt=ge(0);function uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||bu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Dc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=pn(),o=za(l);o.payload=t,n!=null&&(o.callback=n),t=Ra(e,o,l),t!==null&&(vn(t,e,l),ks(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=pn(),o=za(l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ra(e,o,l),t!==null&&(vn(t,e,l),ks(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pn(),l=za(n);l.tag=2,t!=null&&(l.callback=t),t=Ra(e,l,n),t!==null&&(vn(t,e,n),ks(t,e,n))}};function gh(e,t,n,l,o,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,g):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,l)||!Ts(o,u):!0}function ph(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Mc.enqueueReplaceState(t,t.state,null)}function vl(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}var fo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vh(e){fo(e)}function yh(e){console.error(e)}function bh(e){fo(e)}function ho(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Sh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Oc(e,t,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){ho(e,t)},n}function _h(e){return e=za(e),e.tag=3,e}function xh(e,t,n,l){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=l.value;e.payload=function(){return o(u)},e.callback=function(){Sh(t,n,l)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Sh(t,n,l),typeof o!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function xS(e,t,n,l,o){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ds(t,n,o,!0),n=Nn.current,n!==null){switch(n.tag){case 13:return Zn===null?nu():n.alternate===null&&wt===0&&(wt=3),n.flags&=-257,n.flags|=65536,n.lanes=o,l===oc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),lu(e,l,o)),!1;case 22:return n.flags|=65536,l===oc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),lu(e,l,o)),!1}throw Error(i(435,n.tag))}return lu(e,l,o),nu(),!1}if(Ke)return t=Nn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==ec&&(e=Error(i(422),{cause:l}),Ns(Tn(e,n)))):(l!==ec&&(t=Error(i(423),{cause:l}),Ns(Tn(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Tn(l,n),o=Oc(e.stateNode,l,o),uc(e,o),wt!==4&&(wt=2)),!1;var u=Error(i(520),{cause:l});if(u=Tn(u,n),Ks===null?Ks=[u]:Ks.push(u),wt!==4&&(wt=2),t===null)return!0;l=Tn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Oc(n.stateNode,l,e),uc(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ia===null||!Ia.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=_h(o),xh(o,e,n,l),uc(n,o),!1}n=n.return}while(n!==null);return!1}var wh=Error(i(461)),$t=!1;function Yt(e,t,n,l){t.child=e===null?hh(t,null,n,l):Gl(t,e.child,n,l)}function Ch(e,t,n,l,o){n=n.render;var u=t.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return ml(t),l=gc(e,t,n,g,u,o),_=pc(),e!==null&&!$t?(vc(e,t,o),ha(e,t,o)):(Ke&&_&&Ji(t),t.flags|=1,Yt(e,t,l,o),t.child)}function Th(e,t,n,l,o){if(e===null){var u=n.type;return typeof u=="function"&&!Qi(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,jh(e,t,u,l,o)):(e=Fr(n.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Hc(e,o)){var g=u.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(g,l)&&e.ref===t.ref)return ha(e,t,o)}return t.flags|=1,e=ra(u,l),e.ref=t.ref,e.return=t,t.child=e}function jh(e,t,n,l,o){if(e!==null){var u=e.memoizedProps;if(Ts(u,l)&&e.ref===t.ref)if($t=!1,t.pendingProps=l=u,Hc(e,o))(e.flags&131072)!==0&&($t=!0);else return t.lanes=e.lanes,ha(e,t,o)}return zc(e,t,n,l,o)}function Eh(e,t,n){var l=t.pendingProps,o=l.children,u=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=u!==null?u.baseLanes|n:n,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;t.childLanes=u&~l}else t.childLanes=0,t.child=null;return Ah(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kr(t,u!==null?u.cachePool:null),u!==null?jf(t,u):fc(),mh(t);else return t.lanes=t.childLanes=536870912,Ah(e,t,u!==null?u.baseLanes|n:n,n)}else u!==null?(Kr(t,u.cachePool),jf(t,u),Ba(),t.memoizedState=null):(e!==null&&Kr(t,null),fc(),Ba());return Yt(e,t,o,n),t.child}function Ah(e,t,n,l){var o=rc();return o=o===null?null:{parent:Rt._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Kr(t,null),fc(),mh(t),e!==null&&Ds(e,t,l,!0),null}function mo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function zc(e,t,n,l,o){return ml(t),n=gc(e,t,n,l,void 0,o),l=pc(),e!==null&&!$t?(vc(e,t,o),ha(e,t,o)):(Ke&&l&&Ji(t),t.flags|=1,Yt(e,t,n,o),t.child)}function Nh(e,t,n,l,o,u){return ml(t),t.updateQueue=null,n=Af(t,l,n,o),Ef(e),l=pc(),e!==null&&!$t?(vc(e,t,u),ha(e,t,u)):(Ke&&l&&Ji(t),t.flags|=1,Yt(e,t,n,u),t.child)}function Dh(e,t,n,l,o){if(ml(t),t.stateNode===null){var u=Bl,g=n.contextType;typeof g=="object"&&g!==null&&(u=Qt(g)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Mc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},ic(t),g=n.contextType,u.context=typeof g=="object"&&g!==null?Qt(g):Bl,u.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Dc(t,n,g,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(g=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),g!==u.state&&Mc.enqueueReplaceState(u,u.state,null),Bs(t,l,u,o),Ls(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var _=t.memoizedProps,A=vl(n,_);u.props=A;var P=u.context,J=n.contextType;g=Bl,typeof J=="object"&&J!==null&&(g=Qt(J));var ae=n.getDerivedStateFromProps;J=typeof ae=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,J||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||P!==g)&&ph(t,u,l,g),Oa=!1;var F=t.memoizedState;u.state=F,Bs(t,l,u,o),Ls(),P=t.memoizedState,_||F!==P||Oa?(typeof ae=="function"&&(Dc(t,n,ae,l),P=t.memoizedState),(A=Oa||gh(t,n,A,l,F,P,g))?(J||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=P),u.props=l,u.state=P,u.context=g,l=A):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,cc(e,t),g=t.memoizedProps,J=vl(n,g),u.props=J,ae=t.pendingProps,F=u.context,P=n.contextType,A=Bl,typeof P=="object"&&P!==null&&(A=Qt(P)),_=n.getDerivedStateFromProps,(P=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==ae||F!==A)&&ph(t,u,l,A),Oa=!1,F=t.memoizedState,u.state=F,Bs(t,l,u,o),Ls();var Y=t.memoizedState;g!==ae||F!==Y||Oa||e!==null&&e.dependencies!==null&&Xr(e.dependencies)?(typeof _=="function"&&(Dc(t,n,_,l),Y=t.memoizedState),(J=Oa||gh(t,n,J,l,F,Y,A)||e!==null&&e.dependencies!==null&&Xr(e.dependencies))?(P||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,Y,A),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,Y,A)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Y),u.props=l,u.state=Y,u.context=A,l=J):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,mo(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Gl(t,e.child,null,o),t.child=Gl(t,null,n,o)):Yt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=ha(e,t,o),e}function Mh(e,t,n,l){return As(),t.flags|=256,Yt(e,t,n,l),t.child}var Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kc(e){return{baseLanes:e,cachePool:yf()}}function Lc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Dn),e}function Oh(e,t,n){var l=t.pendingProps,o=!1,u=(t.flags&128)!==0,g;if((g=u)||(g=e!==null&&e.memoizedState===null?!1:(kt.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(o?La(t):Ba(),Ke){var _=xt,A;if(A=_){e:{for(A=_,_=Kn;A.nodeType!==8;){if(!_){_=null;break e}if(A=Hn(A.nextSibling),A===null){_=null;break e}}_=A}_!==null?(t.memoizedState={dehydrated:_,treeContext:cl!==null?{id:oa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},A=fn(18,null,null,0),A.stateNode=_,A.return=t,t.child=A,Jt=t,xt=null,A=!0):A=!1}A||fl(t)}if(_=t.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return bu(_)?t.lanes=32:t.lanes=536870912,null;fa(t)}return _=l.children,l=l.fallback,o?(Ba(),o=t.mode,_=go({mode:"hidden",children:_},o),l=il(l,o,n,null),_.return=t,l.return=t,_.sibling=l,t.child=_,o=t.child,o.memoizedState=kc(n),o.childLanes=Lc(e,g,n),t.memoizedState=Rc,l):(La(t),Bc(t,_))}if(A=e.memoizedState,A!==null&&(_=A.dehydrated,_!==null)){if(u)t.flags&256?(La(t),t.flags&=-257,t=Uc(e,t,n)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),o=l.fallback,_=t.mode,l=go({mode:"visible",children:l.children},_),o=il(o,_,n,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,Gl(t,e.child,null,n),l=t.child,l.memoizedState=kc(n),l.childLanes=Lc(e,g,n),t.memoizedState=Rc,t=o);else if(La(t),bu(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(i(419)),l.stack="",l.digest=g,Ns({value:l,source:null,stack:null}),t=Uc(e,t,n)}else if($t||Ds(e,t,n,!1),g=(n&e.childLanes)!==0,$t||g){if(g=dt,g!==null&&(l=n&-n,l=(l&42)!==0?1:Ut(l),l=(l&(g.suspendedLanes|n))!==0?0:l,l!==0&&l!==A.retryLane))throw A.retryLane=l,Ll(e,l),vn(g,e,l),wh;_.data==="$?"||nu(),t=Uc(e,t,n)}else _.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,xt=Hn(_.nextSibling),Jt=t,Ke=!0,dl=null,Kn=!1,e!==null&&(En[An++]=oa,En[An++]=ia,En[An++]=cl,oa=e.id,ia=e.overflow,cl=t),t=Bc(t,l.children),t.flags|=4096);return t}return o?(Ba(),o=l.fallback,_=t.mode,A=e.child,P=A.sibling,l=ra(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,P!==null?o=ra(P,o):(o=il(o,_,n,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,_=e.child.memoizedState,_===null?_=kc(n):(A=_.cachePool,A!==null?(P=Rt._currentValue,A=A.parent!==P?{parent:P,pool:P}:A):A=yf(),_={baseLanes:_.baseLanes|n,cachePool:A}),o.memoizedState=_,o.childLanes=Lc(e,g,n),t.memoizedState=Rc,l):(La(t),n=e.child,e=n.sibling,n=ra(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function Bc(e,t){return t=go({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function go(e,t){return e=fn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uc(e,t,n){return Gl(t,e.child,null,n),e=Bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zh(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),nc(e.return,t,n)}function $c(e,t,n,l,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=o)}function Rh(e,t,n){var l=t.pendingProps,o=l.revealOrder,u=l.tail;if(Yt(e,t,l.children,n),l=kt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zh(e,n,t);else if(e.tag===19)zh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(fe(kt,l),o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&uo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$c(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&uo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$c(t,!0,n,null,u);break;case"together":$c(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ds(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ra(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ra(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Hc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xr(e)))}function wS(e,t,n){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),Ma(t,Rt,e.memoizedState.cache),As();break;case 27:case 5:Xe(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:Ma(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(La(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Oh(e,t,n):(La(t),e=ha(e,t,n),e!==null?e.sibling:null);La(t);break;case 19:var o=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ds(e,t,n,!1),l=(n&t.childLanes)!==0),o){if(l)return Rh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(kt,kt.current),l)break;return null;case 22:case 23:return t.lanes=0,Eh(e,t,n);case 24:Ma(t,Rt,e.memoizedState.cache)}return ha(e,t,n)}function kh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!Hc(e,n)&&(t.flags&128)===0)return $t=!1,wS(e,t,n);$t=(e.flags&131072)!==0}else $t=!1,Ke&&(t.flags&1048576)!==0&&df(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")Qi(l)?(e=vl(l,e),t.tag=1,t=Dh(null,t,l,e,n)):(t.tag=0,t=zc(null,t,l,e,n));else{if(l!=null){if(o=l.$$typeof,o===G){t.tag=11,t=Ch(null,t,l,e,n);break e}else if(o===M){t.tag=14,t=Th(null,t,l,e,n);break e}}throw t=K(l)||l,Error(i(306,t,""))}}return t;case 0:return zc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,o=vl(l,t.pendingProps),Dh(e,t,l,o,n);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var u=t.memoizedState;o=u.element,cc(e,t),Bs(t,l,null,n);var g=t.memoizedState;if(l=g.cache,Ma(t,Rt,l),l!==u.cache&&ac(t,[Rt],n,!0),Ls(),l=g.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Mh(e,t,l,n);break e}else if(l!==o){o=Tn(Error(i(424)),t),Ns(o),t=Mh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=Hn(e.firstChild),Jt=t,Ke=!0,dl=null,Kn=!0,n=hh(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(As(),l===o){t=ha(e,t,n);break e}Yt(e,t,l,n)}t=t.child}return t;case 26:return mo(e,t),e===null?(n=$m(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ke||(n=t.type,e=t.pendingProps,l=No(Ae.current).createElement(n),l[ve]=t,l[be]=e,Xt(l,n,e),Nt(l),t.stateNode=l):t.memoizedState=$m(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xe(t),e===null&&Ke&&(l=t.stateNode=Lm(t.type,t.pendingProps,Ae.current),Jt=t,Kn=!0,o=xt,Ya(t.type)?(Su=o,xt=Hn(l.firstChild)):xt=o),Yt(e,t,t.pendingProps.children,n),mo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ke&&((o=l=xt)&&(l=ZS(l,t.type,t.pendingProps,Kn),l!==null?(t.stateNode=l,Jt=t,xt=Hn(l.firstChild),Kn=!1,o=!0):o=!1),o||fl(t)),Xe(t),o=t.type,u=t.pendingProps,g=e!==null?e.memoizedProps:null,l=u.children,pu(o,u)?l=null:g!==null&&pu(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=gc(e,t,gS,null,null,n),sr._currentValue=o),mo(e,t),Yt(e,t,l,n),t.child;case 6:return e===null&&Ke&&((e=n=xt)&&(n=JS(n,t.pendingProps,Kn),n!==null?(t.stateNode=n,Jt=t,xt=null,e=!0):e=!1),e||fl(t)),null;case 13:return Oh(e,t,n);case 4:return ct(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Gl(t,null,l,n):Yt(e,t,l,n),t.child;case 11:return Ch(e,t,t.type,t.pendingProps,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Ma(t,t.type,l.value),Yt(e,t,l.children,n),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,ml(t),o=Qt(o),l=l(o),t.flags|=1,Yt(e,t,l,n),t.child;case 14:return Th(e,t,t.type,t.pendingProps,n);case 15:return jh(e,t,t.type,t.pendingProps,n);case 19:return Rh(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=go(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ra(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Eh(e,t,n);case 24:return ml(t),l=Qt(Rt),e===null?(o=rc(),o===null&&(o=dt,u=lc(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:l,cache:o},ic(t),Ma(t,Rt,o)):((e.lanes&n)!==0&&(cc(e,t),Bs(t,null,null,n),Ls()),o=e.memoizedState,u=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ma(t,Rt,l)):(l=u.cache,Ma(t,Rt,l),l!==o.cache&&ac(t,[Rt],n,!0))),Yt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ma(e){e.flags|=4}function Lh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pm(t)){if(t=Nn.current,t!==null&&((Pe&4194048)===Pe?Zn!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||t!==Zn))throw Rs=oc,bf;e.flags|=8192}}function po(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ja():536870912,e.lanes|=t,Zl|=t)}function Ps(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function CS(e,t,n){var l=t.pendingProps;switch(Wi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return _t(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ua(Rt),bt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Es(t)?ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mf())),_t(t),null;case 26:return n=t.memoizedState,e===null?(ma(t),n!==null?(_t(t),Lh(t,n)):(_t(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ma(t),_t(t),Lh(t,n)):(_t(t),t.flags&=-16777217):(e.memoizedProps!==l&&ma(t),_t(t),t.flags&=-16777217),null;case 27:pe(t),n=Ae.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ma(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return _t(t),null}e=_e.current,Es(t)?ff(t):(e=Lm(o,l,n),t.stateNode=e,ma(t))}return _t(t),null;case 5:if(pe(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ma(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return _t(t),null}if(e=_e.current,Es(t))ff(t);else{switch(o=No(Ae.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}e[ve]=t,e[be]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Xt(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ma(t)}}return _t(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ma(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=Ae.current,Es(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,o=Jt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ve]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Nm(e.nodeValue,n)),e||fl(t)}else e=No(e).createTextNode(l),e[ve]=t,t.stateNode=e}return _t(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Es(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[ve]=t}else As(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;_t(t),o=!1}else o=mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(fa(t),t):(fa(t),null)}if(fa(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var u=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),po(t,t.updateQueue),_t(t),null;case 4:return bt(),e===null&&du(t.stateNode.containerInfo),_t(t),null;case 10:return ua(t.type),_t(t),null;case 19:if(ue(kt),o=t.memoizedState,o===null)return _t(t),null;if(l=(t.flags&128)!==0,u=o.rendering,u===null)if(l)Ps(o,!1);else{if(wt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=uo(e),u!==null){for(t.flags|=128,Ps(o,!1),e=u.updateQueue,t.updateQueue=e,po(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)uf(n,e),n=n.sibling;return fe(kt,kt.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>bo&&(t.flags|=128,l=!0,Ps(o,!1),t.lanes=4194304)}else{if(!l)if(e=uo(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,po(t,e),Ps(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ke)return _t(t),null}else 2*qe()-o.renderingStartTime>bo&&n!==536870912&&(t.flags|=128,l=!0,Ps(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(e=o.last,e!==null?e.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,e=kt.current,fe(kt,l?e&1|2:e&1),t):(_t(t),null);case 22:case 23:return fa(t),hc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),n=t.updateQueue,n!==null&&po(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&ue(gl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ua(Rt),_t(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function TS(e,t){switch(Wi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(Rt),bt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pe(t),null;case 13:if(fa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));As()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(kt),null;case 4:return bt(),null;case 10:return ua(t.type),null;case 22:case 23:return fa(t),hc(),e!==null&&ue(gl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ua(Rt),null;case 25:return null;default:return null}}function Bh(e,t){switch(Wi(t),t.tag){case 3:ua(Rt),bt();break;case 26:case 27:case 5:pe(t);break;case 4:bt();break;case 13:fa(t);break;case 19:ue(kt);break;case 10:ua(t.type);break;case 22:case 23:fa(t),hc(),e!==null&&ue(gl);break;case 24:ua(Rt)}}function Fs(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var o=l.next;n=o;do{if((n.tag&e)===e){l=void 0;var u=n.create,g=n.inst;l=u(),g.destroy=l}n=n.next}while(n!==o)}}catch(_){it(t,t.return,_)}}function Ua(e,t,n){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var u=o.next;l=u;do{if((l.tag&e)===e){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,o=t;var A=n,P=_;try{P()}catch(J){it(o,A,J)}}}l=l.next}while(l!==u)}}catch(J){it(t,t.return,J)}}function Uh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Tf(t,n)}catch(l){it(e,e.return,l)}}}function $h(e,t,n){n.props=vl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Ys(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(o){it(e,t,o)}}function Jn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(o){it(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){it(e,t,o)}else n.current=null}function Hh(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(o){it(e,e.return,o)}}function Vc(e,t,n){try{var l=e.stateNode;YS(l,e.type,n,t),l[be]=t}catch(o){it(e,e.return,o)}}function Vh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ic(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ao));else if(l!==4&&(l===27&&Ya(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ic(e,t,n),e=e.sibling;e!==null;)Ic(e,t,n),e=e.sibling}function vo(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ya(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(vo(e,t,n),e=e.sibling;e!==null;)vo(e,t,n),e=e.sibling}function qh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Xt(t,l,n),t[ve]=e,t[be]=n}catch(u){it(e,e.return,u)}}var ga=!1,Et=!1,Pc=!1,Ih=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function jS(e,t){if(e=e.containerInfo,mu=ko,e=Wd(e),qi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var o=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var g=0,_=-1,A=-1,P=0,J=0,ae=e,F=null;t:for(;;){for(var Y;ae!==n||o!==0&&ae.nodeType!==3||(_=g+o),ae!==u||l!==0&&ae.nodeType!==3||(A=g+l),ae.nodeType===3&&(g+=ae.nodeValue.length),(Y=ae.firstChild)!==null;)F=ae,ae=Y;for(;;){if(ae===e)break t;if(F===n&&++P===o&&(_=g),F===u&&++J===l&&(A=g),(Y=ae.nextSibling)!==null)break;ae=F,F=ae.parentNode}ae=Y}n=_===-1||A===-1?null:{start:_,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:e,selectionRange:n},ko=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){switch(t=Ht,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var Ee=vl(n.type,o,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(Ee,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(xe){it(n,n.return,xe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)yu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}}function Ph(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:$a(e,n),l&4&&Fs(5,n);break;case 1:if($a(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){it(n,n.return,g)}else{var o=vl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){it(n,n.return,g)}}l&64&&Uh(n),l&512&&Ys(n,n.return);break;case 3:if($a(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Tf(e,t)}catch(g){it(n,n.return,g)}}break;case 27:t===null&&l&4&&qh(n);case 26:case 5:$a(e,n),t===null&&l&4&&Hh(n),l&512&&Ys(n,n.return);break;case 12:$a(e,n);break;case 13:$a(e,n),l&4&&Gh(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=kS.bind(null,n),WS(e,n))));break;case 22:if(l=n.memoizedState!==null||ga,!l){t=t!==null&&t.memoizedState!==null||Et,o=ga;var u=Et;ga=l,(Et=t)&&!u?Ha(e,n,(n.subtreeFlags&8772)!==0):$a(e,n),ga=o,Et=u}break;case 30:break;default:$a(e,n)}}function Fh(e){var t=e.alternate;t!==null&&(e.alternate=null,Fh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pt=null,rn=!1;function pa(e,t,n){for(n=n.child;n!==null;)Yh(e,t,n),n=n.sibling}function Yh(e,t,n){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(je,n)}catch{}switch(n.tag){case 26:Et||Jn(n,t),pa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Et||Jn(n,t);var l=pt,o=rn;Ya(n.type)&&(pt=n.stateNode,rn=!1),pa(e,t,n),tr(n.stateNode),pt=l,rn=o;break;case 5:Et||Jn(n,t);case 6:if(l=pt,o=rn,pt=null,pa(e,t,n),pt=l,rn=o,pt!==null)if(rn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(n.stateNode)}catch(u){it(n,t,u)}else try{pt.removeChild(n.stateNode)}catch(u){it(n,t,u)}break;case 18:pt!==null&&(rn?(e=pt,Rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),cr(e)):Rm(pt,n.stateNode));break;case 4:l=pt,o=rn,pt=n.stateNode.containerInfo,rn=!0,pa(e,t,n),pt=l,rn=o;break;case 0:case 11:case 14:case 15:Et||Ua(2,n,t),Et||Ua(4,n,t),pa(e,t,n);break;case 1:Et||(Jn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&$h(n,t,l)),pa(e,t,n);break;case 21:pa(e,t,n);break;case 22:Et=(l=Et)||n.memoizedState!==null,pa(e,t,n),Et=l;break;default:pa(e,t,n)}}function Gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cr(e)}catch(n){it(t,t.return,n)}}function ES(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ih),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ih),t;default:throw Error(i(435,e.tag))}}function Fc(e,t){var n=ES(e);t.forEach(function(l){var o=LS.bind(null,e,l);n.has(l)||(n.add(l),l.then(o,o))})}function hn(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l],u=e,g=t,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(Ya(_.type)){pt=_.stateNode,rn=!1;break e}break;case 5:pt=_.stateNode,rn=!1;break e;case 3:case 4:pt=_.stateNode.containerInfo,rn=!0;break e}_=_.return}if(pt===null)throw Error(i(160));Yh(u,g,o),pt=null,rn=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Xh(t,e),t=t.sibling}var $n=null;function Xh(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(t,e),mn(e),l&4&&(Ua(3,e,e.return),Fs(3,e),Ua(5,e,e.return));break;case 1:hn(t,e),mn(e),l&512&&(Et||n===null||Jn(n,n.return)),l&64&&ga&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var o=$n;if(hn(t,e),mn(e),l&512&&(Et||n===null||Jn(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":u=o.getElementsByTagName("title")[0],(!u||u[an]||u[ve]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(l),o.head.insertBefore(u,o.querySelector("head > title"))),Xt(u,l,n),u[ve]=e,Nt(u),l=u;break e;case"link":var g=qm("link","href",o).get(l+(n.href||""));if(g){for(var _=0;_<g.length;_++)if(u=g[_],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(_,1);break t}}u=o.createElement(l),Xt(u,l,n),o.head.appendChild(u);break;case"meta":if(g=qm("meta","content",o).get(l+(n.content||""))){for(_=0;_<g.length;_++)if(u=g[_],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(_,1);break t}}u=o.createElement(l),Xt(u,l,n),o.head.appendChild(u);break;default:throw Error(i(468,l))}u[ve]=e,Nt(u),l=u}e.stateNode=l}else Im(o,e.type,e.stateNode);else e.stateNode=Vm(o,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?Im(o,e.type,e.stateNode):Vm(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Vc(e,e.memoizedProps,n.memoizedProps)}break;case 27:hn(t,e),mn(e),l&512&&(Et||n===null||Jn(n,n.return)),n!==null&&l&4&&Vc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(hn(t,e),mn(e),l&512&&(Et||n===null||Jn(n,n.return)),e.flags&32){o=e.stateNode;try{Nl(o,"")}catch(Y){it(e,e.return,Y)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Vc(e,o,n!==null?n.memoizedProps:o)),l&1024&&(Pc=!0);break;case 6:if(hn(t,e),mn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(Y){it(e,e.return,Y)}}break;case 3:if(Oo=null,o=$n,$n=Do(t.containerInfo),hn(t,e),$n=o,mn(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{cr(t.containerInfo)}catch(Y){it(e,e.return,Y)}Pc&&(Pc=!1,Qh(e));break;case 4:l=$n,$n=Do(e.stateNode.containerInfo),hn(t,e),mn(e),$n=l;break;case 12:hn(t,e),mn(e);break;case 13:hn(t,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zc=qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fc(e,l)));break;case 22:o=e.memoizedState!==null;var A=n!==null&&n.memoizedState!==null,P=ga,J=Et;if(ga=P||o,Et=J||A,hn(t,e),Et=J,ga=P,mn(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||A||ga||Et||yl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){A=n=t;try{if(u=A.stateNode,o)g=u.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=A.stateNode;var ae=A.memoizedProps.style,F=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;_.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Y){it(A,A.return,Y)}}}else if(t.tag===6){if(n===null){A=t;try{A.stateNode.nodeValue=o?"":A.memoizedProps}catch(Y){it(A,A.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Fc(e,n))));break;case 19:hn(t,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fc(e,l)));break;case 30:break;case 21:break;default:hn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Vh(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode,u=qc(e);vo(e,u,o);break;case 5:var g=n.stateNode;n.flags&32&&(Nl(g,""),n.flags&=-33);var _=qc(e);vo(e,_,g);break;case 3:case 4:var A=n.stateNode.containerInfo,P=qc(e);Ic(e,P,A);break;default:throw Error(i(161))}}catch(J){it(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ph(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ua(4,t,t.return),yl(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$h(t,t.return,n),yl(t);break;case 27:tr(t.stateNode);case 26:case 5:Jn(t,t.return),yl(t);break;case 22:t.memoizedState===null&&yl(t);break;case 30:yl(t);break;default:yl(t)}e=e.sibling}}function Ha(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,u=t,g=u.flags;switch(u.tag){case 0:case 11:case 15:Ha(o,u,n),Fs(4,u);break;case 1:if(Ha(o,u,n),l=u,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(P){it(l,l.return,P)}if(l=u,o=l.updateQueue,o!==null){var _=l.stateNode;try{var A=o.shared.hiddenCallbacks;if(A!==null)for(o.shared.hiddenCallbacks=null,o=0;o<A.length;o++)Cf(A[o],_)}catch(P){it(l,l.return,P)}}n&&g&64&&Uh(u),Ys(u,u.return);break;case 27:qh(u);case 26:case 5:Ha(o,u,n),n&&l===null&&g&4&&Hh(u),Ys(u,u.return);break;case 12:Ha(o,u,n);break;case 13:Ha(o,u,n),n&&g&4&&Gh(o,u);break;case 22:u.memoizedState===null&&Ha(o,u,n),Ys(u,u.return);break;case 30:break;default:Ha(o,u,n)}t=t.sibling}}function Yc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ms(n))}function Gc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ms(e))}function Wn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kh(e,t,n,l),t=t.sibling}function Kh(e,t,n,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wn(e,t,n,l),o&2048&&Fs(9,t);break;case 1:Wn(e,t,n,l);break;case 3:Wn(e,t,n,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ms(e)));break;case 12:if(o&2048){Wn(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,g=u.id,_=u.onPostCommit;typeof _=="function"&&_(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){it(t,t.return,A)}}else Wn(e,t,n,l);break;case 13:Wn(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,g=t.alternate,t.memoizedState!==null?u._visibility&2?Wn(e,t,n,l):Gs(e,t):u._visibility&2?Wn(e,t,n,l):(u._visibility|=2,Xl(e,t,n,l,(t.subtreeFlags&10256)!==0)),o&2048&&Yc(g,t);break;case 24:Wn(e,t,n,l),o&2048&&Gc(t.alternate,t);break;default:Wn(e,t,n,l)}}function Xl(e,t,n,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,g=t,_=n,A=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Xl(u,g,_,A,o),Fs(8,g);break;case 23:break;case 22:var J=g.stateNode;g.memoizedState!==null?J._visibility&2?Xl(u,g,_,A,o):Gs(u,g):(J._visibility|=2,Xl(u,g,_,A,o)),o&&P&2048&&Yc(g.alternate,g);break;case 24:Xl(u,g,_,A,o),o&&P&2048&&Gc(g.alternate,g);break;default:Xl(u,g,_,A,o)}t=t.sibling}}function Gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,o=l.flags;switch(l.tag){case 22:Gs(n,l),o&2048&&Yc(l.alternate,l);break;case 24:Gs(n,l),o&2048&&Gc(l.alternate,l);break;default:Gs(n,l)}t=t.sibling}}var Xs=8192;function Ql(e){if(e.subtreeFlags&Xs)for(e=e.child;e!==null;)Zh(e),e=e.sibling}function Zh(e){switch(e.tag){case 26:Ql(e),e.flags&Xs&&e.memoizedState!==null&&f_($n,e.memoizedState,e.memoizedProps);break;case 5:Ql(e);break;case 3:case 4:var t=$n;$n=Do(e.stateNode.containerInfo),Ql(e),$n=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Xs,Xs=16777216,Ql(e),Xs=t):Ql(e));break;default:Ql(e)}}function Jh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Ht=l,em(l,e)}Jh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wh(e),e=e.sibling}function Wh(e){switch(e.tag){case 0:case 11:case 15:Qs(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:Qs(e);break;case 12:Qs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yo(e)):Qs(e);break;default:Qs(e)}}function yo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Ht=l,em(l,e)}Jh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ua(8,t,t.return),yo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,yo(t));break;default:yo(t)}e=e.sibling}}function em(e,t){for(;Ht!==null;){var n=Ht;switch(n.tag){case 0:case 11:case 15:Ua(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ms(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Ht=l;else e:for(n=e;Ht!==null;){l=Ht;var o=l.sibling,u=l.return;if(Fh(l),l===n){Ht=null;break e}if(o!==null){o.return=u,Ht=o;break e}Ht=u}}}var AS={getCacheForType:function(e){var t=Qt(Rt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},NS=typeof WeakMap=="function"?WeakMap:Map,We=0,dt=null,Be=null,Pe=0,et=0,gn=null,Va=!1,Kl=!1,Xc=!1,va=0,wt=0,qa=0,bl=0,Qc=0,Dn=0,Zl=0,Ks=null,on=null,Kc=!1,Zc=0,bo=1/0,So=null,Ia=null,Gt=0,Pa=null,Jl=null,Wl=0,Jc=0,Wc=null,tm=null,Zs=0,eu=null;function pn(){if((We&2)!==0&&Pe!==0)return Pe&-Pe;if(z.T!==null){var e=Hl;return e!==0?e:ou()}return W()}function nm(){Dn===0&&(Dn=(Pe&536870912)===0||Ke?Yn():536870912);var e=Nn.current;return e!==null&&(e.flags|=32),Dn}function vn(e,t,n){(e===dt&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(es(e,0),Fa(e,Pe,Dn,!1)),gt(e,n),((We&2)===0||e!==dt)&&(e===dt&&((We&2)===0&&(bl|=n),wt===4&&Fa(e,Pe,Dn,!1)),ea(e))}function am(e,t,n){if((We&6)!==0)throw Error(i(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Zt(e,t),o=l?OS(e,t):au(e,t,!0),u=l;do{if(o===0){Kl&&!l&&Fa(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!DS(n)){o=au(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var _=e;o=Ks;var A=_.current.memoizedState.isDehydrated;if(A&&(es(_,g).flags|=256),g=au(_,g,!1),g!==2){if(Xc&&!A){_.errorRecoveryDisabledLanes|=u,bl|=u,o=4;break e}u=on,on=o,u!==null&&(on===null?on=u:on.push.apply(on,u))}o=g}if(u=!1,o!==2)continue}}if(o===1){es(e,0),Fa(e,t,0,!0);break}e:{switch(l=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Fa(l,t,Dn,!Va);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Zc+300-qe(),10<o)){if(Fa(l,t,Dn,!Va),xn(l,0,!0)!==0)break e;l.timeoutHandle=Om(lm.bind(null,l,n,on,So,Kc,t,Dn,bl,Zl,Va,u,2,-0,0),o);break e}lm(l,n,on,So,Kc,t,Dn,bl,Zl,Va,u,0,-0,0)}}break}while(!0);ea(e)}function lm(e,t,n,l,o,u,g,_,A,P,J,ae,F,Y){if(e.timeoutHandle=-1,ae=t.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(lr={stylesheets:null,count:0,unsuspend:d_},Zh(t),ae=h_(),ae!==null)){e.cancelPendingCommit=ae(dm.bind(null,e,t,u,n,l,o,g,_,A,J,1,F,Y)),Fa(e,u,g,!P);return}dm(e,t,u,n,l,o,g,_,A)}function DS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var o=n[l],u=o.getSnapshot;o=o.value;try{if(!dn(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,n,l){t&=~Qc,t&=~bl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var u=31-Ie(o),g=1<<u;l[u]=-1,o&=~g}n!==0&&Bt(e,n,t)}function _o(){return(We&6)===0?(Js(0),!1):!0}function tu(){if(Be!==null){if(et===0)var e=Be.return;else e=Be,ca=hl=null,yc(e),Yl=null,qs=0,e=Be;for(;e!==null;)Bh(e.alternate,e),e=e.return;Be=null}}function es(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,XS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),tu(),dt=e,Be=n=ra(e.current,null),Pe=t,et=0,gn=null,Va=!1,Kl=Zt(e,t),Xc=!1,Zl=Dn=Qc=bl=qa=wt=0,on=Ks=null,Kc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Ie(l),u=1<<o;t|=e[o],l&=~u}return va=t,qr(),n}function sm(e,t){Re=null,z.H=oo,t===zs||t===Zr?(t=xf(),et=3):t===bf?(t=xf(),et=4):et=t===wh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gn=t,Be===null&&(wt=1,ho(e,Tn(t,e.current)))}function rm(){var e=z.H;return z.H=oo,e===null?oo:e}function om(){var e=z.A;return z.A=AS,e}function nu(){wt=4,Va||(Pe&4194048)!==Pe&&Nn.current!==null||(Kl=!0),(qa&134217727)===0&&(bl&134217727)===0||dt===null||Fa(dt,Pe,Dn,!1)}function au(e,t,n){var l=We;We|=2;var o=rm(),u=om();(dt!==e||Pe!==t)&&(So=null,es(e,t)),t=!1;var g=wt;e:do try{if(et!==0&&Be!==null){var _=Be,A=gn;switch(et){case 8:tu(),g=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(t=!0);var P=et;if(et=0,gn=null,ts(e,_,A,P),n&&Kl){g=0;break e}break;default:P=et,et=0,gn=null,ts(e,_,A,P)}}MS(),g=wt;break}catch(J){sm(e,J)}while(!0);return t&&e.shellSuspendCounter++,ca=hl=null,We=l,z.H=o,z.A=u,Be===null&&(dt=null,Pe=0,qr()),g}function MS(){for(;Be!==null;)im(Be)}function OS(e,t){var n=We;We|=2;var l=rm(),o=om();dt!==e||Pe!==t?(So=null,bo=qe()+500,es(e,t)):Kl=Zt(e,t);e:do try{if(et!==0&&Be!==null){t=Be;var u=gn;t:switch(et){case 1:et=0,gn=null,ts(e,t,u,1);break;case 2:case 9:if(Sf(u)){et=0,gn=null,cm(t);break}t=function(){et!==2&&et!==9||dt!==e||(et=7),ea(e)},u.then(t,t);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Sf(u)?(et=0,gn=null,cm(t)):(et=0,gn=null,ts(e,t,u,7));break;case 5:var g=null;switch(Be.tag){case 26:g=Be.memoizedState;case 5:case 27:var _=Be;if(!g||Pm(g)){et=0,gn=null;var A=_.sibling;if(A!==null)Be=A;else{var P=_.return;P!==null?(Be=P,xo(P)):Be=null}break t}}et=0,gn=null,ts(e,t,u,5);break;case 6:et=0,gn=null,ts(e,t,u,6);break;case 8:tu(),wt=6;break e;default:throw Error(i(462))}}zS();break}catch(J){sm(e,J)}while(!0);return ca=hl=null,z.H=l,z.A=o,We=n,Be!==null?0:(dt=null,Pe=0,qr(),wt)}function zS(){for(;Be!==null&&!me();)im(Be)}function im(e){var t=kh(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?xo(e):Be=t}function cm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Nh(n,t,t.pendingProps,t.type,void 0,Pe);break;case 11:t=Nh(n,t,t.pendingProps,t.type.render,t.ref,Pe);break;case 5:yc(t);default:Bh(n,t),t=Be=uf(t,va),t=kh(n,t,va)}e.memoizedProps=e.pendingProps,t===null?xo(e):Be=t}function ts(e,t,n,l){ca=hl=null,yc(t),Yl=null,qs=0;var o=t.return;try{if(xS(e,o,t,n,Pe)){wt=1,ho(e,Tn(n,e.current)),Be=null;return}}catch(u){if(o!==null)throw Be=o,u;wt=1,ho(e,Tn(n,e.current)),Be=null;return}t.flags&32768?(Ke||l===1?e=!0:Kl||(Pe&536870912)!==0?e=!1:(Va=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),um(t,e)):xo(t)}function xo(e){var t=e;do{if((t.flags&32768)!==0){um(t,Va);return}e=t.return;var n=CS(t.alternate,t,va);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);wt===0&&(wt=5)}function um(e,t){do{var n=TS(e.alternate,e);if(n!==null){n.flags&=32767,Be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=n}while(e!==null);wt=6,Be=null}function dm(e,t,n,l,o,u,g,_,A){e.cancelPendingCommit=null;do wo();while(Gt!==0);if((We&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=Gi,Pt(e,n,u,g,_,A),e===dt&&(Be=dt=null,Pe=0),Jl=t,Pa=e,Wl=n,Jc=u,Wc=o,tm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,BS(Ct,function(){return pm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,o=$.p,$.p=2,g=We,We|=4;try{jS(e,t,n)}finally{We=g,$.p=o,z.T=l}}Gt=1,fm(),hm(),mm()}}function fm(){if(Gt===1){Gt=0;var e=Pa,t=Jl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=$.p;$.p=2;var o=We;We|=4;try{Xh(t,e);var u=gu,g=Wd(e.containerInfo),_=u.focusedElem,A=u.selectionRange;if(g!==_&&_&&_.ownerDocument&&Jd(_.ownerDocument.documentElement,_)){if(A!==null&&qi(_)){var P=A.start,J=A.end;if(J===void 0&&(J=P),"selectionStart"in _)_.selectionStart=P,_.selectionEnd=Math.min(J,_.value.length);else{var ae=_.ownerDocument||document,F=ae&&ae.defaultView||window;if(F.getSelection){var Y=F.getSelection(),Ee=_.textContent.length,xe=Math.min(A.start,Ee),rt=A.end===void 0?xe:Math.min(A.end,Ee);!Y.extend&&xe>rt&&(g=rt,rt=xe,xe=g);var H=Zd(_,xe),R=Zd(_,rt);if(H&&R&&(Y.rangeCount!==1||Y.anchorNode!==H.node||Y.anchorOffset!==H.offset||Y.focusNode!==R.node||Y.focusOffset!==R.offset)){var I=ae.createRange();I.setStart(H.node,H.offset),Y.removeAllRanges(),xe>rt?(Y.addRange(I),Y.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),Y.addRange(I))}}}}for(ae=[],Y=_;Y=Y.parentNode;)Y.nodeType===1&&ae.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ae.length;_++){var te=ae[_];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}ko=!!mu,gu=mu=null}finally{We=o,$.p=l,z.T=n}}e.current=t,Gt=2}}function hm(){if(Gt===2){Gt=0;var e=Pa,t=Jl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=$.p;$.p=2;var o=We;We|=4;try{Ph(e,t.alternate,t)}finally{We=o,$.p=l,z.T=n}}Gt=3}}function mm(){if(Gt===4||Gt===3){Gt=0,Ne();var e=Pa,t=Jl,n=Wl,l=tm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Gt=5:(Gt=0,Jl=Pa=null,gm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ia=null),zt(n),t=t.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(je,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,o=$.p,$.p=2,z.T=null;try{for(var u=e.onRecoverableError,g=0;g<l.length;g++){var _=l[g];u(_.value,{componentStack:_.stack})}}finally{z.T=t,$.p=o}}(Wl&3)!==0&&wo(),ea(e),o=e.pendingLanes,(n&4194090)!==0&&(o&42)!==0?e===eu?Zs++:(Zs=0,eu=e):Zs=0,Js(0)}}function gm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ms(t)))}function wo(e){return fm(),hm(),mm(),pm()}function pm(){if(Gt!==5)return!1;var e=Pa,t=Jc;Jc=0;var n=zt(Wl),l=z.T,o=$.p;try{$.p=32>n?32:n,z.T=null,n=Wc,Wc=null;var u=Pa,g=Wl;if(Gt=0,Jl=Pa=null,Wl=0,(We&6)!==0)throw Error(i(331));var _=We;if(We|=4,Wh(u.current),Kh(u,u.current,g,n),We=_,Js(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(je,u)}catch{}return!0}finally{$.p=o,z.T=l,gm(e,t)}}function vm(e,t,n){t=Tn(n,t),t=Oc(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(gt(e,2),ea(e))}function it(e,t,n){if(e.tag===3)vm(e,e,n);else for(;t!==null;){if(t.tag===3){vm(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ia===null||!Ia.has(l))){e=Tn(n,e),n=_h(2),l=Ra(t,n,2),l!==null&&(xh(n,l,t,e),gt(l,2),ea(l));break}}t=t.return}}function lu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new NS;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(n)||(Xc=!0,o.add(n),e=RS.bind(null,e,t,n),t.then(e,e))}function RS(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,dt===e&&(Pe&n)===n&&(wt===4||wt===3&&(Pe&62914560)===Pe&&300>qe()-Zc?(We&2)===0&&es(e,0):Qc|=n,Zl===Pe&&(Zl=0)),ea(e)}function ym(e,t){t===0&&(t=ja()),e=Ll(e,t),e!==null&&(gt(e,t),ea(e))}function kS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ym(e,n)}function LS(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),ym(e,n)}function BS(e,t){return Ze(e,t)}var Co=null,ns=null,su=!1,To=!1,ru=!1,Sl=0;function ea(e){e!==ns&&e.next===null&&(ns===null?Co=ns=e:ns=ns.next=e),To=!0,su||(su=!0,$S())}function Js(e,t){if(!ru&&To){ru=!0;do for(var n=!1,l=Co;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var u=0;else{var g=l.suspendedLanes,_=l.pingedLanes;u=(1<<31-Ie(42|e)+1)-1,u&=o&~(g&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,xm(l,u))}else u=Pe,u=xn(l,l===dt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Zt(l,u)||(n=!0,xm(l,u));l=l.next}while(n);ru=!1}}function US(){bm()}function bm(){To=su=!1;var e=0;Sl!==0&&(GS()&&(e=Sl),Sl=0);for(var t=qe(),n=null,l=Co;l!==null;){var o=l.next,u=Sm(l,t);u===0?(l.next=null,n===null?Co=o:n.next=o,o===null&&(ns=n)):(n=l,(e!==0||(u&3)!==0)&&(To=!0)),l=o}Js(e)}function Sm(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var g=31-Ie(u),_=1<<g,A=o[g];A===-1?((_&n)===0||(_&l)!==0)&&(o[g]=tl(_,t)):A<=t&&(e.expiredLanes|=_),u&=~_}if(t=dt,n=Pe,n=xn(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(et===2||et===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&nt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Zt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&nt(l),zt(n)){case 2:case 8:n=Qe;break;case 32:n=Ct;break;case 268435456:n=St;break;default:n=Ct}return l=_m.bind(null,e),n=Ze(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&nt(l),e.callbackPriority=2,e.callbackNode=null,2}function _m(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wo()&&e.callbackNode!==n)return null;var l=Pe;return l=xn(e,e===dt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(am(e,l,t),Sm(e,qe()),e.callbackNode!=null&&e.callbackNode===n?_m.bind(null,e):null)}function xm(e,t){if(wo())return null;am(e,t,!0)}function $S(){QS(function(){(We&6)!==0?Ze(Te,US):bm()})}function ou(){return Sl===0&&(Sl=Yn()),Sl}function wm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kr(""+e)}function Cm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function HS(e,t,n,l,o){if(t==="submit"&&n&&n.stateNode===o){var u=wm((o[be]||null).action),g=l.submitter;g&&(t=(t=g[be]||null)?wm(t.formAction):g.getAttribute("formAction"),t!==null&&(u=t,g=null));var _=new $r("action","action",null,l,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sl!==0){var A=g?Cm(o,g):new FormData(o);Ec(n,{pending:!0,data:A,method:o.method,action:u},null,A)}}else typeof u=="function"&&(_.preventDefault(),A=g?Cm(o,g):new FormData(o),Ec(n,{pending:!0,data:A,method:o.method,action:u},u,A))},currentTarget:o}]})}}for(var iu=0;iu<Yi.length;iu++){var cu=Yi[iu],VS=cu.toLowerCase(),qS=cu[0].toUpperCase()+cu.slice(1);Un(VS,"on"+qS)}Un(nf,"onAnimationEnd"),Un(af,"onAnimationIteration"),Un(lf,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(sS,"onTransitionRun"),Un(rS,"onTransitionStart"),Un(oS,"onTransitionCancel"),Un(sf,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ws));function Tm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],o=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var g=l.length-1;0<=g;g--){var _=l[g],A=_.instance,P=_.currentTarget;if(_=_.listener,A!==u&&o.isPropagationStopped())break e;u=_,o.currentTarget=P;try{u(o)}catch(J){fo(J)}o.currentTarget=null,u=A}else for(g=0;g<l.length;g++){if(_=l[g],A=_.instance,P=_.currentTarget,_=_.listener,A!==u&&o.isPropagationStopped())break e;u=_,o.currentTarget=P;try{u(o)}catch(J){fo(J)}o.currentTarget=null,u=A}}}}function Ue(e,t){var n=t[ot];n===void 0&&(n=t[ot]=new Set);var l=e+"__bubble";n.has(l)||(jm(t,e,2,!1),n.add(l))}function uu(e,t,n){var l=0;t&&(l|=4),jm(n,e,l,t)}var jo="_reactListening"+Math.random().toString(36).slice(2);function du(e){if(!e[jo]){e[jo]=!0,Mr.forEach(function(n){n!=="selectionchange"&&(IS.has(n)||uu(n,!1,e),uu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jo]||(t[jo]=!0,uu("selectionchange",!1,t))}}function jm(e,t,n,l){switch(Km(t)){case 2:var o=p_;break;case 8:o=v_;break;default:o=Tu}n=o.bind(null,t,n,e),o=void 0,!zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function fu(e,t,n,l,o){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===o)break;if(g===4)for(g=l.return;g!==null;){var A=g.tag;if((A===3||A===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;_!==null;){if(g=Gn(_),g===null)return;if(A=g.tag,A===5||A===6||A===26||A===27){l=u=g;continue e}_=_.parentNode}}l=l.return}Od(function(){var P=u,J=Mi(n),ae=[];e:{var F=rf.get(e);if(F!==void 0){var Y=$r,Ee=e;switch(e){case"keypress":if(Br(n)===0)break e;case"keydown":case"keyup":Y=B0;break;case"focusin":Ee="focus",Y=Bi;break;case"focusout":Ee="blur",Y=Bi;break;case"beforeblur":case"afterblur":Y=Bi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=H0;break;case nf:case af:case lf:Y=A0;break;case sf:Y=q0;break;case"scroll":case"scrollend":Y=w0;break;case"wheel":Y=P0;break;case"copy":case"cut":case"paste":Y=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bd;break;case"toggle":case"beforetoggle":Y=Y0}var xe=(t&4)!==0,rt=!xe&&(e==="scroll"||e==="scrollend"),H=xe?F!==null?F+"Capture":null:F;xe=[];for(var R=P,I;R!==null;){var te=R;if(I=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||I===null||H===null||(te=ys(R,H),te!=null&&xe.push(er(R,te,I))),rt)break;R=R.return}0<xe.length&&(F=new Y(F,Ee,null,n,J),ae.push({event:F,listeners:xe}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&n!==Di&&(Ee=n.relatedTarget||n.fromElement)&&(Gn(Ee)||Ee[ze]))break e;if((Y||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(Ee=n.relatedTarget||n.toElement,Y=P,Ee=Ee?Gn(Ee):null,Ee!==null&&(rt=h(Ee),xe=Ee.tag,Ee!==rt||xe!==5&&xe!==27&&xe!==6)&&(Ee=null)):(Y=null,Ee=P),Y!==Ee)){if(xe=kd,te="onMouseLeave",H="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Bd,te="onPointerLeave",H="onPointerEnter",R="pointer"),rt=Y==null?F:al(Y),I=Ee==null?F:al(Ee),F=new xe(te,R+"leave",Y,n,J),F.target=rt,F.relatedTarget=I,te=null,Gn(J)===P&&(xe=new xe(H,R+"enter",Ee,n,J),xe.target=I,xe.relatedTarget=rt,te=xe),rt=te,Y&&Ee)t:{for(xe=Y,H=Ee,R=0,I=xe;I;I=as(I))R++;for(I=0,te=H;te;te=as(te))I++;for(;0<R-I;)xe=as(xe),R--;for(;0<I-R;)H=as(H),I--;for(;R--;){if(xe===H||H!==null&&xe===H.alternate)break t;xe=as(xe),H=as(H)}xe=null}else xe=null;Y!==null&&Em(ae,F,Y,xe,!1),Ee!==null&&rt!==null&&Em(ae,rt,Ee,xe,!0)}}e:{if(F=P?al(P):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ye=Fd;else if(Id(F))if(Yd)ye=nS;else{ye=eS;var ke=W0}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&Ni(P.elementType)&&(ye=Fd):ye=tS;if(ye&&(ye=ye(e,P))){Pd(ae,ye,n,J);break e}ke&&ke(e,F,P),e==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&Ai(F,"number",F.value)}switch(ke=P?al(P):window,e){case"focusin":(Id(ke)||ke.contentEditable==="true")&&(zl=ke,Ii=P,js=null);break;case"focusout":js=Ii=zl=null;break;case"mousedown":Pi=!0;break;case"contextmenu":case"mouseup":case"dragend":Pi=!1,ef(ae,n,J);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":ef(ae,n,J)}var Se;if($i)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ol?Vd(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(Ud&&n.locale!=="ko"&&(Ol||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ol&&(Se=zd()):(Da=J,Ri="value"in Da?Da.value:Da.textContent,Ol=!0)),ke=Eo(P,we),0<ke.length&&(we=new Ld(we,e,null,n,J),ae.push({event:we,listeners:ke}),Se?we.data=Se:(Se=qd(n),Se!==null&&(we.data=Se)))),(Se=X0?Q0(e,n):K0(e,n))&&(we=Eo(P,"onBeforeInput"),0<we.length&&(ke=new Ld("onBeforeInput","beforeinput",null,n,J),ae.push({event:ke,listeners:we}),ke.data=Se)),HS(ae,e,P,n,J)}Tm(ae,t)})}function er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eo(e,t){for(var n=t+"Capture",l=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ys(e,n),o!=null&&l.unshift(er(e,o,u)),o=ys(e,t),o!=null&&l.push(er(e,o,u))),e.tag===3)return l;e=e.return}return[]}function as(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Em(e,t,n,l,o){for(var u=t._reactName,g=[];n!==null&&n!==l;){var _=n,A=_.alternate,P=_.stateNode;if(_=_.tag,A!==null&&A===l)break;_!==5&&_!==26&&_!==27||P===null||(A=P,o?(P=ys(n,u),P!=null&&g.unshift(er(n,P,A))):o||(P=ys(n,u),P!=null&&g.push(er(n,P,A)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var PS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function Am(e){return(typeof e=="string"?e:""+e).replace(PS,`
`).replace(FS,"")}function Nm(e,t){return t=Am(t),Am(e)===t}function Ao(){}function st(e,t,n,l,o,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Nl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Nl(e,""+l);break;case"className":Na(e,"class",l);break;case"tabIndex":Na(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Na(e,n,l);break;case"style":Dd(e,l,u);break;case"data":if(t!=="object"){Na(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=kr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&st(e,t,"name",o.name,o,null),st(e,t,"formEncType",o.formEncType,o,null),st(e,t,"formMethod",o.formMethod,o,null),st(e,t,"formTarget",o.formTarget,o,null)):(st(e,t,"encType",o.encType,o,null),st(e,t,"method",o.method,o,null),st(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=kr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Ao);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=kr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),ll(e,"popover",l);break;case"xlinkActuate":la(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":la(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":la(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":la(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":la(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":la(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":la(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":la(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":la(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ll(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=_0.get(n)||n,ll(e,n,l))}}function hu(e,t,n,l,o,u){switch(n){case"style":Dd(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Nl(e,l):(typeof l=="number"||typeof l=="bigint")&&Nl(e,""+l);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ln.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[be]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,o);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ll(e,n,l)}}}function Xt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var l=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var g=n[u];if(g!=null)switch(u){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,u,g,n,null)}}o&&st(e,t,"srcSet",n.srcSet,n,null),l&&st(e,t,"src",n.src,n,null);return;case"input":Ue("invalid",e);var _=u=g=o=null,A=null,P=null;for(l in n)if(n.hasOwnProperty(l)){var J=n[l];if(J!=null)switch(l){case"name":o=J;break;case"type":g=J;break;case"checked":A=J;break;case"defaultChecked":P=J;break;case"value":u=J;break;case"defaultValue":_=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,t));break;default:st(e,t,l,J,n,null)}}jd(e,u,_,A,P,g,o,!1),zr(e);return;case"select":Ue("invalid",e),l=g=u=null;for(o in n)if(n.hasOwnProperty(o)&&(_=n[o],_!=null))switch(o){case"value":u=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:st(e,t,o,_,n,null)}t=u,n=g,e.multiple=!!l,t!=null?Al(e,!!l,t,!1):n!=null&&Al(e,!!l,n,!0);return;case"textarea":Ue("invalid",e),u=o=l=null;for(g in n)if(n.hasOwnProperty(g)&&(_=n[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":o=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:st(e,t,g,_,n,null)}Ad(e,l,o,u),zr(e);return;case"option":for(A in n)if(n.hasOwnProperty(A)&&(l=n[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(e,t,A,l,n,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(l=0;l<Ws.length;l++)Ue(Ws[l],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in n)if(n.hasOwnProperty(P)&&(l=n[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,P,l,n,null)}return;default:if(Ni(t)){for(J in n)n.hasOwnProperty(J)&&(l=n[J],l!==void 0&&hu(e,t,J,l,n,void 0));return}}for(_ in n)n.hasOwnProperty(_)&&(l=n[_],l!=null&&st(e,t,_,l,n,null))}function YS(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,g=null,_=null,A=null,P=null,J=null;for(Y in n){var ae=n[Y];if(n.hasOwnProperty(Y)&&ae!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":A=ae;default:l.hasOwnProperty(Y)||st(e,t,Y,null,l,ae)}}for(var F in l){var Y=l[F];if(ae=n[F],l.hasOwnProperty(F)&&(Y!=null||ae!=null))switch(F){case"type":u=Y;break;case"name":o=Y;break;case"checked":P=Y;break;case"defaultChecked":J=Y;break;case"value":g=Y;break;case"defaultValue":_=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,t));break;default:Y!==ae&&st(e,t,F,Y,l,ae)}}Ei(e,g,_,A,P,J,u,o);return;case"select":Y=g=_=F=null;for(u in n)if(A=n[u],n.hasOwnProperty(u)&&A!=null)switch(u){case"value":break;case"multiple":Y=A;default:l.hasOwnProperty(u)||st(e,t,u,null,l,A)}for(o in l)if(u=l[o],A=n[o],l.hasOwnProperty(o)&&(u!=null||A!=null))switch(o){case"value":F=u;break;case"defaultValue":_=u;break;case"multiple":g=u;default:u!==A&&st(e,t,o,u,l,A)}t=_,n=g,l=Y,F!=null?Al(e,!!n,F,!1):!!l!=!!n&&(t!=null?Al(e,!!n,t,!0):Al(e,!!n,n?[]:"",!1));return;case"textarea":Y=F=null;for(_ in n)if(o=n[_],n.hasOwnProperty(_)&&o!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:st(e,t,_,null,l,o)}for(g in l)if(o=l[g],u=n[g],l.hasOwnProperty(g)&&(o!=null||u!=null))switch(g){case"value":F=o;break;case"defaultValue":Y=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&st(e,t,g,o,l,u)}Ed(e,F,Y);return;case"option":for(var Ee in n)if(F=n[Ee],n.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":e.selected=!1;break;default:st(e,t,Ee,null,l,F)}for(A in l)if(F=l[A],Y=n[A],l.hasOwnProperty(A)&&F!==Y&&(F!=null||Y!=null))switch(A){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:st(e,t,A,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in n)F=n[xe],n.hasOwnProperty(xe)&&F!=null&&!l.hasOwnProperty(xe)&&st(e,t,xe,null,l,F);for(P in l)if(F=l[P],Y=n[P],l.hasOwnProperty(P)&&F!==Y&&(F!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,t));break;default:st(e,t,P,F,l,Y)}return;default:if(Ni(t)){for(var rt in n)F=n[rt],n.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&hu(e,t,rt,void 0,l,F);for(J in l)F=l[J],Y=n[J],!l.hasOwnProperty(J)||F===Y||F===void 0&&Y===void 0||hu(e,t,J,F,l,Y);return}}for(var H in n)F=n[H],n.hasOwnProperty(H)&&F!=null&&!l.hasOwnProperty(H)&&st(e,t,H,null,l,F);for(ae in l)F=l[ae],Y=n[ae],!l.hasOwnProperty(ae)||F===Y||F==null&&Y==null||st(e,t,ae,F,l,Y)}var mu=null,gu=null;function No(e){return e.nodeType===9?e:e.ownerDocument}function Dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vu=null;function GS(){var e=window.event;return e&&e.type==="popstate"?e===vu?!1:(vu=e,!0):(vu=null,!1)}var Om=typeof setTimeout=="function"?setTimeout:void 0,XS=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(e){return zm.resolve(null).then(e).catch(KS)}:Om;function KS(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function Rm(e,t){var n=t,l=0,o=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(0<l&&8>l){n=l;var g=e.ownerDocument;if(n&1&&tr(g.documentElement),n&2&&tr(g.body),n&4)for(n=g.head,tr(n),g=n.firstChild;g;){var _=g.nextSibling,A=g.nodeName;g[an]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||n.removeChild(g),g=_}}if(o===0){e.removeChild(u),cr(t);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:l=n.charCodeAt(0)-48;else l=0;n=u}while(n);cr(t)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yu(n),vs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ZS(e,t,n,l){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[an])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function JS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function WS(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Su=null;function km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Lm(e,t,n){switch(t=No(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function tr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vs(e)}var Mn=new Map,Bm=new Set;function Do(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ya=$.d;$.d={f:e_,r:t_,D:n_,C:a_,L:l_,m:s_,X:o_,S:r_,M:i_};function e_(){var e=ya.f(),t=_o();return e||t}function t_(e){var t=Xn(e);t!==null&&t.tag===5&&t.type==="form"?ah(t):ya.r(e)}var ls=typeof document>"u"?null:document;function Um(e,t,n){var l=ls;if(l&&typeof t=="string"&&t){var o=Cn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Bm.has(o)||(Bm.add(o),e={rel:e,crossOrigin:n,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),Xt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function n_(e){ya.D(e),Um("dns-prefetch",e,null)}function a_(e,t){ya.C(e,t),Um("preconnect",e,t)}function l_(e,t,n){ya.L(e,t,n);var l=ls;if(l&&e&&t){var o='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Cn(n.imageSizes)+'"]')):o+='[href="'+Cn(e)+'"]';var u=o;switch(t){case"style":u=ss(e);break;case"script":u=rs(e)}Mn.has(u)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(u,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(nr(u))||t==="script"&&l.querySelector(ar(u))||(t=l.createElement("link"),Xt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function s_(e,t){ya.m(e,t);var n=ls;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(e)+'"]',u=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=rs(e)}if(!Mn.has(u)&&(e=S({rel:"modulepreload",href:e},t),Mn.set(u,e),n.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ar(u)))return}l=n.createElement("link"),Xt(l,"link",e),Nt(l),n.head.appendChild(l)}}}function r_(e,t,n){ya.S(e,t,n);var l=ls;if(l&&e){var o=Ea(l).hoistableStyles,u=ss(e);t=t||"default";var g=o.get(u);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(nr(u)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(u))&&_u(e,n);var A=g=l.createElement("link");Nt(A),Xt(A,"link",e),A._p=new Promise(function(P,J){A.onload=P,A.onerror=J}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Mo(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:_},o.set(u,g)}}}function o_(e,t){ya.X(e,t);var n=ls;if(n&&e){var l=Ea(n).hoistableScripts,o=rs(e),u=l.get(o);u||(u=n.querySelector(ar(o)),u||(e=S({src:e,async:!0},t),(t=Mn.get(o))&&xu(e,t),u=n.createElement("script"),Nt(u),Xt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function i_(e,t){ya.M(e,t);var n=ls;if(n&&e){var l=Ea(n).hoistableScripts,o=rs(e),u=l.get(o);u||(u=n.querySelector(ar(o)),u||(e=S({src:e,async:!0,type:"module"},t),(t=Mn.get(o))&&xu(e,t),u=n.createElement("script"),Nt(u),Xt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function $m(e,t,n,l){var o=(o=Ae.current)?Do(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ss(n.href),n=Ea(o).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ss(n.href);var u=Ea(o).hoistableStyles,g=u.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,g),(u=o.querySelector(nr(e)))&&!u._p&&(g.instance=u,g.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),u||c_(o,e,n,g.state))),t&&l===null)throw Error(i(528,""));return g}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rs(n),n=Ea(o).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ss(e){return'href="'+Cn(e)+'"'}function nr(e){return'link[rel="stylesheet"]['+e+"]"}function Hm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function c_(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Xt(t,"link",n),Nt(t),e.head.appendChild(t))}function rs(e){return'[src="'+Cn(e)+'"]'}function ar(e){return"script[async]"+e}function Vm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(l)return t.instance=l,Nt(l),l;var o=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Nt(l),Xt(l,"style",o),Mo(l,n.precedence,e),t.instance=l;case"stylesheet":o=ss(n.href);var u=e.querySelector(nr(o));if(u)return t.state.loading|=4,t.instance=u,Nt(u),u;l=Hm(n),(o=Mn.get(o))&&_u(l,o),u=(e.ownerDocument||e).createElement("link"),Nt(u);var g=u;return g._p=new Promise(function(_,A){g.onload=_,g.onerror=A}),Xt(u,"link",l),t.state.loading|=4,Mo(u,n.precedence,e),t.instance=u;case"script":return u=rs(n.src),(o=e.querySelector(ar(u)))?(t.instance=o,Nt(o),o):(l=n,(o=Mn.get(u))&&(l=S({},n),xu(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),Nt(o),Xt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Mo(l,n.precedence,e));return t.instance}function Mo(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,u=o,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===t)u=_;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function _u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Oo=null;function qm(e,t,n){if(Oo===null){var l=new Map,o=Oo=new Map;o.set(n,l)}else o=Oo,l=o.get(n),l||(l=new Map,o.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[an]||u[ve]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var g=u.getAttribute(t)||"";g=e+g;var _=l.get(g);_?_.push(u):l.set(g,[u])}}return l}function Im(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function u_(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Pm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var lr=null;function d_(){}function f_(e,t,n){if(lr===null)throw Error(i(475));var l=lr;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=ss(n.href),u=e.querySelector(nr(o));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zo.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=u,Nt(u);return}u=e.ownerDocument||e,n=Hm(n),(o=Mn.get(o))&&_u(n,o),u=u.createElement("link"),Nt(u);var g=u;g._p=new Promise(function(_,A){g.onload=_,g.onerror=A}),Xt(u,"link",n),t.instance=u}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=zo.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function h_(){if(lr===null)throw Error(i(475));var e=lr;return e.stylesheets&&e.count===0&&wu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&wu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function zo(){if(this.count--,this.count===0){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ro=null;function wu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ro=new Map,t.forEach(m_,e),Ro=null,zo.call(e))}function m_(e,t){if(!(t.state.loading&4)){var n=Ro.get(e);if(n)var l=n.get(null);else{n=new Map,Ro.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var g=o[u];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),l=g)}l&&n.set(null,l)}o=t.instance,g=o.getAttribute("data-precedence"),u=n.get(g)||l,u===l&&n.set(null,o),n.set(g,o),this.count++,l=zo.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var sr={$$typeof:j,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function g_(e,t,n,l,o,u,g,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.hiddenUpdates=nl(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Fm(e,t,n,l,o,u,g,_,A,P,J,ae){return e=new g_(e,t,n,g,_,A,P,ae),t=1,u===!0&&(t|=24),u=fn(3,null,null,t),e.current=u,u.stateNode=e,t=lc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},ic(u),e}function Ym(e){return e?(e=Bl,e):Bl}function Gm(e,t,n,l,o,u){o=Ym(o),l.context===null?l.context=o:l.pendingContext=o,l=za(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=Ra(e,l,t),n!==null&&(vn(n,e,t),ks(n,e,t))}function Xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cu(e,t){Xm(e,t),(e=e.alternate)&&Xm(e,t)}function Qm(e){if(e.tag===13){var t=Ll(e,67108864);t!==null&&vn(t,e,67108864),Cu(e,67108864)}}var ko=!0;function p_(e,t,n,l){var o=z.T;z.T=null;var u=$.p;try{$.p=2,Tu(e,t,n,l)}finally{$.p=u,z.T=o}}function v_(e,t,n,l){var o=z.T;z.T=null;var u=$.p;try{$.p=8,Tu(e,t,n,l)}finally{$.p=u,z.T=o}}function Tu(e,t,n,l){if(ko){var o=ju(l);if(o===null)fu(e,t,l,Lo,n),Zm(e,l);else if(b_(o,e,t,n,l))l.stopPropagation();else if(Zm(e,l),t&4&&-1<y_.indexOf(e)){for(;o!==null;){var u=Xn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var g=It(u.pendingLanes);if(g!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var A=1<<31-Ie(g);_.entanglements[1]|=A,g&=~A}ea(u),(We&6)===0&&(bo=qe()+500,Js(0))}}break;case 13:_=Ll(u,2),_!==null&&vn(_,u,2),_o(),Cu(u,2)}if(u=ju(l),u===null&&fu(e,t,l,Lo,n),u===o)break;o=u}o!==null&&l.stopPropagation()}else fu(e,t,l,null,n)}}function ju(e){return e=Mi(e),Eu(e)}var Lo=null;function Eu(e){if(Lo=null,e=Gn(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Lo=e,null}function Km(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case Te:return 2;case Qe:return 8;case Ct:case Tt:return 32;case St:return 268435456;default:return 32}default:return 32}}var Au=!1,Ga=null,Xa=null,Qa=null,rr=new Map,or=new Map,Ka=[],y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":or.delete(t.pointerId)}}function ir(e,t,n,l,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Xn(t),t!==null&&Qm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function b_(e,t,n,l,o){switch(t){case"focusin":return Ga=ir(Ga,e,t,n,l,o),!0;case"dragenter":return Xa=ir(Xa,e,t,n,l,o),!0;case"mouseover":return Qa=ir(Qa,e,t,n,l,o),!0;case"pointerover":var u=o.pointerId;return rr.set(u,ir(rr.get(u)||null,e,t,n,l,o)),!0;case"gotpointercapture":return u=o.pointerId,or.set(u,ir(or.get(u)||null,e,t,n,l,o)),!0}return!1}function Jm(e){var t=Gn(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,ie(e.priority,function(){if(n.tag===13){var l=pn();l=Ut(l);var o=Ll(n,l);o!==null&&vn(o,n,l),Cu(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ju(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Di=l,n.target.dispatchEvent(l),Di=null}else return t=Xn(n),t!==null&&Qm(t),e.blockedOn=n,!1;t.shift()}return!0}function Wm(e,t,n){Bo(e)&&n.delete(t)}function S_(){Au=!1,Ga!==null&&Bo(Ga)&&(Ga=null),Xa!==null&&Bo(Xa)&&(Xa=null),Qa!==null&&Bo(Qa)&&(Qa=null),rr.forEach(Wm),or.forEach(Wm)}function Uo(e,t){e.blockedOn===t&&(e.blockedOn=null,Au||(Au=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,S_)))}var $o=null;function eg(e){$o!==e&&($o=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){$o===e&&($o=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Eu(l||n)===null)continue;break}var u=Xn(n);u!==null&&(e.splice(t,3),t-=3,Ec(u,{pending:!0,data:o,method:n.method,action:l},l,o))}}))}function cr(e){function t(A){return Uo(A,e)}Ga!==null&&Uo(Ga,e),Xa!==null&&Uo(Xa,e),Qa!==null&&Uo(Qa,e),rr.forEach(t),or.forEach(t);for(var n=0;n<Ka.length;n++){var l=Ka[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ka.length&&(n=Ka[0],n.blockedOn===null);)Jm(n),n.blockedOn===null&&Ka.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var o=n[l],u=n[l+1],g=o[be]||null;if(typeof u=="function")g||eg(n);else if(g){var _=null;if(u&&u.hasAttribute("formAction")){if(o=u,g=u[be]||null)_=g.formAction;else if(Eu(o)!==null)continue}else _=g.action;typeof _=="function"?n[l+1]=_:(n.splice(l,3),l-=3),eg(n)}}}function Nu(e){this._internalRoot=e}Ho.prototype.render=Nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=pn();Gm(n,l,e,t,null,null)},Ho.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gm(e.current,2,null,e,null,null),_o(),t[ze]=null}};function Ho(e){this._internalRoot=e}Ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=W();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ka.length&&t!==0&&t<Ka[n].priority;n++);Ka.splice(n,0,e),n===0&&Jm(e)}};var tg=s.version;if(tg!=="19.1.1")throw Error(i(527,tg,"19.1.1"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=v(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var __={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{je=Vo.inject(__),De=Vo}catch{}}return ur.createRoot=function(e,t){if(!d(e))throw Error(i(299));var n=!1,l="",o=vh,u=yh,g=bh,_=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(_=t.unstable_transitionCallbacks)),t=Fm(e,1,!1,null,null,n,l,o,u,g,_,null),e[ze]=t.current,du(e),new Nu(t)},ur.hydrateRoot=function(e,t,n){if(!d(e))throw Error(i(299));var l=!1,o="",u=vh,g=yh,_=bh,A=null,P=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(A=n.unstable_transitionCallbacks),n.formState!==void 0&&(P=n.formState)),t=Fm(e,1,!0,t,n??null,l,o,u,g,_,A,P),t.context=Ym(null),n=t.current,l=pn(),l=Ut(l),o=za(l),o.callback=null,Ra(n,o,l),n=l,t.current.lanes=n,gt(t,n),ea(t),e[ze]=t.current,du(e),new Ho(t)},ur.version="19.1.1",ur}var ig;function C1(){if(ig)return Du.exports;ig=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),Du.exports=w1(),Du.exports}var cp=C1();const up=n1(cp),T1="_button_ve6wq_3",j1="_disabled_ve6wq_26",E1="_sm_ve6wq_33",A1="_md_ve6wq_39",N1="_lg_ve6wq_45",D1="_icon_ve6wq_53",M1="_primary_ve6wq_98",O1="_secondary_ve6wq_112",z1="_destructive_ve6wq_126",R1="_outline_ve6wq_140",k1="_ghost_ve6wq_155",L1="_link_ve6wq_169",qo={button:T1,disabled:j1,sm:E1,md:A1,lg:N1,icon:D1,"icon-md":"_icon-md_ve6wq_54","icon-sm":"_icon-sm_ve6wq_60","icon-lg":"_icon-lg_ve6wq_66",primary:M1,secondary:O1,destructive:z1,outline:R1,ghost:k1,link:L1},de=he.forwardRef((a,s)=>{const{children:r,variant:i="primary",size:d="md",asChild:h=!1,className:f="",disabled:m,type:v="button",...b}=a,S=h?w_:"button",p=[qo.button,qo[i],qo[d],m&&qo.disabled,f].filter(Boolean).join(" ");return c.jsx(S,{ref:s,type:v,className:p,disabled:m,...b,children:r})});de.displayName="Button";const B1="_separator_nyfht_2",U1="_vertical_nyfht_17",cg={separator:B1,vertical:U1},$1=({orientation:a="horizontal",className:s="",decorative:r=!0})=>c.jsx(C_,{className:`${cg.separator} ${cg[a]} ${s??""}`,orientation:a,decorative:r}),H1="_overlay_1z121_2",V1="_overlayShow_1z121_1",q1="_content_1z121_12",I1="_top_1z121_25",P1="_slideDownAndFade_1z121_1",F1="_bottom_1z121_37",Y1="_slideUpAndFade_1z121_1",G1="_left_1z121_49",X1="_slideRightAndFade_1z121_1",Q1="_right_1z121_61",K1="_slideLeftAndFade_1z121_1",Z1="_close_1z121_73",J1="_closeIcon_1z121_102",W1="_header_1z121_107",ex="_footer_1z121_116",tx="_title_1z121_125",nx="_description_1z121_132",xa={overlay:H1,overlayShow:V1,content:q1,top:I1,slideDownAndFade:P1,bottom:F1,slideUpAndFade:Y1,left:G1,slideRightAndFade:X1,right:Q1,slideLeftAndFade:K1,close:Z1,closeIcon:J1,header:W1,footer:ex,title:tx,description:nx},dp={id:"bootstrap",label:"Bootstrap",author:"NellowTCS",description:"Icons from Bootstrap.",version:"1.0.0"},ax={icons:dp},lx=Object.freeze(Object.defineProperty({__proto__:null,default:ax,icons:dp},Symbol.toStringTag,{value:"Module"})),fp={id:"css-gg",label:"CSS.gg",author:"NellowTCS",description:"Icons from CSS.gg.",version:"1.0.0"},sx={icons:fp},rx=Object.freeze(Object.defineProperty({__proto__:null,default:sx,icons:fp},Symbol.toStringTag,{value:"Module"})),hp={id:"lucide",label:"Lucide",author:"NellowTCS",description:"Icons from Lucide.",version:"1.0.0"},ox={icons:hp},ix=Object.freeze(Object.defineProperty({__proto__:null,default:ox,icons:hp},Symbol.toStringTag,{value:"Module"})),mp={id:"material-design",label:"Material Design",author:"NellowTCS",description:"Icons from Material Design.",version:"1.0.0"},cx={icons:mp},ux=Object.freeze(Object.defineProperty({__proto__:null,default:cx,icons:mp},Symbol.toStringTag,{value:"Module"})),gp={id:"phosphor",label:"Phosphor",author:"NellowTCS",description:"Icons from Phosphor.",version:"1.0.0"},dx={icons:gp},fx=Object.freeze(Object.defineProperty({__proto__:null,default:dx,icons:gp},Symbol.toStringTag,{value:"Module"})),pp={id:"remix-icons",label:"Remix Icons",author:"NellowTCS",description:"Icons from Remix Icons.",version:"1.0.0"},hx={icons:pp},mx=Object.freeze(Object.defineProperty({__proto__:null,default:hx,icons:pp},Symbol.toStringTag,{value:"Module"})),vp={id:"simple-line-icons",label:"Simple Line Icons",author:"NellowTCS",description:"Icons from Simple Line Icons.",version:"1.0.0"},gx={icons:vp},px=Object.freeze(Object.defineProperty({__proto__:null,default:gx,icons:vp},Symbol.toStringTag,{value:"Module"})),yp={id:"tabler-icons",label:"Tabler Icons",author:"NellowTCS",description:"Icons from Tabler Icons.",version:"1.0.0"},vx={icons:yp},yx=Object.freeze(Object.defineProperty({__proto__:null,default:vx,icons:yp},Symbol.toStringTag,{value:"Module"})),bp="50 Shades of Blue",Sp="NellowTCS",_p="A joke theme I made (I haven't read that one book btw, just made this as a meme.)",xp="1.0",wp="50Shades.theme.css",bx={name:bp,author:Sp,description:_p,version:xp,cssFile:wp},Sx=Object.freeze(Object.defineProperty({__proto__:null,author:Sp,cssFile:wp,default:bx,description:_p,name:bp,version:xp},Symbol.toStringTag,{value:"Module"})),Cp="Aurora",Tp="NellowTCS",jp="An ethereal theme inspired by the northern lights, featuring dynamic color mixing and gradient magic with cutting-edge CSS features",Ep="1.0",Ap="Aurora.theme.css",_x={name:Cp,author:Tp,description:jp,version:Ep,cssFile:Ap},xx=Object.freeze(Object.defineProperty({__proto__:null,author:Tp,cssFile:Ap,default:_x,description:jp,name:Cp,version:Ep},Symbol.toStringTag,{value:"Module"})),Np="BlackHole",Dp="NellowTCS",Mp="A theme that was meant to look like a black hole with the red glow of the event horizon",Op="1.0",zp="BlackHole.theme.css",wx={name:Np,author:Dp,description:Mp,version:Op,cssFile:zp},Cx=Object.freeze(Object.defineProperty({__proto__:null,author:Dp,cssFile:zp,default:wx,description:Mp,name:Np,version:Op},Symbol.toStringTag,{value:"Module"})),Rp="Blue",kp="NellowTCS",Lp="The default blue theme.",Bp="1.0",Up="Blue.theme.css",$p={id:"lucide",label:"Lucide",description:"Gradient forward icons that pair with the Blue theme.",version:"1.0.0"},Tx={name:Rp,author:kp,description:Lp,version:Bp,cssFile:Up,icons:$p},jx=Object.freeze(Object.defineProperty({__proto__:null,author:kp,cssFile:Up,default:Tx,description:Lp,icons:$p,name:Rp,version:Bp},Symbol.toStringTag,{value:"Module"})),Hp="Cotton Candy",Vp="NellowTCS",qp="A theme with a soft color palette inspired by cotton candy.",Ip="1.0",Pp="CottonCandy.theme.css",Ex={name:Hp,author:Vp,description:qp,version:Ip,cssFile:Pp},Ax=Object.freeze(Object.defineProperty({__proto__:null,author:Vp,cssFile:Pp,default:Ex,description:qp,name:Hp,version:Ip},Symbol.toStringTag,{value:"Module"})),Fp="Cyberpunk",Yp="NellowTCS",Gp="A neon futuristic theme with cyan, magenta, and yellow. Comes with a really cool (dark mode) Settings page.",Xp="1.0",Qp="Cyberpunk.theme.css",Nx={name:Fp,author:Yp,description:Gp,version:Xp,cssFile:Qp},Dx=Object.freeze(Object.defineProperty({__proto__:null,author:Yp,cssFile:Qp,default:Nx,description:Gp,name:Fp,version:Xp},Symbol.toStringTag,{value:"Module"})),Kp="Forest",Zp="NellowTCS",Jp="A natural theme inspired by forests so you can touch grass.",Wp="1.0",ev="Forest.theme.css",Mx={name:Kp,author:Zp,description:Jp,version:Wp,cssFile:ev},Ox=Object.freeze(Object.defineProperty({__proto__:null,author:Zp,cssFile:ev,default:Mx,description:Jp,name:Kp,version:Wp},Symbol.toStringTag,{value:"Module"})),tv="Frosty",nv="NellowTCS",av="Frosty morning, a peaceful light and dark mode experience.",lv="1.0",sv="Frosty.theme.css",zx={name:tv,author:nv,description:av,version:lv,cssFile:sv},Rx=Object.freeze(Object.defineProperty({__proto__:null,author:nv,cssFile:sv,default:zx,description:av,name:tv,version:lv},Symbol.toStringTag,{value:"Module"})),rv="Lumenis",ov="NellowTCS",iv="A orange and purple gradient causes a interesting and cool effect.",cv="1.0",uv="Lumenis.theme.css",kx={name:rv,author:ov,description:iv,version:cv,cssFile:uv},Lx=Object.freeze(Object.defineProperty({__proto__:null,author:ov,cssFile:uv,default:kx,description:iv,name:rv,version:cv},Symbol.toStringTag,{value:"Module"})),dv="Lunar Eclipse",fv="NellowTCS",hv="The twin of the Solar Eclipse theme.",mv="1.0",gv="LunarEclipse.theme.css",Bx={name:dv,author:fv,description:hv,version:mv,cssFile:gv},Ux=Object.freeze(Object.defineProperty({__proto__:null,author:fv,cssFile:gv,default:Bx,description:hv,name:dv,version:mv},Symbol.toStringTag,{value:"Module"})),pv="Mirage",vv="NellowTCS",yv="A theme with warm sunset colors for light mode and violet-orange tones for dark mode.",bv="1.0",Sv="Mirage.theme.css",$x={name:pv,author:vv,description:yv,version:bv,cssFile:Sv},Hx=Object.freeze(Object.defineProperty({__proto__:null,author:vv,cssFile:Sv,default:$x,description:yv,name:pv,version:bv},Symbol.toStringTag,{value:"Module"})),_v="Monochrome",xv="NellowTCS",wv="A minimal modern monochrome theme with (around 10) shades of gray.",Cv="1.0",Tv="Monochrome.theme.css",Vx={name:_v,author:xv,description:wv,version:Cv,cssFile:Tv},qx=Object.freeze(Object.defineProperty({__proto__:null,author:xv,cssFile:Tv,default:Vx,description:wv,name:_v,version:Cv},Symbol.toStringTag,{value:"Module"})),jv="Murder Drones",Ev="NellowTCS",Av="Murder Drones theme!",Nv="1.0",Dv="Drones.theme.css",Ix={name:jv,author:Ev,description:Av,version:Nv,cssFile:Dv},Px=Object.freeze(Object.defineProperty({__proto__:null,author:Ev,cssFile:Dv,default:Ix,description:Av,name:jv,version:Nv},Symbol.toStringTag,{value:"Module"})),Mv="Nebula",Ov="NellowTCS",zv="Starry, starry, nights.",Rv="1.0",kv="Nebula.theme.css",Fx={name:Mv,author:Ov,description:zv,version:Rv,cssFile:kv},Yx=Object.freeze(Object.defineProperty({__proto__:null,author:Ov,cssFile:kv,default:Fx,description:zv,name:Mv,version:Rv},Symbol.toStringTag,{value:"Module"})),Lv="Northern Lights",Bv="NellowTCS",Uv="A theme inspired by the northern lights with greens, blues, purples, and magentas",$v="1.0",Hv="NorthernLights.theme.css",Gx={name:Lv,author:Bv,description:Uv,version:$v,cssFile:Hv},Xx=Object.freeze(Object.defineProperty({__proto__:null,author:Bv,cssFile:Hv,default:Gx,description:Uv,name:Lv,version:$v},Symbol.toStringTag,{value:"Module"})),Vv="Obsidian",qv="NellowTCS",Iv="A dark, minimal theme inspired by the Obsidian app.",Pv="1.0",Fv="Obsidian.theme.css",Qx={name:Vv,author:qv,description:Iv,version:Pv,cssFile:Fv},Kx=Object.freeze(Object.defineProperty({__proto__:null,author:qv,cssFile:Fv,default:Qx,description:Iv,name:Vv,version:Pv},Symbol.toStringTag,{value:"Module"})),Yv="Ocean",Gv="NellowTCS",Xv="Ocean skies in the morning and night.",Qv="1.0",Kv="Ocean.theme.css",Zx={name:Yv,author:Gv,description:Xv,version:Qv,cssFile:Kv},Jx=Object.freeze(Object.defineProperty({__proto__:null,author:Gv,cssFile:Kv,default:Zx,description:Xv,name:Yv,version:Qv},Symbol.toStringTag,{value:"Module"})),Zv="Orange",Jv="NellowTCS",Wv="A orange themed version of the Blue theme.",ey="1.0",ty="Orange.theme.css",Wx={name:Zv,author:Jv,description:Wv,version:ey,cssFile:ty},ew=Object.freeze(Object.defineProperty({__proto__:null,author:Jv,cssFile:ty,default:Wx,description:Wv,name:Zv,version:ey},Symbol.toStringTag,{value:"Module"})),ny="Rainbow",ay="NellowTCS",ly="A theme that cycles through all colors of the rainbow.",sy="1.0",ry="Rainbow.theme.css",tw={name:ny,author:ay,description:ly,version:sy,cssFile:ry},nw=Object.freeze(Object.defineProperty({__proto__:null,author:ay,cssFile:ry,default:tw,description:ly,name:ny,version:sy},Symbol.toStringTag,{value:"Module"})),oy="Red",iy="NellowTCS",cy="A red themed version of the Blue theme.",uy="1.0",dy="Red.theme.css",aw={name:oy,author:iy,description:cy,version:uy,cssFile:dy},lw=Object.freeze(Object.defineProperty({__proto__:null,author:iy,cssFile:dy,default:aw,description:cy,name:oy,version:uy},Symbol.toStringTag,{value:"Module"})),fy="Sakura",hy="NellowTCS",my="A soft and fresh theme inspired by cherry blossoms, blending gentle pinks and greens for a peaceful spring vibe.",gy="1.0",py="Sakura.theme.css",sw={name:fy,author:hy,description:my,version:gy,cssFile:py},rw=Object.freeze(Object.defineProperty({__proto__:null,author:hy,cssFile:py,default:sw,description:my,name:fy,version:gy},Symbol.toStringTag,{value:"Module"})),vy="Solar Eclipse",yy="NellowTCS",by="The twin of the Lunar Eclipse theme.",Sy="1.0",_y="SolarEclipse.theme.css",ow={name:vy,author:yy,description:by,version:Sy,cssFile:_y},iw=Object.freeze(Object.defineProperty({__proto__:null,author:yy,cssFile:_y,default:ow,description:by,name:vy,version:Sy},Symbol.toStringTag,{value:"Module"})),xy="Stellar Glow",wy="NellowTCS",Cy="A theme with indigo and soft lavender tones, creating a peaceful night theme for both light and dark modes.",Ty="1.0",jy="StellarGlow.theme.css",cw={name:xy,author:wy,description:Cy,version:Ty,cssFile:jy},uw=Object.freeze(Object.defineProperty({__proto__:null,author:wy,cssFile:jy,default:cw,description:Cy,name:xy,version:Ty},Symbol.toStringTag,{value:"Module"})),Ey="Sun",Ay="NellowTCS",Ny="The light of the Sun packed into a HTMLPlayer theme.",Dy="1.0",My="Sun.theme.css",dw={name:Ey,author:Ay,description:Ny,version:Dy,cssFile:My},fw=Object.freeze(Object.defineProperty({__proto__:null,author:Ay,cssFile:My,default:dw,description:Ny,name:Ey,version:Dy},Symbol.toStringTag,{value:"Module"})),Oy="Terracotta",zy="NellowTCS",Ry="A simple, ground-like theme which has terracotta and sage tones.",ky="1.0",Ly="Terracotta.theme.css",hw={name:Oy,author:zy,description:Ry,version:ky,cssFile:Ly},mw=Object.freeze(Object.defineProperty({__proto__:null,author:zy,cssFile:Ly,default:hw,description:Ry,name:Oy,version:ky},Symbol.toStringTag,{value:"Module"})),By="Twilight",Uy="NellowTCS",$y="A twilight themed, pink and purple gradient.",Hy="1.0",Vy="Twilight.theme.css",gw={name:By,author:Uy,description:$y,version:Hy,cssFile:Vy},pw=Object.freeze(Object.defineProperty({__proto__:null,author:Uy,cssFile:Vy,default:gw,description:$y,name:By,version:Hy},Symbol.toStringTag,{value:"Module"})),qy="Verdant",Iy="NellowTCS",Py="A subtle nature based theme that is very underrated.",Fy="1.0",Yy="Verdant.theme.css",vw={name:qy,author:Iy,description:Py,version:Fy,cssFile:Yy},yw=Object.freeze(Object.defineProperty({__proto__:null,author:Iy,cssFile:Yy,default:vw,description:Py,name:qy,version:Fy},Symbol.toStringTag,{value:"Module"})),Gy="Win95",Xy="NellowTCS",Qy="A Windows 95inspired theme with a rotating thingy that looks super cool.",Ky="1.0",Zy="Win95.theme.css",bw={name:Gy,author:Xy,description:Qy,version:Ky,cssFile:Zy},Sw=Object.freeze(Object.defineProperty({__proto__:null,author:Xy,cssFile:Zy,default:bw,description:Qy,name:Gy,version:Ky},Symbol.toStringTag,{value:"Module"})),Jy="Yellow",Wy="NellowTCS",eb="A yellow themed version of the Blue theme.",tb="1.0",nb="Yellow.theme.css",_w={name:Jy,author:Wy,description:eb,version:tb,cssFile:nb},xw=Object.freeze(Object.defineProperty({__proto__:null,author:Wy,cssFile:nb,default:_w,description:eb,name:Jy,version:tb},Symbol.toStringTag,{value:"Module"})),ab=Object.assign({"../themes/Icons/Bootstrap/Bootstrap.theme.json":lx,"../themes/Icons/Css.gg/css-gg.theme.json":rx,"../themes/Icons/Lucide/Lucide.theme.json":ix,"../themes/Icons/Material Design/MaterialDesign.theme.json":ux,"../themes/Icons/Phosphor/Phosphor.theme.json":fx,"../themes/Icons/Remix Icon/RemixIcon.theme.json":mx,"../themes/Icons/Simple Line Icons/SimpleLineIcons.theme.json":px,"../themes/Icons/Tabler Icons/TablerIcons.theme.json":yx,"../themes/Themes/50Shades/50Shades.theme.json":Sx,"../themes/Themes/Aurora/Aurora.theme.json":xx,"../themes/Themes/BlackHole/BlackHole.theme.json":Cx,"../themes/Themes/Blue/Blue.theme.json":jx,"../themes/Themes/CottonCandy/CottonCandy.theme.json":Ax,"../themes/Themes/Cyberpunk/Cyberpunk.theme.json":Dx,"../themes/Themes/Forest/Forest.theme.json":Ox,"../themes/Themes/Frosty/Frosty.theme.json":Rx,"../themes/Themes/Lumenis/Lumenis.theme.json":Lx,"../themes/Themes/LunarEclipse/LunarEclipse.theme.json":Ux,"../themes/Themes/Mirage/Mirage.theme.json":Hx,"../themes/Themes/Monochrome/Monochrome.theme.json":qx,"../themes/Themes/MurderDrones/Drones.theme.json":Px,"../themes/Themes/Nebula/Nebula.theme.json":Yx,"../themes/Themes/NorthernLights/NorthernLights.theme.json":Xx,"../themes/Themes/Obsidian/Obsidian.theme.json":Kx,"../themes/Themes/Ocean/Ocean.theme.json":Jx,"../themes/Themes/Orange/Orange.theme.json":ew,"../themes/Themes/Rainbow/Rainbow.theme.json":nw,"../themes/Themes/Red/Red.theme.json":lw,"../themes/Themes/Sakura/Sakura.theme.json":rw,"../themes/Themes/SolarEclipse/SolarEclipse.theme.json":iw,"../themes/Themes/StellarGlow/StellarGlow.theme.json":uw,"../themes/Themes/Sun/Sun.theme.json":fw,"../themes/Themes/Terracotta/Terracotta.theme.json":mw,"../themes/Themes/Twilight/Twilight.theme.json":pw,"../themes/Themes/Verdant/Verdant.theme.json":yw,"../themes/Themes/Win95/Win95.theme.json":Sw,"../themes/Themes/Yellow/Yellow.theme.json":xw}),zu=new Map;async function ww(a){const s=a.replace(/\\/g,"/");if(zu.has(s))return zu.get(s);const r=ab[s];if(!r)return console.warn(`Theme JSON not found at ${s}`),null;try{const i=r.default||r;return zu.set(s,i),i}catch(i){return console.warn(`Failed to parse theme JSON at ${s}`,i),null}}async function Cw(a){const s=a.replace(/\.icons\.(ts|tsx)$/,".theme.json").replace(/\.theme\.(css|scss|sass)$/,".theme.json");return ww(s)}async function Tw(){const a=new Map;for(const[s,r]of Object.entries(ab))try{const i=r.default||r;a.set(s,i)}catch(i){console.warn(`Failed to parse theme JSON at ${s}`,i)}return a}const Io=Object.assign({"../themes/Icons/Bootstrap/Bootstrap.icons.ts":()=>Le(()=>import("./Bootstrap.icons-w-ksyN7U.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),"../themes/Icons/Css.gg/css-gg.icons.ts":()=>Le(()=>import("./css-gg.icons-CIhwm2jF.js"),__vite__mapDeps([4,1,2,3]),import.meta.url),"../themes/Icons/Lucide/Lucide.icons.ts":()=>Le(()=>import("./Lucide.icons-Ca1vwpPK.js"),__vite__mapDeps([5,6,2,3]),import.meta.url),"../themes/Icons/Material Design/MaterialDesign.icons.ts":()=>Le(()=>import("./MaterialDesign.icons-CV6jFePv.js"),__vite__mapDeps([7,1,2,3]),import.meta.url),"../themes/Icons/Phosphor/Phosphor.icons.ts":()=>Le(()=>import("./Phosphor.icons-D76IbvJA.js"),__vite__mapDeps([8,1,2,3]),import.meta.url),"../themes/Icons/Remix Icon/RemixIcon.icons.ts":()=>Le(()=>import("./RemixIcon.icons-B1dcVoYg.js"),__vite__mapDeps([9,1,2,3]),import.meta.url),"../themes/Icons/Simple Line Icons/SimpleLineIcons.icons.ts":()=>Le(()=>import("./SimpleLineIcons.icons-AZLmccKJ.js"),__vite__mapDeps([10,1,2,3]),import.meta.url),"../themes/Icons/Tabler Icons/TablerIcons.icons.ts":()=>Le(()=>import("./TablerIcons.icons-jqyRdODH.js"),__vite__mapDeps([11,1,2,3]),import.meta.url)}),jw={lucide:async()=>Le(()=>import("./vendor-icons-htYG8YcH.js"),__vite__mapDeps([6,2,3]),import.meta.url)},lb=y.createContext(null),Po="selected-icon-set";class sb{constructor(s){this.maxSize=s,this.cache=new Map}get(s){if(!this.cache.has(s))return;const r=this.cache.get(s);return this.cache.delete(s),this.cache.set(s,r),r}set(s,r){if(this.cache.has(s)&&this.cache.delete(s),this.cache.set(s,r),this.cache.size>this.maxSize){const i=this.cache.keys().next();if(!i.done){const d=i.value;this.cache.delete(d)}}}clear(){this.cache.clear()}}const Ew=128,dr=new sb(Ew),ug=new sb(8);function Aw(a,s,r){const i=a.split("/"),h=(i[i.length-1]??"").replace(/\.icons\.(?:ts|tsx)$/,""),f=r?.icons||{},m=r?.name??s?.theme??i[i.length-2]??h,v=f.label??s?.label??s?.id??m??h;return{id:(f.id??s?.id??m??v).toLowerCase(),label:f.label??s?.label??v,themeName:m}}const Nw="__global";async function Dw(a,s){const r=`${s?s.id:Nw}::${a}`,i=ug.get(r);if(i)return i;const d=s?.libraries?.[a]??jw[a];if(!d)return null;try{let h;if(typeof d=="function"){const f=d();h=f instanceof Promise?await f:f}else h=d;return ug.set(r,h),h}catch(h){return console.error(`Failed to load icon library "${a}"`,h),null}}function Mw(a,s){if(!a)return;const r=s.split(".");let i=a;for(const d of r)if(i&&typeof i=="object"&&d in i)i=i[d];else return;return i}async function Ow(a,s,r){const i=await Dw(a,r);if(!i)return console.warn(`Unsupported icon library "${a}"${r?` for set "${r.label}"`:""}`),null;const d=new Set([s]);!s.includes(".")&&!s.endsWith("Icon")&&d.add(`${s}Icon`);const h=s.charAt(0).toUpperCase()+s.slice(1),f=s.charAt(0).toLowerCase()+s.slice(1);d.add(h),d.add(f);const m=[i,i.default,i.icons,i.default?.icons].filter(b=>b&&typeof b=="object");let v;for(const b of m){for(const S of d)if(v=Mw(b,S),v)break;if(v)break}return v&&typeof v=="object"&&typeof v.default=="function"&&(v=v.default),typeof v=="function"||v&&typeof v=="object"&&(v.$$typeof||v.render)?v:(console.warn(`Icon "${s}" not found in library "${a}"`),null)}const ad=({defaultSetId:a,rememberSelection:s=!0,onSetChange:r,children:i})=>{const[d,h]=y.useState([]),[f,m]=y.useState(null),[v,b]=y.useState(null),[S,p]=y.useState(!0),[x,w]=y.useState(!1);y.useEffect(()=>{let U=!1;return(async()=>{try{p(!0),w(!1),b(null);const N=[];for(const[L,O]of Object.entries(Io))try{const T=await Cw(L);let C={};try{C=(await O())?.metadata||{}}catch{}const Q=Aw(L,C,T),K=T?.icons||{},oe={id:Q.id,label:Q.label,themeName:Q.themeName,description:K.description??C?.description,version:K.version??C?.version,theme:Q.themeName,inheritsFrom:K.inheritsFrom??C?.inheritsFrom,author:K.author??C?.author??T?.author,tags:K.tags??C?.tags},z={id:Q.id,label:Q.label,themeName:Q.themeName,metadata:oe,icons:{},path:L,libraries:void 0,libraryConfig:void 0};N.push(z)}catch(T){console.error(`Failed to load icon registry module metadata at ${L}`,T)}if(!U){N.sort((Q,K)=>Q.label.localeCompare(K.label)),h(N);const O=(s&&typeof window<"u"?localStorage.getItem(Po):null)??a,C=(O?N.find(Q=>Q.id===O||Q.themeName===O):null)??N.find(Q=>Q.metadata?.inheritsFrom===void 0)??N[0]??null;if(C){const Q=Io[C.path];Q?Q().then(K=>{const oe={...C,icons:K.default,libraries:K.libraries,libraryConfig:K.libraryConfig};h(z=>z.map($=>$.id===oe.id?oe:$)),m(oe),w(!0),s&&typeof window<"u"&&localStorage.setItem(Po,oe.id)}):(m(C),w(!0),s&&typeof window<"u"&&localStorage.setItem(Po,C.id))}}}catch(N){if(!U){const L=N instanceof Error?N.message:"Unable to load icon registry";b(L),console.error("Icon registry loading error:",N)}}finally{U||p(!1)}})(),()=>{U=!0}},[a,s]);const B=y.useMemo(()=>{const U=new Map;for(const M of d)U.set(M.id,M),U.set(M.themeName.toLowerCase(),M);return U},[d]),E=y.useRef(r);E.current=r;const D=y.useCallback(async U=>{const M=U.toLowerCase();let N=B.get(M)??d.find(L=>L.id===M||L.themeName.toLowerCase()===M);if(!N){console.warn(`Icon set "${U}" not found`);return}if(w(!1),!N.icons||Object.keys(N.icons).length===0)try{const L=Io[N.path];if(L){const O=await L();N={...N,icons:O.default,libraries:O.libraries,libraryConfig:O.libraryConfig},N&&h(T=>T.map(C=>C.id===N.id?N:C))}}catch(L){console.error(`Failed to load icon set "${N.label}"`,L)}m(N),w(!0),typeof window<"u"&&s&&localStorage.setItem(Po,N.id),E.current?.(N)},[B,d,s]),k=y.useCallback((U,M,N)=>{if(!M||N.has(M.id))return;N.add(M.id);const L=M.icons[U];if(L)return{definition:L,set:M};const O=M.metadata?.inheritsFrom;if(O){const T=B.get(O)??B.get(O.toLowerCase());if(T)return k(U,T,N)}},[B]),q=y.useCallback((U,M)=>{if(!U)return;const N=M?.setId?B.get(M.setId)??B.get(M.setId.toLowerCase())??null:f??d[0]??null,L=k(U,N,new Set);if(L)return L;if(M?.fallbackOrder&&M.fallbackOrder.length>0)for(const O of M.fallbackOrder){const T=B.get(O)??B.get(O.toLowerCase()),C=k(U,T??null,new Set);if(C)return C}},[f,B,d,k]),j=y.useCallback((U,M)=>q(U,M)?.definition,[q]),G=y.useCallback(async(U,M)=>{if(!U)return null;if(f&&(!f.icons||Object.keys(f.icons).length===0)){w(!1);try{const K=Io[f.path];if(K){const oe=await K();h(z=>z.map($=>$.id===f.id?{...$,icons:oe.default,libraries:oe.libraries,libraryConfig:oe.libraryConfig}:$))}}catch(K){console.error(`Failed to load icon set "${f.label}"`,K)}w(!0)}const N=q(U,M);if(!N)return null;const L=[N.set.id,U];M?.setId&&L.push(`requested:${M.setId}`),M?.fallbackOrder&&M.fallbackOrder.length>0&&L.push(`fallback:${M.fallbackOrder.join("|")}`);const O=L.join("::"),T=dr.get(O);if(T)return T;const{definition:C,set:Q}=N;switch(C.type){case"library":{const K=await Ow(C.library,C.icon,Q);if(!K)return console.warn(`Icon "${C.icon}" from library "${C.library}" not found.`),null;const oe=Q.libraryConfig?.[C.library];let z;if(oe&&typeof oe=="object"&&"propTransformer"in oe){const X=oe.propTransformer;typeof X=="function"&&(z=X)}const $={type:"component",Component:K,defaultProps:{},propTransformer:z,title:C.title};return dr.set(O,$),$}case"component":{const K={type:"component",Component:C.component,defaultProps:C.props,title:C.title};return dr.set(O,K),K}case"image":{const K={type:"image",src:C.src,alt:C.alt,title:C.title};return dr.set(O,K),K}case"svg-inline":{const K={type:"svg-inline",content:C.content,viewBox:C.viewBox,alt:C.alt,title:C.title};return dr.set(O,K),K}default:return console.warn(`Unsupported icon definition type for icon "${U}"`),null}},[q,f,h]),V=y.useMemo(()=>({iconSets:d,iconSetMap:B,currentSet:f,isLoading:S,iconsReady:x,error:v,setIconSet:D,getIconDefinition:j,loadIcon:G}),[f,v,j,B,d,S,x,G,D]);return y.useEffect(()=>{typeof window<"u"&&(window.iconRegistry={list:()=>d,current:()=>f,set:U=>D(U)})},[d,f,D]),c.jsx(lb.Provider,{value:V,children:i})},ld=()=>{const a=y.useContext(lb);if(!a)throw new Error("useIconRegistry must be used within an IconRegistryProvider");return a},Ru=(a,s)=>typeof a=="function"?a(s):a??null,ne=({name:a,setId:s,fallback:r,fallbackOrder:i,className:d,style:h,size:f=20,color:m,stroke:v,strokeWidth:b,fill:S,inline:p=!1,decorative:x=!1,alt:w,title:B,role:E,onClick:D,onMouseEnter:k,onMouseLeave:q,onFocus:j,onBlur:G})=>{const{loadIcon:V}=ld(),[U,M]=y.useState(null),[N,L]=y.useState(!0),[O,T]=y.useState(null),C=y.useMemo(()=>f===void 0?{}:{width:f,height:f},[f]);y.useEffect(()=>{let K=!1;return(async()=>{if(!a){M(null),L(!1),T("Icon name not provided");return}try{L(!0),T(null);const z=(()=>{const X=!!s,le=!!(i&&i.length>0);if(!X&&!le)return;const Z={};return X&&s&&(Z.setId=s),le&&(Z.fallbackOrder=i),Z})(),$=await V(a,z);if(K)return;M($)}catch(z){if(K)return;const $=z instanceof Error?z.message:"Failed to load icon";T($),M(null)}finally{K||L(!1)}})(),()=>{K=!0}},[a,s,i,V]);const Q=y.useMemo(()=>x?{role:E??"presentation","aria-hidden":"true","aria-label":void 0}:{role:E??"img","aria-hidden":void 0,"aria-label":w??B??a},[w,x,a,E,B]);if(N)return Ru(r,{isLoading:!0,error:null});if(O||!U)return Ru(r,{isLoading:!1,error:O??"Icon not found"});switch(U.type){case"component":{const{Component:K,defaultProps:oe,propTransformer:z}=U,$=z?z({size:f,color:m,stroke:v,strokeWidth:b,fill:S,className:d,style:h}):{},X={className:d,style:{display:"inline-flex",verticalAlign:"middle",...z?{}:C,...h},...Q,...oe,...$};return z||(f!==void 0&&(X.size=f),m!==void 0&&(X.color=m),v!==void 0&&(X.stroke=v),b!==void 0&&(X.strokeWidth=b),S!==void 0&&(X.fill=S)),D&&(X.onClick=D),k&&(X.onMouseEnter=k),q&&(X.onMouseLeave=q),j&&(X.onFocus=j),G&&(X.onBlur=G),c.jsx(K,{...X})}case"image":return c.jsx("img",{className:d,style:{display:p?"inline-block":"block",...C,...h},src:U.src,alt:x?"":w??U.alt??a,title:B??U.title??void 0,onClick:D,onMouseEnter:k,onMouseLeave:q,onFocus:j,onBlur:G,...Q});case"svg-inline":return c.jsx("span",{className:d,style:{display:p?"inline-block":"block",...C,...h},onClick:D,onMouseEnter:k,onMouseLeave:q,onFocus:j,onBlur:G,title:B??U.title??void 0,...Q,dangerouslySetInnerHTML:{__html:U.content}});default:return Ru(r,{isLoading:!1,error:"Unsupported icon type"})}},zw=Jg,Rw=Kg,rb=y.forwardRef(({className:a,...s},r)=>c.jsx(ii,{className:`${xa.overlay} ${a??""}`,...s,ref:r}));rb.displayName=ii.displayName;const ob=y.forwardRef(({side:a="right",className:s,children:r,...i},d)=>c.jsxs(Rw,{children:[c.jsx(rb,{}),c.jsxs(ci,{ref:d,className:`${xa.content} ${xa[a]} ${s??""}`,...i,children:[r,c.jsx(Zg,{className:xa.close,children:c.jsx(ne,{name:"close",className:xa.closeIcon,size:"1rem",decorative:!0})})]})]}));ob.displayName=ci.displayName;const ib=({className:a,...s})=>c.jsx("div",{className:`${xa.header} ${a??""}`,...s});ib.displayName="SheetHeader";const cb=({className:a,...s})=>c.jsx("div",{className:`${xa.footer} ${a??""}`,...s});cb.displayName="SheetFooter";const ub=y.forwardRef(({className:a,...s},r)=>c.jsx(ui,{ref:r,className:`${xa.title} ${a??""}`,...s}));ub.displayName=ui.displayName;const db=y.forwardRef(({className:a,...s},r)=>c.jsx(di,{ref:r,className:`${xa.description} ${a??""}`,...s}));db.displayName=di.displayName;const kw="_root_8ua84_2",Lw="_thumb_8ua84_32",dg={root:kw,thumb:Lw},Vn=y.forwardRef(({className:a,...s},r)=>c.jsx(Wg,{className:`${dg.root} ${a??""}`,...s,ref:r,children:c.jsx(T_,{className:`${dg.thumb} ${a??""}`})}));Vn.displayName=Wg.displayName;const Bw="_slider_56sou_2",Uw="_track_56sou_13",$w="_range_56sou_22",Hw="_thumb_56sou_30",fr={slider:Bw,track:Uw,range:$w,thumb:Hw},gr=y.forwardRef(({className:a,...s},r)=>{const i=Array.isArray(s.defaultValue)&&s.defaultValue.length>1||Array.isArray(s.value)&&s.value.length>1;return c.jsxs(ep,{ref:r,className:`${fr.slider} ${a??""}`,...s,children:[c.jsx(j_,{className:fr.track,children:c.jsx(E_,{className:fr.range})}),c.jsx(ng,{className:fr.thumb}),i&&c.jsx(ng,{className:fr.thumb})]})});gr.displayName=ep.displayName;const Vw="_input_1c2l4_2",qw={input:Vw},el=y.forwardRef(({className:a,...s},r)=>c.jsx("input",{ref:r,className:`${qw.input} ${a||""}`,...s}));el.displayName="Input";const Iw="_selectTrigger_1qrsb_2",Pw="_selectIcon_1qrsb_51",Fw="_selectContent_1qrsb_63",Yw="_selectViewport_1qrsb_88",Gw="_scrollButton_1qrsb_92",Xw="_scrollIcon_1qrsb_104",Qw="_selectLabel_1qrsb_115",Kw="_selectItem_1qrsb_122",Zw="_selectItemIndicator_1qrsb_155",Jw="_checkIcon_1qrsb_163",Ww="_selectSeparator_1qrsb_169",_n={selectTrigger:Iw,selectIcon:Pw,selectContent:Fw,selectViewport:Yw,scrollButton:Gw,scrollIcon:Xw,selectLabel:Qw,selectItem:Kw,selectItemIndicator:Zw,checkIcon:Jw,selectSeparator:Ww},Fo=z_,Yo=R_,pr=y.forwardRef(({children:a,className:s,...r},i)=>c.jsxs(tp,{ref:i,className:`${_n.selectTrigger} ${s||""}`,...r,children:[a,c.jsx(A_,{asChild:!0,children:c.jsx(ne,{name:"chevronDown",className:_n.selectIcon,size:"1rem",decorative:!0})})]}));pr.displayName=tp.displayName;const fb=y.forwardRef(({className:a,...s},r)=>c.jsx(np,{ref:r,className:`${_n.scrollButton} ${a||""}`,...s,children:c.jsx(ne,{name:"chevronUp",className:_n.scrollIcon,size:"1rem",decorative:!0})}));fb.displayName=np.displayName;const hb=y.forwardRef(({className:a,...s},r)=>c.jsx(ap,{ref:r,className:`${_n.scrollButton} ${a||""}`,...s,children:c.jsx(ne,{name:"chevronDown",className:_n.scrollIcon,size:"1rem",decorative:!0})}));hb.displayName=ap.displayName;const vr=y.forwardRef(({children:a,position:s="popper",className:r,...i},d)=>c.jsx(N_,{children:c.jsxs(lp,{ref:d,position:s,className:`${_n.selectContent} ${r||""}`,...i,children:[c.jsx(fb,{}),c.jsx(D_,{className:_n.selectViewport,children:a}),c.jsx(hb,{})]})}));vr.displayName=lp.displayName;const eC=y.forwardRef(({className:a,...s},r)=>c.jsx(sp,{ref:r,className:`${_n.selectLabel} ${a||""}`,...s}));eC.displayName=sp.displayName;const wl=y.forwardRef(({children:a,className:s,...r},i)=>c.jsxs(rp,{ref:i,className:`${_n.selectItem} ${s||""}`,...r,children:[c.jsx(M_,{children:a}),c.jsx(O_,{className:_n.selectItemIndicator,children:c.jsx(ne,{name:"check",className:_n.checkIcon,size:"1rem",decorative:!0})})]}));wl.displayName=rp.displayName;const tC=y.forwardRef(({className:a,...s},r)=>c.jsx(op,{ref:r,className:`${_n.selectSeparator} ${a||""}`,...s}));tC.displayName=op.displayName;const nC="_content_d8cf9_2",aC="_subContent_d8cf9_3",lC="_item_d8cf9_20",sC="_checkboxItem_d8cf9_21",rC="_radioItem_d8cf9_22",oC="_subTrigger_d8cf9_23",iC="_checkboxIndicator_d8cf9_75",cC="_radioIndicator_d8cf9_76",uC="_radioIndicatorCircle_d8cf9_99",dC="_label_d8cf9_106",fC="_separator_d8cf9_113",hC="_subTriggerIcon_d8cf9_126",mC="_inset_d8cf9_133",tn={content:nC,subContent:aC,item:lC,checkboxItem:sC,radioItem:rC,subTrigger:oC,checkboxIndicator:iC,radioIndicator:cC,radioIndicatorCircle:uC,label:dC,separator:fC,subTriggerIcon:hC,inset:mC},qu=(a=!1)=>{const[s,r]=y.useState(!1),i=y.useRef(null),d=y.useCallback(h=>{a&&(h.preventDefault(),h.stopPropagation(),r(!0))},[a]);return y.useEffect(()=>{const h=i.current;if(a&&h)return h.addEventListener("contextmenu",d),()=>{h.removeEventListener("contextmenu",d)}},[a,d]),{open:s,setOpen:r,containerRef:i}},ds=P_,fs=F_,gC=Y_,pC=y.forwardRef(({className:a,inset:s,children:r,...i},d)=>c.jsxs(k_,{ref:d,className:`${tn.subTrigger} ${s?tn.inset:""} ${a||""}`,...i,children:[r,c.jsx(ne,{name:"chevronRight",className:tn.subTriggerIcon,size:"1rem",decorative:!0})]}));pC.displayName="DropdownMenuSubTrigger";const vC=y.forwardRef(({className:a,...s},r)=>c.jsx(L_,{ref:r,className:`${tn.subContent} ${a||""}`,...s}));vC.displayName="DropdownMenuSubContent";const Tl=y.forwardRef(({className:a,sideOffset:s=4,...r},i)=>c.jsx(B_,{children:c.jsx(U_,{ref:i,sideOffset:s,className:`${tn.content} ${a||""}`,...r})}));Tl.displayName="DropdownMenuContent";const yt=y.forwardRef(({className:a,inset:s,...r},i)=>c.jsx($_,{ref:i,className:`${tn.item} ${s?tn.inset:""} ${a||""}`,...r}));yt.displayName="DropdownMenuItem";const yC=y.forwardRef(({className:a,children:s,checked:r,...i},d)=>c.jsxs(H_,{ref:d,className:`${tn.checkboxItem} ${a||""}`,checked:r,...i,children:[c.jsx("span",{className:tn.checkboxIndicator,children:c.jsx(ip,{children:c.jsx(ne,{name:"check",size:"0.875rem",decorative:!0})})}),s]}));yC.displayName="DropdownMenuCheckboxItem";const mb=y.forwardRef(({className:a,children:s,...r},i)=>c.jsxs(V_,{ref:i,className:`${tn.radioItem} ${a||""}`,...r,children:[c.jsx("span",{className:tn.radioIndicator,children:c.jsx(ip,{children:c.jsx("div",{className:tn.radioIndicatorCircle})})}),s]}));mb.displayName="DropdownMenuRadioItem";const bC=y.forwardRef(({className:a,inset:s,...r},i)=>c.jsx(q_,{ref:i,className:`${tn.label} ${s?tn.inset:""} ${a||""}`,...r}));bC.displayName="DropdownMenuLabel";const na=y.forwardRef(({className:a,...s},r)=>c.jsx(I_,{ref:r,className:`${tn.separator} ${a||""}`,...s}));na.displayName="DropdownMenuSeparator";const SC="_miniplayer_22cj1_2",_C="_albumArt_22cj1_15",xC="_controls_22cj1_52",wC="_playBtn_22cj1_94",CC="_songInfo_22cj1_113",TC="_songTitle_22cj1_121",jC="_artist_22cj1_131",_l={miniplayer:SC,albumArt:_C,controls:xC,playBtn:wC,songInfo:CC,songTitle:TC,artist:jC},EC=a=>(s,r,i)=>{const d=i.subscribe;return i.subscribe=((f,m,v)=>{let b=f;if(m){const S=v?.equalityFn||Object.is;let p=f(i.getState());b=x=>{const w=f(x);if(!S(p,w)){const B=p;m(p=w,B)}},v?.fireImmediately&&m(p,p)}return d(b)}),a(s,r,i)},AC=EC;function sd(){const a=navigator.userAgent.toLowerCase(),s=a.includes("safari")&&!a.includes("chrome")&&!a.includes("android"),r=a.includes("applewebkit")&&!a.includes("chrome");return s||r}class NC{constructor(){this.audioElement=null,this.isEnabled=!1,this.isEnabled=sd(),this.isEnabled&&this.initializeAudioElement()}initializeAudioElement(){this.audioElement=document.createElement("audio"),this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.audioElement.volume=0,this.audioElement.muted=!0,this.audioElement.style.position="fixed",this.audioElement.style.opacity="0",this.audioElement.style.pointerEvents="none",this.audioElement.style.width="1px",this.audioElement.style.height="1px",this.audioElement.style.bottom="0",this.audioElement.style.left="0",document.body.appendChild(this.audioElement),console.log("[Safari Audio] Initialized audio element for background playback")}isActive(){return this.isEnabled&&this.audioElement!==null}setSrc(s){if(this.audioElement)try{s&&!s.includes("about:blank")&&!s.startsWith("indexeddb://")?(this.audioElement.src=s,console.log("[Safari Audio] Set source:",s.substring(0,50)+"...")):s.startsWith("indexeddb://")&&console.log("[Safari Audio] Skipping IndexedDB URL - waiting for blob URL")}catch(r){console.error("[Safari Audio] Failed to set src:",r)}}async play(){if(this.audioElement){if(!this.audioElement.src||this.audioElement.src.includes("about:blank")){console.warn("[Safari Audio] Cannot play - no valid source");return}if(this.audioElement.readyState<2){console.log("[Safari Audio] Waiting for source to load...");const s=this.audioElement;await new Promise((r,i)=>{const d=setTimeout(()=>{console.warn("[Safari Audio] Timeout waiting for source to load"),r()},2e3),h=()=>{clearTimeout(d),s.removeEventListener("loadeddata",h),s.removeEventListener("canplay",h),s.removeEventListener("error",f),r()},f=m=>{clearTimeout(d),s.removeEventListener("loadeddata",h),s.removeEventListener("canplay",h),s.removeEventListener("error",f),console.error("[Safari Audio] Error loading source:",m),i(m)};s.addEventListener("loadeddata",h),s.addEventListener("canplay",h),s.addEventListener("error",f)})}try{await this.audioElement.play(),console.log("[Safari Audio] Playing")}catch(s){console.error("[Safari Audio] Failed to play:",s)}}}pause(){if(this.audioElement)try{this.audioElement.pause(),console.log("[Safari Audio] Paused")}catch(s){console.error("[Safari Audio] Failed to pause:",s)}}setVolume(s){if(this.audioElement)try{this.audioElement.volume=Math.max(0,Math.min(1,s))}catch(r){console.error("[Safari Audio] Failed to set volume:",r)}}seek(s){if(this.audioElement)try{this.audioElement.currentTime=s}catch(r){console.error("[Safari Audio] Failed to seek:",r)}}setPlaybackRate(s){if(this.audioElement)try{this.audioElement.playbackRate=s}catch(r){console.error("[Safari Audio] Failed to set playback rate:",r)}}getElement(){return this.audioElement}destroy(){if(this.audioElement)try{this.audioElement.pause(),this.audioElement.src="",this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement),this.audioElement=null,console.log("[Safari Audio] Destroyed")}catch(s){console.error("[Safari Audio] Failed to destroy:",s)}}}const ba=new BroadcastChannel("audio-events"),Sa=new NC,fi=o1()(AC((a,s)=>({isPlaying:!1,currentTime:0,duration:0,volume:.75,currentSong:null,lastEvent:null,setPlaying:(r,i="main")=>{a({isPlaying:r})},setCurrentTime:(r,i="main")=>{a({currentTime:r})},setVolume:(r,i="main")=>{a({volume:r})},setCurrentSong:(r,i="main")=>{a({currentSong:r});const d={type:"songChange",payload:{song:r},timestamp:Date.now(),source:i};a({lastEvent:d}),ba.postMessage(d)},setDuration:(r,i="main")=>{a({duration:r})},play:(r="main")=>{const i={type:"play",timestamp:Date.now(),source:r};a({lastEvent:i}),ba.postMessage(i),Sa.isActive()&&Sa.play()},pause:(r="main")=>{const i={type:"pause",timestamp:Date.now(),source:r};a({lastEvent:i}),ba.postMessage(i),Sa.isActive()&&Sa.pause()},seek:(r,i="main")=>{const d={type:"seek",payload:{time:r},timestamp:Date.now(),source:i};a({lastEvent:d}),ba.postMessage(d),Sa.isActive()&&Sa.seek(r)},next:(r="main")=>{const i={type:"next",timestamp:Date.now(),source:r};a({lastEvent:i}),ba.postMessage(i)},previous:(r="main")=>{const i={type:"previous",timestamp:Date.now(),source:r};a({lastEvent:i}),ba.postMessage(i)},updateTime:(r,i="main")=>{a({currentTime:r});const d=Date.now(),h=s().lastEvent;if(!h||h.type!=="timeUpdate"||d-h.timestamp>500){const f={type:"timeUpdate",payload:{time:r},timestamp:d,source:i};a({lastEvent:f}),ba.postMessage(f)}},changeVolume:(r,i="main")=>{a({volume:r});const d={type:"volume",payload:{volume:r},timestamp:Date.now(),source:i};a({lastEvent:d}),ba.postMessage(d),Sa.isActive()&&Sa.setVolume(r)}})));ba.onmessage=a=>{const s=a.data,r=fi.getState(),d=typeof window<"u"&&window.parent===window?"main":"pip";if(s.source!==d)switch(console.log(`[${d}] Received audio event:`,s.type,"from",s.source),s.type){case"play":r.setPlaying(!0,s.source);break;case"pause":r.setPlaying(!1,s.source);break;case"volume":r.setVolume(s.payload.volume,s.source);break;case"seek":r.setCurrentTime(s.payload.time,s.source);break;case"timeUpdate":r.setCurrentTime(s.payload.time,s.source);break;case"songChange":r.setCurrentSong(s.payload.song,s.source);break}};const os=(a,s)=>{const r=fi(d=>d.lastEvent),i=y.useRef(0);y.useEffect(()=>{r&&r.type===a&&r.timestamp!==i.current&&Date.now()-r.timestamp<1e3&&(i.current=r.timestamp,s(r))},[r,a])},DC=()=>Sa;let is=null;function MC(a){document.querySelectorAll('link[rel="stylesheet"]').forEach(r=>{const i=a.document.createElement("link");i.rel="stylesheet",i.href=r.href,i.type="text/css",a.document.head.appendChild(i)}),document.querySelectorAll("style").forEach(r=>{const i=a.document.createElement("style");i.textContent=r.textContent,Array.from(r.attributes).forEach(d=>{i.setAttribute(d.name,d.value)}),a.document.head.appendChild(i)});let s=0;try{[...document.styleSheets].forEach(r=>{try{const i=[...r.cssRules].map(d=>d.cssText).join("");if(i){const d=a.document.createElement("style");d.textContent=i,a.document.head.appendChild(d),s+=r.cssRules.length}}catch(i){console.warn("Could not access stylesheet:",r.href,i)}})}catch(r){console.warn("Could not copy some stylesheets:",r)}console.log(`Copied ${s} CSS rules to PiP window`)}const OC=()=>"documentPictureInPicture"in window&&!!window.documentPictureInPicture,gb=async a=>{if(!a.playerState.currentSong){console.error("No song is currently playing");return}try{if(is){is.close(),is=null;return}if(!("documentPictureInPicture"in window)||!window.documentPictureInPicture){console.error("Document Picture-in-Picture not supported");return}const s=await window.documentPictureInPicture.requestWindow({width:400,height:70});is=s,console.log("PiP window opened successfully"),document.documentElement.classList.contains("dark")&&s.document.documentElement.classList.add("dark"),MC(s),await new Promise(h=>setTimeout(h,300));const r=bb();if(r&&r.trim()!==`:root {
  
}`){const h=s.document.createElement("style");h.textContent=r,h.setAttribute("data-theme-variables","true"),s.document.head.appendChild(h),console.log("Applied theme CSS variables to PiP window")}else{const h=getComputedStyle(document.documentElement),f=[];if(["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background","--spacing-1","--spacing-2","--spacing-3","--spacing-4","--radius","--radius-lg"].forEach(v=>{const b=h.getPropertyValue(v).trim();b&&f.push(`${v}: ${b};`)}),f.length>0){const v=s.document.createElement("style");v.textContent=`:root {
  ${f.join(`
  `)}
}`,v.setAttribute("data-fallback-theme-variables","true"),s.document.head.appendChild(v),console.log("Applied fallback theme variables")}}s.document.body.style.margin="0",s.document.body.style.padding="0",s.document.body.style.overflow="hidden";const i=cp.createRoot(s.document.body);i.render(c.jsx(zC,{})),s.addEventListener("pagehide",()=>{i.unmount(),d.close(),is=null});const d=new BroadcastChannel("theme-updates");d.onmessage=h=>{if(h.data.type==="theme-css"){console.log("PiP window received theme update"),h.data.darkMode?s.document.documentElement.classList.add("dark"):s.document.documentElement.classList.remove("dark"),s.document.querySelectorAll('style[data-theme-variables], style[data-fallback-theme-variables], style[id^="theme-stylesheet"]').forEach(v=>v.remove());const m=s.document.createElement("style");m.textContent=h.data.css,m.setAttribute("data-theme-variables","true"),h.data.fallback&&m.setAttribute("data-fallback-theme-variables","true"),s.document.head.appendChild(m),s.document.body.offsetHeight}}}catch(s){console.error("PiP failed:",s),is=null}},zC=()=>{const{t:a}=At(),{currentSong:s,isPlaying:r,play:i,pause:d,next:h,previous:f}=fi(),m=()=>{r?d("pip"):i("pip")},v=()=>{f("pip")},b=()=>{h("pip")};return s?c.jsx(ad,{defaultSetId:"lucide",children:c.jsxs("div",{className:_l.miniplayer,children:[s.albumArt&&c.jsx("img",{src:s.albumArt,alt:a("player.albumArt"),className:_l.albumArt}),c.jsxs("div",{className:_l.songInfo,children:[c.jsx("div",{className:_l.songTitle,children:s.title}),c.jsx("div",{className:_l.artist,children:s.artist})]}),c.jsxs("div",{className:_l.controls,children:[c.jsx(de,{id:"prevBtn",title:a("player.previousTrack"),onClick:v,children:c.jsx(ne,{name:"skipBack",size:18,decorative:!0})}),c.jsx(de,{id:"playBtn",className:_l.playBtn,title:r?"Pause":"Play",onClick:m,children:r?c.jsx(ne,{name:"pause",size:20,decorative:!0}):c.jsx(ne,{name:"play",size:20,decorative:!0})}),c.jsx(de,{id:"nextBtn",title:a("player.nextTrack"),onClick:b,children:c.jsx(ne,{name:"skipForward",size:18,decorative:!0})})]})]})}):c.jsx("div",{children:a("player.noSongPlaying")})},Iu=new BroadcastChannel("theme-updates");function Pu(){const a=bb(),s=document.documentElement.classList.contains("dark");if(a&&a.trim()!==`:root {
  
}`)Iu.postMessage({type:"theme-css",css:a,darkMode:s,timestamp:Date.now()});else{const r=getComputedStyle(document.documentElement),i=[];if(["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background","--spacing-1","--spacing-2","--spacing-3","--spacing-4","--radius","--radius-lg"].forEach(h=>{const f=r.getPropertyValue(h).trim();f&&i.push(`${h}: ${f};`)}),i.length>0){const h=`:root {
  ${i.join(`
  `)}
}`;Iu.postMessage({type:"theme-css",css:h,darkMode:s,timestamp:Date.now(),fallback:!0})}}}typeof window<"u"&&(Iu.onmessage=a=>{a.data.type});function rd(){requestAnimationFrame(()=>{const a=getComputedStyle(document.documentElement).getPropertyValue("--themecolor2").trim();let s=document.querySelector('meta[name="theme-color"]');s||(s=document.createElement("meta"),s.name="theme-color",document.head.appendChild(s)),s.content=a,setTimeout(()=>{Pu()},100)})}function pb(){wa&&(wa.onchange=null,wa=null),document.documentElement.classList.add("dark"),rd()}function vb(){wa&&(wa.onchange=null,wa=null),document.documentElement.classList.remove("dark"),rd()}function fg(a){a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),rd()}let wa=null;function yb(){wa&&(wa.onchange=null);const a=window.matchMedia("(prefers-color-scheme: dark)");a.onchange=s=>{fg(s.matches)},wa=a,fg(a.matches)}function bb(){const a=getComputedStyle(document.documentElement),s=[];for(let f=0;f<a.length;f++){const m=a[f];if(m.startsWith("--")){const v=a.getPropertyValue(m).trim();v&&s.push(`${m}: ${v};`)}}const r=["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background"],i=[];r.forEach(f=>{const m=a.getPropertyValue(f).trim();m&&!s.some(v=>v.startsWith(f))&&i.push(`${f}: ${m};`)});const d=[];try{Array.from(document.styleSheets).forEach(f=>{try{Array.from(f.cssRules||[]).forEach(m=>{if(m instanceof CSSStyleRule&&m.selectorText===":root"){const v=m.style;for(let b=0;b<v.length;b++){const S=v[b];if(S.startsWith("--")){const p=v.getPropertyValue(S).trim();p&&!s.some(x=>x.startsWith(S))&&!i.some(x=>x.startsWith(S))&&d.push(`${S}: ${p};`)}}}})}catch{}})}catch(f){console.warn("Could not access stylesheets:",f)}return`:root {
  ${[...s,...i,...d].join(`
  `)}
}`}const RC="_container_1f8ey_1",kC="_themeButton_1f8ey_6",LC="_icon_1f8ey_15",BC="_menuIcon_1f8ey_20",UC="_activeItem_1f8ey_25",$C="_checkmark_1f8ey_35",Wt={container:RC,themeButton:kC,icon:LC,menuIcon:BC,activeItem:UC,checkmark:$C},HC=({className:a,value:s,onChange:r})=>{const{t:i}=At(),d=f=>{switch(f){case"light":vb();break;case"dark":pb();break;case"auto":yb();break}r(f)},h=()=>{switch(s){case"light":return c.jsx(ne,{name:"sun",className:Wt.icon,decorative:!0});case"dark":return c.jsx(ne,{name:"moon",className:Wt.icon,decorative:!0});case"auto":return c.jsx(ne,{name:"sunMoon",className:Wt.icon,decorative:!0});default:return c.jsx(ne,{name:"sun",className:Wt.icon,decorative:!0})}};return c.jsx("div",{className:`${Wt.container} ${a||""}`,children:c.jsxs(ds,{children:[c.jsx(fs,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon-md","aria-label":i("currentThemeAria",{theme:s}),className:Wt.themeButton,children:h()})}),c.jsxs(Tl,{align:"end",children:[c.jsxs(yt,{className:s==="light"?Wt.activeItem:"",onClick:()=>d("light"),children:[c.jsx(ne,{name:"sun",size:16,className:Wt.menuIcon,decorative:!0}),i("themeLight"),s==="light"&&c.jsx("span",{className:Wt.checkmark,children:""})]}),c.jsxs(yt,{className:s==="dark"?Wt.activeItem:"",onClick:()=>d("dark"),children:[c.jsx(ne,{name:"moon",size:16,className:Wt.menuIcon,decorative:!0}),i("themeDark"),s==="dark"&&c.jsx("span",{className:Wt.checkmark,children:""})]}),c.jsxs(yt,{className:s==="auto"?Wt.activeItem:"",onClick:()=>d("auto"),children:[c.jsx(ne,{name:"sunMoon",size:16,className:Wt.menuIcon,decorative:!0}),i("themeAuto"),s==="auto"&&c.jsx("span",{className:Wt.checkmark,children:""})]})]})]})})},VC="HTMLPlayerShortcuts",qC=1,ta="shortcuts",cs={playPause:{id:"playPause",key:" ",action:"playPause",description:"settings.shortcuts.playPause",category:"playback"},nextSong:{id:"nextSong",key:"ArrowRight",action:"nextSong",description:"settings.shortcuts.nextSong",category:"playback"},previousSong:{id:"previousSong",key:"ArrowLeft",action:"previousSong",description:"settings.shortcuts.previousSong",category:"playback"},volumeUp:{id:"volumeUp",key:"ArrowUp",action:"volumeUp",description:"settings.shortcuts.volumeUpAction",category:"audio"},volumeDown:{id:"volumeDown",key:"ArrowDown",action:"volumeDown",description:"settings.shortcuts.volumeDownAction",category:"audio"},mute:{id:"mute",key:"m",action:"mute",description:"settings.shortcuts.mute",category:"audio"},toggleShuffle:{id:"toggleShuffle",key:"s",action:"toggleShuffle",description:"settings.shortcuts.toggleShuffleAction",category:"playback"},toggleRepeat:{id:"toggleRepeat",key:"r",action:"toggleRepeat",description:"settings.shortcuts.toggleRepeatAction",category:"playback"},toggleLyrics:{id:"toggleLyrics",key:"l",action:"toggleLyrics",description:"settings.shortcuts.toggleLyricsAction",category:"interface"},toggleVisualizer:{id:"toggleVisualizer",key:"v",action:"toggleVisualizer",description:"settings.shortcuts.toggleVisualizerAction",category:"interface"},search:{id:"search",key:"f",ctrlKey:!0,action:"search",description:"settings.shortcuts.openSearch",category:"navigation"},openSettings:{id:"openSettings",key:",",ctrlKey:!0,action:"openSettings",description:"settings.shortcuts.openSettingsAction",category:"navigation"}};class IC{constructor(){this.db=null}async initDB(){return new Promise((s,r)=>{const i=indexedDB.open(VC,qC);i.onerror=()=>{r(new Error("Failed to open IndexedDB"))},i.onsuccess=d=>{this.db=d.target.result,s()},i.onupgradeneeded=d=>{const h=d.target.result;if(!h.objectStoreNames.contains(ta)){const f=h.createObjectStore(ta,{keyPath:"id"});f.createIndex("action","action",{unique:!0}),f.createIndex("category","category",{unique:!1})}}})}async ensureDB(){this.db||await this.initDB()}async getAllShortcuts(){return await this.ensureDB(),new Promise((s,r)=>{if(!this.db){r(new Error("Database not initialized"));return}const h=this.db.transaction([ta],"readonly").objectStore(ta).getAll();h.onsuccess=async()=>{const f=h.result;if(f.length===0)try{await this.saveAllShortcuts(cs),s(cs)}catch{s(cs)}else{const m={};f.forEach(v=>{m[v.id]=v}),s(m)}},h.onerror=()=>{r(new Error("Failed to get shortcuts"))}})}async saveShortcut(s){if(await this.ensureDB(),!s.id)throw new Error("Shortcut must have an id property");if(!s.key)throw new Error("Shortcut must have a key property");if(!s.action)throw new Error("Shortcut must have an action property");return new Promise((r,i)=>{if(!this.db){i(new Error("Database not initialized"));return}const f=this.db.transaction([ta],"readwrite").objectStore(ta).put(s);f.onsuccess=()=>{r()},f.onerror=()=>{i(new Error(Ye.t("settings.shortcuts.failedToSaveGeneral")))}})}async saveAllShortcuts(s){return await this.ensureDB(),new Promise((r,i)=>{if(!this.db){i(new Error("Database not initialized"));return}const h=this.db.transaction([ta],"readwrite").objectStore(ta),f=h.clear();f.onsuccess=()=>{const m=[];Object.values(s).forEach(v=>{m.push(new Promise((b,S)=>{const p=h.add(v);p.onsuccess=()=>b(),p.onerror=()=>S(new Error(Ye.t("settings.shortcuts.failedToSave")+` ${v.id}`))}))}),Promise.all(m).then(()=>r()).catch(i)},f.onerror=()=>{i(new Error("Failed to clear existing shortcuts"))}})}async resetToDefaults(){await this.saveAllShortcuts(cs)}async deleteShortcut(s){return await this.ensureDB(),new Promise((r,i)=>{if(!this.db){i(new Error("Database not initialized"));return}const f=this.db.transaction([ta],"readwrite").objectStore(ta).delete(s);f.onsuccess=()=>{r()},f.onerror=()=>{i(new Error("Failed to delete shortcut"))}})}async isShortcutConflict(s,r){const i=await this.getAllShortcuts();return Object.values(i).some(d=>r&&d.id===r?!1:d.key===s.key&&(d.ctrlKey||!1)===(s.ctrlKey||!1)&&(d.altKey||!1)===(s.altKey||!1)&&(d.shiftKey||!1)===(s.shiftKey||!1))}}const Cl=new IC;function hg(a){const s=[];a.ctrlKey&&s.push("Ctrl"),a.altKey&&s.push("Alt"),a.shiftKey&&s.push("Shift");let r=a.key;return r===" "?r="Space":r==="ArrowUp"?r="":r==="ArrowDown"?r="":r==="ArrowLeft"?r="":r==="ArrowRight"?r="":r.length===1&&(r=r.toUpperCase()),s.push(r),s.join(" + ")}function PC(a){return{key:a.key,ctrlKey:a.ctrlKey||void 0,altKey:a.altKey||void 0,shiftKey:a.shiftKey||void 0}}const FC="_container_1711m_1",YC="_sheetContent_1711m_14",GC="_settingsContent_1711m_21",XC="_section_1711m_28",QC="_sectionHeader_1711m_40",KC="_sectionIcon_1711m_50",ZC="_sectionTitle_1711m_57",JC="_settingItem_1711m_65",WC="_settingLabel_1711m_84",eT="_settingInfo_1711m_98",tT="_settingDescription_1711m_111",nT="_settingValue_1711m_118",aT="_slider_1711m_126",lT="_resetButton_1711m_143",sT="_shortcutConfigPanel_1711m_264",rT="_shortcutConfigList_1711m_268",oT="_shortcutConfigItem_1711m_274",iT="_shortcutConfigLabel_1711m_291",cT="_shortcutConfigKey_1711m_298",uT="_shortcutConfigInput_1711m_316",dT="_shortcutConflict_1711m_337",se={container:FC,sheetContent:YC,settingsContent:GC,section:XC,sectionHeader:QC,sectionIcon:KC,sectionTitle:ZC,settingItem:JC,settingLabel:WC,settingInfo:eT,settingDescription:tT,settingValue:nT,slider:aT,resetButton:lT,shortcutConfigPanel:sT,shortcutConfigList:rT,shortcutConfigItem:oT,shortcutConfigLabel:iT,shortcutConfigKey:cT,shortcutConfigInput:uT,shortcutConflict:dT},fT=({onShortcutsChanged:a})=>{const{t:s}=At(),[r,i]=y.useState({}),[d,h]=y.useState({}),[f,m]=y.useState(null),[v,b]=y.useState({}),[S,p]=y.useState(null);y.useEffect(()=>{Cl.getAllShortcuts().then(k=>{i(k),h({...cs,...k})})},[]);const x=k=>{m(k),b(r[k]||{}),p(null)},w=k=>{k.preventDefault(),k.stopPropagation();const q=PC(k.nativeEvent);b({...r[f],...q})},B=()=>!v||!v.key?s("settings.shortcuts.pressKey"):hg(v),E=async()=>{if(!f||!v.key)return;const k=r[f]||d[f];if(!k){p(s("settings.shortcuts.unableToFindConfig"));return}const q={...k,...v,id:f};if(await Cl.isShortcutConflict(q,f)){p(s("settings.shortcuts.conflict"));return}try{await Cl.saveShortcut(q);const G=await Cl.getAllShortcuts();i(G),h({...cs,...G}),m(null),b({}),p(null),a?.()}catch(G){console.error("Failed to save shortcut:",G),p(G instanceof Error?G.message:s("settings.shortcuts.failedToSaveGeneral"))}},D=()=>{m(null),b({}),p(null)};return c.jsxs("div",{className:se.shortcutConfigPanel,children:[c.jsx("h4",{children:s("settings.shortcuts.title")}),c.jsx("div",{className:se.shortcutConfigList,children:Object.keys(d).length>0&&Object.values(d).map(k=>!k||!k.id?null:c.jsxs("div",{className:se.shortcutConfigItem,children:[c.jsx("span",{className:se.shortcutConfigLabel,children:s(k.description)}),f===k.id?c.jsxs(c.Fragment,{children:[c.jsx("input",{autoFocus:!0,readOnly:!0,className:se.shortcutConfigInput,value:B(),onKeyDown:w,placeholder:s("settings.shortcuts.pressNewKey"),style:{width:120}}),c.jsx(de,{size:"sm",onClick:E,title:s("settings.shortcuts.saveShortcut"),children:c.jsx(ne,{name:"save",size:16,decorative:!0})}),c.jsx(de,{size:"sm",onClick:D,title:s("common.cancel"),children:c.jsx(ne,{name:"close",size:16,decorative:!0})}),S&&c.jsx("span",{className:se.shortcutConflict,children:S})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:se.shortcutConfigKey,children:hg(k)}),c.jsx(de,{size:"sm",onClick:()=>x(k.id),title:s("settings.shortcuts.editShortcut"),children:c.jsx(ne,{name:"pencil",size:16,decorative:!0})})]})]},k.id))})]})},hT=""+new URL("MurderDrones-DBj3e7mu.jpg",import.meta.url).href,mT=Object.freeze(Object.defineProperty({__proto__:null,default:hT},Symbol.toStringTag,{value:"Module"})),Sb=y.createContext({themes:[],currentTheme:null,isLoading:!1,error:null,setTheme:async()=>{}});let mg=[];const ku=Object.assign({"../themes/Themes/50Shades/50Shades.theme.css":()=>Le(()=>import("./50Shades.theme-CZFrAgS4.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Aurora/Aurora.theme.css":()=>Le(()=>import("./Aurora.theme-B0-ZgZKa.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/BlackHole/BlackHole.theme.css":()=>Le(()=>import("./BlackHole.theme-CLcFi2E-.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Blue/Blue.theme.css":()=>Le(()=>import("./Blue.theme-BLbX3FDz.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/CottonCandy/CottonCandy.theme.css":()=>Le(()=>import("./CottonCandy.theme-CtW3Qsme.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Cyberpunk/Cyberpunk.theme.css":()=>Le(()=>import("./Cyberpunk.theme-ek3mdeJ-.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Forest/Forest.theme.css":()=>Le(()=>import("./Forest.theme-BsQodKum.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Frosty/Frosty.theme.css":()=>Le(()=>import("./Frosty.theme-FOkKpPNg.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Lumenis/Lumenis.theme.css":()=>Le(()=>import("./Lumenis.theme-KvkxCsbO.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/LunarEclipse/LunarEclipse.theme.css":()=>Le(()=>import("./LunarEclipse.theme-ydxJHfSb.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Mirage/Mirage.theme.css":()=>Le(()=>import("./Mirage.theme-ClgazwCT.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Monochrome/Monochrome.theme.css":()=>Le(()=>import("./Monochrome.theme-CmCC--0u.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/MurderDrones/Drones.theme.css":()=>Le(()=>import("./Drones.theme-DoGhqShd.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Nebula/Nebula.theme.css":()=>Le(()=>import("./Nebula.theme-2f5e1esc.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/NorthernLights/NorthernLights.theme.css":()=>Le(()=>import("./NorthernLights.theme-DxE1tbxx.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Obsidian/Obsidian.theme.css":()=>Le(()=>import("./Obsidian.theme-6hkJgGyO.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Ocean/Ocean.theme.css":()=>Le(()=>import("./Ocean.theme-Cb8QJOC6.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Orange/Orange.theme.css":()=>Le(()=>import("./Orange.theme-Bcainte4.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Rainbow/Rainbow.theme.css":()=>Le(()=>import("./Rainbow.theme-DJB_dP19.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Red/Red.theme.css":()=>Le(()=>import("./Red.theme-BU-WfGS3.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Sakura/Sakura.theme.css":()=>Le(()=>import("./Sakura.theme-CIsTmY2M.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/SolarEclipse/SolarEclipse.theme.css":()=>Le(()=>import("./SolarEclipse.theme-RGmKV3e3.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/StellarGlow/StellarGlow.theme.css":()=>Le(()=>import("./StellarGlow.theme-D_hXsr3I.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Sun/Sun.theme.css":()=>Le(()=>import("./Sun.theme-C6vrqN_B.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Terracotta/Terracotta.theme.css":()=>Le(()=>import("./Terracotta.theme-DX_608l-.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Twilight/Twilight.theme.css":()=>Le(()=>import("./Twilight.theme-BjGCat8L.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Verdant/Verdant.theme.css":()=>Le(()=>import("./Verdant.theme-CQ1TDiy1.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Win95/Win95.theme.css":()=>Le(()=>import("./Win95.theme-BqrvYfBm.js"),[],import.meta.url).then(a=>a.default),"../themes/Themes/Yellow/Yellow.theme.css":()=>Le(()=>import("./Yellow.theme-aTkwG5K4.js"),[],import.meta.url).then(a=>a.default)}),gT=Object.assign({"../themes/Themes/MurderDrones/MurderDrones.jpg":mT}),pT=({defaultTheme:a,children:s,onThemeChange:r})=>{const[i,d]=y.useState([]),[h,f]=y.useState(null),[m,v]=y.useState(!0),[b,S]=y.useState(null),p=(E,D)=>{if(!E||typeof E!="object")return console.warn(`Theme file ${D}: Invalid metadata format`),null;if(E.icons&&!E.cssFile&&!E.name)return null;const k=["name","author","description","version","cssFile"];for(const q of k)if(!E[q]||typeof E[q]!="string")return console.warn(`Theme file ${D}: Missing or invalid field "${q}"`),null;return E};y.useEffect(()=>{(async()=>{try{v(!0),S(null);const D=[],k=await Tw();for(const[G,V]of k.entries()){const U=p(V,G);U&&(Object.keys(ku).some(N=>N.endsWith(U.cssFile))?D.push(U):console.warn(`Theme "${U.name}": CSS file "${U.cssFile}" not found`))}if(D.length===0)throw new Error("No valid themes found");d(D),mg=D;const q=localStorage.getItem("selected-color-theme")||a,j=D.find(G=>G.name===q)||D.find(G=>G.name===a)||D[0];j&&(await x(j),setTimeout(()=>{Pu()},300))}catch(D){const k=D instanceof Error?D.message:"Failed to load themes";S(k),console.error("Theme loading error:",D)}finally{v(!1)}})()},[a]);const x=y.useCallback(async E=>{try{const D=Object.keys(ku).find(N=>N.endsWith(E.cssFile));if(!D)throw new Error(`CSS file not found: ${E.cssFile}`);document.querySelectorAll('style[id^="theme-stylesheet"], link[id^="theme-stylesheet"]').forEach(N=>N.remove());const q=await ku[D]();if(!q||typeof q!="string")throw new Error(`Invalid CSS content for ${D}: ${typeof q}`);let j=q;const G=D.replace(/\/[^\/]+$/,"");j=j.replace(/url\(['"]?([^'"\)]+)['"]?\)/g,(N,L)=>{if(L.startsWith("data:")||L.startsWith("http")||L.startsWith("/"))return N;const O=`${G}/${L}`,T=gT[O];return T?`url('${T.default}')`:(console.warn(`Image not found in imports: ${O}`),N)}),console.log("Theme loaded");const V=document.createElement("style");V.id=`theme-stylesheet-${E.name}`,V.textContent=j,await new Promise(N=>requestAnimationFrame(()=>setTimeout(N,50))),document.head.appendChild(V),await new Promise(N=>{requestAnimationFrame(()=>{document.documentElement.offsetHeight,setTimeout(N,100)})}),f(E),localStorage.setItem("selected-color-theme",E.name),r?.(E),S(null),console.log(`Successfully applied theme: ${E.name}`);const U=getComputedStyle(document.documentElement).getPropertyValue("--themecolor2").trim();let M=document.querySelector('meta[name="theme-color"]');M||(M=document.createElement("meta"),M.name="theme-color",document.head.appendChild(M)),M.content=U,setTimeout(()=>{Pu()},200)}catch(D){const k=D instanceof Error?D.message:"Failed to apply theme";throw S(k),console.error("Theme application error:",D),D}},[r]),w=y.useCallback(async E=>{const D=i.find(k=>k.name===E);if(!D)throw new Error(`Theme "${E}" not found`);await x(D)},[i,x]),B={themes:i,currentTheme:h,isLoading:m,error:b,setTheme:w};return y.useEffect(()=>{typeof window<"u"&&(window.themeLoader={getAllThemes:()=>mg,getCurrentTheme:()=>h,setTheme:w})},[i,h,w]),c.jsx(Sb.Provider,{value:B,children:s})},_b=()=>{const a=y.useContext(Sb);if(!a)throw new Error("useThemeLoader must be used within a ThemeProvider");return a},Xo={en:"English",fr:"Franais"},vT="HTMLPlayerDB",yT=1,ht={LIBRARY:"library",SETTINGS:"settings",AUDIO_DATA:"audioData"},Wa=()=>new Promise((a,s)=>{const r=indexedDB.open(vT,yT);r.onerror=()=>{console.error("Failed to open IndexedDB:",r.error),s(r.error)},r.onsuccess=()=>{a(r.result)},r.onupgradeneeded=i=>{const d=i.target.result,h=i.oldVersion;if(d.objectStoreNames.contains(ht.LIBRARY)||d.createObjectStore(ht.LIBRARY,{keyPath:"id"}),d.objectStoreNames.contains(ht.SETTINGS)||d.createObjectStore(ht.SETTINGS,{keyPath:"id"}),d.objectStoreNames.contains(ht.AUDIO_DATA)||d.createObjectStore(ht.AUDIO_DATA,{keyPath:"songId"}).createIndex("lastAccessed","lastAccessed",{unique:!1}),h<2){const f=i.target.transaction;if(f){const m=f.objectStore(ht.LIBRARY),v=f.objectStore(ht.AUDIO_DATA);m.get("musicLibrary").onsuccess=function(b){const S=b.target.result?.data;S?.songs&&(S.songs.forEach(p=>{p.fileData&&p.mimeType&&(v.add({songId:p.id,fileData:p.fileData,mimeType:p.mimeType,lastAccessed:Date.now()}),delete p.fileData,delete p.mimeType)}),m.put({id:"musicLibrary",data:S}))}}}}}),gg=async(a,s,r)=>{try{s==="musicLibrary"&&r?.songs;const i=await Wa(),d=i.transaction([a],"readwrite"),h=d.objectStore(a);let f=r;s==="musicLibrary"&&r?.songs&&(f={...r,songs:r.songs.map(v=>({...v,hasStoredAudio:v.hasStoredAudio||!1,url:"",albumArt:v.albumArt}))}),await new Promise((v,b)=>{d.oncomplete=()=>v(),d.onerror=()=>b(d.error),h.put({id:s,data:f})}),i.close(),console.log(`Saved ${s} to IndexedDB`)}catch(i){throw console.error(`Failed to save ${s} to IndexedDB:`,i),i}},pg=async(a,s)=>{try{const r=await Wa(),d=r.transaction([a],"readonly").objectStore(a),h=await new Promise((f,m)=>{const v=d.get(s);v.onsuccess=()=>f(v.result?.data),v.onerror=()=>m(v.error)});return r.close(),console.log(`Loaded ${s} from IndexedDB`),s==="musicLibrary"&&h?.songs?(h.songs=h.songs||[],{songs:h.songs.map(m=>{const v=m.hasStoredAudio?`indexeddb://${m.id}`:m.url||"";return{id:m.id||`song-${Date.now()}-${Math.random()}`,title:m.title||Ye.t("common.unknownTitle"),artist:m.artist||Ye.t("common.unknownArtist"),album:m.album||Ye.t("common.unknownAlbum"),duration:m.duration||0,url:v,hasStoredAudio:m.hasStoredAudio||!1,albumArt:m.albumArt}}),playlists:h.playlists||[],favorites:h.favorites||[]}):h}catch(r){return console.error(`Failed to load ${s} from IndexedDB:`,r),null}},en={async loadLibrary(){try{const a=await pg(ht.LIBRARY,"musicLibrary");return console.log("Loaded library state:",{songCount:a?.songs?.length||0,playlistCount:a?.playlists?.length||0,favoriteCount:a?.favorites?.length||0}),a}catch(a){return console.error("Failed to load library:",a),{songs:[],playlists:[],favorites:[]}}},async saveLibrary(a){await gg(ht.LIBRARY,"musicLibrary",a)},async loadSettings(){return await pg(ht.SETTINGS,"playerSettings")},async saveSettings(a){await gg(ht.SETTINGS,"playerSettings",a)},async loadSongAudio(a){try{const s=await Wa(),i=s.transaction([ht.AUDIO_DATA],"readwrite").objectStore(ht.AUDIO_DATA),d=await new Promise((h,f)=>{const m=i.get(a);m.onsuccess=()=>h(m.result),m.onerror=()=>f(m.error)});return d?(i.put({...d,lastAccessed:Date.now()}),{fileData:d.fileData,mimeType:d.mimeType}):(s.close(),null)}catch(s){return console.error(`Failed to load audio data for song ${a}:`,s),null}},async saveSongAudio(a,s){try{const r=await Wa(),i=r.transaction([ht.AUDIO_DATA,ht.LIBRARY],"readwrite"),d=i.objectStore(ht.AUDIO_DATA),h=i.objectStore(ht.LIBRARY);await new Promise((m,v)=>{const b=d.put({songId:a,fileData:s.fileData,mimeType:s.mimeType,lastAccessed:Date.now()});b.onsuccess=()=>m(),b.onerror=()=>v(b.error)});const f=await new Promise((m,v)=>{const b=h.get("musicLibrary");b.onsuccess=()=>m(b.result?.data),b.onerror=()=>v(b.error)});if(f?.songs){const m=f.songs.map(v=>v.id===a?{...v,hasStoredAudio:!0}:v);await new Promise((v,b)=>{const S=h.put({id:"musicLibrary",data:{...f,songs:m}});S.onsuccess=()=>v(),S.onerror=()=>b(S.error)})}r.close()}catch(r){throw console.error(`Failed to save audio data for song ${a}:`,r),r}},async removeSongAudio(a){try{const s=await Wa(),i=s.transaction([ht.AUDIO_DATA],"readwrite").objectStore(ht.AUDIO_DATA);await new Promise((d,h)=>{const f=i.delete(a);f.onsuccess=()=>d(),f.onerror=()=>h(f.error)}),s.close()}catch(s){throw console.error(`Failed to remove audio data for song ${a}:`,s),s}},async shouldShowDialog(a){try{const s=await Wa(),i=s.transaction([ht.SETTINGS],"readonly").objectStore(ht.SETTINGS),d=await new Promise((h,f)=>{const m=i.get(`dialog-${a}`);m.onsuccess=()=>h(m.result),m.onerror=()=>f(m.error)});return s.close(),d?.data?.dontShowAgain!==!0}catch(s){return console.error(`Failed to check dialog preference for ${a}:`,s),!0}},async setDialogPreference(a,s){try{const r=await Wa(),d=r.transaction([ht.SETTINGS],"readwrite").objectStore(ht.SETTINGS);await new Promise((h,f)=>{const m=d.put({id:`dialog-${a}`,data:{dontShowAgain:s,timestamp:Date.now()}});m.onsuccess=()=>h(),m.onerror=()=>f(m.error)}),r.close(),console.log(`Saved dialog preference for ${a}: dontShowAgain=${s}`)}catch(r){throw console.error(`Failed to save dialog preference for ${a}:`,r),r}}};async function bT(){try{const a=await Wa(),r=a.transaction([ht.SETTINGS],"readwrite").objectStore(ht.SETTINGS),i=await new Promise((d,h)=>{const f=r.getAllKeys();f.onsuccess=()=>d(f.result),f.onerror=()=>h(f.error)});await Promise.all(i.filter(d=>d.startsWith("dialog-")).map(d=>new Promise((h,f)=>{const m=r.delete(d);m.onsuccess=()=>h(),m.onerror=()=>f(m.error)}))),a.close()}catch(a){throw console.error("Failed to reset dialog preferences:",a),a}}const ST="_backdrop_eq3i5_2",_T="_modal_eq3i5_14",xT="_dismissButton_eq3i5_34",wT="_dismissIcon_eq3i5_64",CT="_headerSection_eq3i5_69",TT="_footerSection_eq3i5_73",jT="_modalTitle_eq3i5_80",ET="_modalDescription_eq3i5_89",AT="_spaceY4_eq3i5_97",NT="_spaceY2_eq3i5_101",DT="_flex_eq3i5_105",MT="_gap2_eq3i5_109",OT="_visuallyHidden_eq3i5_125",zT="_dontShowAgain_eq3i5_138",RT="_checkboxLabel_eq3i5_144",kT="_checkboxText_eq3i5_154",He={backdrop:ST,modal:_T,dismissButton:xT,dismissIcon:wT,headerSection:CT,footerSection:TT,modalTitle:jT,modalDescription:ET,spaceY4:AT,spaceY2:NT,flex:DT,gap2:MT,"w-full":"_w-full_eq3i5_117","justify-start":"_justify-start_eq3i5_121",visuallyHidden:OT,dontShowAgain:zT,checkboxLabel:RT,checkboxText:kT},LT="_checkboxWrapper_13lc5_2",BT="_checkbox_13lc5_2",UT="_checkmark_13lc5_51",Lu={checkboxWrapper:LT,checkbox:BT,checkmark:UT},od=y.forwardRef(({className:a,...s},r)=>c.jsxs("div",{className:Lu.checkboxWrapper,children:[c.jsx("input",{...s,type:"checkbox",ref:r,className:`${Lu.checkbox} ${a||""}`}),c.jsx(ne,{name:"check",className:Lu.checkmark,size:"1rem",decorative:!0})]}));od.displayName="Checkbox";const Rn=Jg,$T=Kg,xb=y.forwardRef((a,s)=>{const{className:r,...i}=a;return c.jsx(ii,{ref:s,className:[He.backdrop,r].filter(Boolean).join(" "),...i})});xb.displayName=ii.displayName;const yn=y.forwardRef((a,s)=>{const{className:r,children:i,dontShowAgainKey:d,...h}=a,{t:f}=At(),[m,v]=y.useState(!1),b=()=>{v(!1)};return c.jsxs($T,{children:[c.jsx(xb,{}),c.jsxs(ci,{ref:s,className:[He.modal,r].filter(Boolean).join(" "),onOpenAutoFocus:b,...h,children:[i,d&&c.jsx("div",{className:He.dontShowAgain,children:c.jsxs("label",{className:He.checkboxLabel,children:[c.jsx(od,{checked:m,onChange:S=>{const p=S.target.checked;v(p),p&&d&&en.setDialogPreference(d,!0)}}),c.jsx("span",{className:He.checkboxText,children:f("common.dontShowAgain","Don't show again")})]})}),c.jsxs(Zg,{className:He.dismissButton,children:[c.jsx(ne,{name:"close",className:He.dismissIcon,size:"1rem",decorative:!0}),c.jsx("span",{className:He.visuallyHidden,children:f("common.close")})]})]})]})});yn.displayName=ci.displayName;const bn=a=>{const{className:s,...r}=a;return c.jsx("div",{className:[He.headerSection,s].filter(Boolean).join(" "),...r})};bn.displayName="DialogHeader";const qn=a=>{const{className:s,...r}=a;return c.jsx("div",{className:[He.footerSection,s].filter(Boolean).join(" "),...r})};qn.displayName="DialogFooter";const Sn=y.forwardRef((a,s)=>{const{className:r,...i}=a;return c.jsx(ui,{ref:s,className:[He.modalTitle,r].filter(Boolean).join(" "),...i})});Sn.displayName=ui.displayName;const kn=y.forwardRef((a,s)=>{const{className:r,...i}=a;return c.jsx(di,{ref:s,className:[He.modalDescription,r].filter(Boolean).join(" "),...i})});kn.displayName=di.displayName;const HT=({className:a,open:s,onOpenChange:r,settings:i,onSettingsChange:d,onShortcutsChanged:h})=>{const{t:f,i18n:m}=At(),[v,b]=y.useState(!1),[S,p]=y.useState(!1),x=()=>b(!1),w=y.useRef(i.crossfadeBeforeGapless??i.crossfade),{themes:B,currentTheme:E,setTheme:D}=_b(),{iconSets:k,currentSet:q,setIconSet:j}=ld(),G=sd(),V=async()=>{const T="Blue";try{await D(T),d({volume:.75,crossfade:3,crossfadeBeforeGapless:void 0,defaultShuffle:!1,defaultRepeat:"off",autoPlayNext:!0,compactMode:!1,showAlbumArt:!0,showLyrics:!1,sessionRestore:!0,gaplessPlayback:!0,smartShuffle:!0,colorTheme:T,language:"English",tempo:1,pitch:0,discordEnabled:!1,discordUserId:void 0})}catch{ce.error(f("settings.resetError"))}},U=T=>{d({volume:T[0]/100})},M=T=>{if(i.gaplessPlayback)return;const C=T[0];w.current=C,d({crossfade:C,crossfadeBeforeGapless:void 0})};let N=[];Array.isArray(m.options.supportedLngs)&&(N=m.options.supportedLngs.filter(T=>T!=="cimode"));const L=T=>{m.changeLanguage(T),ce.success(f("settings.interface.languageSet",{language:Xo[T]||T}))},O=async()=>{try{if("caches"in window){const T=await caches.keys();await Promise.all(T.map(C=>caches.delete(C)))}m.services.resourceStore&&Object.keys(m.services.resourceStore.data).forEach(T=>{m.services.resourceStore.data[T]={}}),await m.reloadResources(),ce.success(f("settings.cacheClearedSuccess"))}catch(T){console.error("Failed to clear cache:",T),ce.error(f("settings.cacheClearedError"))}};return c.jsx("div",{className:`${se.container} ${a||""}`,children:c.jsx(zw,{open:s,onOpenChange:r,children:c.jsxs(ob,{side:"left",className:se.sheetContent,children:[c.jsxs(ib,{children:[c.jsx(ub,{children:f("settings.title")}),c.jsx(db,{children:f("settings.description")})]}),c.jsxs("div",{className:se.settingsContent,children:[c.jsxs("section",{className:se.section,children:[c.jsxs("div",{className:se.sectionHeader,children:[c.jsx(ne,{name:"volume2",className:se.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:se.sectionTitle,children:f("settings.audio.title")})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingLabel,children:[c.jsx("label",{htmlFor:"tempo-slider",children:f("settings.playback.tempo")}),c.jsxs("span",{className:se.settingValue,children:[Math.round(i.tempo*100),"%"]})]}),c.jsx(gr,{id:"tempo-slider",value:[i.tempo*100],onValueChange:T=>{let C=T[0];Math.abs(C-100)<=3&&(C=100),d({tempo:C/100})},min:50,max:150,step:1,className:se.slider})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingLabel,children:[c.jsx("label",{htmlFor:"pitch-slider",children:f("settings.playback.pitch")}),c.jsx("span",{className:se.settingValue,children:(i.pitch??0)===0?"0":(i.pitch??0)>0?`+${i.pitch??0}`:i.pitch??0})]}),c.jsx(gr,{id:"pitch-slider",value:[i.pitch??0],onValueChange:T=>{let C=T[0];Math.abs(C)<=.5&&(C=0),d({pitch:C})},min:-12,max:12,step:1,className:se.slider})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingLabel,children:[c.jsx("label",{htmlFor:"volume-slider",children:f("player.volume")}),c.jsxs("span",{className:se.settingValue,children:[Math.round(i.volume*100),"%"]})]}),c.jsx(gr,{id:"volume-slider",value:[Math.round(i.volume*100)],onValueChange:U,max:100,step:1,className:se.slider})]}),!G&&c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingLabel,children:[c.jsxs("label",{htmlFor:"crossfade-slider",children:[f("settings.audio.crossfade"),i.gaplessPlayback&&c.jsxs("span",{className:se.settingDescription,children:[" ","(",f("settings.audio.crossfadeDisabled"),")"]})]}),c.jsx("span",{className:se.settingValue,children:i.gaplessPlayback?"0s":`${i.crossfade}s`})]}),c.jsx(gr,{id:"crossfade-slider",value:i.gaplessPlayback?[0]:[i.crossfade],onValueChange:M,max:10,step:1,className:se.slider,disabled:i.gaplessPlayback})]}),!G&&c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"gapless-playback",children:f("settings.playback.gapless")}),c.jsx("p",{className:se.settingDescription,children:f("settings.playback.gaplessDesc")})]}),c.jsx(Vn,{id:"gapless-playback",checked:i.gaplessPlayback,onCheckedChange:T=>{if(T){const C=i.crossfade;w.current=C,d({gaplessPlayback:T,crossfade:0,crossfadeBeforeGapless:C})}else{const C=i.crossfadeBeforeGapless??w.current;d({gaplessPlayback:T,crossfade:C,crossfadeBeforeGapless:void 0})}}})]})]}),c.jsxs("section",{className:se.section,children:[c.jsxs("div",{className:se.sectionHeader,children:[c.jsx(ne,{name:"music",className:se.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:se.sectionTitle,children:f("settings.playback.title")})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"default-shuffle",children:f("settings.playback.shuffle")}),c.jsx("p",{className:se.settingDescription,children:f("settings.playback.shuffleDesc")})]}),c.jsx(Vn,{id:"default-shuffle",checked:i.defaultShuffle,onCheckedChange:T=>d({defaultShuffle:T})})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"smart-shuffle",children:f("settings.playback.smartShuffle")}),c.jsx("p",{className:se.settingDescription,children:f("settings.playback.smartShuffleDesc")})]}),c.jsx(Vn,{id:"smart-shuffle",checked:i.smartShuffle,onCheckedChange:T=>d({smartShuffle:T})})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsx("div",{className:se.settingLabel,children:c.jsx("label",{htmlFor:"default-repeat",children:f("settings.playback.repeat")})}),c.jsxs(Fo,{value:i.defaultRepeat,onValueChange:T=>d({defaultRepeat:T}),children:[c.jsx(pr,{id:"default-repeat",children:c.jsx(Yo,{})}),c.jsxs(vr,{children:[c.jsx(wl,{value:"off",children:f("player.repeatOff")}),c.jsx(wl,{value:"one",children:f("player.repeatTrack")}),c.jsx(wl,{value:"all",children:f("player.repeatAll")})]})]})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"auto-play-next",children:f("settings.playback.autoPlay")}),c.jsx("p",{className:se.settingDescription,children:f("settings.playback.autoPlayDesc")})]}),c.jsx(Vn,{id:"auto-play-next",checked:i.autoPlayNext,onCheckedChange:T=>d({autoPlayNext:T})})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"session-restore",children:f("settings.playback.sessionRestore")}),c.jsx("p",{className:se.settingDescription,children:f("settings.playback.sessionRestoreDesc")})]}),c.jsx(Vn,{id:"session-restore",checked:i.sessionRestore,onCheckedChange:T=>d({sessionRestore:T})})]})]}),c.jsxs("section",{className:se.section,children:[c.jsxs("div",{className:se.sectionHeader,children:[c.jsx(ne,{name:"palette",className:se.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:se.sectionTitle,children:f("settings.interface.title")})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsx("div",{className:se.settingLabel,children:c.jsx("label",{htmlFor:"color-theme",children:f("settings.interface.colorTheme")})}),c.jsxs(Fo,{value:E?.name||i.colorTheme,onValueChange:async T=>{try{await D(T),d({colorTheme:T})}catch{ce.error(f("settings.themeError"))}},children:[c.jsx(pr,{id:"color-theme",children:c.jsx(Yo,{})}),c.jsx(vr,{children:B.map(T=>c.jsx(wl,{value:T.name,children:T.name},T.name))})]})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingLabel,children:[c.jsx("label",{htmlFor:"icon-set",children:f("settings.interface.iconSet")}),c.jsx("p",{className:se.settingDescription,children:f("settings.interface.iconSetDesc")})]}),c.jsxs(Fo,{value:q?.id||"blue",onValueChange:T=>{try{j(T),ce.success(f("settings.interface.iconSetChanged"))}catch{ce.error(f("settings.interface.iconSetError"))}},children:[c.jsx(pr,{id:"icon-set",children:c.jsx(Yo,{})}),c.jsx(vr,{children:k.map(T=>c.jsx(wl,{value:T.id,children:T.label},T.id))})]})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{children:f("settings.interface.themeMode")}),c.jsx("p",{className:se.settingDescription,children:f("settings.interface.themeModeDesc")})]}),c.jsx(HC,{value:i.themeMode,onChange:T=>d({themeMode:T})})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"compact-mode",children:f("settings.interface.compact")}),c.jsx("p",{className:se.settingDescription,children:f("settings.interface.compactDesc")})]}),c.jsx(Vn,{id:"compact-mode",checked:i.compactMode,onCheckedChange:T=>d({compactMode:T})})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"show-album-art",children:f("settings.interface.albumArt")}),c.jsx("p",{className:se.settingDescription,children:f("settings.interface.albumArtDesc")})]}),c.jsx(Vn,{id:"show-album-art",checked:i.showAlbumArt,onCheckedChange:T=>d({showAlbumArt:T})})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"show-lyrics",children:f("settings.interface.lyrics")}),c.jsx("p",{className:se.settingDescription,children:f("settings.interface.lyricsDesc")})]}),c.jsx(Vn,{id:"show-lyrics",checked:i.showLyrics,onCheckedChange:T=>d({showLyrics:T})})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingLabel,children:[c.jsx("label",{htmlFor:"language-selector",children:f("settings.interface.language")}),c.jsx("p",{className:se.settingDescription,children:f("settings.interface.languageDescription")})]}),c.jsxs(Fo,{value:m.language,onValueChange:L,children:[c.jsx(pr,{id:"language-selector",children:c.jsx(Yo,{children:Xo[m.language]||m.language.toUpperCase()})}),c.jsx(vr,{children:N.map(T=>c.jsx(wl,{value:T,children:Xo[T]||T.toUpperCase()},T))})]})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{children:f("settings.interface.clearCache")}),c.jsx("p",{className:se.settingDescription,children:f("settings.interface.clearCacheDesc")})]}),c.jsxs(de,{variant:"outline",onClick:O,size:"sm",children:[c.jsx(ne,{name:"trash2",size:16,decorative:!0}),f("settings.interface.clearCacheButton")]})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{children:f("settings.resetDialogs")}),c.jsx("p",{className:se.settingDescription,children:f("settings.resetDialogsDescription")})]}),c.jsxs(de,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[c.jsx(ne,{name:"rotateCcw",size:16,decorative:!0}),f("settings.resetDialogsButton")]}),c.jsx(Rn,{open:v,onOpenChange:b,children:c.jsxs(yn,{children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:f("settings.resetDialogsTitle")}),c.jsx(kn,{children:f("settings.resetDialogsDescription")})]}),c.jsxs(qn,{children:[c.jsx(de,{variant:"outline",onClick:x,disabled:S,children:f("common.cancel")}),c.jsx(de,{onClick:async()=>{p(!0);try{await bT(),ce.success(f("settings.resetDialogsSuccess")),b(!1)}catch(T){ce.error(T?.message||f("settings.resetError"))}finally{p(!1)}},disabled:S,variant:"destructive",children:f(S?"common.loading":"common.reset")})]})]})})]})]}),c.jsxs("section",{className:se.section,children:[c.jsxs("div",{className:se.sectionHeader,children:[c.jsx(ne,{name:"keyboard",className:se.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:se.sectionTitle,children:f("settings.shortcuts.title")})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingLabel,children:[c.jsx("label",{children:f("settings.shortcuts.enabled")}),c.jsx("p",{className:se.settingDescription,children:f("settings.shortcuts.enabledDesc")})]}),c.jsx(Vn,{id:"shortcuts-enabled",checked:!0,onCheckedChange:()=>{}})]}),c.jsx(fT,{onShortcutsChanged:h})]}),c.jsxs("section",{className:se.section,children:[c.jsxs("div",{className:se.sectionHeader,children:[c.jsx(ne,{name:"messageCircle",className:se.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:se.sectionTitle,children:"Integrations"})]}),c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"discord-enabled",children:"Enable Discord Integration (Broken Beta)"}),c.jsx("p",{className:se.settingDescription,children:"Note: Discord's RPC API requires special approval. Currently logs track info for testing."})]}),c.jsx(Vn,{id:"discord-enabled",checked:i.discordEnabled||!1,onCheckedChange:T=>d({discordEnabled:T})})]}),i.discordEnabled&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{children:f("discord.connection")}),c.jsx("p",{className:se.settingDescription,children:i.discordUserId?f("discord.connected",{userId:i.discordUserId}):f("discord.notConnected")})]}),c.jsx(de,{variant:i.discordUserId?"outline":"primary",onClick:()=>{i.discordUserId?(d({discordUserId:void 0}),ce.success(f("discord.disconnected"))):(window.open("https://discord.com/oauth2/authorize?client_id=1419480226970341476&response_type=code&redirect_uri=https%3A%2F%2Fhtmlplayer-backend.onrender.com%2Foauth%2Fcallback&scope=identify%20rpc.activities.write","_blank"),ce.info(f("discord.completeAuth")))},children:i.discordUserId?f("discord.disconnect"):f("discord.connect")})]}),!i.discordUserId&&c.jsxs("div",{className:se.settingItem,children:[c.jsxs("div",{className:se.settingInfo,children:[c.jsx("label",{htmlFor:"discord-user-id",children:f("discord.manualUserId")}),c.jsx("p",{className:se.settingDescription,children:f("discord.manualUserIdDescription")})]}),c.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[c.jsx(el,{id:"discord-user-id",type:"text",placeholder:f("discord.userId"),onKeyDown:T=>{if(T.key==="Enter"){const C=T.target;C.value.trim()&&(d({discordUserId:C.value.trim()}),ce.success(f("discord.userIdSaved")),C.value="")}}}),c.jsx(de,{size:"sm",onClick:T=>{const C=T.target.previousElementSibling;C&&C.value.trim()&&(d({discordUserId:C.value.trim()}),ce.success(f("discord.userIdSaved")),C.value="")},children:f("common.save")})]})]})]})]})]}),c.jsx(cb,{children:c.jsxs(de,{variant:"outline",onClick:V,className:se.resetButton,children:[c.jsx(ne,{name:"rotateCcw",size:16,decorative:!0}),f("settings.reset")]})})]})})})},hi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gs(a){const s=Object.prototype.toString.call(a);return s==="[object Window]"||s==="[object global]"}function id(a){return"nodeType"in a}function nn(a){var s,r;return a?gs(a)?a:id(a)&&(s=(r=a.ownerDocument)==null?void 0:r.defaultView)!=null?s:window:window}function cd(a){const{Document:s}=nn(a);return a instanceof s}function Er(a){return gs(a)?!1:a instanceof nn(a).HTMLElement}function wb(a){return a instanceof nn(a).SVGElement}function ps(a){return a?gs(a)?a.document:id(a)?cd(a)?a:Er(a)||wb(a)?a.ownerDocument:document:document:document}const Ca=hi?y.useLayoutEffect:y.useEffect;function mi(a){const s=y.useRef(a);return Ca(()=>{s.current=a}),y.useCallback(function(){for(var r=arguments.length,i=new Array(r),d=0;d<r;d++)i[d]=arguments[d];return s.current==null?void 0:s.current(...i)},[])}function VT(){const a=y.useRef(null),s=y.useCallback((i,d)=>{a.current=setInterval(i,d)},[]),r=y.useCallback(()=>{a.current!==null&&(clearInterval(a.current),a.current=null)},[]);return[s,r]}function xr(a,s){s===void 0&&(s=[a]);const r=y.useRef(a);return Ca(()=>{r.current!==a&&(r.current=a)},s),r}function Ar(a,s){const r=y.useRef();return y.useMemo(()=>{const i=a(r.current);return r.current=i,i},[...s])}function Zo(a){const s=mi(a),r=y.useRef(null),i=y.useCallback(d=>{d!==r.current&&s?.(d,r.current),r.current=d},[]);return[r,i]}function Jo(a){const s=y.useRef();return y.useEffect(()=>{s.current=a},[a]),s.current}let Bu={};function gi(a,s){return y.useMemo(()=>{if(s)return s;const r=Bu[a]==null?0:Bu[a]+1;return Bu[a]=r,a+"-"+r},[a,s])}function Cb(a){return function(s){for(var r=arguments.length,i=new Array(r>1?r-1:0),d=1;d<r;d++)i[d-1]=arguments[d];return i.reduce((h,f)=>{const m=Object.entries(f);for(const[v,b]of m){const S=h[v];S!=null&&(h[v]=S+a*b)}return h},{...s})}}const hs=Cb(1),wr=Cb(-1);function qT(a){return"clientX"in a&&"clientY"in a}function ud(a){if(!a)return!1;const{KeyboardEvent:s}=nn(a.target);return s&&a instanceof s}function IT(a){if(!a)return!1;const{TouchEvent:s}=nn(a.target);return s&&a instanceof s}function Wo(a){if(IT(a)){if(a.touches&&a.touches.length){const{clientX:s,clientY:r}=a.touches[0];return{x:s,y:r}}else if(a.changedTouches&&a.changedTouches.length){const{clientX:s,clientY:r}=a.changedTouches[0];return{x:s,y:r}}}return qT(a)?{x:a.clientX,y:a.clientY}:null}const Cr=Object.freeze({Translate:{toString(a){if(!a)return;const{x:s,y:r}=a;return"translate3d("+(s?Math.round(s):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;const{scaleX:s,scaleY:r}=a;return"scaleX("+s+") scaleY("+r+")"}},Transform:{toString(a){if(a)return[Cr.Translate.toString(a),Cr.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:s,duration:r,easing:i}=a;return s+" "+r+"ms "+i}}}),vg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function PT(a){return a.matches(vg)?a:a.querySelector(vg)}const FT={display:"none"};function YT(a){let{id:s,value:r}=a;return he.createElement("div",{id:s,style:FT},r)}function GT(a){let{id:s,announcement:r,ariaLiveType:i="assertive"}=a;const d={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return he.createElement("div",{id:s,style:d,role:"status","aria-live":i,"aria-atomic":!0},r)}function XT(){const[a,s]=y.useState("");return{announce:y.useCallback(i=>{i!=null&&s(i)},[]),announcement:a}}const Tb=y.createContext(null);function QT(a){const s=y.useContext(Tb);y.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(a)},[a,s])}function KT(){const[a]=y.useState(()=>new Set),s=y.useCallback(i=>(a.add(i),()=>a.delete(i)),[a]);return[y.useCallback(i=>{let{type:d,event:h}=i;a.forEach(f=>{var m;return(m=f[d])==null?void 0:m.call(f,h)})},[a]),s]}const ZT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JT={onDragStart(a){let{active:s}=a;return"Picked up draggable item "+s.id+"."},onDragOver(a){let{active:s,over:r}=a;return r?"Draggable item "+s.id+" was moved over droppable area "+r.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(a){let{active:s,over:r}=a;return r?"Draggable item "+s.id+" was dropped over droppable area "+r.id:"Draggable item "+s.id+" was dropped."},onDragCancel(a){let{active:s}=a;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function WT(a){let{announcements:s=JT,container:r,hiddenTextDescribedById:i,screenReaderInstructions:d=ZT}=a;const{announce:h,announcement:f}=XT(),m=gi("DndLiveRegion"),[v,b]=y.useState(!1);if(y.useEffect(()=>{b(!0)},[]),QT(y.useMemo(()=>({onDragStart(p){let{active:x}=p;h(s.onDragStart({active:x}))},onDragMove(p){let{active:x,over:w}=p;s.onDragMove&&h(s.onDragMove({active:x,over:w}))},onDragOver(p){let{active:x,over:w}=p;h(s.onDragOver({active:x,over:w}))},onDragEnd(p){let{active:x,over:w}=p;h(s.onDragEnd({active:x,over:w}))},onDragCancel(p){let{active:x,over:w}=p;h(s.onDragCancel({active:x,over:w}))}}),[h,s])),!v)return null;const S=he.createElement(he.Fragment,null,he.createElement(YT,{id:i,value:d.draggable}),he.createElement(GT,{id:m,announcement:f}));return r?mr.createPortal(S,r):S}var Lt;(function(a){a.DragStart="dragStart",a.DragMove="dragMove",a.DragEnd="dragEnd",a.DragCancel="dragCancel",a.DragOver="dragOver",a.RegisterDroppable="registerDroppable",a.SetDroppableDisabled="setDroppableDisabled",a.UnregisterDroppable="unregisterDroppable"})(Lt||(Lt={}));function ei(){}function yg(a,s){return y.useMemo(()=>({sensor:a,options:s??{}}),[a,s])}function ej(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return y.useMemo(()=>[...s].filter(i=>i!=null),[...s])}const In=Object.freeze({x:0,y:0});function dd(a,s){return Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2))}function tj(a,s){const r=Wo(a);if(!r)return"0 0";const i={x:(r.x-s.left)/s.width*100,y:(r.y-s.top)/s.height*100};return i.x+"% "+i.y+"%"}function fd(a,s){let{data:{value:r}}=a,{data:{value:i}}=s;return r-i}function nj(a,s){let{data:{value:r}}=a,{data:{value:i}}=s;return i-r}function Fu(a){let{left:s,top:r,height:i,width:d}=a;return[{x:s,y:r},{x:s+d,y:r},{x:s,y:r+i},{x:s+d,y:r+i}]}function jb(a,s){if(!a||a.length===0)return null;const[r]=a;return r[s]}function bg(a,s,r){return s===void 0&&(s=a.left),r===void 0&&(r=a.top),{x:s+a.width*.5,y:r+a.height*.5}}const aj=a=>{let{collisionRect:s,droppableRects:r,droppableContainers:i}=a;const d=bg(s,s.left,s.top),h=[];for(const f of i){const{id:m}=f,v=r.get(m);if(v){const b=dd(bg(v),d);h.push({id:m,data:{droppableContainer:f,value:b}})}}return h.sort(fd)},lj=a=>{let{collisionRect:s,droppableRects:r,droppableContainers:i}=a;const d=Fu(s),h=[];for(const f of i){const{id:m}=f,v=r.get(m);if(v){const b=Fu(v),S=d.reduce((x,w,B)=>x+dd(b[B],w),0),p=Number((S/4).toFixed(4));h.push({id:m,data:{droppableContainer:f,value:p}})}}return h.sort(fd)};function sj(a,s){const r=Math.max(s.top,a.top),i=Math.max(s.left,a.left),d=Math.min(s.left+s.width,a.left+a.width),h=Math.min(s.top+s.height,a.top+a.height),f=d-i,m=h-r;if(i<d&&r<h){const v=s.width*s.height,b=a.width*a.height,S=f*m,p=S/(v+b-S);return Number(p.toFixed(4))}return 0}const rj=a=>{let{collisionRect:s,droppableRects:r,droppableContainers:i}=a;const d=[];for(const h of i){const{id:f}=h,m=r.get(f);if(m){const v=sj(m,s);v>0&&d.push({id:f,data:{droppableContainer:h,value:v}})}}return d.sort(nj)};function oj(a,s){const{top:r,left:i,bottom:d,right:h}=s;return r<=a.y&&a.y<=d&&i<=a.x&&a.x<=h}const ij=a=>{let{droppableContainers:s,droppableRects:r,pointerCoordinates:i}=a;if(!i)return[];const d=[];for(const h of s){const{id:f}=h,m=r.get(f);if(m&&oj(i,m)){const b=Fu(m).reduce((p,x)=>p+dd(i,x),0),S=Number((b/4).toFixed(4));d.push({id:f,data:{droppableContainer:h,value:S}})}}return d.sort(fd)};function cj(a,s,r){return{...a,scaleX:s&&r?s.width/r.width:1,scaleY:s&&r?s.height/r.height:1}}function Eb(a,s){return a&&s?{x:a.left-s.left,y:a.top-s.top}:In}function uj(a){return function(r){for(var i=arguments.length,d=new Array(i>1?i-1:0),h=1;h<i;h++)d[h-1]=arguments[h];return d.reduce((f,m)=>({...f,top:f.top+a*m.y,bottom:f.bottom+a*m.y,left:f.left+a*m.x,right:f.right+a*m.x}),{...r})}}const dj=uj(1);function Ab(a){if(a.startsWith("matrix3d(")){const s=a.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}else if(a.startsWith("matrix(")){const s=a.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}function fj(a,s,r){const i=Ab(s);if(!i)return a;const{scaleX:d,scaleY:h,x:f,y:m}=i,v=a.left-f-(1-d)*parseFloat(r),b=a.top-m-(1-h)*parseFloat(r.slice(r.indexOf(" ")+1)),S=d?a.width/d:a.width,p=h?a.height/h:a.height;return{width:S,height:p,top:b,right:v+S,bottom:b+p,left:v}}const hj={ignoreTransform:!1};function Nr(a,s){s===void 0&&(s=hj);let r=a.getBoundingClientRect();if(s.ignoreTransform){const{transform:b,transformOrigin:S}=nn(a).getComputedStyle(a);b&&(r=fj(r,b,S))}const{top:i,left:d,width:h,height:f,bottom:m,right:v}=r;return{top:i,left:d,width:h,height:f,bottom:m,right:v}}function Sg(a){return Nr(a,{ignoreTransform:!0})}function mj(a){const s=a.innerWidth,r=a.innerHeight;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}function gj(a,s){return s===void 0&&(s=nn(a).getComputedStyle(a)),s.position==="fixed"}function pj(a,s){s===void 0&&(s=nn(a).getComputedStyle(a));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(d=>{const h=s[d];return typeof h=="string"?r.test(h):!1})}function pi(a,s){const r=[];function i(d){if(s!=null&&r.length>=s||!d)return r;if(cd(d)&&d.scrollingElement!=null&&!r.includes(d.scrollingElement))return r.push(d.scrollingElement),r;if(!Er(d)||wb(d)||r.includes(d))return r;const h=nn(a).getComputedStyle(d);return d!==a&&pj(d,h)&&r.push(d),gj(d,h)?r:i(d.parentNode)}return a?i(a):r}function Nb(a){const[s]=pi(a,1);return s??null}function Uu(a){return!hi||!a?null:gs(a)?a:id(a)?cd(a)||a===ps(a).scrollingElement?window:Er(a)?a:null:null}function Db(a){return gs(a)?a.scrollX:a.scrollLeft}function Mb(a){return gs(a)?a.scrollY:a.scrollTop}function Yu(a){return{x:Db(a),y:Mb(a)}}var qt;(function(a){a[a.Forward=1]="Forward",a[a.Backward=-1]="Backward"})(qt||(qt={}));function Ob(a){return!hi||!a?!1:a===document.scrollingElement}function zb(a){const s={x:0,y:0},r=Ob(a)?{height:window.innerHeight,width:window.innerWidth}:{height:a.clientHeight,width:a.clientWidth},i={x:a.scrollWidth-r.width,y:a.scrollHeight-r.height},d=a.scrollTop<=s.y,h=a.scrollLeft<=s.x,f=a.scrollTop>=i.y,m=a.scrollLeft>=i.x;return{isTop:d,isLeft:h,isBottom:f,isRight:m,maxScroll:i,minScroll:s}}const vj={x:.2,y:.2};function yj(a,s,r,i,d){let{top:h,left:f,right:m,bottom:v}=r;i===void 0&&(i=10),d===void 0&&(d=vj);const{isTop:b,isBottom:S,isLeft:p,isRight:x}=zb(a),w={x:0,y:0},B={x:0,y:0},E={height:s.height*d.y,width:s.width*d.x};return!b&&h<=s.top+E.height?(w.y=qt.Backward,B.y=i*Math.abs((s.top+E.height-h)/E.height)):!S&&v>=s.bottom-E.height&&(w.y=qt.Forward,B.y=i*Math.abs((s.bottom-E.height-v)/E.height)),!x&&m>=s.right-E.width?(w.x=qt.Forward,B.x=i*Math.abs((s.right-E.width-m)/E.width)):!p&&f<=s.left+E.width&&(w.x=qt.Backward,B.x=i*Math.abs((s.left+E.width-f)/E.width)),{direction:w,speed:B}}function bj(a){if(a===document.scrollingElement){const{innerWidth:h,innerHeight:f}=window;return{top:0,left:0,right:h,bottom:f,width:h,height:f}}const{top:s,left:r,right:i,bottom:d}=a.getBoundingClientRect();return{top:s,left:r,right:i,bottom:d,width:a.clientWidth,height:a.clientHeight}}function Rb(a){return a.reduce((s,r)=>hs(s,Yu(r)),In)}function Sj(a){return a.reduce((s,r)=>s+Db(r),0)}function _j(a){return a.reduce((s,r)=>s+Mb(r),0)}function kb(a,s){if(s===void 0&&(s=Nr),!a)return;const{top:r,left:i,bottom:d,right:h}=s(a);Nb(a)&&(d<=0||h<=0||r>=window.innerHeight||i>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}const xj=[["x",["left","right"],Sj],["y",["top","bottom"],_j]];class hd{constructor(s,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=pi(r),d=Rb(i);this.rect={...s},this.width=s.width,this.height=s.height;for(const[h,f,m]of xj)for(const v of f)Object.defineProperty(this,v,{get:()=>{const b=m(i),S=d[h]-b;return this.rect[v]+S},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class yr{constructor(s){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=s}add(s,r,i){var d;(d=this.target)==null||d.addEventListener(s,r,i),this.listeners.push([s,r,i])}}function wj(a){const{EventTarget:s}=nn(a);return a instanceof s?a:ps(a)}function $u(a,s){const r=Math.abs(a.x),i=Math.abs(a.y);return typeof s=="number"?Math.sqrt(r**2+i**2)>s:"x"in s&&"y"in s?r>s.x&&i>s.y:"x"in s?r>s.x:"y"in s?i>s.y:!1}var zn;(function(a){a.Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange"})(zn||(zn={}));function _g(a){a.preventDefault()}function Cj(a){a.stopPropagation()}var Ve;(function(a){a.Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab"})(Ve||(Ve={}));const Lb={start:[Ve.Space,Ve.Enter],cancel:[Ve.Esc],end:[Ve.Space,Ve.Enter,Ve.Tab]},Tj=(a,s)=>{let{currentCoordinates:r}=s;switch(a.code){case Ve.Right:return{...r,x:r.x+25};case Ve.Left:return{...r,x:r.x-25};case Ve.Down:return{...r,y:r.y+25};case Ve.Up:return{...r,y:r.y-25}}};class md{constructor(s){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=s;const{event:{target:r}}=s;this.props=s,this.listeners=new yr(ps(r)),this.windowListeners=new yr(nn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(zn.Resize,this.handleCancel),this.windowListeners.add(zn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(zn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:s,onStart:r}=this.props,i=s.node.current;i&&kb(i),r(In)}handleKeyDown(s){if(ud(s)){const{active:r,context:i,options:d}=this.props,{keyboardCodes:h=Lb,coordinateGetter:f=Tj,scrollBehavior:m="smooth"}=d,{code:v}=s;if(h.end.includes(v)){this.handleEnd(s);return}if(h.cancel.includes(v)){this.handleCancel(s);return}const{collisionRect:b}=i.current,S=b?{x:b.left,y:b.top}:In;this.referenceCoordinates||(this.referenceCoordinates=S);const p=f(s,{active:r,context:i.current,currentCoordinates:S});if(p){const x=wr(p,S),w={x:0,y:0},{scrollableAncestors:B}=i.current;for(const E of B){const D=s.code,{isTop:k,isRight:q,isLeft:j,isBottom:G,maxScroll:V,minScroll:U}=zb(E),M=bj(E),N={x:Math.min(D===Ve.Right?M.right-M.width/2:M.right,Math.max(D===Ve.Right?M.left:M.left+M.width/2,p.x)),y:Math.min(D===Ve.Down?M.bottom-M.height/2:M.bottom,Math.max(D===Ve.Down?M.top:M.top+M.height/2,p.y))},L=D===Ve.Right&&!q||D===Ve.Left&&!j,O=D===Ve.Down&&!G||D===Ve.Up&&!k;if(L&&N.x!==p.x){const T=E.scrollLeft+x.x,C=D===Ve.Right&&T<=V.x||D===Ve.Left&&T>=U.x;if(C&&!x.y){E.scrollTo({left:T,behavior:m});return}C?w.x=E.scrollLeft-T:w.x=D===Ve.Right?E.scrollLeft-V.x:E.scrollLeft-U.x,w.x&&E.scrollBy({left:-w.x,behavior:m});break}else if(O&&N.y!==p.y){const T=E.scrollTop+x.y,C=D===Ve.Down&&T<=V.y||D===Ve.Up&&T>=U.y;if(C&&!x.x){E.scrollTo({top:T,behavior:m});return}C?w.y=E.scrollTop-T:w.y=D===Ve.Down?E.scrollTop-V.y:E.scrollTop-U.y,w.y&&E.scrollBy({top:-w.y,behavior:m});break}}this.handleMove(s,hs(wr(p,this.referenceCoordinates),w))}}}handleMove(s,r){const{onMove:i}=this.props;s.preventDefault(),i(r)}handleEnd(s){const{onEnd:r}=this.props;s.preventDefault(),this.detach(),r()}handleCancel(s){const{onCancel:r}=this.props;s.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}md.activators=[{eventName:"onKeyDown",handler:(a,s,r)=>{let{keyboardCodes:i=Lb,onActivation:d}=s,{active:h}=r;const{code:f}=a.nativeEvent;if(i.start.includes(f)){const m=h.activatorNode.current;return m&&a.target!==m?!1:(a.preventDefault(),d?.({event:a.nativeEvent}),!0)}return!1}}];function xg(a){return!!(a&&"distance"in a)}function wg(a){return!!(a&&"delay"in a)}class gd{constructor(s,r,i){var d;i===void 0&&(i=wj(s.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=s,this.events=r;const{event:h}=s,{target:f}=h;this.props=s,this.events=r,this.document=ps(f),this.documentListeners=new yr(this.document),this.listeners=new yr(i),this.windowListeners=new yr(nn(f)),this.initialCoordinates=(d=Wo(h))!=null?d:In,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:s,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(s.move.name,this.handleMove,{passive:!1}),this.listeners.add(s.end.name,this.handleEnd),s.cancel&&this.listeners.add(s.cancel.name,this.handleCancel),this.windowListeners.add(zn.Resize,this.handleCancel),this.windowListeners.add(zn.DragStart,_g),this.windowListeners.add(zn.VisibilityChange,this.handleCancel),this.windowListeners.add(zn.ContextMenu,_g),this.documentListeners.add(zn.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(wg(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(xg(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(s,r){const{active:i,onPending:d}=this.props;d(i,s,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:s}=this,{onStart:r}=this.props;s&&(this.activated=!0,this.documentListeners.add(zn.Click,Cj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(zn.SelectionChange,this.removeTextSelection),r(s))}handleMove(s){var r;const{activated:i,initialCoordinates:d,props:h}=this,{onMove:f,options:{activationConstraint:m}}=h;if(!d)return;const v=(r=Wo(s))!=null?r:In,b=wr(d,v);if(!i&&m){if(xg(m)){if(m.tolerance!=null&&$u(b,m.tolerance))return this.handleCancel();if($u(b,m.distance))return this.handleStart()}if(wg(m)&&$u(b,m.tolerance))return this.handleCancel();this.handlePending(m,b);return}s.cancelable&&s.preventDefault(),f(v)}handleEnd(){const{onAbort:s,onEnd:r}=this.props;this.detach(),this.activated||s(this.props.active),r()}handleCancel(){const{onAbort:s,onCancel:r}=this.props;this.detach(),this.activated||s(this.props.active),r()}handleKeydown(s){s.code===Ve.Esc&&this.handleCancel()}removeTextSelection(){var s;(s=this.document.getSelection())==null||s.removeAllRanges()}}const jj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class pd extends gd{constructor(s){const{event:r}=s,i=ps(r.target);super(s,jj,i)}}pd.activators=[{eventName:"onPointerDown",handler:(a,s)=>{let{nativeEvent:r}=a,{onActivation:i}=s;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const Ej={move:{name:"mousemove"},end:{name:"mouseup"}};var Gu;(function(a){a[a.RightClick=2]="RightClick"})(Gu||(Gu={}));class Aj extends gd{constructor(s){super(s,Ej,ps(s.event.target))}}Aj.activators=[{eventName:"onMouseDown",handler:(a,s)=>{let{nativeEvent:r}=a,{onActivation:i}=s;return r.button===Gu.RightClick?!1:(i?.({event:r}),!0)}}];const Hu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Nj extends gd{constructor(s){super(s,Hu)}static setup(){return window.addEventListener(Hu.move.name,s,{capture:!1,passive:!1}),function(){window.removeEventListener(Hu.move.name,s)};function s(){}}}Nj.activators=[{eventName:"onTouchStart",handler:(a,s)=>{let{nativeEvent:r}=a,{onActivation:i}=s;const{touches:d}=r;return d.length>1?!1:(i?.({event:r}),!0)}}];var br;(function(a){a[a.Pointer=0]="Pointer",a[a.DraggableRect=1]="DraggableRect"})(br||(br={}));var ti;(function(a){a[a.TreeOrder=0]="TreeOrder",a[a.ReversedTreeOrder=1]="ReversedTreeOrder"})(ti||(ti={}));function Dj(a){let{acceleration:s,activator:r=br.Pointer,canScroll:i,draggingRect:d,enabled:h,interval:f=5,order:m=ti.TreeOrder,pointerCoordinates:v,scrollableAncestors:b,scrollableAncestorRects:S,delta:p,threshold:x}=a;const w=Oj({delta:p,disabled:!h}),[B,E]=VT(),D=y.useRef({x:0,y:0}),k=y.useRef({x:0,y:0}),q=y.useMemo(()=>{switch(r){case br.Pointer:return v?{top:v.y,bottom:v.y,left:v.x,right:v.x}:null;case br.DraggableRect:return d}},[r,d,v]),j=y.useRef(null),G=y.useCallback(()=>{const U=j.current;if(!U)return;const M=D.current.x*k.current.x,N=D.current.y*k.current.y;U.scrollBy(M,N)},[]),V=y.useMemo(()=>m===ti.TreeOrder?[...b].reverse():b,[m,b]);y.useEffect(()=>{if(!h||!b.length||!q){E();return}for(const U of V){if(i?.(U)===!1)continue;const M=b.indexOf(U),N=S[M];if(!N)continue;const{direction:L,speed:O}=yj(U,N,q,s,x);for(const T of["x","y"])w[T][L[T]]||(O[T]=0,L[T]=0);if(O.x>0||O.y>0){E(),j.current=U,B(G,f),D.current=O,k.current=L;return}}D.current={x:0,y:0},k.current={x:0,y:0},E()},[s,G,i,E,h,f,JSON.stringify(q),JSON.stringify(w),B,b,V,S,JSON.stringify(x)])}const Mj={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function Oj(a){let{delta:s,disabled:r}=a;const i=Jo(s);return Ar(d=>{if(r||!i||!d)return Mj;const h={x:Math.sign(s.x-i.x),y:Math.sign(s.y-i.y)};return{x:{[qt.Backward]:d.x[qt.Backward]||h.x===-1,[qt.Forward]:d.x[qt.Forward]||h.x===1},y:{[qt.Backward]:d.y[qt.Backward]||h.y===-1,[qt.Forward]:d.y[qt.Forward]||h.y===1}}},[r,s,i])}function zj(a,s){const r=s!=null?a.get(s):void 0,i=r?r.node.current:null;return Ar(d=>{var h;return s==null?null:(h=i??d)!=null?h:null},[i,s])}function Rj(a,s){return y.useMemo(()=>a.reduce((r,i)=>{const{sensor:d}=i,h=d.activators.map(f=>({eventName:f.eventName,handler:s(f.handler,i)}));return[...r,...h]},[]),[a,s])}var Tr;(function(a){a[a.Always=0]="Always",a[a.BeforeDragging=1]="BeforeDragging",a[a.WhileDragging=2]="WhileDragging"})(Tr||(Tr={}));var Xu;(function(a){a.Optimized="optimized"})(Xu||(Xu={}));const Cg=new Map;function kj(a,s){let{dragging:r,dependencies:i,config:d}=s;const[h,f]=y.useState(null),{frequency:m,measure:v,strategy:b}=d,S=y.useRef(a),p=D(),x=xr(p),w=y.useCallback(function(k){k===void 0&&(k=[]),!x.current&&f(q=>q===null?k:q.concat(k.filter(j=>!q.includes(j))))},[x]),B=y.useRef(null),E=Ar(k=>{if(p&&!r)return Cg;if(!k||k===Cg||S.current!==a||h!=null){const q=new Map;for(let j of a){if(!j)continue;if(h&&h.length>0&&!h.includes(j.id)&&j.rect.current){q.set(j.id,j.rect.current);continue}const G=j.node.current,V=G?new hd(v(G),G):null;j.rect.current=V,V&&q.set(j.id,V)}return q}return k},[a,h,r,p,v]);return y.useEffect(()=>{S.current=a},[a]),y.useEffect(()=>{p||w()},[r,p]),y.useEffect(()=>{h&&h.length>0&&f(null)},[JSON.stringify(h)]),y.useEffect(()=>{p||typeof m!="number"||B.current!==null||(B.current=setTimeout(()=>{w(),B.current=null},m))},[m,p,w,...i]),{droppableRects:E,measureDroppableContainers:w,measuringScheduled:h!=null};function D(){switch(b){case Tr.Always:return!1;case Tr.BeforeDragging:return r;default:return!r}}}function vd(a,s){return Ar(r=>a?r||(typeof s=="function"?s(a):a):null,[s,a])}function Lj(a,s){return vd(a,s)}function Bj(a){let{callback:s,disabled:r}=a;const i=mi(s),d=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:h}=window;return new h(i)},[i,r]);return y.useEffect(()=>()=>d?.disconnect(),[d]),d}function vi(a){let{callback:s,disabled:r}=a;const i=mi(s),d=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:h}=window;return new h(i)},[r]);return y.useEffect(()=>()=>d?.disconnect(),[d]),d}function Uj(a){return new hd(Nr(a),a)}function Tg(a,s,r){s===void 0&&(s=Uj);const[i,d]=y.useState(null);function h(){d(v=>{if(!a)return null;if(a.isConnected===!1){var b;return(b=v??r)!=null?b:null}const S=s(a);return JSON.stringify(v)===JSON.stringify(S)?v:S})}const f=Bj({callback(v){if(a)for(const b of v){const{type:S,target:p}=b;if(S==="childList"&&p instanceof HTMLElement&&p.contains(a)){h();break}}}}),m=vi({callback:h});return Ca(()=>{h(),a?(m?.observe(a),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[a]),i}function $j(a){const s=vd(a);return Eb(a,s)}const jg=[];function Hj(a){const s=y.useRef(a),r=Ar(i=>a?i&&i!==jg&&a&&s.current&&a.parentNode===s.current.parentNode?i:pi(a):jg,[a]);return y.useEffect(()=>{s.current=a},[a]),r}function Vj(a){const[s,r]=y.useState(null),i=y.useRef(a),d=y.useCallback(h=>{const f=Uu(h.target);f&&r(m=>m?(m.set(f,Yu(f)),new Map(m)):null)},[]);return y.useEffect(()=>{const h=i.current;if(a!==h){f(h);const m=a.map(v=>{const b=Uu(v);return b?(b.addEventListener("scroll",d,{passive:!0}),[b,Yu(b)]):null}).filter(v=>v!=null);r(m.length?new Map(m):null),i.current=a}return()=>{f(a),f(h)};function f(m){m.forEach(v=>{const b=Uu(v);b?.removeEventListener("scroll",d)})}},[d,a]),y.useMemo(()=>a.length?s?Array.from(s.values()).reduce((h,f)=>hs(h,f),In):Rb(a):In,[a,s])}function Eg(a,s){s===void 0&&(s=[]);const r=y.useRef(null);return y.useEffect(()=>{r.current=null},s),y.useEffect(()=>{const i=a!==In;i&&!r.current&&(r.current=a),!i&&r.current&&(r.current=null)},[a]),r.current?wr(a,r.current):In}function qj(a){y.useEffect(()=>{if(!hi)return;const s=a.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of s)r?.()}},a.map(s=>{let{sensor:r}=s;return r}))}function Ij(a,s){return y.useMemo(()=>a.reduce((r,i)=>{let{eventName:d,handler:h}=i;return r[d]=f=>{h(f,s)},r},{}),[a,s])}function Bb(a){return y.useMemo(()=>a?mj(a):null,[a])}const Ag=[];function Pj(a,s){s===void 0&&(s=Nr);const[r]=a,i=Bb(r?nn(r):null),[d,h]=y.useState(Ag);function f(){h(()=>a.length?a.map(v=>Ob(v)?i:new hd(s(v),v)):Ag)}const m=vi({callback:f});return Ca(()=>{m?.disconnect(),f(),a.forEach(v=>m?.observe(v))},[a]),d}function Ub(a){if(!a)return null;if(a.children.length>1)return a;const s=a.children[0];return Er(s)?s:a}function Fj(a){let{measure:s}=a;const[r,i]=y.useState(null),d=y.useCallback(b=>{for(const{target:S}of b)if(Er(S)){i(p=>{const x=s(S);return p?{...p,width:x.width,height:x.height}:x});break}},[s]),h=vi({callback:d}),f=y.useCallback(b=>{const S=Ub(b);h?.disconnect(),S&&h?.observe(S),i(S?s(S):null)},[s,h]),[m,v]=Zo(f);return y.useMemo(()=>({nodeRef:m,rect:r,setRef:v}),[r,m,v])}const Yj=[{sensor:pd,options:{}},{sensor:md,options:{}}],Gj={current:{}},Qo={draggable:{measure:Sg},droppable:{measure:Sg,strategy:Tr.WhileDragging,frequency:Xu.Optimized},dragOverlay:{measure:Nr}};class Sr extends Map{get(s){var r;return s!=null&&(r=super.get(s))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(s=>{let{disabled:r}=s;return!r})}getNodeFor(s){var r,i;return(r=(i=this.get(s))==null?void 0:i.node.current)!=null?r:void 0}}const Xj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Sr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ei},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qo,measureDroppableContainers:ei,windowRect:null,measuringScheduled:!1},$b={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ei,draggableNodes:new Map,over:null,measureDroppableContainers:ei},Dr=y.createContext($b),Hb=y.createContext(Xj);function Qj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Sr}}}function Kj(a,s){switch(s.type){case Lt.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case Lt.DragMove:return a.draggable.active==null?a:{...a,draggable:{...a.draggable,translate:{x:s.coordinates.x-a.draggable.initialCoordinates.x,y:s.coordinates.y-a.draggable.initialCoordinates.y}}};case Lt.DragEnd:case Lt.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Lt.RegisterDroppable:{const{element:r}=s,{id:i}=r,d=new Sr(a.droppable.containers);return d.set(i,r),{...a,droppable:{...a.droppable,containers:d}}}case Lt.SetDroppableDisabled:{const{id:r,key:i,disabled:d}=s,h=a.droppable.containers.get(r);if(!h||i!==h.key)return a;const f=new Sr(a.droppable.containers);return f.set(r,{...h,disabled:d}),{...a,droppable:{...a.droppable,containers:f}}}case Lt.UnregisterDroppable:{const{id:r,key:i}=s,d=a.droppable.containers.get(r);if(!d||i!==d.key)return a;const h=new Sr(a.droppable.containers);return h.delete(r),{...a,droppable:{...a.droppable,containers:h}}}default:return a}}function Zj(a){let{disabled:s}=a;const{active:r,activatorEvent:i,draggableNodes:d}=y.useContext(Dr),h=Jo(i),f=Jo(r?.id);return y.useEffect(()=>{if(!s&&!i&&h&&f!=null){if(!ud(h)||document.activeElement===h.target)return;const m=d.get(f);if(!m)return;const{activatorNode:v,node:b}=m;if(!v.current&&!b.current)return;requestAnimationFrame(()=>{for(const S of[v.current,b.current]){if(!S)continue;const p=PT(S);if(p){p.focus();break}}})}},[i,s,d,f,h]),null}function Vb(a,s){let{transform:r,...i}=s;return a!=null&&a.length?a.reduce((d,h)=>h({transform:d,...i}),r):r}function Jj(a){return y.useMemo(()=>({draggable:{...Qo.draggable,...a?.draggable},droppable:{...Qo.droppable,...a?.droppable},dragOverlay:{...Qo.dragOverlay,...a?.dragOverlay}}),[a?.draggable,a?.droppable,a?.dragOverlay])}function Wj(a){let{activeNode:s,measure:r,initialRect:i,config:d=!0}=a;const h=y.useRef(!1),{x:f,y:m}=typeof d=="boolean"?{x:d,y:d}:d;Ca(()=>{if(!f&&!m||!s){h.current=!1;return}if(h.current||!i)return;const b=s?.node.current;if(!b||b.isConnected===!1)return;const S=r(b),p=Eb(S,i);if(f||(p.x=0),m||(p.y=0),h.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const x=Nb(b);x&&x.scrollBy({top:p.y,left:p.x})}},[s,f,m,i,r])}const yi=y.createContext({...In,scaleX:1,scaleY:1});var Ja;(function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Initializing=1]="Initializing",a[a.Initialized=2]="Initialized"})(Ja||(Ja={}));const eE=y.memo(function(s){var r,i,d,h;let{id:f,accessibility:m,autoScroll:v=!0,children:b,sensors:S=Yj,collisionDetection:p=rj,measuring:x,modifiers:w,...B}=s;const E=y.useReducer(Kj,void 0,Qj),[D,k]=E,[q,j]=KT(),[G,V]=y.useState(Ja.Uninitialized),U=G===Ja.Initialized,{draggable:{active:M,nodes:N,translate:L},droppable:{containers:O}}=D,T=M!=null?N.get(M):null,C=y.useRef({initial:null,translated:null}),Q=y.useMemo(()=>{var gt;return M!=null?{id:M,data:(gt=T?.data)!=null?gt:Gj,rect:C}:null},[M,T]),K=y.useRef(null),[oe,z]=y.useState(null),[$,X]=y.useState(null),le=xr(B,Object.values(B)),Z=gi("DndDescribedBy",f),ge=y.useMemo(()=>O.getEnabled(),[O]),ue=Jj(x),{droppableRects:fe,measureDroppableContainers:_e,measuringScheduled:Ge}=kj(ge,{dragging:U,dependencies:[L.x,L.y],config:ue.droppable}),Ae=zj(N,M),tt=y.useMemo(()=>$?Wo($):null,[$]),ct=nl(),bt=Lj(Ae,ue.draggable.measure);Wj({activeNode:M!=null?N.get(M):null,config:ct.layoutShiftCompensation,initialRect:bt,measure:ue.draggable.measure});const Xe=Tg(Ae,ue.draggable.measure,bt),pe=Tg(Ae?Ae.parentElement:null),Me=y.useRef({activatorEvent:null,active:null,activeNode:Ae,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=O.getNodeFor((r=Me.current.over)==null?void 0:r.id),nt=Fj({measure:ue.dragOverlay.measure}),me=(i=nt.nodeRef.current)!=null?i:Ae,Ne=U?(d=nt.rect)!=null?d:Xe:null,qe=!!(nt.nodeRef.current&&nt.rect),ut=$j(qe?null:Xe),Te=Bb(me?nn(me):null),Qe=Hj(U?Ze??Ae:null),Ct=Pj(Qe),Tt=Vb(w,{transform:{x:L.x-ut.x,y:L.y-ut.y,scaleX:1,scaleY:1},activatorEvent:$,active:Q,activeNodeRect:Xe,containerNodeRect:pe,draggingNodeRect:Ne,over:Me.current.over,overlayNodeRect:nt.rect,scrollableAncestors:Qe,scrollableAncestorRects:Ct,windowRect:Te}),St=tt?hs(tt,L):null,Pn=Vj(Qe),ee=Eg(Pn),je=Eg(Pn,[Xe]),De=hs(Tt,ee),at=Ne?dj(Ne,Tt):null,Ie=Q&&at?p({active:Q,collisionRect:at,droppableRects:fe,droppableContainers:ge,pointerCoordinates:St}):null,Ot=jb(Ie,"id"),[mt,aa]=y.useState(null),Ta=qe?Tt:hs(Tt,je),Fn=cj(Ta,(h=mt?.rect)!=null?h:null,Xe),It=y.useRef(null),xn=y.useCallback((gt,Pt)=>{let{sensor:Bt,options:un}=Pt;if(K.current==null)return;const Ut=N.get(K.current);if(!Ut)return;const zt=gt.nativeEvent,W=new Bt({active:K.current,activeNode:Ut,event:zt,options:un,context:Me,onAbort(re){if(!N.get(re))return;const{onDragAbort:be}=le.current,ze={id:re};be?.(ze),q({type:"onDragAbort",event:ze})},onPending(re,ve,be,ze){if(!N.get(re))return;const{onDragPending:Je}=le.current,Ce={id:re,constraint:ve,initialCoordinates:be,offset:ze};Je?.(Ce),q({type:"onDragPending",event:Ce})},onStart(re){const ve=K.current;if(ve==null)return;const be=N.get(ve);if(!be)return;const{onDragStart:ze}=le.current,ot={activatorEvent:zt,active:{id:ve,data:be.data,rect:C}};mr.unstable_batchedUpdates(()=>{ze?.(ot),V(Ja.Initializing),k({type:Lt.DragStart,initialCoordinates:re,active:ve}),q({type:"onDragStart",event:ot}),z(It.current),X(zt)})},onMove(re){k({type:Lt.DragMove,coordinates:re})},onEnd:ie(Lt.DragEnd),onCancel:ie(Lt.DragCancel)});It.current=W;function ie(re){return async function(){const{active:be,collisions:ze,over:ot,scrollAdjustedTranslate:Je}=Me.current;let Ce=null;if(be&&Je){const{cancelDrop:Ft}=le.current;Ce={activatorEvent:zt,active:be,collisions:ze,delta:Je,over:ot},re===Lt.DragEnd&&typeof Ft=="function"&&await Promise.resolve(Ft(Ce))&&(re=Lt.DragCancel)}K.current=null,mr.unstable_batchedUpdates(()=>{k({type:re}),V(Ja.Uninitialized),aa(null),z(null),X(null),It.current=null;const Ft=re===Lt.DragEnd?"onDragEnd":"onDragCancel";if(Ce){const an=le.current[Ft];an?.(Ce),q({type:Ft,event:Ce})}})}}},[N]),Zt=y.useCallback((gt,Pt)=>(Bt,un)=>{const Ut=Bt.nativeEvent,zt=N.get(un);if(K.current!==null||!zt||Ut.dndKit||Ut.defaultPrevented)return;const W={active:zt};gt(Bt,Pt.options,W)===!0&&(Ut.dndKit={capturedBy:Pt.sensor},K.current=un,xn(Bt,Pt))},[N,xn]),tl=Rj(S,Zt);qj(S),Ca(()=>{Xe&&G===Ja.Initializing&&V(Ja.Initialized)},[Xe,G]),y.useEffect(()=>{const{onDragMove:gt}=le.current,{active:Pt,activatorEvent:Bt,collisions:un,over:Ut}=Me.current;if(!Pt||!Bt)return;const zt={active:Pt,activatorEvent:Bt,collisions:un,delta:{x:De.x,y:De.y},over:Ut};mr.unstable_batchedUpdates(()=>{gt?.(zt),q({type:"onDragMove",event:zt})})},[De.x,De.y]),y.useEffect(()=>{const{active:gt,activatorEvent:Pt,collisions:Bt,droppableContainers:un,scrollAdjustedTranslate:Ut}=Me.current;if(!gt||K.current==null||!Pt||!Ut)return;const{onDragOver:zt}=le.current,W=un.get(Ot),ie=W&&W.rect.current?{id:W.id,rect:W.rect.current,data:W.data,disabled:W.disabled}:null,re={active:gt,activatorEvent:Pt,collisions:Bt,delta:{x:Ut.x,y:Ut.y},over:ie};mr.unstable_batchedUpdates(()=>{aa(ie),zt?.(re),q({type:"onDragOver",event:re})})},[Ot]),Ca(()=>{Me.current={activatorEvent:$,active:Q,activeNode:Ae,collisionRect:at,collisions:Ie,droppableRects:fe,draggableNodes:N,draggingNode:me,draggingNodeRect:Ne,droppableContainers:O,over:mt,scrollableAncestors:Qe,scrollAdjustedTranslate:De},C.current={initial:Ne,translated:at}},[Q,Ae,Ie,at,N,me,Ne,fe,O,mt,Qe,De]),Dj({...ct,delta:L,draggingRect:at,pointerCoordinates:St,scrollableAncestors:Qe,scrollableAncestorRects:Ct});const Yn=y.useMemo(()=>({active:Q,activeNode:Ae,activeNodeRect:Xe,activatorEvent:$,collisions:Ie,containerNodeRect:pe,dragOverlay:nt,draggableNodes:N,droppableContainers:O,droppableRects:fe,over:mt,measureDroppableContainers:_e,scrollableAncestors:Qe,scrollableAncestorRects:Ct,measuringConfiguration:ue,measuringScheduled:Ge,windowRect:Te}),[Q,Ae,Xe,$,Ie,pe,nt,N,O,fe,mt,_e,Qe,Ct,ue,Ge,Te]),ja=y.useMemo(()=>({activatorEvent:$,activators:tl,active:Q,activeNodeRect:Xe,ariaDescribedById:{draggable:Z},dispatch:k,draggableNodes:N,over:mt,measureDroppableContainers:_e}),[$,tl,Q,Xe,k,Z,N,mt,_e]);return he.createElement(Tb.Provider,{value:j},he.createElement(Dr.Provider,{value:ja},he.createElement(Hb.Provider,{value:Yn},he.createElement(yi.Provider,{value:Fn},b)),he.createElement(Zj,{disabled:m?.restoreFocus===!1})),he.createElement(WT,{...m,hiddenTextDescribedById:Z}));function nl(){const gt=oe?.autoScrollEnabled===!1,Pt=typeof v=="object"?v.enabled===!1:v===!1,Bt=U&&!gt&&!Pt;return typeof v=="object"?{...v,enabled:Bt}:{enabled:Bt}}}),tE=y.createContext(null),Ng="button",nE="Draggable";function aE(a){let{id:s,data:r,disabled:i=!1,attributes:d}=a;const h=gi(nE),{activators:f,activatorEvent:m,active:v,activeNodeRect:b,ariaDescribedById:S,draggableNodes:p,over:x}=y.useContext(Dr),{role:w=Ng,roleDescription:B="draggable",tabIndex:E=0}=d??{},D=v?.id===s,k=y.useContext(D?yi:tE),[q,j]=Zo(),[G,V]=Zo(),U=Ij(f,s),M=xr(r);Ca(()=>(p.set(s,{id:s,key:h,node:q,activatorNode:G,data:M}),()=>{const L=p.get(s);L&&L.key===h&&p.delete(s)}),[p,s]);const N=y.useMemo(()=>({role:w,tabIndex:E,"aria-disabled":i,"aria-pressed":D&&w===Ng?!0:void 0,"aria-roledescription":B,"aria-describedby":S.draggable}),[i,w,E,D,B,S.draggable]);return{active:v,activatorEvent:m,activeNodeRect:b,attributes:N,isDragging:D,listeners:i?void 0:U,node:q,over:x,setNodeRef:j,setActivatorNodeRef:V,transform:k}}function lE(){return y.useContext(Hb)}const sE="Droppable",rE={timeout:25};function oE(a){let{data:s,disabled:r=!1,id:i,resizeObserverConfig:d}=a;const h=gi(sE),{active:f,dispatch:m,over:v,measureDroppableContainers:b}=y.useContext(Dr),S=y.useRef({disabled:r}),p=y.useRef(!1),x=y.useRef(null),w=y.useRef(null),{disabled:B,updateMeasurementsFor:E,timeout:D}={...rE,...d},k=xr(E??i),q=y.useCallback(()=>{if(!p.current){p.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{b(Array.isArray(k.current)?k.current:[k.current]),w.current=null},D)},[D]),j=vi({callback:q,disabled:B||!f}),G=y.useCallback((N,L)=>{j&&(L&&(j.unobserve(L),p.current=!1),N&&j.observe(N))},[j]),[V,U]=Zo(G),M=xr(s);return y.useEffect(()=>{!j||!V.current||(j.disconnect(),p.current=!1,j.observe(V.current))},[V,j]),y.useEffect(()=>(m({type:Lt.RegisterDroppable,element:{id:i,key:h,disabled:r,node:V,rect:x,data:M}}),()=>m({type:Lt.UnregisterDroppable,key:h,id:i})),[i]),y.useEffect(()=>{r!==S.current.disabled&&(m({type:Lt.SetDroppableDisabled,id:i,key:h,disabled:r}),S.current.disabled=r)},[i,h,r,m]),{active:f,rect:x,isOver:v?.id===i,node:V,over:v,setNodeRef:U}}function iE(a){let{animation:s,children:r}=a;const[i,d]=y.useState(null),[h,f]=y.useState(null),m=Jo(r);return!r&&!i&&m&&d(m),Ca(()=>{if(!h)return;const v=i?.key,b=i?.props.id;if(v==null||b==null){d(null);return}Promise.resolve(s(b,h)).then(()=>{d(null)})},[s,i,h]),he.createElement(he.Fragment,null,r,i?y.cloneElement(i,{ref:f}):null)}const cE={x:0,y:0,scaleX:1,scaleY:1};function uE(a){let{children:s}=a;return he.createElement(Dr.Provider,{value:$b},he.createElement(yi.Provider,{value:cE},s))}const dE={position:"fixed",touchAction:"none"},fE=a=>ud(a)?"transform 250ms ease":void 0,hE=y.forwardRef((a,s)=>{let{as:r,activatorEvent:i,adjustScale:d,children:h,className:f,rect:m,style:v,transform:b,transition:S=fE}=a;if(!m)return null;const p=d?b:{...b,scaleX:1,scaleY:1},x={...dE,width:m.width,height:m.height,top:m.top,left:m.left,transform:Cr.Transform.toString(p),transformOrigin:d&&i?tj(i,m):void 0,transition:typeof S=="function"?S(i):S,...v};return he.createElement(r,{className:f,style:x,ref:s},h)}),mE=a=>s=>{let{active:r,dragOverlay:i}=s;const d={},{styles:h,className:f}=a;if(h!=null&&h.active)for(const[m,v]of Object.entries(h.active))v!==void 0&&(d[m]=r.node.style.getPropertyValue(m),r.node.style.setProperty(m,v));if(h!=null&&h.dragOverlay)for(const[m,v]of Object.entries(h.dragOverlay))v!==void 0&&i.node.style.setProperty(m,v);return f!=null&&f.active&&r.node.classList.add(f.active),f!=null&&f.dragOverlay&&i.node.classList.add(f.dragOverlay),function(){for(const[v,b]of Object.entries(d))r.node.style.setProperty(v,b);f!=null&&f.active&&r.node.classList.remove(f.active)}},gE=a=>{let{transform:{initial:s,final:r}}=a;return[{transform:Cr.Transform.toString(s)},{transform:Cr.Transform.toString(r)}]},pE={duration:250,easing:"ease",keyframes:gE,sideEffects:mE({styles:{active:{opacity:"0"}}})};function vE(a){let{config:s,draggableNodes:r,droppableContainers:i,measuringConfiguration:d}=a;return mi((h,f)=>{if(s===null)return;const m=r.get(h);if(!m)return;const v=m.node.current;if(!v)return;const b=Ub(f);if(!b)return;const{transform:S}=nn(f).getComputedStyle(f),p=Ab(S);if(!p)return;const x=typeof s=="function"?s:yE(s);return kb(v,d.draggable.measure),x({active:{id:h,data:m.data,node:v,rect:d.draggable.measure(v)},draggableNodes:r,dragOverlay:{node:f,rect:d.dragOverlay.measure(b)},droppableContainers:i,measuringConfiguration:d,transform:p})})}function yE(a){const{duration:s,easing:r,sideEffects:i,keyframes:d}={...pE,...a};return h=>{let{active:f,dragOverlay:m,transform:v,...b}=h;if(!s)return;const S={x:m.rect.left-f.rect.left,y:m.rect.top-f.rect.top},p={scaleX:v.scaleX!==1?f.rect.width*v.scaleX/m.rect.width:1,scaleY:v.scaleY!==1?f.rect.height*v.scaleY/m.rect.height:1},x={x:v.x-S.x,y:v.y-S.y,...p},w=d({...b,active:f,dragOverlay:m,transform:{initial:v,final:x}}),[B]=w,E=w[w.length-1];if(JSON.stringify(B)===JSON.stringify(E))return;const D=i?.({active:f,dragOverlay:m,...b}),k=m.node.animate(w,{duration:s,easing:r,fill:"forwards"});return new Promise(q=>{k.onfinish=()=>{D?.(),q()}})}}let Dg=0;function bE(a){return y.useMemo(()=>{if(a!=null)return Dg++,Dg},[a])}const SE=he.memo(a=>{let{adjustScale:s=!1,children:r,dropAnimation:i,style:d,transition:h,modifiers:f,wrapperElement:m="div",className:v,zIndex:b=999}=a;const{activatorEvent:S,active:p,activeNodeRect:x,containerNodeRect:w,draggableNodes:B,droppableContainers:E,dragOverlay:D,over:k,measuringConfiguration:q,scrollableAncestors:j,scrollableAncestorRects:G,windowRect:V}=lE(),U=y.useContext(yi),M=bE(p?.id),N=Vb(f,{activatorEvent:S,active:p,activeNodeRect:x,containerNodeRect:w,draggingNodeRect:D.rect,over:k,overlayNodeRect:D.rect,scrollableAncestors:j,scrollableAncestorRects:G,transform:U,windowRect:V}),L=vd(x),O=vE({config:i,draggableNodes:B,droppableContainers:E,measuringConfiguration:q}),T=L?D.setRef:void 0;return he.createElement(uE,null,he.createElement(iE,{animation:O},p&&M?he.createElement(hE,{key:M,id:p.id,ref:T,as:m,activatorEvent:S,adjustScale:s,className:v,transition:h,rect:L,style:{zIndex:b,...d},transform:N},r):null))});function ni(a){if(!a)return!1;const s=a.data.current;return!!(s&&"sortable"in s&&typeof s.sortable=="object"&&"containerId"in s.sortable&&"items"in s.sortable&&"index"in s.sortable)}const _E=[Ve.Down,Ve.Right,Ve.Up,Ve.Left],xE=(a,s)=>{let{context:{active:r,collisionRect:i,droppableRects:d,droppableContainers:h,over:f,scrollableAncestors:m}}=s;if(_E.includes(a.code)){if(a.preventDefault(),!r||!i)return;const v=[];h.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const x=d.get(p.id);if(x)switch(a.code){case Ve.Down:i.top<x.top&&v.push(p);break;case Ve.Up:i.top>x.top&&v.push(p);break;case Ve.Left:i.left>x.left&&v.push(p);break;case Ve.Right:i.left<x.left&&v.push(p);break}});const b=lj({collisionRect:i,droppableRects:d,droppableContainers:v});let S=jb(b,"id");if(S===f?.id&&b.length>1&&(S=b[1].id),S!=null){const p=h.get(r.id),x=h.get(S),w=x?d.get(x.id):null,B=x?.node.current;if(B&&w&&p&&x){const D=pi(B).some((U,M)=>m[M]!==U),k=qb(p,x),q=wE(p,x),j=D||!k?{x:0,y:0}:{x:q?i.width-w.width:0,y:q?i.height-w.height:0},G={x:w.left,y:w.top};return j.x&&j.y?G:wr(G,j)}}}};function qb(a,s){return!ni(a)||!ni(s)?!1:a.data.current.sortable.containerId===s.data.current.sortable.containerId}function wE(a,s){return!ni(a)||!ni(s)||!qb(a,s)?!1:a.data.current.sortable.index<s.data.current.sortable.index}const CE="_dragOverlay_19xet_3",TE="_songPreview_19xet_11",jE="_songTitle_19xet_42",EE="_songArtist_19xet_47",AE="_dropZone_19xet_116",NE="_draggableItem_19xet_130",us={dragOverlay:CE,songPreview:TE,songTitle:jE,songArtist:EE,dropZone:AE,draggableItem:NE},DE=he.createContext({activeItem:null}),ME=a=>{let s=ij(a);if((!s||s.length===0)&&(s=aj(a)),!s||!s.length)return s||[];const r=s.filter(d=>d.id.toString().startsWith("song::")),i=s.filter(d=>d.id.toString().startsWith("playlist::"));if(r.length>0&&i.length>0){const{pointerCoordinates:d}=a;if(d)return d.x<350?i:r}return s},OE=({children:a,onDragOperation:s})=>{const{t:r}=At(),[i,d]=y.useState(null),h=ej(yg(pd,{activationConstraint:{distance:10,delay:100,tolerance:5}}),yg(md,{coordinateGetter:xE})),f=y.useCallback(b=>{const{active:S}=b,p=S.id,x=p.indexOf("::");if(x===-1){console.error("Invalid drag ID format:",p);return}const w=p.substring(0,x),B=p.substring(x+2);d({id:B,type:w,data:S.data.current})},[]),m=y.useCallback(b=>{const{active:S,over:p}=b;if(d(null),!p||S.id===p.id)return;const x=k=>{const q=k.indexOf("::");return q===-1?(console.error("Invalid ID format:",k),{type:"",id:""}):{type:k.substring(0,q),id:k.substring(q+2)}},w=x(S.id),B=x(p.id),E={id:w.id,type:w.type,data:S.data.current},D={id:B.id,type:B.type,data:p.data.current};s?.(E,D)},[s]),v=()=>{if(!i)return null;switch(i.type){case"song":return document.querySelector('[data-droppable="true"]')?.closest('[data-playlist-drop-zone="true"]')?c.jsxs("div",{className:us.songPreview,children:[c.jsx(ne,{name:"music",size:18,color:"var(--themecolor2)",decorative:!0}),c.jsxs("div",{children:[c.jsx("div",{className:us.songTitle,children:i.data?.title||"Song"}),c.jsx("div",{className:us.songArtist,children:i.data?.artist||r("common.unknownArtist")})]})]}):null;case"playlist":return null;case"folder":return null;default:return null}};return c.jsx(DE.Provider,{value:{activeItem:i},children:c.jsxs(eE,{sensors:h,collisionDetection:ME,onDragStart:f,onDragEnd:m,autoScroll:{threshold:{x:.2,y:.2},acceleration:5},children:[a,c.jsx(SE,{dropAnimation:{duration:200,easing:"cubic-bezier(0.34, 1.56, 0.64, 1)"},className:us.dragOverlay,children:v()})]})})},Qu=({id:a,type:s,data:r,children:i,disabled:d=!1})=>{const{attributes:h,listeners:f,setNodeRef:m,transform:v,isDragging:b}=aE({id:`${s}::${a}`,data:r,disabled:d}),S=v?{transform:`translate3d(${v.x}px, ${v.y}px, 0)`}:void 0;return c.jsx("div",{ref:m,style:S,className:us.draggableItem,"data-dragging":b?"true":"false",...f,...h,children:i})},Ku=({id:a,type:s,data:r,children:i,className:d})=>{const{isOver:h,setNodeRef:f}=oE({id:`${s}::${a}`,data:r});return c.jsx("div",{ref:f,className:`${us.dropZone} ${d||""}`,"data-droppable":h?"true":"false","data-playlist-drop-zone":s==="playlist"?"true":"false","data-folder-drop-zone":s==="folder"?"true":"false","data-drop-type":s,children:i})},zE="_playlistContainer_1s8lm_1",RE="_searchContainer_1s8lm_10",kE="_searchWrapper_1s8lm_19",LE="_searchIcon_1s8lm_24",BE="_searchInput_1s8lm_33",UE="_actionButton_1s8lm_53",$E="_playlistList_1s8lm_76",HE="_playlistItemContainer_1s8lm_86",VE="_playlistItemMain_1s8lm_93",qE="_playlistItem_1s8lm_86",IE="_playlistNameWrapper_1s8lm_116",PE="_playlistNameText_1s8lm_123",FE="_playlistImage_1s8lm_128",YE="_playlistDropZone_1s8lm_147",GE="_folderItem_1s8lm_171",XE="_chevron_1s8lm_175",QE="_chevronOpen_1s8lm_180",KE="_songCount_1s8lm_184",ZE="_allSongsItem_1s8lm_190",JE="_favoritesItem_1s8lm_199",WE="_noResults_1s8lm_208",eA="_moreButton_1s8lm_274",tA="_deleteMenuItem_1s8lm_285",$e={playlistContainer:zE,searchContainer:RE,searchWrapper:kE,searchIcon:LE,searchInput:BE,actionButton:UE,playlistList:$E,playlistItemContainer:HE,playlistItemMain:VE,playlistItem:qE,playlistNameWrapper:IE,playlistNameText:PE,playlistImage:FE,playlistDropZone:YE,folderItem:GE,chevron:XE,chevronOpen:QE,songCount:KE,allSongsItem:ZE,favoritesItem:JE,noResults:WE,moreButton:eA,deleteMenuItem:tA},nA=async a=>{const s=document.createElement("canvas");s.width=80,s.height=80;const r=s.getContext("2d");if(!r)return"";const i=Array.from(new Set(a.filter(h=>h.albumArt).map(h=>h.albumArt))).slice(0,4);if(i.length===0)return"";const d=h=>new Promise((f,m)=>{const v=new Image;v.crossOrigin="anonymous",v.onload=()=>f(v),v.onerror=m,v.src=h});try{const h=await Promise.all(i.map(f=>d(f)));switch(r.fillStyle="#1E3A8A",r.fillRect(0,0,s.width,s.height),h.length){case 1:r.drawImage(h[0],0,0,80,80);break;case 2:r.drawImage(h[0],0,0,40,80),r.drawImage(h[1],40,0,40,80);break;case 3:r.drawImage(h[0],0,0,80,40),r.drawImage(h[1],0,40,40,40),r.drawImage(h[2],40,40,40,40);break;case 4:r.drawImage(h[0],0,0,40,40),r.drawImage(h[1],40,0,40,40),r.drawImage(h[2],0,40,40,40),r.drawImage(h[3],40,40,40,40);break}return r.fillStyle="rgba(0, 0, 0, 0.1)",r.fillRect(0,0,80,80),s.toDataURL("image/jpeg",.8)}catch(h){return console.error("Failed to generate playlist image:",h),""}};var bi="Collapsible",[aA]=X_(bi),[lA,yd]=aA(bi),Ib=y.forwardRef((a,s)=>{const{__scopeCollapsible:r,open:i,defaultOpen:d,disabled:h,onOpenChange:f,...m}=a,[v,b]=G_({prop:i,defaultProp:d??!1,onChange:f,caller:bi});return c.jsx(lA,{scope:r,disabled:h,contentId:Q_(),open:v,onOpenToggle:y.useCallback(()=>b(S=>!S),[b]),children:c.jsx(nd.div,{"data-state":Sd(v),"data-disabled":h?"":void 0,...m,ref:s})})});Ib.displayName=bi;var Pb="CollapsibleTrigger",Fb=y.forwardRef((a,s)=>{const{__scopeCollapsible:r,...i}=a,d=yd(Pb,r);return c.jsx(nd.button,{type:"button","aria-controls":d.contentId,"aria-expanded":d.open||!1,"data-state":Sd(d.open),"data-disabled":d.disabled?"":void 0,disabled:d.disabled,...i,ref:s,onClick:K_(a.onClick,d.onOpenToggle)})});Fb.displayName=Pb;var bd="CollapsibleContent",Yb=y.forwardRef((a,s)=>{const{forceMount:r,...i}=a,d=yd(bd,a.__scopeCollapsible);return c.jsx(Z_,{present:r||d.open,children:({present:h})=>c.jsx(sA,{...i,ref:s,present:h})})});Yb.displayName=bd;var sA=y.forwardRef((a,s)=>{const{__scopeCollapsible:r,present:i,children:d,...h}=a,f=yd(bd,r),[m,v]=y.useState(i),b=y.useRef(null),S=J_(s,b),p=y.useRef(0),x=p.current,w=y.useRef(0),B=w.current,E=f.open||m,D=y.useRef(E),k=y.useRef(void 0);return y.useEffect(()=>{const q=requestAnimationFrame(()=>D.current=!1);return()=>cancelAnimationFrame(q)},[]),W_(()=>{const q=b.current;if(q){k.current=k.current||{transitionDuration:q.style.transitionDuration,animationName:q.style.animationName},q.style.transitionDuration="0s",q.style.animationName="none";const j=q.getBoundingClientRect();p.current=j.height,w.current=j.width,D.current||(q.style.transitionDuration=k.current.transitionDuration,q.style.animationName=k.current.animationName),v(i)}},[f.open,i]),c.jsx(nd.div,{"data-state":Sd(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!E,...h,ref:S,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":B?`${B}px`:void 0,...a.style},children:E&&d})});function Sd(a){return a?"open":"closed"}var rA=Ib,oA=Fb,iA=Yb;const cA=rA,uA=oA,dA=iA,fA="_wrapper_10f4h_1",hA="_inner_10f4h_8",mA="_scrolling_10f4h_16",gA="_pauseOnHover_10f4h_20",pA="_text_10f4h_24",hr={wrapper:fA,inner:hA,scrolling:mA,pauseOnHover:gA,text:pA},Zu=({text:a,className:s,textClassName:r,textStyle:i,speed:d=30,gap:h=24,minDuration:f=10,pauseOnHover:m=!0,allowHTML:v=!0,containerClassName:b,wrapperStyle:S,...p})=>{const{t:x}=At(),w=y.useRef(null),B=y.useRef(null),E=y.useRef(null),D=y.useRef(null),[k,q]=y.useState({shouldScroll:!1,distance:0,duration:f}),j=y.useMemo(()=>v?i1.sanitize(a):a,[a,v]),G=y.useMemo(()=>{const L={className:hr.text,style:k.shouldScroll?{marginRight:`${h}px`}:void 0};return v?{...L,dangerouslySetInnerHTML:{__html:j}}:{...L,children:a}},[v,j,a,h,k.shouldScroll]),V=y.useCallback(()=>{const L=w.current,O=B.current;if(!L||!O)return;const T=O.querySelector("[data-scroll-text='primary']");if(!T)return;const C=T.scrollWidth,Q=L.clientWidth;if(Q<=0){typeof window<"u"&&(D.current&&window.cancelAnimationFrame(D.current),D.current=window.requestAnimationFrame(()=>{D.current=null,V()}));return}const K=C-Q,oe=14,z=6;q($=>{if($.shouldScroll?K>z:K>oe){const le=C+h,Z=Math.max(f,le/d);return $.shouldScroll&&Math.abs($.distance-le)<1&&Math.abs($.duration-Z)<.1?$:{shouldScroll:!0,distance:le,duration:Z}}return!$.shouldScroll&&Math.abs($.distance-C)<1?$:{shouldScroll:!1,distance:C,duration:f}})},[h,f,d]);y.useEffect(()=>{if(!(typeof ResizeObserver>"u"))return E.current=new ResizeObserver(()=>V()),()=>{E.current?.disconnect()}},[V]),y.useLayoutEffect(()=>{if(!E.current)return;const L=w.current,O=B.current;return L&&E.current.observe(L),O&&E.current.observe(O),V(),()=>{L&&E.current?.unobserve(L),O&&E.current?.unobserve(O)}},[V,j]),y.useEffect(()=>()=>{D.current&&typeof window<"u"&&window.cancelAnimationFrame(D.current)},[]);const U=y.useMemo(()=>[hr.wrapper,m&&k.shouldScroll?hr.pauseOnHover:"",s,b].filter(Boolean).join(" "),[s,b,m,k.shouldScroll]),M=y.useMemo(()=>[hr.inner,r,k.shouldScroll?hr.scrolling:""].filter(Boolean).join(" "),[r,k.shouldScroll]),N=y.useMemo(()=>({...k.shouldScroll?{"--scroll-distance":`${k.distance}px`,"--scroll-duration":`${k.duration}s`,"--scroll-gap":`${h}px`}:{},...i}),[k,h,i]);return c.jsx("div",{ref:w,className:U,style:S,role:"region","aria-label":x("accessibility.scrollingText"),...p,children:c.jsxs("div",{ref:B,className:M,style:N,children:[c.jsx("span",{"data-scroll-text":"primary",...G}),k.shouldScroll&&c.jsx("span",{"data-scroll-text":"clone","aria-hidden":"true",...G})]})})},Gb=({musicPlayerHook:a})=>{const{t:s}=At(),[r,i]=y.useState(""),[d,h]=y.useState(!1),[f,m]=y.useState(""),[v,b]=y.useState({}),[S,p]=y.useState(!1),[x,w]=y.useState(null),[B,E]=y.useState(new Set),D=y.useCallback(ee=>{E(je=>{const De=new Set(je);return De.has(ee)?De.delete(ee):De.add(ee),De})},[]),[k,q]=y.useState(!1),[j,G]=y.useState(null),[V,U]=y.useState([]),[M,N]=y.useState(!1),[L,O]=y.useState(null),[T,C]=y.useState(""),[Q,K]=y.useState(!1),[oe,z]=y.useState(""),{library:$,playSong:X,createPlaylist:le,createFolder:Z,removePlaylist:ge,moveToFolder:ue,exportPlaylist:fe,importPlaylist:_e}=a;y.useEffect(()=>{(async()=>{const je={},De=Ie=>{const Ot=[];for(const mt of Ie)"children"in mt?Ot.push(...De(mt.children)):"songs"in mt&&Ot.push(mt);return Ot},at=De($.playlists);for(const Ie of at)if(Ie.id!=="all-songs"){const Ot=await nA(Ie.songs);Ot&&(je[Ie.id]=Ot)}b(je)})()},[$.playlists,$.songs]);const Ge=y.useCallback(ee=>{const je=[];for(const De of ee)je.push(De),"children"in De&&je.push(...Ge(De.children));return je},[]),Ae=y.useMemo(()=>$.playlists.filter(ee=>ee.id!=="all-songs"&&ee.name.toLowerCase().includes(r.toLowerCase())),[$.playlists,r]),tt=ee=>i(ee),ct=y.useCallback(ee=>{ee.songs.length>0&&X(ee.songs[0],ee)},[X]),bt=y.useCallback(()=>{const ee=$.playlists.find(je=>je.id==="all-songs");if(ee&&"songs"in ee&&ee.songs.length>0)X(ee.songs[0],ee);else if($.songs.length>0){const je={id:"all-songs",name:s("allSongs"),songs:$.songs};X(je.songs[0],je)}},[$.playlists,$.songs,X]),Xe=()=>{h(!0),m("")},pe=y.useCallback(()=>{f.trim()&&(le(f.trim()),ce.success(s("playlist.playlistCreated",{name:f.trim()})),h(!1),m(""))},[f,le]),Me=()=>{h(!1),m("")},Ze=async ee=>{if(!await en.shouldShowDialog("delete-playlist-confirmation")){ge(ee.id),ce.success(s("playlist.playlistDeleted",{name:ee.name}));return}w(ee),p(!0)},nt=y.useCallback(()=>{x&&(ge(x.id),ce.success(s("playlist.playlistDeleted",{name:x.name})),p(!1),w(null))},[x,ge]),me=y.useCallback(ee=>{const je={title:s("playlist.playlistShareTitle",{name:ee.name}),text:s("playlist.playlistShareText",{name:ee.name,count:ee.songs.length}),url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(je)?(navigator.share(je),ce.success(s("playlist.playlistShared"))):(navigator.clipboard.writeText(`${je.title}
${je.text}
${je.url}`),ce.success(s("playlist.playlistCopied")))}catch{ce.error(s("playlist.playlistShareFailed"))}},[]),Ne=y.useCallback((ee,je="json")=>{fe(ee,je)},[fe]),qe=y.useCallback(ee=>ee.toLowerCase().includes("favorite")?c.jsx(ne,{name:"heart",size:16,decorative:!0}):ee.toLowerCase().includes("made")?c.jsx(ne,{name:"list",size:16,decorative:!0}):c.jsx(ne,{name:"music",size:16,decorative:!0}),[]),ut=()=>{const ee=document.createElement("input");ee.type="file",ee.accept=".json,.m3u,.m3u8",ee.onchange=async je=>{const De=je.target.files?.[0];if(De)try{await _e(De)}catch(at){at&&p(!1)}},ee.click()},Te=y.useCallback(ee=>{const je=(at,Ie=[])=>{const Ot=[];for(const mt of at)"children"in mt&&(Ot.push({folder:mt,path:[...Ie]}),Ot.push(...je(mt.children,[...Ie,mt.name])));return Ot},De=je($.playlists);if(De.length===0){ce.error(s("playlist.noFoldersAvailable"));return}U(De),G(ee),q(!0)},[$.playlists]),Qe=y.useCallback(ee=>{O(ee),C(ee.name),N(!0)},[]),Ct=y.useRef(null),Tt=(ee,je=0)=>"songs"in ee?c.jsx(St,{item:ee,depth:je},ee.id):c.jsx(Pn,{item:ee,depth:je,renderPlaylistItem:Tt},ee.id),St=y.memo(({item:ee,depth:je})=>{const{open:De,setOpen:at,containerRef:Ie}=qu(!0);return c.jsxs("div",{"data-id":ee.id,className:$e.playlistItemContainer,style:{marginLeft:`${je*20}px`},ref:Ie,children:[c.jsx("div",{className:$e.playlistItemMain,children:c.jsx(Qu,{id:ee.id,type:"playlist",data:ee,children:c.jsx(Ku,{id:ee.id,type:"playlist",data:ee,className:$e.playlistDropZone,children:c.jsxs("button",{className:$e.playlistItem,onClick:()=>ct(ee),children:[v[ee.id]?c.jsx("div",{className:$e.playlistImage,children:c.jsx("img",{src:v[ee.id],alt:"",loading:"lazy"})}):qe(ee.name),c.jsx("div",{className:$e.playlistNameWrapper,children:c.jsx(Zu,{text:ee.name,textClassName:$e.playlistNameText,gap:12,speed:40,minDuration:6,pauseOnHover:!0,allowHTML:!1})}),c.jsx("span",{className:$e.songCount,children:ee.songs.length})]})})})}),c.jsxs(ds,{open:De,onOpenChange:at,children:[c.jsx(fs,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon-sm",className:$e.moreButton,title:s("moreOptions"),children:c.jsx(ne,{name:"moreHorizontal",size:16,decorative:!0})})}),c.jsxs(Tl,{align:"end",sideOffset:8,children:[c.jsxs(yt,{onClick:()=>Qe(ee),children:[c.jsx(ne,{name:"edit",size:16,style:{marginRight:8},decorative:!0}),s("playlist.renamePlaylist")]}),c.jsxs(yt,{onClick:()=>me(ee),children:[c.jsx(ne,{name:"share",size:16,style:{marginRight:8},decorative:!0}),s("playlist.sharePlaylist")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:()=>Te(ee),children:[c.jsx(ne,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToFolder")]}),c.jsxs(yt,{onClick:()=>{ue(ee.id,null),ce.success(s("playlist.movedToRoot",{item:ee.name}))},children:[c.jsx(ne,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToRoot")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:()=>Ne(ee,"json"),children:[c.jsx(ne,{name:"download",size:16,style:{marginRight:8},decorative:!0}),s("playlist.exportJSON")]}),c.jsxs(yt,{onClick:()=>Ne(ee,"m3u"),children:[c.jsx(ne,{name:"download",size:16,style:{marginRight:8},decorative:!0}),s("playlist.exportM3U")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:()=>Ze(ee),className:$e.deleteMenuItem,children:[c.jsx(ne,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),s("playlist.deletePlaylist")]})]})]},`dropdown-${ee.id}`)]})}),Pn=y.memo(({item:ee,depth:je,renderPlaylistItem:De})=>{const at=B.has(ee.id),{open:Ie,setOpen:Ot,containerRef:mt}=qu(!0);return c.jsxs(cA,{open:at,onOpenChange:()=>D(ee.id),children:[c.jsxs("div",{className:$e.playlistItemContainer,style:{marginLeft:`${je*20}px`},"data-id":ee.id,ref:mt,children:[c.jsx("div",{className:$e.playlistItemMain,children:c.jsx(Qu,{id:ee.id,type:"folder",data:ee,children:c.jsx(Ku,{id:ee.id,type:"folder",data:ee,className:$e.playlistDropZone,children:c.jsx(uA,{asChild:!0,children:c.jsxs("button",{className:`${$e.playlistItem} ${$e.folderItem}`,style:{width:"100%"},children:[c.jsx(ne,{name:"chevronDown",size:16,className:`${$e.chevron} ${at?$e.chevronOpen:""}`,decorative:!0}),c.jsx(ne,{name:"list",size:16,decorative:!0}),c.jsx("div",{className:$e.playlistNameWrapper,children:c.jsx(Zu,{text:ee.name,textClassName:$e.playlistNameText,gap:12,speed:40,minDuration:6,pauseOnHover:!0,allowHTML:!1})}),c.jsx("span",{className:$e.songCount,children:ee.children.length})]})})})})}),c.jsxs(ds,{open:Ie,onOpenChange:Ot,children:[c.jsx(fs,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon-sm",className:$e.moreButton,title:s("moreOptions"),children:c.jsx(ne,{name:"moreHorizontal",size:16,decorative:!0})})}),c.jsxs(Tl,{align:"end",sideOffset:8,children:[c.jsxs(yt,{onClick:()=>Qe(ee),children:[c.jsx(ne,{name:"edit",size:16,style:{marginRight:8},decorative:!0}),s("playlist.renameFolder")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:()=>Te(ee),children:[c.jsx(ne,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToFolder")]}),c.jsxs(yt,{onClick:()=>{ue(ee.id,null),ce.success(s("playlist.movedToRoot",{item:ee.name}))},children:[c.jsx(ne,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToRoot")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:async()=>{if(!await en.shouldShowDialog("delete-playlist-confirmation")){ge(ee.id),ce.success(s("playlist.folderDeleted",{name:ee.name}));return}w(ee),p(!0)},className:$e.deleteMenuItem,children:[c.jsx(ne,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),s("playlist.deleteFolder")]})]})]},`dropdown-${ee.id}`)]}),c.jsx(dA,{children:c.jsxs("div",{children:[ee.children.map(aa=>De(aa,je+1)),ee.children.length===0&&c.jsx("div",{style:{height:20,margin:"4px 0 4px 20px",color:"#999",fontSize:12,display:"flex",alignItems:"center",justifyContent:"center"},children:"Empty folder"})]})})]},ee.id)});return c.jsxs("div",{className:$e.playlistContainer,children:[c.jsxs("div",{className:$e.searchContainer,children:[c.jsxs("div",{className:$e.searchWrapper,children:[c.jsx("div",{className:$e.searchIcon,children:c.jsx(ne,{name:"music",size:16,decorative:!0})}),c.jsx("input",{type:"text",className:$e.searchInput,placeholder:s("playlist.searchPlaylists"),value:r,onChange:ee=>tt(ee.target.value)})]}),c.jsxs(ds,{children:[c.jsx(fs,{asChild:!0,children:c.jsx(de,{variant:"outline",size:"icon-md",className:$e.actionButton,"aria-label":s("playlist.addTo"),children:c.jsx(ne,{name:"plus",size:16,decorative:!0})})}),c.jsxs(Tl,{align:"end",sideOffset:8,children:[c.jsxs(yt,{onClick:Xe,children:[c.jsx(ne,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),s("playlist.addPlaylist")]}),c.jsxs(yt,{onClick:()=>K(!0),children:[c.jsx(ne,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),s("playlist.addFolder")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:ut,children:[c.jsx(ne,{name:"upload",size:16,style:{marginRight:8},decorative:!0}),s("playlist.importPlaylist")]})]})]})]}),c.jsxs("div",{ref:Ct,className:$e.playlistList,style:{position:"relative"},"data-tour":"playlists",children:[c.jsxs("button",{className:`${$e.playlistItem} ${$e.allSongsItem}`,onClick:bt,children:[c.jsx(ne,{name:"music",size:16,decorative:!0}),s("allSongs"),c.jsx("span",{className:$e.songCount,children:$.songs.length})]}),c.jsxs("button",{className:`${$e.playlistItem} ${$e.favoritesItem}`,onClick:()=>ct({id:"favorites",name:s("favorites.favorites"),songs:$.songs.filter(ee=>$.favorites.includes(ee.id))}),children:[c.jsx(ne,{name:"heart",size:16,decorative:!0}),s("favorites.favorites"),c.jsx("span",{className:$e.songCount,children:$.favorites.length})]}),Ae.map(ee=>Tt(ee)),Ae.length===0&&r&&c.jsx("div",{className:$e.noResults,children:s("noPlaylistsFound")})]}),c.jsx(Rn,{open:d,onOpenChange:h,children:c.jsxs(yn,{children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:s("playlist.createPlaylist")}),c.jsx(kn,{children:s("playlist.enterPlaylistName")})]}),c.jsx("div",{style:{margin:"var(--spacing-4) 0"},children:c.jsx(el,{placeholder:s("playlist.enterPlaylistName"),value:f,onChange:ee=>m(ee.target.value),onKeyDown:ee=>{ee.key==="Enter"&&pe()},autoFocus:!0})}),c.jsxs(qn,{children:[c.jsx(de,{variant:"outline",onClick:Me,children:s("common.cancel")}),c.jsx(de,{onClick:pe,disabled:!f.trim(),children:s("common.create")})]})]})}),c.jsx(Rn,{open:k,onOpenChange:q,children:c.jsxs(yn,{children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:s("playlist.moveToFolder")}),c.jsx(kn,{children:s("playlist.selectFolderToMove",{item:j?.name})})]}),c.jsx("div",{className:He.spaceY4,children:V.map(({folder:ee,path:je})=>c.jsx(de,{variant:"outline",className:`${He["w-full"]} ${He["justify-start"]}`,onClick:()=>{j&&ue(j.id,ee.id),ce.success(s("playlist.movedToFolder",{item:j?.name,folder:ee.name})),q(!1),G(null)},children:je.length>0?`${je.join(" / ")} / ${ee.name}`:ee.name},ee.id))}),c.jsx(qn,{children:c.jsx(de,{variant:"outline",onClick:()=>q(!1),children:s("common.cancel")})})]})}),c.jsx(Rn,{open:M,onOpenChange:N,children:c.jsxs(yn,{children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:L&&"songs"in L?s("playlist.renamePlaylist"):s("playlist.renameFolder")}),c.jsx(kn,{children:s("playlist.enterNewName")})]}),c.jsx("div",{className:He.spaceY4,children:c.jsx(el,{placeholder:s("playlist.enterName"),value:T,onChange:ee=>C(ee.target.value)})}),c.jsxs(qn,{children:[c.jsx(de,{variant:"outline",onClick:()=>N(!1),children:s("common.cancel")}),c.jsx(de,{onClick:()=>{L&&T.trim()&&(L.name=T.trim(),ce.success(L&&"songs"in L?s("playlist.playlistRenamed",{name:T.trim()}):s("playlist.folderRenamed",{name:T.trim()})),N(!1),O(null),C(""))},children:s("common.save")})]})]})}),c.jsx(Rn,{open:S,onOpenChange:p,children:c.jsxs(yn,{dontShowAgainKey:"delete-playlist-confirmation",children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:x&&"songs"in x?s("playlist.deletePlaylist"):s("playlist.deleteFolder")}),c.jsx(kn,{children:x?"songs"in x?s("playlist.deletePlaylistConfirmation",{name:x.name}):s("playlist.deleteFolderConfirmation",{name:x.name}):""})]}),c.jsxs(qn,{children:[c.jsx(de,{variant:"outline",onClick:()=>p(!1),children:s("common.cancel")}),c.jsx(de,{variant:"destructive",onClick:nt,children:s("common.delete")})]})]})}),c.jsx(Rn,{open:Q,onOpenChange:K,children:c.jsxs(yn,{children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:s("playlist.createFolder")}),c.jsx(kn,{children:s("playlist.enterFolderName")})]}),c.jsx("div",{className:He.spaceY4,children:c.jsx(el,{placeholder:s("playlist.folderName"),value:oe,onChange:ee=>z(ee.target.value)})}),c.jsxs(qn,{children:[c.jsx(de,{variant:"outline",onClick:()=>{K(!1),z("")},children:s("common.cancel")}),c.jsx(de,{onClick:()=>{oe.trim()&&(Z(oe.trim()),ce.success(s("playlist.folderCreated",{name:oe.trim()})),K(!1),z(""))},children:s("common.create")})]})]})})]})};y.memo(Gb,(a,s)=>a.musicPlayerHook.library.playlists===s.musicPlayerHook.library.playlists&&a.musicPlayerHook.library.songs===s.musicPlayerHook.library.songs&&a.musicPlayerHook.library.favorites===s.musicPlayerHook.library.favorites);const vA="_sidebar_1sdop_1",yA="_collapsed_1sdop_15",bA="_expandButton_1sdop_28",SA="_header_1sdop_42",_A="_menuButton_1sdop_49",xA="_title_1sdop_57",wA="_footer_1sdop_160",CA="_footerButton_1sdop_167",TA="_noHover_1sdop_192",jA="_backdrop_1sdop_198",EA="_sidebarMobileOpen_1sdop_217",AA="_sidebarMobileClosed_1sdop_221",cn={sidebar:vA,collapsed:yA,expandButton:bA,header:SA,menuButton:_A,title:xA,footer:wA,footerButton:CA,noHover:TA,backdrop:jA,sidebarMobileOpen:EA,sidebarMobileClosed:AA};var NA={attributes:!0,characterData:!0,subtree:!0,childList:!0};function DA(a,s,r=NA){y.useEffect(()=>{if(a.current){const i=new MutationObserver(s);return i.observe(a.current,r),()=>{i.disconnect()}}},[s,r])}var Xb=(function(){if(typeof Map<"u")return Map;function a(s,r){var i=-1;return s.some(function(d,h){return d[0]===r?(i=h,!0):!1}),i}return(function(){function s(){this.__entries__=[]}return Object.defineProperty(s.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),s.prototype.get=function(r){var i=a(this.__entries__,r),d=this.__entries__[i];return d&&d[1]},s.prototype.set=function(r,i){var d=a(this.__entries__,r);~d?this.__entries__[d][1]=i:this.__entries__.push([r,i])},s.prototype.delete=function(r){var i=this.__entries__,d=a(i,r);~d&&i.splice(d,1)},s.prototype.has=function(r){return!!~a(this.__entries__,r)},s.prototype.clear=function(){this.__entries__.splice(0)},s.prototype.forEach=function(r,i){i===void 0&&(i=null);for(var d=0,h=this.__entries__;d<h.length;d++){var f=h[d];r.call(i,f[1],f[0])}},s})()})(),Ju=typeof window<"u"&&typeof document<"u"&&window.document===document,ai=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),MA=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ai):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)}})(),OA=2;function zA(a,s){var r=!1,i=!1,d=0;function h(){r&&(r=!1,a()),i&&m()}function f(){MA(h)}function m(){var v=Date.now();if(r){if(v-d<OA)return;i=!0}else r=!0,i=!1,setTimeout(f,s);d=v}return m}var RA=20,kA=["top","right","bottom","left","width","height","size","weight"],LA=typeof MutationObserver<"u",BA=(function(){function a(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=zA(this.refresh.bind(this),RA)}return a.prototype.addObserver=function(s){~this.observers_.indexOf(s)||this.observers_.push(s),this.connected_||this.connect_()},a.prototype.removeObserver=function(s){var r=this.observers_,i=r.indexOf(s);~i&&r.splice(i,1),!r.length&&this.connected_&&this.disconnect_()},a.prototype.refresh=function(){var s=this.updateObservers_();s&&this.refresh()},a.prototype.updateObservers_=function(){var s=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return s.forEach(function(r){return r.broadcastActive()}),s.length>0},a.prototype.connect_=function(){!Ju||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),LA?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},a.prototype.disconnect_=function(){!Ju||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},a.prototype.onTransitionEnd_=function(s){var r=s.propertyName,i=r===void 0?"":r,d=kA.some(function(h){return!!~i.indexOf(h)});d&&this.refresh()},a.getInstance=function(){return this.instance_||(this.instance_=new a),this.instance_},a.instance_=null,a})(),Qb=(function(a,s){for(var r=0,i=Object.keys(s);r<i.length;r++){var d=i[r];Object.defineProperty(a,d,{value:s[d],enumerable:!1,writable:!1,configurable:!0})}return a}),ms=(function(a){var s=a&&a.ownerDocument&&a.ownerDocument.defaultView;return s||ai}),Kb=Si(0,0,0,0);function li(a){return parseFloat(a)||0}function Mg(a){for(var s=[],r=1;r<arguments.length;r++)s[r-1]=arguments[r];return s.reduce(function(i,d){var h=a["border-"+d+"-width"];return i+li(h)},0)}function UA(a){for(var s=["top","right","bottom","left"],r={},i=0,d=s;i<d.length;i++){var h=d[i],f=a["padding-"+h];r[h]=li(f)}return r}function $A(a){var s=a.getBBox();return Si(0,0,s.width,s.height)}function HA(a){var s=a.clientWidth,r=a.clientHeight;if(!s&&!r)return Kb;var i=ms(a).getComputedStyle(a),d=UA(i),h=d.left+d.right,f=d.top+d.bottom,m=li(i.width),v=li(i.height);if(i.boxSizing==="border-box"&&(Math.round(m+h)!==s&&(m-=Mg(i,"left","right")+h),Math.round(v+f)!==r&&(v-=Mg(i,"top","bottom")+f)),!qA(a)){var b=Math.round(m+h)-s,S=Math.round(v+f)-r;Math.abs(b)!==1&&(m-=b),Math.abs(S)!==1&&(v-=S)}return Si(d.left,d.top,m,v)}var VA=(function(){return typeof SVGGraphicsElement<"u"?function(a){return a instanceof ms(a).SVGGraphicsElement}:function(a){return a instanceof ms(a).SVGElement&&typeof a.getBBox=="function"}})();function qA(a){return a===ms(a).document.documentElement}function IA(a){return Ju?VA(a)?$A(a):HA(a):Kb}function PA(a){var s=a.x,r=a.y,i=a.width,d=a.height,h=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,f=Object.create(h.prototype);return Qb(f,{x:s,y:r,width:i,height:d,top:r,right:s+i,bottom:d+r,left:s}),f}function Si(a,s,r,i){return{x:a,y:s,width:r,height:i}}var FA=(function(){function a(s){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Si(0,0,0,0),this.target=s}return a.prototype.isActive=function(){var s=IA(this.target);return this.contentRect_=s,s.width!==this.broadcastWidth||s.height!==this.broadcastHeight},a.prototype.broadcastRect=function(){var s=this.contentRect_;return this.broadcastWidth=s.width,this.broadcastHeight=s.height,s},a})(),YA=(function(){function a(s,r){var i=PA(r);Qb(this,{target:s,contentRect:i})}return a})(),GA=(function(){function a(s,r,i){if(this.activeObservations_=[],this.observations_=new Xb,typeof s!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=s,this.controller_=r,this.callbackCtx_=i}return a.prototype.observe=function(s){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(s instanceof ms(s).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(s)||(r.set(s,new FA(s)),this.controller_.addObserver(this),this.controller_.refresh())}},a.prototype.unobserve=function(s){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(s instanceof ms(s).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(s)&&(r.delete(s),r.size||this.controller_.removeObserver(this))}},a.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},a.prototype.gatherActive=function(){var s=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&s.activeObservations_.push(r)})},a.prototype.broadcastActive=function(){if(this.hasActive()){var s=this.callbackCtx_,r=this.activeObservations_.map(function(i){return new YA(i.target,i.broadcastRect())});this.callback_.call(s,r,s),this.clearActive()}},a.prototype.clearActive=function(){this.activeObservations_.splice(0)},a.prototype.hasActive=function(){return this.activeObservations_.length>0},a})(),Zb=typeof WeakMap<"u"?new WeakMap:new Xb,Jb=(function(){function a(s){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=BA.getInstance(),i=new GA(s,r,this);Zb.set(this,i)}return a})();["observe","unobserve","disconnect"].forEach(function(a){Jb.prototype[a]=function(){var s;return(s=Zb.get(this))[a].apply(s,arguments)}});var XA=(function(){return typeof ai.ResizeObserver<"u"?ai.ResizeObserver:Jb})(),QA=({mutationObservables:a,resizeObservables:s,refresh:r})=>{const[i,d]=y.useState(0),h=y.useRef(document.documentElement||document.body);function f(v){const b=Array.from(v);for(const S of b)if(a){if(!S.attributes)continue;a.find(x=>S.matches(x))&&r(!0)}}function m(v){const b=Array.from(v);for(const S of b)if(s){if(!S.attributes)continue;s.find(x=>S.matches(x))&&d(i+1)}}return DA(h,v=>{for(const b of v)b.addedNodes.length!==0&&(f(b.addedNodes),m(b.addedNodes)),b.removedNodes.length!==0&&(f(b.removedNodes),m(b.removedNodes))},{childList:!0,subtree:!0}),y.useEffect(()=>{if(!s)return;const v=new XA(()=>{r()});for(const b of s){const S=document.querySelector(b);S&&v.observe(S)}return()=>{v.disconnect()}},[s,i]),null},KA=QA;function Ko(a){let s=Wb;return a&&(s=a.getBoundingClientRect()),s}function ZA(a,s){const[r,i]=y.useState(Wb),d=y.useCallback(()=>{a?.current&&i(Ko(a?.current))},[a?.current]);return y.useEffect(()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)),[a?.current,s]),r}var Wb={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function JA(a,s){return new Promise(r=>{if(!(a instanceof Element))throw new TypeError("Argument 1 must be an Element");let i=0,d=null;const h=Object.assign({behavior:"smooth"},s);a.scrollIntoView(h),requestAnimationFrame(f);function f(){const m=a?.getBoundingClientRect().top;if(m===d){if(i++>2)return r(null)}else i=0,d=m;requestAnimationFrame(f)}})}function Go(a){return a<0?0:a}function WA(a){return typeof a=="object"&&a!==null?{thresholdX:a.x||0,thresholdY:a.y||0}:{thresholdX:a||0,thresholdY:a||0}}function _i(){const a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return{w:a,h:s}}function eN({top:a,right:s,bottom:r,left:i,threshold:d}){const{w:h,h:f}=_i(),{thresholdX:m,thresholdY:v}=WA(d);return a<0&&r-a>f?!0:a>=0+v&&i>=0+m&&r<=f-v&&s<=h-m}var Og=(a,s)=>a>s,zg=(a,s)=>a>s;function tN(a,s=[]){const r=(i,d)=>s.includes(i)?1:s.includes(d)?-1:0;return Object.keys(a).map(i=>({position:i,value:a[i]})).sort((i,d)=>d.value-i.value).sort((i,d)=>r(i.position,d.position)).filter(i=>i.value>0).map(i=>i.position)}var Vu=10;function Wu(a=Vu){return Array.isArray(a)?a.length===1?[a[0],a[0],a[0],a[0]]:a.length===2?[a[1],a[0],a[1],a[0]]:a.length===3?[a[0],a[1],a[2],a[1]]:a.length>3?[a[0],a[1],a[2],a[3]]:[Vu,Vu]:[a,a,a,a]}var nN={maskWrapper:()=>({opacity:.7,left:0,top:0,position:"fixed",zIndex:99999,pointerEvents:"none",color:"#000"}),svgWrapper:({windowWidth:a,windowHeight:s,wpt:r,wpl:i})=>({width:a,height:s,left:Number(i),top:Number(r),position:"fixed"}),maskArea:({x:a,y:s,width:r,height:i})=>({x:a,y:s,width:r,height:i,fill:"black",rx:0}),maskRect:({windowWidth:a,windowHeight:s,maskID:r})=>({x:0,y:0,width:a,height:s,fill:"currentColor",mask:`url(#${r})`}),clickArea:({windowWidth:a,windowHeight:s,clipID:r})=>({x:0,y:0,width:a,height:s,fill:"currentcolor",pointerEvents:"auto",clipPath:`url(#${r})`}),highlightedArea:({x:a,y:s,width:r,height:i})=>({x:a,y:s,width:r,height:i,pointerEvents:"auto",fill:"transparent",display:"none"})};function aN(a){return(s,r)=>{const i=nN[s](r),d=a[s];return d?d(i,r):i}}var lN=({padding:a=10,wrapperPadding:s=0,onClick:r,onClickHighlighted:i,styles:d={},sizes:h,className:f,highlightedAreaClassName:m,maskId:v,clipId:b})=>{const S=v||Rg("mask__"),p=b||Rg("clip__"),x=aN(d),[w,B,E,D]=Wu(a),[k,q,j,G]=Wu(s),{w:V,h:U}=_i(),M=Go(h?.width+D+B),N=Go(h?.height+w+E),L=Go(h?.top-w-k),O=Go(h?.left-D-G),T=V-G-q,C=U-k-j,Q=x("maskArea",{x:O,y:L,width:M,height:N}),K=x("highlightedArea",{x:O,y:L,width:M,height:N});return he.createElement("div",{style:x("maskWrapper",{}),onClick:r,className:f},he.createElement("svg",{width:T,height:C,xmlns:"http://www.w3.org/2000/svg",style:x("svgWrapper",{windowWidth:T,windowHeight:C,wpt:k,wpl:G})},he.createElement("defs",null,he.createElement("mask",{id:S},he.createElement("rect",{x:0,y:0,width:T,height:C,fill:"white"}),he.createElement("rect",{style:Q,rx:Q.rx?1:void 0})),he.createElement("clipPath",{id:p},he.createElement("polygon",{points:`0 0, 0 ${C}, ${O} ${C}, ${O} ${L}, ${O+M} ${L}, ${O+M} ${L+N}, ${O} ${L+N}, ${O} ${C}, ${T} ${C}, ${T} 0`}))),he.createElement("rect",{style:x("maskRect",{windowWidth:T,windowHeight:C,maskID:S})}),he.createElement("rect",{style:x("clickArea",{windowWidth:T,windowHeight:C,top:L,left:O,width:M,height:N,clipID:p})}),he.createElement("rect",{style:K,className:m,onClick:i,rx:K.rx?1:void 0})))},sN=lN;function Rg(a){return a+Math.random().toString(36).substring(2,16)}var rN=Object.defineProperty,si=Object.getOwnPropertySymbols,e0=Object.prototype.hasOwnProperty,t0=Object.prototype.propertyIsEnumerable,kg=(a,s,r)=>s in a?rN(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,Lg=(a,s)=>{for(var r in s||(s={}))e0.call(s,r)&&kg(a,r,s[r]);if(si)for(var r of si(s))t0.call(s,r)&&kg(a,r,s[r]);return a},oN=(a,s)=>{var r={};for(var i in a)e0.call(a,i)&&s.indexOf(i)<0&&(r[i]=a[i]);if(a!=null&&si)for(var i of si(a))s.indexOf(i)<0&&t0.call(a,i)&&(r[i]=a[i]);return r},iN={popover:()=>({position:"fixed",maxWidth:353,backgroundColor:"#fff",padding:"24px 30px",boxShadow:"0 0.5em 3em rgba(0, 0, 0, 0.3)",color:"inherit",zIndex:1e5,transition:"transform 0.3s",top:0,left:0})};function cN(a){return(s,r)=>{const i=iN[s](r),d=a[s];return d?d(i,r):i}}var uN=a=>{var s=a,{children:r,position:i="bottom",padding:d=10,styles:h={},sizes:f,refresher:m}=s,v=oN(s,["children","position","padding","styles","sizes","refresher"]);const b=y.useRef(null),S=y.useRef(""),p=y.useRef(""),x=y.useRef(""),{w,h:B}=_i(),E=cN(h),D=ZA(b,m),{width:k,height:q}=D,[j,G,V,U]=Wu(d),M=f?.left-U,N=f?.top-j,L=f?.right+G,O=f?.bottom+V,T=i&&typeof i=="function"?i({width:k,height:q,windowWidth:w,windowHeight:B,top:N,left:M,right:L,bottom:O,x:f.x,y:f.y},D):i,C={left:M,right:w-L,top:N,bottom:B-O},Q=($,X,le)=>{switch($){case"top":return C.top>q+V;case"right":return X?!1:C.right>k+U;case"bottom":return le?!1:C.bottom>q+j;case"left":return C.left>k+G;default:return!1}},K=($,X,le)=>{const Z=tN(C,le?["right","left"]:X?["top","bottom"]:[]);for(let ge=0;ge<Z.length;ge++)if(Q(Z[ge],X,le))return S.current=Z[ge],$[Z[ge]];return S.current="center",$.center},z=($=>{if(Array.isArray($)){const fe=Og($[0],w),_e=zg($[1],B);return S.current="custom",[fe?w/2-k/2:$[0],_e?B/2-q/2:$[1]]}const X=Og(M+k,w),le=zg(O+q,B),Z=X?Math.min(M,w-k):Math.max(M,0),ge=le?q>C.bottom?Math.max(O-q,0):Math.max(N,0):N;le&&q>C.bottom?p.current="bottom":p.current="top",X?x.current="left":x.current="right";const ue={top:[Z-U,N-q-V],right:[L+U,ge-j],bottom:[Z-U,O+j],left:[M-k-G,ge-j],center:[w/2-k/2,B/2-q/2]};return $==="center"||Q($,X,le)&&!X&&!le?(S.current=$,ue[$]):K(ue,X,le)})(T);return he.createElement("div",Lg({className:"reactour__popover",style:Lg({transform:`translate(${Math.round(z[0])}px, ${Math.round(z[1])}px)`},E("popover",{position:S.current,verticalAlign:p.current,horizontalAlign:x.current,helperRect:D,targetRect:f})),ref:b},v),r)},dN=uN,fN=Object.defineProperty,hN=Object.defineProperties,mN=Object.getOwnPropertyDescriptors,ri=Object.getOwnPropertySymbols,n0=Object.prototype.hasOwnProperty,a0=Object.prototype.propertyIsEnumerable,Bg=(a,s,r)=>s in a?fN(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,Kt=(a,s)=>{for(var r in s||(s={}))n0.call(s,r)&&Bg(a,r,s[r]);if(ri)for(var r of ri(s))a0.call(s,r)&&Bg(a,r,s[r]);return a},_d=(a,s)=>hN(a,mN(s)),jr=(a,s)=>{var r={};for(var i in a)n0.call(a,i)&&s.indexOf(i)<0&&(r[i]=a[i]);if(a!=null&&ri)for(var i of ri(a))s.indexOf(i)<0&&a0.call(a,i)&&(r[i]=a[i]);return r},gN={bottom:0,height:0,left:0,right:0,top:0,width:0,windowWidth:0,windowHeight:0,x:0,y:0};function pN(a,s={block:"center",behavior:"smooth",inViewThreshold:0}){const[r,i]=y.useState(!1),[d,h]=y.useState(!1),[f,m]=y.useState(!1),[v,b]=y.useState(null),[S,p]=y.useState(gN),x=a?.selector instanceof Element?a?.selector:document.querySelector(a?.selector),w=y.useCallback(()=>{const E=Ug(x,a?.highlightedSelectors,a?.bypassElem),{hasHighligtedElems:D}=E,k=jr(E,["hasHighligtedElems"]);Object.entries(S).some(([q,j])=>k[q]!==j)&&p(k)},[x,a?.highlightedSelectors,S]);y.useEffect(()=>(w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[x,a?.highlightedSelectors,v]),y.useEffect(()=>{!eN(_d(Kt({},S),{threshold:s.inViewThreshold}))&&x&&(i(!0),JA(x,s).then(()=>{d||b(Date.now())}).finally(()=>{i(!1)}))},[S]);const B=y.useCallback(()=>{h(!0);const E=Ug(x,a?.highlightedSelectors,a?.bypassElem),{hasHighligtedElems:D}=E,k=jr(E,["hasHighligtedElems"]);m(D),p(k),h(!1)},[x,a?.highlightedSelectors,S]);return{sizes:S,transition:r,target:x,observableRefresher:B,isHighlightingObserved:f}}function Ug(a,s=[],r=!0){let i=!1;const{w:d,h}=_i();if(!s)return _d(Kt({},Ko(a)),{windowWidth:d,windowHeight:h,hasHighligtedElems:!1});let f=Ko(a),m={bottom:0,height:0,left:d,right:0,top:h,width:0};for(const b of s){const S=document.querySelector(b);if(!S||S.style.display==="none"||S.style.visibility==="hidden")continue;const p=Ko(S);i=!0,r||!a?(p.top<m.top&&(m.top=p.top),p.right>m.right&&(m.right=p.right),p.bottom>m.bottom&&(m.bottom=p.bottom),p.left<m.left&&(m.left=p.left),m.width=m.right-m.left,m.height=m.bottom-m.top):(p.top<f.top&&(f.top=p.top),p.right>f.right&&(f.right=p.right),p.bottom>f.bottom&&(f.bottom=p.bottom),p.left<f.left&&(f.left=p.left),f.width=f.right-f.left,f.height=f.bottom-f.top)}const v=r||!a?m.width>0&&m.height>0:!1;return{left:(v?m:f).left,top:(v?m:f).top,right:(v?m:f).right,bottom:(v?m:f).bottom,width:(v?m:f).width,height:(v?m:f).height,windowWidth:d,windowHeight:h,hasHighligtedElems:i,x:f.x,y:f.y}}var vN=({disableKeyboardNavigation:a,setCurrentStep:s,currentStep:r,setIsOpen:i,stepsLength:d,disable:h,rtl:f,clickProps:m,keyboardHandler:v})=>{function b(S){if(S.stopPropagation(),a===!0||h)return;let p,x,w;a&&(p=a.includes("esc"),x=a.includes("right"),w=a.includes("left"));function B(){s(Math.min(r+1,d-1))}function E(){s(Math.max(r-1,0))}v&&typeof v=="function"?v(S,m,{isEscDisabled:p,isRightDisabled:x,isLeftDisabled:w}):(S.keyCode===27&&!p&&(S.preventDefault(),i(!1)),S.keyCode===39&&!x&&(S.preventDefault(),f?E():B()),S.keyCode===37&&!w&&(S.preventDefault(),f?B():E()))}return y.useEffect(()=>(window.addEventListener("keydown",b,!1),()=>{window.removeEventListener("keydown",b)}),[h,s,r]),null},yN=vN,bN={badge:()=>({position:"absolute",fontFamily:"monospace",background:"var(--reactour-accent,#007aff)",height:"1.875em",lineHeight:2,paddingLeft:"0.8125em",paddingRight:"0.8125em",fontSize:"1em",borderRadius:"1.625em",color:"white",textAlign:"center",boxShadow:"0 0.25em 0.5em rgba(0, 0, 0, 0.3)",top:"-0.8125em",left:"-0.8125em"}),controls:()=>({display:"flex",marginTop:24,alignItems:"center",justifyContent:"space-between"}),navigation:()=>({counterReset:"dot",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}),button:({disabled:a})=>({display:"block",padding:0,border:0,background:"none",cursor:a?"not-allowed":"pointer"}),arrow:({disabled:a})=>({color:a?"#caccce":"#646464",width:16,height:12,flex:"0 0 16px"}),dot:({current:a,disabled:s,showNumber:r})=>({counterIncrement:"dot",width:8,height:8,border:a?"0":"1px solid #caccce",borderRadius:"100%",padding:0,display:"block",margin:4,transition:"opacity 0.3s, transform 0.3s",cursor:s?"not-allowed":"pointer",transform:`scale(${a?1.25:1})`,color:a?"var(--reactour-accent, #007aff)":"#caccce",background:a?"var(--reactour-accent, #007aff)":"none"}),close:({disabled:a})=>({position:"absolute",top:22,right:22,width:9,height:9,"--rt-close-btn":a?"#caccce":"#5e5e5e","--rt-close-btn-disabled":a?"#caccce":"#000"}),svg:()=>({display:"block"})};function xi(a){return(s,r)=>{const i=bN[s](r),d=a[s];return d?d(i,r):i}}var SN=({styles:a={},children:s})=>{const r=xi(a);return he.createElement("span",{style:r("badge",{})},s)},_N=SN,xN=a=>{var s=a,{styles:r={},onClick:i,disabled:d}=s,h=jr(s,["styles","onClick","disabled"]);const f=xi(r);return he.createElement("button",Kt({className:"reactour__close-button",style:Kt(Kt({},f("button",{})),f("close",{disabled:d})),onClick:i},h),he.createElement("svg",{viewBox:"0 0 9.1 9.1","aria-hidden":!0,role:"presentation",style:Kt({},f("svg",{}))},he.createElement("path",{fill:"currentColor",d:"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z"})))},wN=xN,CN=({content:a,setCurrentStep:s,transition:r,isHighlightingObserved:i,currentStep:d,setIsOpen:h})=>typeof a=="function"?a({setCurrentStep:s,transition:r,isHighlightingObserved:i,currentStep:d,setIsOpen:h}):a,TN=CN,jN=({styles:a={},steps:s,setCurrentStep:r,currentStep:i,setIsOpen:d,nextButton:h,prevButton:f,disableDots:m,hideDots:v,hideButtons:b,disableAll:S,rtl:p,Arrow:x=l0})=>{const w=s.length,B=xi(a),E=({onClick:D,kind:k="next",children:q,hideArrow:j})=>{function G(){S||(D&&typeof D=="function"?D():r(k==="next"?Math.min(i+1,w-1):Math.max(i-1,0)))}return he.createElement("button",{style:B("button",{kind:k,disabled:S||(k==="next"?w-1===i:i===0)}),onClick:G,"aria-label":`Go to ${k} step`},j?null:he.createElement(x,{styles:a,inverted:p?k==="prev":k==="next",disabled:S||(k==="next"?w-1===i:i===0)}),q)};return he.createElement("div",{style:B("controls",{}),dir:p?"rtl":"ltr"},b?null:f&&typeof f=="function"?f({Button:E,setCurrentStep:r,currentStep:i,stepsLength:w,setIsOpen:d,steps:s}):he.createElement(E,{kind:"prev"}),v?null:he.createElement("div",{style:B("navigation",{})},Array.from({length:w},(D,k)=>k).map(D=>{var k;return he.createElement("button",{style:B("dot",{current:D===i,disabled:m||S}),onClick:()=>{!m&&!S&&r(D)},key:`navigation_dot_${D}`,"aria-label":((k=s[D])==null?void 0:k.navDotAriaLabel)||`Go to step ${D+1}`})})),b?null:h&&typeof h=="function"?h({Button:E,setCurrentStep:r,currentStep:i,stepsLength:w,setIsOpen:d,steps:s}):he.createElement(E,null))},EN=jN,l0=({styles:a={},inverted:s=!1,disabled:r})=>{const i=xi(a);return he.createElement("svg",{viewBox:"0 0 18.4 14.4",style:i("arrow",{inverted:s,disabled:r})},he.createElement("path",{d:s?"M17 7.2H1M10.8 1L17 7.2l-6.2 6.2":"M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10"}))},s0={Badge:_N,Close:wN,Content:TN,Navigation:EN,Arrow:l0},AN=a=>Kt(Kt({},s0),a),NN=({styles:a,components:s={},badgeContent:r,accessibilityOptions:i,disabledActions:d,onClickClose:h,steps:f,setCurrentStep:m,currentStep:v,transition:b,isHighlightingObserved:S,setIsOpen:p,nextButton:x,prevButton:w,disableDotsNavigation:B,rtl:E,showPrevNextButtons:D=!0,showCloseButton:k=!0,showNavigation:q=!0,showBadge:j=!0,showDots:G=!0,meta:V,setMeta:U,setSteps:M})=>{const N=f[v],{Badge:L,Close:O,Content:T,Navigation:C,Arrow:Q}=AN(s),K=r&&typeof r=="function"?r({currentStep:v,totalSteps:f.length,transition:b}):v+1;function oe(){d||(h&&typeof h=="function"?h({setCurrentStep:m,setIsOpen:p,currentStep:v,steps:f,meta:V,setMeta:U,setSteps:M}):p(!1))}return he.createElement(he.Fragment,null,j?he.createElement(L,{styles:a},K):null,k?he.createElement(O,{styles:a,"aria-label":i?.closeButtonAriaLabel,disabled:d,onClick:oe}):null,he.createElement(T,{content:N?.content,setCurrentStep:m,currentStep:v,transition:b,isHighlightingObserved:S,setIsOpen:p}),q?he.createElement(C,{setCurrentStep:m,currentStep:v,setIsOpen:p,steps:f,styles:a,"aria-hidden":!i?.showNavigationScreenReaders,nextButton:x,prevButton:w,disableDots:B,hideButtons:!D,hideDots:!G,disableAll:d,rtl:E,Arrow:Q}):null)},DN=NN,MN=a=>{var s=a,{currentStep:r,setCurrentStep:i,setIsOpen:d,steps:h=[],setSteps:f,styles:m={},scrollSmooth:v,afterOpen:b,beforeClose:S,padding:p=10,position:x,onClickMask:w,onClickHighlighted:B,keyboardHandler:E,className:D="reactour__popover",maskClassName:k="reactour__mask",highlightedMaskClassName:q,clipId:j,maskId:G,disableInteraction:V,disableKeyboardNavigation:U,inViewThreshold:M,disabledActions:N,setDisabledActions:L,disableWhenSelectorFalsy:O,rtl:T,accessibilityOptions:C={closeButtonAriaLabel:"Close Tour",showNavigationScreenReaders:!0},ContentComponent:Q,Wrapper:K,meta:oe,setMeta:z,onTransition:$=()=>"center"}=s,X=jr(s,["currentStep","setCurrentStep","setIsOpen","steps","setSteps","styles","scrollSmooth","afterOpen","beforeClose","padding","position","onClickMask","onClickHighlighted","keyboardHandler","className","maskClassName","highlightedMaskClassName","clipId","maskId","disableInteraction","disableKeyboardNavigation","inViewThreshold","disabledActions","setDisabledActions","disableWhenSelectorFalsy","rtl","accessibilityOptions","ContentComponent","Wrapper","meta","setMeta","onTransition"]),le;const Z=h[r],ge=Kt(Kt({},m),Z?.styles),{sizes:ue,transition:fe,observableRefresher:_e,isHighlightingObserved:Ge,target:Ae}=pN(Z,{block:"center",behavior:v?"smooth":"auto",inViewThreshold:M});y.useEffect(()=>(b&&typeof b=="function"&&b(Ae),()=>{S&&typeof S=="function"&&S(Ae)}),[]);const{maskPadding:tt,popoverPadding:ct,wrapperPadding:bt}=zN((le=Z?.padding)!=null?le:p),Xe={setCurrentStep:i,setIsOpen:d,currentStep:r,setSteps:f,steps:h,setMeta:z,meta:oe};function pe(){N||(w&&typeof w=="function"?w(Xe):d(!1))}const Me=typeof Z?.stepInteraction=="boolean"?!Z?.stepInteraction:V?typeof V=="boolean"?V:V(Xe):!1;y.useEffect(()=>(Z?.action&&typeof Z?.action=="function"&&Z?.action(Ae),Z?.disableActions!==void 0&&L(Z?.disableActions),()=>{Z?.actionAfter&&typeof Z?.actionAfter=="function"&&Z?.actionAfter(Ae)}),[Z]);const Ze=fe?$:Z?.position?Z?.position:x,nt=K||he.Fragment;return Z?he.createElement(nt,null,he.createElement(KA,{mutationObservables:Z?.mutationObservables,resizeObservables:Z?.resizeObservables,refresh:_e}),he.createElement(yN,{setCurrentStep:i,currentStep:r,setIsOpen:d,stepsLength:h.length,disableKeyboardNavigation:U,disable:N,rtl:T,clickProps:Xe,keyboardHandler:E}),(!O||Ae)&&he.createElement(sN,{sizes:fe?RN:ue,onClick:pe,styles:Kt({highlightedArea:me=>_d(Kt({},me),{display:Me?"block":"none"})},ge),padding:fe?0:tt,highlightedAreaClassName:q,className:k,onClickHighlighted:me=>{me.preventDefault(),me.stopPropagation(),B&&B(me,Xe)},wrapperPadding:bt,clipId:j,maskId:G}),(!O||Ae)&&he.createElement(dN,{sizes:ue,styles:ge,position:Ze,padding:ct,"aria-labelledby":C?.ariaLabelledBy,className:D,refresher:r},Q?he.createElement(Q,Kt({styles:ge,setCurrentStep:i,currentStep:r,setIsOpen:d,steps:h,accessibilityOptions:C,disabledActions:N,transition:fe,isHighlightingObserved:Ge,rtl:T},X)):he.createElement(DN,Kt({styles:ge,setCurrentStep:i,currentStep:r,setIsOpen:d,steps:h,setSteps:f,accessibilityOptions:C,disabledActions:N,transition:fe,isHighlightingObserved:Ge,rtl:T,meta:oe,setMeta:z},X)))):null},ON=MN;function zN(a){return typeof a=="object"&&a!==null?{maskPadding:a.mask,popoverPadding:a.popover,wrapperPadding:a.wrapper}:{maskPadding:a,popoverPadding:a,wrapperPadding:0}}var RN={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},kN={isOpen:!1,setIsOpen:()=>!1,currentStep:0,setCurrentStep:()=>0,steps:[],setSteps:()=>[],setMeta:()=>"",disabledActions:!1,setDisabledActions:()=>!1,components:{}},r0=he.createContext(kN),LN=a=>{var s=a,{children:r,defaultOpen:i=!1,startAt:d=0,steps:h,setCurrentStep:f,currentStep:m}=s,v=jr(s,["children","defaultOpen","startAt","steps","setCurrentStep","currentStep"]);const[b,S]=y.useState(i),[p,x]=y.useState(d),[w,B]=y.useState(h),[E,D]=y.useState(""),[k,q]=y.useState(!1),j=Kt({isOpen:b,setIsOpen:S,currentStep:m||p,setCurrentStep:f&&typeof f=="function"?f:x,steps:w,setSteps:B,disabledActions:k,setDisabledActions:q,meta:E,setMeta:D},v);return he.createElement(r0.Provider,{value:j},r,b?he.createElement(ON,Kt({},j)):null)};function BN(){return y.useContext(r0)}const UN="_mask_1gwgn_1",$N="_tour_1gwgn_17",HN="_helpButton_1gwgn_58",ed={mask:UN,tour:$N,helpButton:HN},{Badge:VN,Close:qN,Navigation:IN}=s0,$g=y.createContext({loaded:!1}),PN=({children:a})=>{function s(){const{i18n:d}=At(),[h,f]=y.useState([]);return y.useEffect(()=>{(async()=>{try{const v=d.language?.split("-")[0]||"en",S=await(await fetch(`/beta/HTMLPlayerBeta/locales/${v}/tour.json`)).json();f(S)}catch(v){console.error("Failed to load tour configuration:",v),f([])}})()},[d.language]),h}const r=s(),i=r.map(({key:d,title:h,content:f,extraContent:m,position:v})=>({selector:`[data-tour="${d}"]`,content:c.jsxs("div",{children:[c.jsx("h3",{children:h}),c.jsx("p",{children:f}),m&&c.jsx("p",{children:m})]}),position:v}));return r.length?c.jsx($g.Provider,{value:{loaded:!0},children:c.jsx(LN,{steps:i,styles:{popover:d=>({...d,backgroundColor:"var(--primary-foreground)",color:"var(--text-color)",border:"1px solid var(--color-border)",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)",fontFamily:"var(--font-family)",animation:"fadeIn 0.3s ease-out"}),maskArea:d=>({...d,rx:12,animation:"pulse 2s infinite"}),badge:d=>({...d,backgroundColor:"var(--color-accent)",color:"var(--color-accent-text)"}),controls:d=>({...d,marginTop:20}),close:d=>({...d,color:"var(--color-text-secondary)",right:10,top:10})},components:{Badge:d=>c.jsx(VN,{...d,children:c.jsx(ne,{name:"sparkles",size:14,decorative:!0})}),Close:({...d})=>c.jsx(qN,{...d,children:c.jsx(ne,{name:"x",size:16,decorative:!0})}),Navigation:({...d})=>c.jsxs(IN,{...d,children:[c.jsx(de,{variant:"outline",size:"sm",children:c.jsx(ne,{name:"chevronLeft",size:14,decorative:!0})}),c.jsx(de,{variant:"outline",size:"sm",children:c.jsx(ne,{name:"chevronRight",size:14,decorative:!0})})]})},onClickMask:()=>{},showCloseButton:!0,showNavigation:!0,showBadge:!0,scrollSmooth:!0,maskClassName:ed.mask,className:ed.tour,children:a})}):c.jsx($g.Provider,{value:{loaded:!1},children:a})},FN=()=>{const{setIsOpen:a}=BN(),{t:s}=At();return c.jsxs(de,{variant:"ghost",className:ed.helpButton,onClick:()=>a(!0),"aria-label":s("help.startTour"),children:[c.jsx(ne,{name:"circleQuestionMark",size:16,decorative:!0}),s("help.startTour")]})},YN="40px",GN="250px",XN=y.memo(({musicPlayerHook:a,onCollapseChange:s,onShortcutsChanged:r,settingsOpen:i,onSettingsOpenChange:d,isMobileOpen:h,onMobileOpenChange:f})=>{const{t:m}=At(),[v,b]=y.useState(!1),[S,p]=y.useState(!1),[x,w]=y.useState(!1),{settings:B,updateSettings:E}=a;y.useEffect(()=>{const M=()=>{w(window.innerWidth<=768)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),y.useLayoutEffect(()=>{document.documentElement.style.setProperty("--sidebar-width",S?YN:GN)},[S]);const D=i!==void 0?i:!1,k=d||(()=>{}),q=()=>{b(!0)},j=()=>{k(!D)},G=()=>{if(x)f?.(!1);else{const M=!S;p(M),s?.(M)}},V=()=>{p(!1),s?.(!1)},U=()=>{x&&f?.(!1)};return S&&!x?c.jsx("div",{className:`${cn.sidebar} ${cn.collapsed}`,onClick:V,children:c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${cn.expandButton} ${cn.noHover}`,onClick:V,"aria-label":m("expandSidebar"),children:c.jsx(ne,{name:"chevronRight",size:16,decorative:!0})})}):c.jsxs(c.Fragment,{children:[x&&h&&c.jsx("div",{className:cn.backdrop,onClick:U,"aria-label":m("closeSidebar")}),c.jsxs("div",{className:`${cn.sidebar} ${x&&h?cn.sidebarMobileOpen:""} ${x&&!h?cn.sidebarMobileClosed:""}`,"data-tour":"sidebar",children:[c.jsxs("div",{className:cn.header,children:[c.jsx(de,{variant:"ghost",size:"icon-md",className:cn.menuButton,onClick:G,"aria-label":m("menu"),children:c.jsx(ne,{name:"menu",size:24,decorative:!0})}),c.jsx("h2",{className:cn.title,children:m("playlists")})]}),c.jsx(Gb,{musicPlayerHook:a}),c.jsxs("div",{className:cn.footer,children:[c.jsx($1,{}),c.jsxs(de,{variant:"ghost",className:cn.footerButton,onClick:q,children:[c.jsx(ne,{name:"info",size:16,decorative:!0}),m("aboutMenu")]}),c.jsx(FN,{}),c.jsxs(de,{variant:"ghost",className:cn.footerButton,onClick:j,"data-tour":"settings",children:[c.jsx(ne,{name:"settings",size:16,decorative:!0}),m("settings.title")]}),c.jsx(HT,{open:D,onOpenChange:k,settings:B,onSettingsChange:E,onShortcutsChanged:r})]}),c.jsx(Rn,{open:v,onOpenChange:b,children:c.jsxs(yn,{children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:m("aboutHTMLPlayer")}),c.jsx(kn,{children:m("aboutHTMLPlayerDesc")})]}),c.jsx(qn,{children:c.jsx(de,{onClick:()=>b(!1),children:m("common.close")})})]})})]})]})},(a,s)=>a.musicPlayerHook.library.playlists===s.musicPlayerHook.library.playlists&&a.musicPlayerHook.library.songs===s.musicPlayerHook.library.songs&&a.musicPlayerHook.library.favorites===s.musicPlayerHook.library.favorites&&a.musicPlayerHook.settings===s.musicPlayerHook.settings&&a.settingsOpen===s.settingsOpen&&a.isMobileOpen===s.isMobileOpen),o0=({songs:a,library:s,onCreatePlaylist:r,onAddToPlaylist:i,onAddToFavorites:d,isFavorited:h,open:f,onOpenChange:m})=>{const{t:v}=At(),[b,S]=y.useState(""),[p,x]=y.useState(""),[w,B]=y.useState(!1),E=U=>{const M=[];for(const N of U)"children"in N?M.push(...E(N.children)):"songs"in N&&M.push(N);return M},D=E(s.playlists).filter(U=>U.id!=="all-songs"),k=b?D.filter(U=>U.name.toLowerCase().includes(b.toLowerCase())):D,q=U=>{let M=0,N=0;a.forEach(L=>{U.songs.some(T=>T.id===L.id)?N++:(i(U.id,L.id),M++)}),M>0&&ce.success(a.length===1?v("addedToPlaylist",{song:a[0].title,playlist:U.name}):v("playlist.addedToExisting",{count:M})),N>0&&ce.info(a.length===1?v("songAlreadyInPlaylist",{song:a[0].title,playlist:U.name}):v("playlist.someAlreadyInPlaylist",{count:N})),m(!1),S("")},j=()=>{if(!p.trim()){ce.error(v("playlist.enterPlaylistName"));return}const U=r(p,a);ce.success(a.length===1?v("createdNewPlaylistAddedSong",{playlist:U.name,song:a[0].title}):v("playlist.created",{name:U.name,count:a.length})),x(""),B(!1),m(!1),S("")},G=()=>{if(!d)return;let U=0,M=0;a.forEach(N=>{h&&h(N.id)?M++:(d(N.id),U++)}),U>0&&ce.success(a.length===1?v("favorites.added",{title:a[0].title}):v("favorites.addedMultiple",{count:U})),M>0&&a.length>1&&ce.info(v("favorites.someAlreadyAdded",{count:M})),m(!1)},V=()=>{m(!1),S(""),B(!1),x("")};return c.jsx(Rn,{open:f,onOpenChange:V,children:c.jsxs(yn,{children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:v("actions.addTo")}),c.jsx(kn,{children:a.length===1?v("choosePlaylistOrCreate",{song:a[0].title}):v("choosePlaylistOrCreateMultiple",{count:a.length})})]}),w?c.jsxs("div",{className:He.spaceY4,children:[c.jsx(el,{placeholder:v("playlist.enterPlaylistName"),value:p,onChange:U=>x(U.target.value),onKeyDown:U=>{U.key==="Enter"&&j()},autoFocus:!0}),c.jsxs("div",{className:`${He.flex} ${He.gap2}`,children:[c.jsx(de,{variant:"outline",onClick:()=>{B(!1),x("")},children:v("common.cancel")}),c.jsx(de,{onClick:j,children:v("playlist.createPlaylist")})]})]}):c.jsxs("div",{className:He.spaceY4,children:[d&&c.jsxs("div",{className:He.spaceY2,children:[c.jsxs(de,{variant:"outline",className:`${He["w-full"]} ${He["justify-start"]}`,onClick:G,children:[c.jsx(ne,{name:"heart",size:16,className:"mr-2",decorative:!0}),v("favorites.addToFavorites")]}),c.jsxs(de,{variant:"outline",className:`${He["w-full"]} ${He["justify-start"]}`,onClick:()=>B(!0),children:[c.jsx(ne,{name:"plusCircle",size:16,className:"mr-2",decorative:!0}),v("playlist.createNewPlaylist")]})]}),!d&&c.jsxs(de,{variant:"outline",className:`${He["w-full"]} ${He["justify-start"]}`,onClick:()=>B(!0),children:[c.jsx(ne,{name:"plusCircle",size:16,className:"mr-2",decorative:!0}),v("playlist.createNewPlaylist")]}),D.length>0&&c.jsx("div",{style:{borderTop:"1px solid var(--border)",margin:"var(--spacing-2) 0"}}),D.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{position:"relative"},children:[c.jsx(ne,{name:"search",size:16,style:{position:"absolute",left:"var(--spacing-3)",top:"50%",transform:"translateY(-50%)",color:"var(--muted-foreground)",pointerEvents:"none"},decorative:!0}),c.jsx(el,{placeholder:v("playlist.searchPlaylists"),value:b,onChange:U=>S(U.target.value),style:{paddingLeft:"calc(var(--spacing-3) + 16px + var(--spacing-2))"}})]}),c.jsx("div",{className:He.spaceY2,style:{maxHeight:"300px",overflowY:"auto",paddingRight:"var(--spacing-2)"},children:k.length>0?k.map(U=>c.jsxs(de,{variant:"outline",className:`${He["w-full"]} ${He["justify-start"]}`,onClick:()=>q(U),children:[c.jsx(ne,{name:"music",size:16,className:"mr-2",decorative:!0}),U.name]},U.id)):c.jsx("p",{className:He.muted,children:v("search.noPlaylistsFound")})})]}),D.length===0&&c.jsx("p",{className:He.muted,children:v("playlist.noPlaylists")})]})]})})},i0=({song:a,library:s,onCreatePlaylist:r,onAddToPlaylist:i,onAddToFavorites:d,isFavorited:h,onRemoveSong:f,size:m=16,className:v="",open:b,onOpenChange:S})=>{const{t:p}=At(),[x,w]=y.useState(!1),[B,E]=y.useState(!1),[D,k]=y.useState(!1),[q,j]=y.useState(!1),G=b!==void 0?b:q,V=S||j,U=pe=>{const Me=Math.round(pe),Ze=Math.floor(Me/60),nt=Me%60;return`${Ze}:${nt.toString().padStart(2,"0")}`},M=pe=>{if(typeof pe!="number"||!Number.isFinite(pe)||pe<=0)return null;const Me=Math.round(pe/1e3);return p("songInfo.kbps",{value:Me.toLocaleString()})},N=pe=>{if(typeof pe!="number"||!Number.isFinite(pe)||pe<=0)return null;const Me=pe/1e3,Ze=Me>=100?Me.toFixed(0):Me>=10?Me.toFixed(1):Me.toFixed(2);return p("songInfo.khz",{value:Ze})},L=pe=>typeof pe!="number"||!Number.isFinite(pe)||pe<=0?null:pe===1?p("songInfo.channelMono"):pe===2?p("songInfo.channelStereo"):p("songInfo.channelCount",{count:pe}),O=pe=>typeof pe!="number"||!Number.isFinite(pe)||pe<=0?null:p("songInfo.bitDepthValue",{value:pe}),T=pe=>pe?.trim()||null,C=pe=>typeof pe!="boolean"?null:p(pe?"songInfo.yes":"songInfo.no"),Q=a.encoding?.sampleRate,K=pe=>{if(typeof pe!="number"||!Number.isFinite(pe)||pe<=0)return null;const Me=p("songInfo.samples",{count:Math.round(pe),defaultValue:`${Math.round(pe).toLocaleString()} samples`});if(typeof Q=="number"&&Number.isFinite(Q)&&Q>0){const Ze=pe/Q*1e3,nt=Ze>=100?0:Ze>=10?1:2,me=(Math.round(Ze*Math.pow(10,nt))/Math.pow(10,nt)).toFixed(nt);return`${Me} (${p("songInfo.ms",{value:me})})`}return Me},oe=[{label:p("songInfo.title"),value:a.title},{label:p("common.artist"),value:a.artist},{label:p("common.album"),value:a.album},{label:p("common.duration"),value:U(a.duration)}],z=T(a.encoding?.codec)??p("songInfo.notAvailable"),$=M(a.encoding?.bitrate)??p("songInfo.notAvailable"),X=N(a.encoding?.sampleRate)??p("songInfo.notAvailable"),le=L(a.encoding?.channels)??p("songInfo.notAvailable"),Z=O(a.encoding?.bitsPerSample)??p("songInfo.notAvailable"),ge=[{label:p("songInfo.codec"),value:z},{label:p("songInfo.bitrate"),value:$},{label:p("songInfo.sampleRate"),value:X},{label:p("songInfo.channels"),value:le},{label:p("songInfo.bitDepth"),value:Z}];a.encoding?.container?.trim()&&ge.push({label:p("songInfo.container"),value:a.encoding.container.trim()}),a.encoding?.profile?.trim()&&ge.push({label:p("songInfo.profile"),value:a.encoding.profile.trim()});const ue=C(a.encoding?.lossless);ue&&ge.push({label:p("songInfo.lossless"),value:ue});const fe=[{label:p("songInfo.encoderDelay"),value:K(a.gapless?.encoderDelay)},{label:p("songInfo.encoderPadding"),value:K(a.gapless?.encoderPadding)}].filter(pe=>!!pe.value),_e=pe=>c.jsx("dl",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr) auto",columnGap:"var(--spacing-6)",rowGap:"var(--spacing-2)"},children:pe.map(({label:Me,value:Ze})=>c.jsxs(y.Fragment,{children:[c.jsx("dt",{style:{fontWeight:600},children:Me}),c.jsx("dd",{style:{margin:0,textAlign:"right",color:"var(--muted-foreground)"},children:Ze})]},`${Me}-${Ze}`))}),Ge=()=>k(!0),Ae=async()=>{const pe={title:`${a.title} - ${a.artist}`,text:p("listenToSong",{song:a.title,artist:a.artist}),url:window.location.href};try{if(navigator.share&&navigator.canShare&&navigator.canShare(pe))await navigator.share(pe),ce.success(p("songShared"));else{const Me=` ${pe.title}
${pe.text}
${pe.url}`;await navigator.clipboard.writeText(Me),ce.success(p("songInfoCopied"))}}catch(Me){console.error("Failed to share:",Me);try{await navigator.clipboard.writeText(`${a.title} by ${a.artist}`),ce.success(p("songInfoCopied"))}catch(Ze){console.error("Failed to copy to clipboard:",Ze),ce.error(p("songShareFailed"))}}},tt=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{view:"artist",value:a.artist}}))},ct=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{view:"album",value:a.album}}))},bt=async()=>{if(!await en.shouldShowDialog("delete-song-confirmation")){f(a.id),ce.success(p("deletedFromLibrary",{song:a.title}));return}E(!0)},Xe=()=>{f(a.id),ce.success(p("deletedFromLibrary",{song:a.title})),E(!1)};return c.jsxs(ds,{open:G,onOpenChange:V,children:[c.jsx(fs,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon-sm",className:v,title:p("moreOptions"),onClick:pe=>pe.stopPropagation(),children:c.jsx(ne,{name:"moreHorizontal",size:m,decorative:!0})})}),c.jsxs(Tl,{align:"end",sideOffset:8,children:[c.jsxs(yt,{onClick:()=>w(!0),children:[c.jsx(ne,{name:"plus",size:m,style:{marginRight:8},decorative:!0}),p("playlist.addTo")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:Ge,children:[c.jsx(ne,{name:"info",size:m,style:{marginRight:8},decorative:!0}),p("songInfo.songInfoTitle")]}),c.jsxs(yt,{onClick:Ae,children:[c.jsx(ne,{name:"share",size:m,style:{marginRight:8},decorative:!0}),p("share")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:tt,children:[c.jsx(ne,{name:"user",size:m,style:{marginRight:8},decorative:!0}),p("goToArtist")]}),c.jsxs(yt,{onClick:ct,children:[c.jsx(ne,{name:"music",size:m,style:{marginRight:8},decorative:!0}),p("goToAlbum")]}),c.jsx(na,{}),c.jsxs(yt,{onClick:bt,className:He.delete,children:[c.jsx(ne,{name:"trash2",size:m,style:{marginRight:8},decorative:!0}),p("deleteFromLibrary")]})]}),c.jsx(o0,{songs:[a],library:s,onCreatePlaylist:r,onAddToPlaylist:i,onAddToFavorites:d,isFavorited:h,open:x,onOpenChange:w}),c.jsx(Rn,{open:B,onOpenChange:E,children:c.jsxs(yn,{dontShowAgainKey:"delete-song-confirmation",children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:p("deleteSong")}),c.jsx(kn,{children:p("deleteSongConfirmation",{song:a.title})})]}),c.jsxs(qn,{children:[c.jsx(de,{variant:"outline",onClick:()=>E(!1),children:p("common.cancel")}),c.jsx(de,{variant:"destructive",onClick:Xe,children:p("common.delete")})]})]})}),c.jsx(Rn,{open:D,onOpenChange:k,children:c.jsxs(yn,{children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:p("songInformation")}),c.jsx(kn,{children:p("songInformationDescription")})]}),c.jsxs("div",{style:{display:"flex",gap:"var(--spacing-4)"},children:[a.albumArt&&c.jsx("img",{src:a.albumArt,alt:a.album,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"var(--radius-2)"}}),c.jsxs("div",{className:He.spaceY4,style:{flex:1},children:[c.jsx("div",{children:_e(oe)}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:0,marginBottom:"var(--spacing-2)",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.08em",color:"var(--muted-foreground)"},children:p("songInfo.encodingDetails")}),_e(ge)]}),fe.length>0&&c.jsxs("div",{children:[c.jsx("h4",{style:{margin:0,marginBottom:"var(--spacing-2)",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.08em",color:"var(--muted-foreground)"},children:p("songInfo.gapless")}),_e(fe)]})]})]}),c.jsx(qn,{children:c.jsx(de,{onClick:()=>k(!1),children:p("common.close")})})]})})]})};function QN(a){if(!a)return;const s={bitrate:typeof a.bitrate=="number"?a.bitrate:void 0,codec:typeof a.codec=="string"?a.codec:void 0,sampleRate:typeof a.sampleRate=="number"?a.sampleRate:void 0,channels:typeof a.numberOfChannels=="number"?a.numberOfChannels:void 0,bitsPerSample:typeof a.bitsPerSample=="number"?a.bitsPerSample:void 0,container:typeof a.container=="string"?a.container:void 0,lossless:typeof a.lossless=="boolean"?a.lossless:void 0,profile:typeof a.codecProfile=="string"?a.codecProfile:void 0};return Object.values(s).some(r=>r!==void 0)?s:void 0}function c0(a){if(typeof a=="string")return a;if(a instanceof Uint8Array)try{return new TextDecoder("utf-8",{fatal:!1}).decode(a)}catch{return null}return Array.isArray(a)&&a.length>0?c0(a[0]):null}function Hg(a){const s=c0(a);if(!s)return null;const r=s.trim();if(!r)return null;const i=r.match(/[0-9A-Fa-f]{8}/g);if(!i||i.length<3)return null;const d=i[1],h=i[2],f=Number.parseInt(d,16),m=Number.parseInt(h,16),v={};return Number.isFinite(f)&&f>0&&(v.encoderDelay=f),Number.isFinite(m)&&m>0&&(v.encoderPadding=m),Object.keys(v).length>0?v:null}function KN(a){if(!a)return;let s;const r=a.format??{},i=typeof r.encoderDelay=="number"?r.encoderDelay:void 0;typeof i=="number"&&Number.isFinite(i)&&i>0&&(s={...s??{},encoderDelay:i});const d=typeof r.encoderPadding=="number"?r.encoderPadding:void 0;typeof d=="number"&&Number.isFinite(d)&&d>0&&(s={...s??{},encoderPadding:d});for(const h of Object.values(a?.native??{}))if(Array.isArray(h))for(const f of h){const m=typeof f?.id=="string"?f.id.toUpperCase():"";if(m){if(m==="ITUNSMPB"||m.endsWith(":ITUNSMPB")){const v=Hg(f?.value);v&&(s={...s??{},...v});continue}if(m==="MP4:----:COM.APPLE.ITUNES:ITUNSMPB"||m==="----:COM.APPLE.ITUNES:ITUNSMPB"){const v=Hg(f?.value);v&&(s={...s??{},...v})}}}return s}let u0=!1;const Vg=a=>{u0&&(a.preventDefault(),a.returnValue="")};function qg(a){u0=a,a?window.addEventListener("beforeunload",Vg):window.removeEventListener("beforeunload",Vg)}async function Ig(a,s,r,i){let d=null;for(let h=1;h<=r;h++)try{const f=new Promise((m,v)=>{setTimeout(()=>v(new Error(`Timeout: ${i}`)),s)});return await Promise.race([a,f])}catch(f){if(d=f instanceof Error?f:new Error(String(f)),console.warn(`Attempt ${h} failed: ${d.message}`),h===r)throw d}throw d||new Error("Unknown error after retries")}function ZN(){return new Promise(a=>{const s=()=>{const{t:d}=At(),[h]=y.useState(()=>new y1({autoProceed:!1,restrictions:{maxNumberOfFiles:null,allowedFileTypes:[".mp3",".wav",".m4a",".flac",".aif",".aiff",".ogg","audio/*"]}})),[f,m]=y.useState(!0),[v,b]=y.useState(document.documentElement.classList.contains("dark")?"dark":"light");return y.useEffect(()=>{const S=new MutationObserver(()=>{const p=document.documentElement.classList.contains("dark")?"dark":"light";b(p)});return S.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>S.disconnect()},[]),y.useEffect(()=>{const S=[],p=w=>{const B=d0([w.data]);B.length===0?h.removeFile(w.id):S.push(...B)},x=()=>{a(S),m(!1)};return h.on("file-added",p),h.on("complete",x),()=>{h.off("file-added",p),h.off("complete",x),h.cancelAll()}},[h]),c.jsx(ad,{defaultSetId:"lucide",children:c.jsx(Rn,{open:f,onOpenChange:S=>{m(S),S||(h.cancelAll(),a([]))},children:c.jsxs(yn,{children:[c.jsx(bn,{children:c.jsx(Sn,{children:d("filePicker.selectAudioFiles")})}),c.jsx("div",{"data-uppy-theme":v,children:c.jsx(b1,{uppy:h,proudlyDisplayPoweredByUppy:!0,hideUploadButton:!1,hideCancelButton:!0,hideProgressDetails:!1,note:d("filePicker.onlyAudioFiles")})},v)]})})})},r=document.createElement("div");document.body.appendChild(r),up.createRoot(r).render(c.jsx(s,{}))})}function d0(a){const s=[],r=document.createElement("audio"),i=["mp3","wav","m4a","flac","aif","aiff","ogg"];for(const d of a){const h=d.name.split(".").pop()?.toLowerCase();if(!d.type.startsWith("audio/")&&!(h&&i.includes(h))){ce.error(`Skipping non-audio file: ${d.name}`);continue}const f=r.canPlayType(d.type);if(f!=="probably"&&f!=="maybe"){ce.error(`Skipping unsupported audio format by browser: ${d.name} (${d.type})`);continue}s.push({file:d,name:d.name,size:d.size,type:d.type})}return s}async function f0(a){qg(!0);const s=new Worker(new URL(""+new URL("metadataWorker-rKmvznKw.js",import.meta.url).href,import.meta.url),{type:"module"});try{return await Ig(new Promise((i,d)=>{s.onmessage=h=>{const{metadata:f,albumArt:m,warnings:v,error:b}=h.data;if(b)d(new Error(b));else{const S={...f,artist:f.artist==="__UNKNOWN_ARTIST__"?Ye.t("common.unknownArtist"):f.artist,album:f.album==="__UNKNOWN_ALBUM__"?Ye.t("common.unknownAlbum"):f.album,albumArt:m,metadataWarnings:Array.isArray(v)?v:void 0};if(Array.isArray(v)&&v.length>0)for(const p of v)console.warn(`Metadata warning for ${a.name}:`,p);i(S)}},s.onerror=h=>d(new Error("Worker error: "+h.message)),s.postMessage({file:a,fileName:a.name})}),15e3,3,`Metadata extraction for ${a.name}`)}catch(r){console.warn(`Failed to read metadata for ${a.name}:`,r);const i=a.name.replace(/\.[^/.]+$/,"");let d=i,h=Ye.t("common.unknownArtist"),f=Ye.t("common.unknownAlbum"),m=0,v,b,S;try{const p=await Ig(d1(a,{skipCovers:!1,duration:!0}),15e3,3,`Fallback metadata parsing for ${a.name}`);if(p.common){typeof p.common.artist=="string"&&(h=p.common.artist),typeof p.common.title=="string"&&(d=p.common.title),typeof p.common.album=="string"&&(f=p.common.album),m=p.format.duration??0,b=QN(p.format),S=KN(p);const x=f1(p.common.picture);if(x&&x.data.length>0){const w=new Blob([new Uint8Array(x.data)],{type:x.format});v=await new Promise((B,E)=>{const D=new FileReader;D.onloadend=()=>B(D.result),D.onerror=()=>E(new Error("Failed to read album art")),D.readAsDataURL(w)})}}}catch{if(i.includes(" - ")){const p=i.split(" - ");p.length>=2&&(h=p[0].trim(),d=p[1].trim())}}return{title:d,artist:h,album:f,duration:m,albumArt:v,encoding:b,gapless:S}}finally{s.terminate(),qg(!1)}}function h0(a){return URL.createObjectURL(a)}function m0(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function JN(a){if(!("launchQueue"in window)||!window.launchQueue||typeof window.launchQueue.setConsumer!="function")return console.warn("File Handling API not supported in this browser"),()=>{};const s=async r=>{if(!r.files||r.files.length===0){console.log("No files provided by File Handling or Share Target API");return}const i=[];let d=0,h=0;for(const f of r.files)try{let m;f.getFile?m=await f.getFile():m=f;const v=`${m.name}-${m.size}-${m.lastModified}`,b=JSON.parse(sessionStorage.getItem("processedFiles")||"[]");if(b.includes(v)){console.log("Skipping duplicate file:",m.name);continue}d0([m]).length>0?(i.push(m),b.push(v),sessionStorage.setItem("processedFiles",JSON.stringify(b)),d++):h++}catch(m){console.error("Error processing file handle:",m),h++}i.length>0&&a({files:i,successCount:d,errorCount:h})};return window.launchQueue.setConsumer(s),()=>{if("launchQueue"in window&&window.launchQueue&&typeof window.launchQueue.setConsumer=="function")try{window.launchQueue.setConsumer(()=>{})}catch(r){console.warn("Could not clear file handler consumer:",r)}}}function WN(){if(typeof window>"u")return null;const a=new URLSearchParams(window.location.search),s=a.get("title")||void 0,r=a.get("text")||void 0,i=a.get("url")||void 0;return s||r||i?{files:[],title:s,text:r,url:i}:null}function e2(a){const s=y.useRef(!1);y.useEffect(()=>{if(s.current)return;const r=WN();if(r){s.current=!0,a(r);const i=new URL(window.location.href);["title","text","url"].forEach(h=>i.searchParams.delete(h)),window.history.replaceState({},"",i.toString())}},[a])}function t2(a,s){const[r,i]=y.useState(!1),d=y.useRef(new Set),h=y.useRef(!1);return y.useEffect(()=>{const f="launchQueue"in window&&typeof window.launchQueue?.setConsumer=="function";return i(f),f?JN(async v=>{h.current||(v.files.length>0&&(h.current=!0,ce.success(s("fileHandler.filesReceived",{count:v.successCount})),await g0(v.files,a,s),d.current.clear()),v.errorCount>0&&ce.error(s("fileHandler.filesSkipped",{count:v.errorCount})))}):void 0},[a,s]),{isSupported:r}}async function g0(a,s,r){if(!a||a.length===0)return;const i=20;let d=0,h=0,f=1;const m=Math.ceil(a.length/i);for(let v=0;v<a.length;v+=i){const b=a.slice(v,v+i);ce.loading(r("batch.processing",{currentBatch:f,totalBatches:m}));const S=b.map(async p=>{try{const x=p.file||p,w=await f0(x),B=h0(x),E={id:m0(),title:w.title,artist:w.artist,album:w.album||r("songInfo.album",{title:r("common.unknownAlbum")}),duration:w.duration,url:B,albumArt:w.albumArt,embeddedLyrics:w.embeddedLyrics,encoding:w.encoding,gapless:w.gapless};await s(E),URL.revokeObjectURL(B),typeof p=="object"&&"file"in p&&(p.file=null),d++}catch{h++}});await Promise.all(S),f++}ce.dismiss(),d>0&&ce.success(r("filePicker.successImport",{count:d})),h>0&&ce.error(r("filePicker.failedImport",{count:h}))}const n2="_mainContent_hgzmk_2",a2="_mainContentWrapper_hgzmk_12",l2="_header_hgzmk_19",s2="_titleArea_hgzmk_34",r2="_mobileMenuButton_hgzmk_41",o2="_title_hgzmk_34",i2="_backLink_hgzmk_55",c2="_actions_hgzmk_71",u2="_searchWrapper_hgzmk_79",d2="_searchIcon_hgzmk_84",f2="_searchInput_hgzmk_93",h2="_actionButton_hgzmk_106",m2="_sortingControls_hgzmk_129",g2="_sortControls_hgzmk_136",p2="_sortPresets_hgzmk_144",v2="_sortIndicators_hgzmk_149",y2="_sortColumn_hgzmk_155",b2="_sorted_hgzmk_172",S2="_arrows_hgzmk_177",_2="_active_hgzmk_188",x2="_desktopOnly_hgzmk_194",w2="_mobileOnly_hgzmk_198",C2="_songList_hgzmk_228",T2="_songListWrapper_hgzmk_234",j2="_songListHeader_hgzmk_241",E2="_columnHeader_hgzmk_249",A2="_songItem_hgzmk_258",N2="_currentSong_hgzmk_275",D2="_songInfo_hgzmk_285",M2="_albumArt_hgzmk_291",O2="_songDetails_hgzmk_326",z2="_songTitle_hgzmk_332",R2="_songArtist_hgzmk_340",k2="_albumName_hgzmk_346",L2="_songActions_hgzmk_362",B2="_songDropZone_hgzmk_368",U2="_songActionButton_hgzmk_380",$2="_favorited_hgzmk_394",H2="_noResults_hgzmk_399",V2="_fieldLabel_hgzmk_524",ft={mainContent:n2,mainContentWrapper:a2,header:l2,titleArea:s2,mobileMenuButton:r2,title:o2,backLink:i2,actions:c2,searchWrapper:u2,searchIcon:d2,searchInput:f2,actionButton:h2,sortingControls:m2,sortControls:g2,sortPresets:p2,sortIndicators:v2,sortColumn:y2,sorted:b2,arrows:S2,active:_2,desktopOnly:x2,mobileOnly:w2,songList:C2,songListWrapper:T2,songListHeader:j2,columnHeader:E2,songItem:A2,currentSong:N2,songInfo:D2,albumArt:M2,songDetails:O2,songTitle:z2,songArtist:R2,albumName:k2,songActions:L2,songDropZone:B2,songActionButton:U2,favorited:$2,noResults:H2,fieldLabel:V2},q2="_persistentDropdown_1envf_1",I2="_content_1envf_6",Pg={persistentDropdown:q2,content:I2},Fg=y.forwardRef(({children:a,trigger:s,onClose:r,enableRightClick:i=!1},d)=>{const[h,f]=y.useState(!1),m=y.useRef(null),v=()=>{f(!h)},b=()=>{f(!1),r()};y.useImperativeHandle(d,()=>({close:b}));const S=p=>{i&&(p.preventDefault(),p.stopPropagation(),f(!0))};return y.useEffect(()=>{const p=x=>{m.current&&m.current.contains(x.target)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[a,v,r]),c.jsxs("div",{className:Pg.persistentDropdown,ref:m,onContextMenu:S,children:[c.jsx("div",{onClick:()=>{v()},children:s}),h&&c.jsx("div",{className:Pg.content,children:a})]})});async function P2(a,s,r){if(!a||a.length===0)return;const i=20;let d=0,h=0,f=1;const m=Math.ceil(a.length/i);for(let v=0;v<a.length;v+=i){const b=a.slice(v,v+i);ce.loading(r("batch.processing",{currentBatch:f,totalBatches:m}));const S=b.map(async p=>{try{const x=p.file||p,w=await f0(x),B=h0(x),E={id:m0(),title:w.title,artist:w.artist,album:w.album||r("songInfo.album",{title:r("common.unknownAlbum")}),duration:w.duration,url:B,albumArt:w.albumArt,embeddedLyrics:w.embeddedLyrics,encoding:w.encoding,gapless:w.gapless};await s(E),URL.revokeObjectURL(B),typeof p=="object"&&"file"in p&&(p.file=null),d++}catch{h++}});await Promise.all(S),f++}ce.dismiss(),d>0&&ce.success(r("filePicker.successImport",{count:d})),h>0&&ce.error(r("filePicker.failedImport",{count:h}))}const F2=({song:a,isCurrent:s,isSelected:r,onClick:i,onCheckboxChange:d,isSelectActive:h,ratings:f,onRatingChange:m,onFavoriteToggle:v,isFavorited:b,formatDuration:S,styles:p,SongActionsDropdown:x,library:w,createPlaylist:B,addToPlaylist:E,playSong:D,removeSong:k,isInPlaylist:q})=>{const{t:j}=At(),{open:G,setOpen:V,containerRef:U}=qu(!0),M=c.jsxs("div",{className:`${p.songItem} ${s?p.currentSong:""}`,onClick:i,ref:U,children:[c.jsxs("div",{className:p.songInfo,children:[h&&c.jsx(od,{checked:r,onChange:d}),c.jsx("div",{className:p.albumArt,children:a.albumArt&&c.jsx("img",{src:a.albumArt,alt:j("player.albumArtAlt",{title:a.title}),style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"}})}),c.jsxs("div",{className:p.songDetails,children:[c.jsx("div",{className:p.songTitle,children:a.title}),c.jsxs("div",{className:p.songArtist,children:[c.jsxs("span",{className:`${p.fieldLabel}`,children:[j("common.album"),": "]}),a.album||j("common.unknownAlbum"),c.jsxs("span",{className:`${p.fieldLabel} ${p.desktopOnly}`,children:[" ",j("common.duration"),": ",S(a.duration)]})]}),c.jsxs("div",{className:`${p.albumName} ${p.mobileOnly}`,children:[c.jsxs("span",{className:p.fieldLabel,children:[j("common.artist"),": "]}),a.artist]})]})]}),c.jsx("div",{className:`${p.albumName} ${p.desktopOnly}`,children:a.artist}),c.jsxs("div",{className:p.songActions,children:[c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${p.songActionButton} ${b?p.favorited:""}`,onClick:N=>{N.stopPropagation(),v(N)},children:c.jsx(ne,{name:"heart",size:14,fill:b?"currentColor":"none",decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${p.songActionButton} ${f[a.id]==="thumbs-up"?p.active:""}`,onClick:N=>{N.stopPropagation(),m("thumbs-up")},children:c.jsx(ne,{name:"thumbsUp",size:14,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${p.songActionButton} ${f[a.id]==="thumbs-down"?p.active:""}`,onClick:N=>{N.stopPropagation(),m("thumbs-down")},children:c.jsx(ne,{name:"thumbsDown",size:14,decorative:!0})}),c.jsx(x,{song:a,library:w,onCreatePlaylist:B,onAddToPlaylist:E,onRemoveSong:k,onPlaySong:D,size:14,className:p.songActionButton,open:G,onOpenChange:V})]})]});return c.jsx(Qu,{id:a.id,type:"song",data:a,children:q?c.jsx(Ku,{id:a.id,type:"song",data:a,className:p.songDropZone,children:M}):M})},Y2=({musicPlayerHook:a,onMobileMenuClick:s})=>{const{t:r}=At(),[i,d]=y.useState(""),[h,f]=y.useState(null),[m,v]=y.useState("asc"),[b,S]=y.useState({}),[p,x]=y.useState(!1),[w,B]=y.useState(null),[E,D]=y.useState([]),[k,q]=y.useState(!1),[j,G]=y.useState(!1),V=he.useRef(null),{playerState:U,library:M,playSong:N,addSong:L,removeSong:O,toggleFavorite:T,isFavorited:C,createPlaylist:Q,addToPlaylist:K,navigateToArtist:oe,navigateToAlbum:z,navigateToSongs:$}=a;he.useEffect(()=>{const me=Ne=>{Ne.detail.view==="artist"?oe(Ne.detail.value):Ne.detail.view==="album"&&z(Ne.detail.value)};return window.addEventListener("navigate",me),()=>window.removeEventListener("navigate",me)},[oe,z]),he.useEffect(()=>{U.currentPlaylist&&(f(null),v("asc"))},[U.currentPlaylist]);const le=he.useMemo(()=>U.view==="artist"&&U.currentArtist?M.songs.filter(me=>me.artist===U.currentArtist):U.view==="album"&&U.currentAlbum?M.songs.filter(me=>me.album===U.currentAlbum):U.currentPlaylist?U.currentPlaylist.songs:M.songs,[U.view,U.currentArtist,U.currentAlbum,U.currentPlaylist,M.songs]).filter(me=>me.title.toLowerCase().includes(i.toLowerCase())||me.artist.toLowerCase().includes(i.toLowerCase())),Z=he.useMemo(()=>{let me=[...le];return h&&me.sort((Ne,qe)=>{let ut,Te;switch(h){case"name":ut=Ne.title.toLowerCase(),Te=qe.title.toLowerCase();break;case"artist":ut=Ne.artist.toLowerCase(),Te=qe.artist.toLowerCase();break;case"album":ut=Ne.album?.toLowerCase()||"",Te=qe.album?.toLowerCase()||"";break;case"rating":ut=b[Ne.id]==="thumbs-up"?1:b[Ne.id]==="thumbs-down"?-1:0,Te=b[qe.id]==="thumbs-up"?1:b[qe.id]==="thumbs-down"?-1:0;break;default:return 0}return ut<Te?m==="asc"?-1:1:ut>Te?m==="asc"?1:-1:0}),me},[le,h,m,b]),ge=me=>d(me),ue=me=>{N(me,U.currentPlaylist||void 0)},fe=(me,Ne)=>{const ut=b[me]===Ne?"none":Ne;S(Te=>({...Te,[me]:ut}))},_e=(me,Ne)=>{me.stopPropagation();const qe=T(Ne),ut=M.songs.find(Te=>Te.id===Ne);ut&&ce.success(qe?r("favorites.added",{title:ut.title}):r("favorites.removed",{title:ut.title}))},Ge=async()=>{if(le.length===0){ce.error(r("delete.noSongs"));return}if(!await en.shouldShowDialog("delete-song-confirmation")){const Ne=le[0];O(Ne.id),ce.success(r("deletedFromLibrary",{song:Ne.title}));return}B(le[0]),x(!0)},Ae=()=>{w&&(O(w.id),ce.success(r("deletedFromLibrary",{song:w.title})),x(!1),B(null))},tt=()=>{x(!1),B(null)},ct=async me=>{await P2(me,L,r)},bt=async()=>{try{ce.info(r("filePicker.selectFiles"));const me=await ZN();await ct(me)}catch{ce.dismiss(),ce.error(r("filePicker.failedOpen"))}},Xe=me=>{const Ne=Math.floor(me/60),qe=Math.round(me%60);return`${Ne}:${qe.toString().padStart(2,"0")}`},pe=()=>{q(me=>!me),D([])},Me=()=>{E.length===Z.length?D([]):D(Z.map(me=>me.id))},Ze=()=>G(!0),nt=()=>{E.forEach(me=>O(me)),ce.success(r("deletedFromLibrary",{song:E.length})),D([])};return c.jsxs("div",{className:ft.mainContentWrapper,children:[c.jsxs("div",{className:ft.header,children:[c.jsxs("div",{className:ft.titleArea,children:[c.jsx(de,{variant:"ghost",size:"icon-md",className:ft.mobileMenuButton,onClick:s,"aria-label":r("menu"),children:c.jsx(ne,{name:"menu",size:24,decorative:!0})}),U.view==="songs"?c.jsx("h1",{className:ft.title,children:"HTMLPlayer"}):U.view==="artist"?c.jsxs(c.Fragment,{children:[c.jsx(de,{variant:"link",onClick:$,className:ft.backLink,children:r("actions.back")}),c.jsx("h1",{className:ft.title,children:`${r("common.artist")}: ${U.currentArtist}`})]}):U.view==="album"?c.jsxs(c.Fragment,{children:[c.jsx(de,{variant:"link",onClick:$,className:ft.backLink,children:r("actions.back")}),c.jsx("h1",{className:ft.title,children:`${r("common.album")}: ${U.currentAlbum}`})]}):null]}),c.jsxs("div",{className:ft.actions,children:[c.jsxs("div",{className:ft.searchWrapper,children:[c.jsx(ne,{name:"search",className:ft.searchIcon,size:16,decorative:!0}),c.jsx(el,{placeholder:r("search.placeholder"),className:ft.searchInput,value:i,onChange:me=>ge(me.target.value),"data-tour":"search"})]}),c.jsx(de,{variant:"outline",size:"icon-md",className:ft.actionButton,onClick:Ge,"aria-label":r("actions.delete"),children:c.jsx(ne,{name:"trash2",size:16,decorative:!0})}),c.jsxs(Fg,{ref:V,trigger:c.jsx(de,{variant:"outline",size:"icon-md",className:ft.actionButton,"aria-label":r("sort.sortBy"),children:c.jsx(ne,{name:"arrowUpDown",size:16,decorative:!0})}),onClose:()=>{},children:[c.jsxs(de,{variant:"ghost",onClick:()=>f("name"),className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"type",size:16,className:"mr-2",decorative:!0}),r("sort.name"),h==="name"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(de,{variant:"ghost",onClick:()=>f("artist"),className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"user",size:16,className:"mr-2",decorative:!0}),r("sort.artist"),h==="artist"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(de,{variant:"ghost",onClick:()=>f("album"),className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"disc",size:16,className:"mr-2",decorative:!0}),r("sort.album"),h==="album"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(de,{variant:"ghost",onClick:()=>f("rating"),className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"star",size:16,className:"mr-2",decorative:!0}),r("sort.rating"),h==="rating"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs(de,{variant:"ghost",onClick:()=>v(m==="asc"?"desc":"asc"),className:"w-full justify-start text-sm",children:[m==="asc"?c.jsx(ne,{name:"arrowUp",size:16,className:"mr-2",decorative:!0}):c.jsx(ne,{name:"arrowDown",size:16,className:"mr-2",decorative:!0}),r(m==="asc"?"sort.ascending":"sort.descending")]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs(de,{variant:"ghost",onClick:()=>{f(null),V.current?.close()},className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"close",size:16,className:"mr-2",decorative:!0}),r("sort.clear")]})]}),c.jsxs(Fg,{trigger:c.jsx(de,{variant:"outline",size:"icon-md",className:ft.actionButton,onClick:pe,"aria-label":r("actions.selectSongs"),children:c.jsx(ne,{name:"listChecks",size:16,decorative:!0})}),onClose:()=>pe(),children:[c.jsxs(de,{variant:"ghost",onClick:Me,children:[c.jsx(ne,{name:"listChecks",size:16,style:{marginRight:8},decorative:!0}),E.length===Z.length?r("actions.deselectAll"):r("actions.selectAll")]}),c.jsxs(de,{variant:"ghost",onClick:Ze,children:[c.jsx(ne,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),r("playlist.addTo")]}),c.jsxs(de,{variant:"ghost",onClick:nt,children:[c.jsx(ne,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),r("common.delete")]})]}),c.jsx(de,{variant:"outline",size:"icon-md",className:ft.actionButton,onClick:bt,"aria-label":r("actions.addMusic"),"data-tour":"upload-music",children:c.jsx(ne,{name:"plus",size:16,decorative:!0})})]})]}),c.jsx("div",{className:ft.songListWrapper,children:c.jsxs("div",{className:ft.songList,children:[c.jsxs("div",{className:ft.songListHeader,children:[c.jsx("span",{className:ft.columnHeader,children:r("songInfo.title")}),c.jsx("span",{className:`${ft.columnHeader} ${ft.desktopOnly}`,children:r("common.artist")}),c.jsx("span",{className:ft.columnHeader,children:r("actions.addTo")})]}),Z.map(me=>c.jsx(F2,{song:me,isCurrent:U.currentSong?.id===me.id,isSelected:E.includes(me.id),onClick:()=>ue(me),onCheckboxChange:Ne=>{Ne.stopPropagation(),D(qe=>qe.includes(me.id)?qe.filter(ut=>ut!==me.id):[...qe,me.id])},isSelectActive:k,ratings:b,onRatingChange:Ne=>fe(me.id,Ne),onFavoriteToggle:Ne=>_e(Ne,me.id),isFavorited:C(me.id),formatDuration:Xe,styles:ft,SongActionsDropdown:i0,library:M,createPlaylist:Q,addToPlaylist:K,playSong:N,isInPlaylist:!!U.currentPlaylist,removeSong:O},me.id)),Z.length===0&&c.jsx("div",{className:ft.noResults,children:r(i?"noResults.search":"noResults.playlist")})]})}),c.jsx(Rn,{open:p,onOpenChange:x,children:c.jsxs(yn,{dontShowAgainKey:"delete-song-confirmation",children:[c.jsxs(bn,{children:[c.jsx(Sn,{children:r("delete.songTitle")}),c.jsx(kn,{children:r("delete.confirm",{title:w?.title})})]}),c.jsxs(qn,{children:[c.jsx(de,{variant:"outline",onClick:tt,children:r("common.cancel")}),c.jsx(de,{variant:"destructive",onClick:Ae,children:r("common.delete")})]})]})}),c.jsx(o0,{songs:E.map(me=>M.songs.find(Ne=>Ne.id===me)).filter(me=>me!==void 0),library:M,onCreatePlaylist:Q,onAddToPlaylist:K,open:j,onOpenChange:G})]})};var _r=c1();const G2="_visualizerContainer_187rc_1",X2="_canvas_187rc_10",Q2="_controls_187rc_17",K2="_dropdownTrigger_187rc_27",Z2="_settingsPanel_187rc_41",J2="_setting_187rc_41",W2="_dropdownContent_187rc_112",xl={visualizerContainer:G2,canvas:X2,controls:Q2,dropdownTrigger:K2,settingsPanel:Z2,setting:J2,dropdownContent:W2},eD=({analyserNode:a,isPlaying:s,className:r})=>{const{t:i}=At(),d=y.useRef(null),h=y.useRef(null),[f,m]=y.useState([]),[v,b]=y.useState(new Map),[S,p]=y.useState(""),[x,w]=y.useState(null),[B,E]=y.useState({}),[D,k]=y.useState(!1),[q,j]=y.useState(!1);y.useEffect(()=>{const M=S1();m(M),Promise.all(M.map(async N=>{const L=await lg(N);return{key:N,name:L?.name||N}})).then(N=>{const L=new Map(N.map(({key:O,name:T})=>[O,T]));b(L)}),M.length>0&&!S&&p(M[0])},[S]),y.useEffect(()=>{S&&(j(!0),lg(S).then(M=>{w(M),j(!1),M?.settingsConfig&&E(Object.entries(M.settingsConfig).reduce((N,[L,O])=>(N[L]=O.default,N),{}))}).catch(M=>{console.error("Failed to load visualizer:",M),j(!1)}))},[S]);const G=(M,N)=>{E(L=>({...L,[M]:N}))},V=y.useCallback(()=>{if(!a||!d.current||!x)return;const M=d.current,N=M.getContext("2d");if(!N)return;const L=a.frequencyBinCount,O=new Uint8Array(L);x.draw(a,M,N,L,O,x.dataType,B),h.current=requestAnimationFrame(V)},[a,x,B]);y.useEffect(()=>(s&&a&&x?h.current=requestAnimationFrame(V):h.current&&cancelAnimationFrame(h.current),()=>{h.current&&cancelAnimationFrame(h.current)}),[s,a,x,V]),y.useEffect(()=>{const M=d.current;if(!M)return;const N=new ResizeObserver(()=>{const{width:L,height:O}=M.getBoundingClientRect();M.width=L,M.height=O});return N.observe(M),()=>N.disconnect()},[]);const U=async M=>{p(M)};return c.jsxs("div",{className:`${xl.visualizerContainer} ${r??""}`,children:[c.jsx("canvas",{ref:d,className:xl.canvas}),c.jsxs("div",{className:xl.controls,children:[c.jsxs(ds,{children:[c.jsx(fs,{asChild:!0,children:c.jsxs(de,{variant:"outline",className:xl.dropdownTrigger,disabled:q,children:[c.jsx(ne,{name:"visualizerControls",size:16,decorative:!0,inline:!0}),c.jsx("span",{children:q?i("common.loading"):x?.name||i("visualizer.selectVisualizer")})]})}),c.jsx(Tl,{align:"start",className:xl.dropdownContent,children:c.jsx(gC,{value:S,onValueChange:U,children:f.map(M=>c.jsx(mb,{value:M,children:v.get(M)||M},M))})})]}),x?.settingsConfig&&c.jsx(de,{variant:"outline",size:"icon",onClick:()=>k(!D),children:c.jsx(ne,{name:"settings",size:16,decorative:!0,inline:!0})})]}),D&&x?.settingsConfig&&c.jsxs("div",{className:xl.settingsPanel,children:[c.jsxs("h4",{children:[x.name," ",i("settings.title")]}),Object.entries(x.settingsConfig).map(([M,N])=>c.jsxs("div",{className:xl.setting,children:[c.jsx("label",{htmlFor:M,children:i(`visualizers.${S}.settings.${M}`)}),N.type==="range"&&c.jsx("input",{type:"range",id:M,min:N.min,max:N.max,step:N.step,value:B[M]??N.default,onChange:L=>G(M,parseFloat(L.target.value))}),N.type==="number"&&c.jsx("input",{type:"number",id:M,min:N.min,max:N.max,step:N.step,value:B[M]??N.default,onChange:L=>G(M,parseFloat(L.target.value))})]},M))]})]})},tD="_lyricsOverlay_1qzg2_1",nD="_lyricsContainer_1qzg2_19",aD="_lyricsHeader_1qzg2_25",lD="_lyricsTitle_1qzg2_39",sD="_lyricsSubtitle_1qzg2_46",rD="_lyricsCloseButton_1qzg2_53",oD="_lyricsContent_1qzg2_68",iD="_embeddedBody_1qzg2_69",cD="_lyricsText_1qzg2_82",uD="_unsyncedLyrics_1qzg2_83",dD="_embeddedContent_1qzg2_91",fD="_lyricsSelector_1qzg2_97",hD="_selector_1qzg2_101",mD="_syncedLyrics_1qzg2_111",gD="_lyricsLine_1qzg2_117",pD="_currentLine_1qzg2_126",vD="_timestamp_1qzg2_131",yD="_lineText_1qzg2_137",bD="_noLyrics_1qzg2_142",SD="_loading_1qzg2_151",_D="_error_1qzg2_155",xD="_retryButton_1qzg2_160",vt={lyricsOverlay:tD,lyricsContainer:nD,lyricsHeader:aD,lyricsTitle:lD,lyricsSubtitle:sD,lyricsCloseButton:rD,lyricsContent:oD,embeddedBody:iD,lyricsText:cD,unsyncedLyrics:uD,embeddedContent:dD,lyricsSelector:fD,selector:hD,syncedLyrics:mD,lyricsLine:gD,currentLine:pD,timestamp:vD,lineText:yD,noLyrics:bD,loading:SD,error:_D,retryButton:xD},Yg={lyrics:"",loading:!1,error:null},Gg=a=>a.replace(/ - Topic$/i,"").replace(/\s*\[.*?\]$/i,"").trim(),wD=a=>s=>{if(!a)return s;const r=a.replace(/[.*+?^${}()|[\]\\]/g,""),i=new RegExp(`^${r}\\s*[-:|]?\\s*`,"i");return s.replace(i,"").trim()},CD=a=>new ag({}).extend(h1()).extend(m1()).extend(g1()).extend(p1()).extend(v1()).extend(new ag({artist:Gg,track:[Gg,wD(a)]})),TD=(a,s)=>{const r=CD(a),i=r.canFilterField("artist")?r.filterField("artist",a):a,d=r.canFilterField("track")?r.filterField("track",s):s;return{artist:i,title:d}},jD=({artist:a,title:s,visible:r,onClose:i,embeddedLyrics:d,currentTime:h=0})=>{const{t:f}=At(),[m,v]=y.useState(Yg),b=y.useRef(null),[S,p]=y.useState(null),[x,w]=y.useState(-1),B=y.useRef(null),E=y.useCallback(async(L,O)=>{b.current&&b.current.abort();const T=new AbortController;if(b.current=T,v(z=>({...z,loading:!0,error:null})),L.trim().toLowerCase()===f("common.unknownArtist").toLowerCase()){v(z=>({...z,error:f("lyrics.cannotSearchWithoutArtist"),loading:!1}));return}const{artist:C,title:Q}=TD(L,O),K=[{artist:C,title:Q},{artist:L,title:O},{artist:C,title:O},{artist:L,title:Q}];let oe=null;for(const{artist:z,title:$}of K)try{const X=await fetch(`https://api.lyrics.ovh/v1/${encodeURIComponent(z)}/${encodeURIComponent($)}`,{signal:T.signal});if(X.ok){const le=await X.json();if(le.lyrics?.trim()){v({lyrics:le.lyrics.trim(),loading:!1,error:null});return}}oe=new Error(X.status===404?f("lyrics.notFound"):f("lyrics.failedToFetch",{status:X.status}))}catch(X){if(X instanceof Error&&X.name==="AbortError")return;oe=X instanceof Error?X:new Error(f("lyrics.failedToLoad"))}v({lyrics:"",loading:!1,error:oe?.message||f("lyrics.failedToLoad")})},[f]),D=!!d?.length;y.useEffect(()=>{if(!r||!a||!s){v(Yg);return}if(D){v({lyrics:"",loading:!1,error:null});return}return E(a,s),()=>b.current?.abort()},[a,s,r,E,D]),y.useEffect(()=>{if(!r||!D){p(null),w(-1);return}p(L=>d?.length?L&&d.includes(L)?L:d[0]??null:null),w(-1)},[d,D,r]),y.useEffect(()=>{if(!r)return;if(!S||!S.synced||!S.lines?.length){x!==-1&&w(-1);return}const L=h*1e3,O=S.lines.findIndex((T,C)=>{const Q=S.lines?.[C+1];return T.timestamp<=L&&(!Q||Q.timestamp>L)});O!==x&&w(O)},[x,h,S,r]),y.useEffect(()=>{if(!r||x<0)return;const L=B.current;if(!L)return;L.children.item(x)?.scrollIntoView({behavior:"smooth",block:"center"})},[x,r]),y.useEffect(()=>{if(!r||!i)return;const L=O=>{O.key==="Escape"&&i()};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r,i]);const k=y.useCallback(()=>{a&&s&&E(a,s)},[a,s,E]),q=y.useCallback(L=>{L.target===L.currentTarget&&i?.()},[i]);if(!r)return null;const j=L=>{if(!d?.length)return;const O=parseInt(L.target.value,10),T=d[O];T&&(p(T),w(-1))},G=L=>{const O=Math.floor(L/6e4),T=Math.floor(L%6e4/1e3),C=Math.floor(L%1e3/10);return`${O.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}.${C.toString().padStart(2,"0")}`},{lyrics:V,loading:U,error:M}=m,N=S&&d?d.indexOf(S):-1;return c.jsx("div",{className:vt.lyricsOverlay,onClick:q,role:"dialog","aria-modal":"true","data-tour":"lyrics",children:c.jsxs("div",{className:vt.lyricsContainer,children:[c.jsxs("header",{className:vt.lyricsHeader,children:[c.jsxs("div",{children:[c.jsxs("h3",{className:vt.lyricsTitle,children:[s," - ",a]}),D&&c.jsx("p",{className:vt.lyricsSubtitle,children:f("lyrics.embeddedLyrics")})]}),i&&c.jsx("button",{className:vt.lyricsCloseButton,onClick:i,children:""})]}),D?c.jsxs("div",{className:vt.embeddedContent,children:[d&&d.length>1&&c.jsx("div",{className:vt.lyricsSelector,children:c.jsx("select",{value:N>=0?N:0,onChange:j,className:vt.selector,children:d.map((L,O)=>c.jsxs("option",{value:O,children:[L.synced?f("lyrics.synchronized"):f("lyrics.unsynchronized"),L.language&&` (${L.language})`,L.description&&` - ${L.description}`]},`${L.synced?"synced":"unsynced"}-${O}`))})}),c.jsx("div",{className:vt.embeddedBody,children:S?S.synced&&S.lines?.length?c.jsx("div",{ref:B,className:vt.syncedLyrics,children:S.lines.map((L,O)=>c.jsxs("div",{className:`${vt.lyricsLine}${O===x?` ${vt.currentLine}`:""}`,children:[c.jsx("span",{className:vt.timestamp,children:G(L.timestamp)}),c.jsx("span",{className:vt.lineText,children:L.text||""})]},`${L.timestamp}-${O}`))}):S.text?c.jsx("pre",{className:vt.unsyncedLyrics,children:S.text}):c.jsx("div",{className:vt.noLyrics,children:f("lyrics.noEmbeddedLyrics")}):c.jsx("div",{className:vt.noLyrics,children:f("lyrics.noEmbeddedLyrics")})})]}):c.jsxs("div",{className:vt.lyricsContent,children:[U&&c.jsx("div",{className:vt.loading,children:f("lyrics.loading")}),M&&c.jsxs("div",{className:vt.error,children:[c.jsx("p",{children:M}),c.jsx("button",{onClick:k,className:vt.retryButton,children:f("lyrics.tryAgain")})]}),!U&&!M&&V&&c.jsx("pre",{className:vt.lyricsText,children:V}),!U&&!M&&!V&&c.jsx("div",{className:vt.error,children:f("lyrics.noLyricsAvailable")})]})]})})},ED="_player_xrzty_2",AD="_currentSong_xrzty_25",ND="_albumArt_xrzty_32",DD="_songInfo_xrzty_67",MD="_songTitleWrapper_xrzty_73",OD="_songTitle_xrzty_73",zD="_artistName_xrzty_91",RD="_favoriteButton_xrzty_97",kD="_favorited_xrzty_102",LD="_controlButton_xrzty_106",BD="_active_xrzty_106",UD="_repeatOne_xrzty_120",$D="_noSong_xrzty_138",HD="_controls_xrzty_147",VD="_playbackButtons_xrzty_155",qD="_playButton_xrzty_170",ID="_progressSection_xrzty_191",PD="_timeDisplay_xrzty_199",FD="_progressBar_xrzty_207",YD="_dragging_xrzty_218",GD="_progressFill_xrzty_223",XD="_rightSection_xrzty_255",QD="_secondaryControls_xrzty_263",KD="_secondaryButton_xrzty_269",ZD="_volumeControls_xrzty_284",JD="_volumeButton_xrzty_294",WD="_volumeBar_xrzty_303",eM="_volumeFill_xrzty_319",tM="_moreButton_xrzty_350",nM="_visualizerOverlay_xrzty_360",aM="_visualizer_xrzty_360",Oe={player:ED,currentSong:AD,albumArt:ND,songInfo:DD,songTitleWrapper:MD,songTitle:OD,artistName:zD,favoriteButton:RD,favorited:kD,controlButton:LD,active:BD,repeatOne:UD,noSong:$D,controls:HD,playbackButtons:VD,playButton:qD,progressSection:ID,timeDisplay:PD,progressBar:FD,dragging:YD,progressFill:GD,rightSection:XD,secondaryControls:QD,secondaryButton:KD,volumeControls:ZD,volumeButton:JD,volumeBar:WD,volumeFill:eM,moreButton:tM,visualizerOverlay:nM,visualizer:aM},lM=({musicPlayerHook:a,isMiniplayer:s=!1})=>{const{setPlaying:r,setCurrentTime:i,setVolume:d,setCurrentSong:h,setDuration:f,play:m,pause:v,next:b,previous:S,seek:p,changeVolume:x}=fi(),{playerState:w,togglePlayPause:B,playNext:E,playPrevious:D,setVolume:k,seekTo:q}=a,j=s?"pip":"main",G=y.useRef({togglePlayPause:B,playNext:E,playPrevious:D,playerSetVolume:k,seekTo:q});G.current={togglePlayPause:B,playNext:E,playPrevious:D,playerSetVolume:k,seekTo:q};const V=a.crossfadeManagerRef?.current?.isCrossfading?.()||!1;y.useEffect(()=>{V||r(w.isPlaying,j)},[w.isPlaying,r,j,V]),y.useEffect(()=>{V||i(w.currentTime,j)},[w.currentTime,i,j,V]),y.useEffect(()=>{V||d(w.volume,j)},[w.volume,d,j,V]),y.useEffect(()=>{V||h(w.currentSong,j)},[w.currentSong,h,j,V]),y.useEffect(()=>{w.currentSong?.duration&&f(w.currentSong.duration,j)},[w.currentSong?.duration,f,j]);const U=y.useCallback(C=>{C.source!==j&&!w.isPlaying&&(console.log(`[${j}] Received play event from ${C.source}`),G.current.togglePlayPause())},[j,w.isPlaying]),M=y.useCallback(C=>{C.source!==j&&w.isPlaying&&(console.log(`[${j}] Received pause event from ${C.source}`),G.current.togglePlayPause())},[j,w.isPlaying]),N=y.useCallback(C=>{C.source!==j&&(console.log(`[${j}] Received next event from ${C.source}`),G.current.playNext())},[j]),L=y.useCallback(C=>{C.source!==j&&(console.log(`[${j}] Received previous event from ${C.source}`),G.current.playPrevious())},[j]),O=y.useCallback(C=>{C.source!==j&&C.payload?.volume!==w.volume&&(console.log(`[${j}] Received volume event from ${C.source}:`,C.payload.volume),G.current.playerSetVolume(C.payload.volume))},[j,w.volume]),T=y.useCallback(C=>{C.source!==j&&Math.abs(C.payload?.time-w.currentTime)>1&&(console.log(`[${j}] Received seek event from ${C.source}:`,C.payload.time),G.current.seekTo(C.payload.time))},[j,w.currentTime]);return os("play",U),os("pause",M),os("next",N),os("previous",L),os("volume",O),os("seek",T),{audioControls:{play:()=>m(j),pause:()=>v(j),next:()=>b(j),previous:()=>S(j),seek:C=>p(C,j),setVolume:C=>x(C,j),togglePlayPause:()=>{w.isPlaying?v(j):m(j)}}}},sM=({musicPlayerHook:a,settings:s})=>{const{t:r}=At();lM({musicPlayerHook:a,isMiniplayer:!1});const i=y.useRef(null),d=y.useRef(null),{playerState:h,library:f,togglePlayPause:m,playNext:v,playPrevious:b,setVolume:S,seekTo:p,addToFavorites:x,removeFromFavorites:w,isFavorited:B,toggleShuffle:E,toggleRepeat:D,createPlaylist:k,addToPlaylist:q,playSong:j,removeSong:G}=a,{currentSong:V,isPlaying:U,currentTime:M,volume:N,shuffle:L,repeat:O,analyserNode:T}=h,[C,Q]=y.useState(!1),[K,oe]=y.useState(!1),[z,$]=y.useState(!1),[X,le]=y.useState(!1),Z=Te=>{const Qe=Math.round(Te);if(V&&V.duration>=3600){const Tt=Math.floor(Qe/3600),St=Math.floor(Qe%3600/60),Pn=Qe%60;return`${Tt}:${St.toString().padStart(2,"0")}:${Pn.toString().padStart(2,"0")}`}else{const Tt=Math.floor(Qe/60),St=Qe%60;return`${Tt}:${St.toString().padStart(2,"0")}`}},ge=y.useCallback(Te=>{if(!i.current||!V)return;const Qe=i.current.getBoundingClientRect(),Ct=Te-Qe.left,St=Math.max(0,Math.min(1,Ct/Qe.width))*V.duration;p(St)},[V,p]),ue=y.useCallback(Te=>{if(!d.current)return;const Qe=d.current.getBoundingClientRect(),Ct=Te-Qe.left,Tt=Math.max(0,Math.min(1,Ct/Qe.width));S(Tt)},[S]),fe=Te=>{z||ge(Te.clientX)},_e=Te=>{X||ue(Te.clientX)},Ge=Te=>{$(!0),ge(Te.clientX)},Ae=Te=>{$(!0),ge(Te.touches[0].clientX)},tt=Te=>{le(!0),ue(Te.clientX)},ct=Te=>{le(!0),ue(Te.touches[0].clientX)};y.useEffect(()=>{const Te=St=>{z?ge(St.clientX):X&&ue(St.clientX)},Qe=St=>{z?(St.preventDefault(),ge(St.touches[0].clientX)):X&&(St.preventDefault(),ue(St.touches[0].clientX))},Ct=()=>{$(!1),le(!1)},Tt=()=>{$(!1),le(!1)};return(z||X)&&(document.addEventListener("mousemove",Te),document.addEventListener("mouseup",Ct),document.addEventListener("touchmove",Qe,{passive:!1}),document.addEventListener("touchend",Tt)),()=>{document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",Ct),document.removeEventListener("touchmove",Qe),document.removeEventListener("touchend",Tt)}},[z,X,ge,ue]);const bt=()=>{S(N===0?.7:0)},Xe=()=>{if(!V)return;f.favorites.includes(V.id)?w(V.id):x(V.id)},pe=()=>Q(Te=>!Te),Me=()=>oe(Te=>!Te),Ze=()=>N===0?c.jsx(ne,{name:"volumeOff",size:16,decorative:!0}):N<.3?c.jsx(ne,{name:"volumeX",size:16,decorative:!0}):N<.7?c.jsx(ne,{name:"volume1",size:16,decorative:!0}):c.jsx(ne,{name:"volume2",size:16,decorative:!0}),nt=()=>{switch(O){case"one":return r("player.repeatTrack");case"all":return r("player.repeatAll");default:return r("player.repeatOff")}};y.useEffect(()=>{V&&s?.showLyrics&&oe(!0)},[V,s?.showLyrics]);const me=sd(),Ne=V?M/V.duration*100:0,qe=N*100;if(!V)return c.jsx("div",{className:Oe.player,children:c.jsx("div",{className:Oe.noSong,children:c.jsx("span",{children:r("player.selectSong")})})});const ut=f.favorites.includes(V.id);return c.jsxs(c.Fragment,{children:[C&&c.jsx("div",{className:Oe.visualizerOverlay,"data-tour":"visualizer",children:c.jsx(eD,{analyserNode:T,isPlaying:U,className:Oe.visualizer})}),c.jsxs("div",{className:Oe.player,children:[c.jsxs("div",{className:Oe.currentSong,children:[c.jsx("div",{className:Oe.albumArt,children:V.albumArt&&c.jsx("img",{src:V.albumArt,alt:r("player.albumArtAlt",{title:V.title}),loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"}})}),c.jsxs("div",{className:Oe.songInfo,children:[c.jsx("div",{className:Oe.songTitleWrapper,children:c.jsx(Zu,{text:V?.title||r("common.loading"),textClassName:Oe.songTitle,textStyle:{opacity:V?.title?1:0},allowHTML:!0,pauseOnHover:!0})}),c.jsx("div",{className:Oe.artistName,children:V.artist})]})]}),c.jsxs("div",{className:Oe.controls,"data-tour":"player-controls",children:[c.jsxs("div",{className:Oe.playbackButtons,children:[c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Oe.controlButton} ${L?Oe.active:""}`,onClick:E,title:r(L?"player.shuffleOn":"player.shuffleOff"),children:c.jsx(ne,{name:"shuffle",size:16,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-md",className:Oe.controlButton,onClick:_r.debounce(b,200),title:r("player.previous"),children:c.jsx(ne,{name:"skipBack",size:18,decorative:!0})}),c.jsx(de,{variant:"primary",size:"icon-lg",className:Oe.playButton,onClick:_r.debounce(m,200),title:r(U?"player.pause":"player.play"),children:U?c.jsx(ne,{name:"pause",size:20,decorative:!0}):c.jsx(ne,{name:"play",size:20,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-md",className:Oe.controlButton,onClick:_r.debounce(v,200),title:r("player.next"),children:c.jsx(ne,{name:"skipForward",size:18,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Oe.controlButton} ${O!=="off"?Oe.active:""} ${O==="one"?Oe.repeatOne:""}`,onClick:D,title:nt(),children:c.jsx(ne,{name:"repeat",size:16,decorative:!0})})]}),c.jsxs("div",{className:Oe.progressSection,children:[c.jsx("span",{className:Oe.timeDisplay,children:Z(M)}),c.jsx("div",{className:`${Oe.progressBar} ${z?Oe.dragging:""}`,ref:i,onClick:fe,onMouseDown:Ge,onTouchStart:Ae,title:r("player.seek"),children:c.jsx("div",{className:Oe.progressFill,style:{width:`${Ne}%`}})}),c.jsx("span",{className:Oe.timeDisplay,children:Z(V.duration)})]})]}),c.jsxs("div",{className:Oe.rightSection,children:[c.jsxs("div",{className:Oe.volumeControls,children:[c.jsx(de,{variant:"ghost",size:"icon-sm",className:Oe.volumeButton,onClick:bt,title:r(N===0?"player.unmute":"player.mute"),children:Ze()}),c.jsx("div",{className:`${Oe.volumeBar} ${X?Oe.dragging:""}`,ref:d,onClick:_e,onMouseDown:tt,onTouchStart:ct,title:r("player.volume"),children:c.jsx("div",{className:Oe.volumeFill,style:{width:`${qe}%`}})})]}),c.jsxs("div",{className:Oe.secondaryControls,children:[c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Oe.favoriteButton} ${ut?Oe.favorited:""}`,onClick:Xe,title:r(ut?"player.removeFavorite":"player.addFavorite"),children:c.jsx(ne,{name:"heart",size:16,decorative:!0})}),!me&&c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Oe.secondaryButton} ${C?Oe.active:""}`,onClick:pe,title:r("player.visualizer"),"data-tour":"visualizer-button",children:c.jsx(ne,{name:"barChart3",size:16,decorative:!0})}),c.jsx(de,{variant:"ghost",size:"icon-sm",className:`${Oe.secondaryButton} ${K?Oe.active:""}`,onClick:Me,title:r("player.lyrics"),"data-tour":"lyrics-button",children:c.jsx(ne,{name:"type",size:16,decorative:!0})}),OC()&&c.jsx(de,{variant:"ghost",size:"icon-sm",className:Oe.secondaryButton,onClick:()=>{gb({playerState:{currentSong:V,isPlaying:U}})},title:"Picture-in-Picture",children:c.jsx(ne,{name:"pictureInPicture2",size:16,decorative:!0})})]}),c.jsx(i0,{song:V,library:f,onCreatePlaylist:k,onAddToPlaylist:q,onAddToFavorites:x,isFavorited:B,onPlaySong:j,onRemoveSong:G,size:16,className:Oe.moreButton})]}),K&&V&&c.jsx(jD,{artist:V.artist,title:V.title,visible:K,onClose:()=>oe(!1),embeddedLyrics:V.embeddedLyrics,currentTime:M})]})]})},_a=class _a{constructor(){}static getInstance(){return _a.instance||(_a.instance=new _a),_a.instance}async updatePresence(s){return console.log(`[DiscordService] Would POST to ${_a.API_BASE_URL}/presence with:`,s),!0}async clearPresence(s){return console.log(`[DiscordService] Would clear presence for userId: ${s}`),!0}static parseUserIdFromCallback(s){try{return new URL(s).searchParams.get("code"),null}catch(r){return console.error("Error parsing Discord callback:",r),null}}static isDiscordAvailable(s){return!!(s&&s.length>0)}};_a.API_BASE_URL="https://htmlplayer-backend.onrender.com",_a.instance=null;let td=_a;const Xg=a=>typeof a!="number"||!Number.isFinite(a)||a<=0?1:a,On={PREV_SONGS:2,NEXT_SONGS:4,CACHE_EXPIRY:600*1e3,MAX_CACHE_SIZE:50,PRELOAD_THRESHOLD:10*1024*1024},rM=a=>{const s=async b=>{const S=a.current.get(b.id);if(S)if(Date.now()-S.loadedAt<On.CACHE_EXPIRY){if(b.hasStoredAudio&&b.url.startsWith("indexeddb://"))try{const x=await en.loadSongAudio(b.id);if(x&&!S.url.startsWith("blob:")){const w=URL.createObjectURL(new Blob([x.fileData],{type:x.mimeType}));S.url.startsWith("blob:")&&URL.revokeObjectURL(S.url),a.current.set(b.id,{...S,url:w,song:{...b,url:w},loadedAt:Date.now()})}}catch(x){console.warn("Failed to refresh IndexedDB cache for song:",b.id,x)}}else S.url.startsWith("blob:")&&URL.revokeObjectURL(S.url),a.current.delete(b.id);try{let p,x;if(b.hasStoredAudio&&(console.log("CacheManager: Loading song from IndexedDB:",b.id),p=await en.loadSongAudio(b.id),p)){const k=URL.createObjectURL(new Blob([p.fileData],{type:p.mimeType}));a.current.set(b.id,{song:{...b,url:k},audioBuffer:p.fileData,url:k,loadedAt:Date.now()}),console.log("CacheManager: Successfully cached song from IndexedDB:",b.title)}if(b.hasStoredAudio){console.warn("CacheManager: Song has stored audio but not found in IndexedDB:",b.id);return}if(!b.url||b.url.startsWith("indexeddb://")||b.url.includes("about:blank")){console.error("CacheManager: No valid URL to fetch song from:",b.id);return}console.log("CacheManager: Fetching song from URL:",b.title);let w=!0;try{const q=(await fetch(b.url,{method:"HEAD"})).headers.get("content-length");q&&parseInt(q)>On.PRELOAD_THRESHOLD&&(console.log("CacheManager: Large file detected, skipping aggressive caching:",b.title),w=!1)}catch(k){console.warn("CacheManager: HEAD request failed, continuing with caching:",k)}const B=await fetch(b.url);if(!B.ok)throw new Error(`HTTP ${B.status}: ${B.statusText}`);const E=await B.arrayBuffer();x=B.headers.get("content-type")||"audio/mpeg";const D=URL.createObjectURL(new Blob([E],{type:x}));if((w||E.byteLength<=On.PRELOAD_THRESHOLD)&&a.current.set(b.id,{song:{...b,url:D},audioBuffer:E,url:D,loadedAt:Date.now()}),!b.hasStoredAudio)try{await en.saveSongAudio(b.id,{fileData:E,mimeType:x}),console.log("CacheManager: Saved song to IndexedDB:",b.title)}catch(k){console.warn("CacheManager: Failed to save to IndexedDB:",k)}console.log("CacheManager: Successfully cached song from URL:",b.title)}catch(p){console.error("CacheManager: Failed to cache song:",b.title,p)}},r=b=>{const S=a.current.get(b);if(S){if(Date.now()-S.loadedAt<On.CACHE_EXPIRY)return S;S.url.startsWith("blob:")&&URL.revokeObjectURL(S.url),a.current.delete(b)}},i=()=>{const b=Date.now(),S=[];for(const[p,x]of a.current.entries())b-x.loadedAt>On.CACHE_EXPIRY&&(S.push(p),x.url.startsWith("blob:")&&URL.revokeObjectURL(x.url));S.forEach(p=>a.current.delete(p)),S.length>0&&console.log(`CacheManager: Cleared ${S.length} expired cache entries`)},d=()=>{if(a.current.size<=On.MAX_CACHE_SIZE)return;const S=Array.from(a.current.entries()).sort((p,x)=>p[1].loadedAt-x[1].loadedAt).slice(0,a.current.size-On.MAX_CACHE_SIZE);for(const[p,x]of S)x.url.startsWith("blob:")&&URL.revokeObjectURL(x.url),a.current.delete(p);console.log(`CacheManager: Removed ${S.length} entries to enforce cache size limit`)},h=y.useCallback(b=>b.map(S=>{if(S.hasStoredAudio)return{...S,url:`indexeddb://${S.id}`};if(a.current.has(S.id)){const p=a.current.get(S.id);return{...S,url:p?.url||S.url}}return S}),[]);return{cacheSong:s,getCachedSong:r,clearExpiredCache:i,enforceCacheSize:d,prepareSongsForPlaylist:h,updateSongCache:async(b,S,p,x,w,B)=>{if(!b||!S)return;i(),d();const E=S.songs.findIndex(N=>N.id===b.id);if(E===-1)return;const D=Math.max(0,E-On.PREV_SONGS),k=Math.min(S.songs.length-1,E+On.NEXT_SONGS),q=[];if(p.current.shuffle){const N=S.songs.filter((L,O)=>O!==E);if(N.length>0){const L=Math.min(3,N.length),O=new Set;for(let T=0;T<L;T++){let C=null;if(x.current.smartShuffle){const Q=N.filter(K=>!O.has(K.id));C=B(Q,b.id,w.current)}else{const Q=N.filter(K=>!O.has(K.id));if(Q.length>0){const K=Math.floor(Math.random()*Q.length);C=Q[K]}}C&&!O.has(C.id)&&(q.push(C),O.add(C.id))}}}const j=new Set([...S.songs.slice(D,k+1),...q]),G=[],V=Array.from(j);V.sort((N,L)=>{if(N.id===b.id)return-1;if(L.id===b.id)return 1;const O=S.songs.findIndex(K=>K.id===N.id),T=S.songs.findIndex(K=>K.id===L.id),C=Math.abs(O-E),Q=Math.abs(T-E);return C-Q});for(const N of V)a.current.has(N.id)||G.push(s(N));const U=new Set(Array.from(a.current.keys())),M=new Set(V.map(N=>N.id));for(const N of U)if(!M.has(N)){const L=a.current.get(N);L&&Date.now()-L.loadedAt>On.CACHE_EXPIRY/2&&(L.url.startsWith("blob:")&&URL.revokeObjectURL(L.url),a.current.delete(N))}try{const L=(await Promise.allSettled(G)).filter(O=>O.status==="fulfilled"&&O.value).length;console.log(`CacheManager: Successfully cached ${L} of ${G.length} songs`)}catch(N){console.error("CacheManager: Error in batch caching:",N)}},clearAllCache:()=>{console.log("CacheManager: Clearing all cache");for(const[,b]of a.current.entries())b.url.startsWith("blob:")&&URL.revokeObjectURL(b.url);a.current.clear()},getCacheStats:()=>{const b=Date.now();let S=0,p=0;for(const[,x]of a.current.entries())b-x.loadedAt<On.CACHE_EXPIRY?S++:p++;return{total:a.current.size,valid:S,expired:p,maxSize:On.MAX_CACHE_SIZE}}}},p0=(a,s,r)=>{if(a.length===0)return null;const i=Date.now(),d=a.filter(b=>b.id!==s);if(d.length===0)return null;let h=d;if(a.length<=3){const b=i-18e5,S=new Set;for(const[p,x]of r.entries())x.lastPlayed>b&&S.add(p);h=d.filter(p=>!S.has(p.id)),h.length===0&&(h=d.sort((p,x)=>{const w=r.get(p.id),B=r.get(x.id),E=w?.lastPlayed||0,D=B?.lastPlayed||0;return E-D}),h=h.slice(0,1))}const f=h.map(b=>{const S=r.get(b.id);let p=100;if(S){const w=(i-S.lastPlayed)/(1e3*60*60);w<24&&(p*=Math.pow(.5,Math.max(0,4-w))),p*=Math.max(.3,1-S.playCount*.1)}return{song:b,weight:p}});if(f.length===0)return d[Math.floor(Math.random()*d.length)];const m=f.reduce((b,S)=>b+S.weight,0);let v=Math.random()*m;for(const b of f)if(v-=b.weight,v<=0)return b.song;return f[0].song},oM=(a,s)=>{let r=0;const i=500;return{getAndCacheNextSong:(m,v,b)=>{if(!m.current.currentPlaylist||!m.current.currentSong)return null;if(s.current&&a.current)return a.current;const S=m.current.currentPlaylist.songs,p=S.findIndex(w=>w.id===m.current.currentSong.id);let x=null;if(m.current.shuffle){const w=S.filter(B=>B.id!==m.current.currentSong.id);if(w.length>0)if(v.current.smartShuffle)x=p0(w,m.current.currentSong.id,b.current),x||(x=w[Math.floor(Math.random()*w.length)]);else{const B=Math.floor(Math.random()*w.length);x=w[B]}}else p<S.length-1?x=S[p+1]:m.current.repeat==="all"&&(x=S[0]);return a.current=x,s.current=!0,x},invalidateNextSongCache:(m=!1)=>{const v=Date.now();(m||v-r>i)&&(a.current=null,s.current=!1,r=v)},updatePlayHistory:(m,v)=>{const b=Date.now(),S=m.current.get(v)||{playCount:0};m.current.set(v,{lastPlayed:b,playCount:S.playCount+1});const p=b-10080*60*1e3;for(const[x,w]of m.current.entries())w.lastPlayed<p&&m.current.delete(x)}}};function iM(a){return typeof a!="number"||!Number.isFinite(a)?0:Math.max(-12,Math.min(12,a))}class cM{constructor(s){this.currentSource=null,this.nextSource=null,this.crossfadeInProgress=!1,this.crossfadeTimeout=null,this.crossfadePromise=null,this.activeElement=null,this.currentPitch=0,this.audioContext=s,this.masterGain=s.createGain(),this.masterGain.connect(s.destination),this.analyzerNode=s.createAnalyser(),this.analyzerNode.fftSize=2048,this.masterGain.connect(this.analyzerNode)}createAudioSource(s){const r=s._webAudioSource;if(r&&r.source.mediaElement===s)return r;try{const i=this.audioContext.createMediaElementSource(s),d=this.audioContext.createGain();i.connect(d),d.connect(this.masterGain);const h={element:s,source:i,gainNode:d,id:Math.random().toString(36).substr(2,9)};return s._webAudioSource=h,h}catch(i){throw console.error("Failed to create audio source:",i),i}}setCurrentSource(s){this.currentSource!==s&&(this.currentSource=s,this.activeElement=s.element,this.currentSource.gainNode.gain.setValueAtTime(1,this.audioContext.currentTime),this.nextSource&&this.nextSource!==s&&this.nextSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime))}prepareNextSource(s){this.nextSource=s,this.nextSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime)}async startCrossfade(s){if(!this.currentSource||!this.nextSource)throw new Error("Cannot start crossfade - missing audio sources");this.crossfadeInProgress&&(console.warn("Crossfade already in progress, cancelling previous"),this.cancelCrossfade()),this.crossfadeInProgress=!0;const{duration:r,curve:i="smooth"}=s,d=this.audioContext.currentTime;return console.log("Starting crossfade transition..."),this.crossfadePromise=new Promise(async(h,f)=>{try{this.nextSource.element.readyState<2&&await new Promise((v,b)=>{const S=setTimeout(()=>{b(new Error(Ye.t("crossfade.nextAudioFailedToLoadInTime")))},5e3),p=()=>{clearTimeout(S),this.nextSource.element.removeEventListener("canplay",x),this.nextSource.element.removeEventListener("loadeddata",x),this.nextSource.element.removeEventListener("error",w)},x=()=>{p(),v()},w=()=>{p(),b(new Error(Ye.t("crossfade.nextAudioFailedToLoad")))};this.nextSource.element.addEventListener("canplay",x),this.nextSource.element.addEventListener("loadeddata",x),this.nextSource.element.addEventListener("error",w)}),await this.nextSource.element.play(),this.setupCrossfadeCurves(r,i,d),this.activeElement=this.nextSource.element;const m=()=>{this.crossfadeInProgress&&(console.log("Current song ended during crossfade"),this.completeCrossfade(),h())};this.currentSource.element.addEventListener("ended",m,{once:!0}),this.crossfadeTimeout=window.setTimeout(()=>{this.crossfadeInProgress&&(this.currentSource.element.removeEventListener("ended",m),this.completeCrossfade(),h())},r*1e3+100)}catch(m){console.error("Crossfade failed:",m),this.crossfadeInProgress=!1,this.clearCrossfadeTimeout(),f(m)}}),this.crossfadePromise}setupCrossfadeCurves(s,r,i){if(!this.currentSource||!this.nextSource)return;const d=this.currentSource.gainNode.gain,h=this.nextSource.gainNode.gain;d.cancelScheduledValues(i),h.cancelScheduledValues(i);const f=i+s;switch(r){case"linear":d.setValueAtTime(1,i),d.linearRampToValueAtTime(0,f),h.setValueAtTime(0,i),h.linearRampToValueAtTime(1,f);break;case"exponential":d.setValueAtTime(1,i),d.exponentialRampToValueAtTime(.001,f),h.setValueAtTime(.001,i),h.exponentialRampToValueAtTime(1,f);break;case"smooth":default:const m=20,v=s/m;for(let b=0;b<=m;b++){const S=b/m,p=i+b*v,x=Math.sqrt(1-S),w=Math.sqrt(S);b===0?(d.setValueAtTime(x,p),h.setValueAtTime(w,p)):(d.linearRampToValueAtTime(x,p),h.linearRampToValueAtTime(w,p))}break}}completeCrossfade(){if(this.crossfadeInProgress)try{console.log("Completing crossfade transition"),this.currentSource&&(this.currentSource.element.pause(),this.currentSource.element.currentTime=0,this.currentSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime)),this.nextSource&&this.nextSource.gainNode.gain.setValueAtTime(1,this.audioContext.currentTime),this.currentSource=this.nextSource,this.nextSource=null,this.crossfadeInProgress=!1,this.crossfadePromise=null,this.clearCrossfadeTimeout()}catch(s){console.error("Error completing crossfade:",s),this.crossfadeInProgress=!1}}cancelCrossfade(){if(this.crossfadeInProgress){console.log("Cancelling crossfade");try{const s=this.audioContext.currentTime;this.currentSource&&(this.currentSource.gainNode.gain.cancelScheduledValues(s),this.currentSource.gainNode.gain.setValueAtTime(1,s)),this.nextSource&&(this.nextSource.gainNode.gain.cancelScheduledValues(s),this.nextSource.gainNode.gain.setValueAtTime(0,s),this.nextSource.element.pause(),this.nextSource.element.currentTime=0),this.currentSource&&(this.activeElement=this.currentSource.element),this.crossfadeInProgress=!1,this.crossfadePromise=null,this.clearCrossfadeTimeout()}catch(s){console.error("Error cancelling crossfade:",s)}}}clearCrossfadeTimeout(){this.crossfadeTimeout&&(clearTimeout(this.crossfadeTimeout),this.crossfadeTimeout=null)}setMasterVolume(s){const r=Math.max(0,Math.min(1,s)),i=this.audioContext.currentTime;this.masterGain.gain.cancelScheduledValues(i),this.masterGain.gain.setValueAtTime(this.masterGain.gain.value,i),this.masterGain.gain.linearRampToValueAtTime(r,i+.1)}getActiveElement(){return this.activeElement}isCrossfading(){return this.crossfadeInProgress}getMasterGainNode(){return this.masterGain}getAnalyzerNode(){return this.analyzerNode}seekTo(s){this.activeElement&&(this.activeElement.currentTime=s)}getCurrentTime(){return this.activeElement?.currentTime||0}getDuration(){return this.activeElement?.duration||0}isPlaying(){return this.activeElement?!this.activeElement.paused:!1}async play(){this.activeElement&&await this.activeElement.play()}pause(){this.activeElement&&this.activeElement.pause()}setPitch(s){this.currentPitch=iM(s)}getPitch(){return this.currentPitch}destroy(){console.log("Destroying crossfade manager"),this.cancelCrossfade();try{this.currentSource&&(this.currentSource.source.disconnect(),this.currentSource.gainNode.disconnect()),this.nextSource&&(this.nextSource.source.disconnect(),this.nextSource.gainNode.disconnect()),this.analyzerNode.disconnect(),this.masterGain.disconnect()}catch(s){console.error("Error during cleanup:",s)}this.currentSource=null,this.nextSource=null,this.activeElement=null}}function oi(a){if(!a||!a.gapless||!a.encoding?.sampleRate)return{start:0,end:0};const s=a.encoding.sampleRate;if(typeof s!="number"||!Number.isFinite(s)||s<=0)return{start:0,end:0};const r=a.gapless.encoderDelay??0,i=a.gapless.encoderPadding??0,d=typeof r=="number"&&Number.isFinite(r)&&r>0?r/s:0,h=typeof i=="number"&&Number.isFinite(i)&&i>0?i/s:0;return{start:Number.isFinite(d)&&d>0?d:0,end:Number.isFinite(h)&&h>0?h:0}}const uM=(a,s,r,i,d,h,f)=>{const m=E=>typeof E!="number"||!Number.isFinite(E)||E<=0?1:Math.max(.25,Math.min(4,E)),v=E=>{try{return r.current||(console.log("CrossfadeUtils: Creating new crossfade manager"),r.current=new cM(E)),!i.current&&a.current&&(console.log("CrossfadeUtils: Setting up current audio source"),i.current=r.current.createAudioSource(a.current),r.current.setCurrentSource(i.current)),r.current}catch(D){return console.error("CrossfadeUtils: Failed to setup crossfade manager:",D),null}},b=E=>{try{return E()}catch(D){return console.error("CrossfadeUtils: Failed to get next song for crossfade:",D),null}},S=async(E,D,k,q)=>{if(!s.current||!r.current)throw new Error("CrossfadeUtils: Missing audio elements for crossfade preparation");console.log("CrossfadeUtils: Preparing next song for crossfade:",E.title);try{console.log("CrossfadeUtils: Caching next song"),await D(E);const j=k(E.id);if(!j)throw new Error(`Failed to cache next song: ${E.title}`);s.current.pause(),s.current.currentTime=0,s.current.src=j.url,s.current.playbackRate=m(q.current.tempo),console.log("CrossfadeUtils: Waiting for next audio to be ready"),await new Promise((V,U)=>{const M=setTimeout(()=>{N(),U(new Error("Timeout waiting for audio to load"))},1e4),N=()=>{clearTimeout(M),s.current?.removeEventListener("canplay",L),s.current?.removeEventListener("loadeddata",L),s.current?.removeEventListener("error",O)},L=()=>{console.log("CrossfadeUtils: Next audio is ready"),N(),V()},O=T=>{console.error("CrossfadeUtils: Error loading next audio:",T),N(),U(new Error("Failed to load next audio"))};if(s.current.readyState>=2){N(),V();return}s.current.addEventListener("canplay",L),s.current.addEventListener("loadeddata",L),s.current.addEventListener("error",O),s.current.load()});const G=oi(E);if(G.start>0&&G.start<s.current.duration)try{s.current.currentTime=G.start}catch(V){console.warn("CrossfadeUtils: Failed to apply gapless start offset to next track:",V)}(!d.current||d.current.element!==s.current)&&(d.current=r.current.createAudioSource(s.current)),r.current.prepareNextSource(d.current),console.log("CrossfadeUtils: Next song prepared successfully for crossfade")}catch(j){throw console.error("CrossfadeUtils: Failed to prepare next song for crossfade:",j),j}},p=(E,D,k,q,j,G,V,U,M,N)=>{console.log("CrossfadeUtils: Updating player state after crossfade to:",E.title);try{D.current.currentSong&&D.current.shuffle&&(q(k,D.current.currentSong.id),console.log("CrossfadeUtils: Updated play history for shuffle mode"));const L=G.current;G.current=V.current,V.current=L;const O=U.current;U.current=M.current,M.current=O;const T=r.current?.getCurrentTime()||0;j(C=>(console.log("CrossfadeUtils: Finalizing player state after crossfade:",E.title,"currentTime:",T),{...C,currentTime:T})),N&&(N(),console.log("CrossfadeUtils: Invalidated next song cache after crossfade")),console.log("CrossfadeUtils: Player state updated successfully")}catch(L){console.error("CrossfadeUtils: Error updating player state after crossfade:",L)}};return{setupCrossfadeManager:v,getNextSongForCrossfade:b,prepareNextSongForCrossfade:S,updatePlayerStateAfterCrossfade:p,preloadNextSong:async(E,D,k,q)=>{if(!s.current||r.current?.isCrossfading()){console.log("CrossfadeUtils: Skipping preload - no audio element or crossfade in progress");return}try{const j=E();if(!j){console.log("CrossfadeUtils: No next song to preload");return}console.log("CrossfadeUtils: Preloading next song:",j.title),await D(j);const G=k(j.id);G&&(s.current.src=G.url,s.current.playbackRate=m(q.current.tempo),s.current.preload="auto",s.current.load(),console.log("CrossfadeUtils: Successfully preloaded next song"))}catch(j){console.warn("CrossfadeUtils: Failed to preload next song:",j)}},startCrossfadeTransition:async(E,D,k,q,j,G,V,U,M,N,L,O)=>{if(console.log("CrossfadeUtils: Starting crossfade transition..."),!E.current)throw console.warn("CrossfadeUtils: No playNext function available"),new Error("No playNext function available for crossfade");if(!r.current)if(M?.current){if(console.log("CrossfadeUtils: Initializing crossfade manager"),!v(M.current))throw new Error("Failed to initialize crossfade manager")}else throw new Error("No audio context available for crossfade");if(!a.current)throw new Error("No current audio element available");if(!s.current)throw new Error("No next audio element available");(!i.current||i.current.element!==a.current)&&(console.log("CrossfadeUtils: Setting up current audio source"),i.current=r.current.createAudioSource(a.current),r.current.setCurrentSource(i.current)),r.current&&r.current.isCrossfading()&&(console.log("CrossfadeUtils: Cancelling existing crossfade"),r.current.cancelCrossfade());try{const T=D();if(!T)throw new Error("No next song available for crossfade");console.log("CrossfadeUtils: Preparing next song for crossfade:",T.title),await k(T);const C=oi(T),Q=s.current&&Number.isFinite(s.current.duration)?s.current.duration:T.duration||0,K=Q-C.start-C.end,oe=Number.isFinite(K)&&K>.1?K:Q;L?L.current=!1:h&&(h.current=!1),O?O.current=C.start>0:f&&(f.current=C.start>0),M?.current?.state==="suspended"&&(console.log("CrossfadeUtils: Resuming audio context"),await M.current.resume());const z=Math.max(.5,Math.min(10,U.current.crossfade||3)),$=a.current?a.current.duration-a.current.currentTime:z,X=Math.min(z,Math.max(.5,$));console.log("CrossfadeUtils: Starting crossfade with effective duration:",X,"(requested:",z,"time remaining:",$.toFixed(1)+")"),console.log("CrossfadeUtils: Updating player state at crossfade start"),V(le=>({...le,currentSong:T,currentTime:0,duration:oe&&oe>0?oe:T.duration||0,isPlaying:!0})),await r.current.startCrossfade({duration:X,curve:"smooth"}),console.log("CrossfadeUtils: Crossfade completed, finalizing player state"),p(T,q,j,G,V,a,s,i,d,N),console.log("CrossfadeUtils: Crossfade transition completed successfully")}catch(T){throw console.error("CrossfadeUtils: Crossfade transition failed:",T),console.log("CrossfadeUtils: Reverting UI state after failed crossfade"),V(C=>({...C,currentSong:q.current.currentSong,currentTime:a.current?.currentTime||C.currentTime,duration:q.current.currentSong?.duration||C.duration})),r.current?.isCrossfading()&&r.current.cancelCrossfade(),T}},cleanupCrossfadeManager:()=>{console.log("CrossfadeUtils: Cleaning up crossfade manager");try{r.current&&(r.current.destroy(),r.current=null),i.current=null,d.current=null,console.log("CrossfadeUtils: Cleanup completed")}catch(E){console.error("CrossfadeUtils: Error during cleanup:",E)}}}},dM=()=>({processAudioBatch:async r=>{const i=[],d=r.length;let h=0;const f=ce.loading(Ye.t("audioProcessor.processingZero",{totalSongs:d}));for(const m of r)if(m.url.startsWith("blob:"))try{const v=await fetch(m.url),b=await v.arrayBuffer(),S=v.headers.get("content-type")||"audio/mpeg";await en.saveSongAudio(m.id,{fileData:b,mimeType:S}),i.push({...m,hasStoredAudio:!0,albumArt:m.albumArt}),h++,ce.loading(Ye.t("audioProcessor.processing",{processedCount:h,totalSongs:d}),{id:f,description:Ye.t("audioProcessor.current",{songTitle:m.title})})}catch(v){const b=v;console.error(Ye.t("audioProcessor.failedToProcess",{songTitle:m.title}),b),ce.error(`Failed to process "${m.title}"`,{description:b.message||Ye.t("common.unknownError")}),i.push(m)}else i.push(m),h++;return ce.success(Ye.t("audioProcessor.processed",{processedCount:h}),{id:f}),i},getValidTempo:r=>typeof r!="number"||!Number.isFinite(r)||r<=0?1:r}),fM=(a,s,r,i,d)=>{const h=(O,T)=>O.map(C=>{if(C.hasStoredAudio)return{...C,url:`indexeddb://${C.id}`};if(T?.current.has(C.id)){const Q=T.current.get(C.id);return{...C,url:Q?.url||C.url}}return C}),f=()=>crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now(),m=(O,T=[])=>{const C={id:f(),name:O,songs:h(T)};return a(Q=>({...Q,playlists:[...Q.playlists,C]})),C},v=O=>{const T={id:f(),name:O,children:[]};return a(C=>({...C,playlists:[...C.playlists,T]})),T},b=O=>{a(T=>{const C=Q=>Q.filter(K=>K.id!==O).map(K=>"children"in K?{...K,children:C(K.children)}:K);return{...T,playlists:C(T.playlists)}})},S=O=>{a(T=>({...T,favorites:T.favorites.includes(O)?T.favorites:[...T.favorites,O]}))},p=O=>{a(T=>({...T,favorites:T.favorites.filter(C=>C!==O)}))},x=(O,T)=>{a(C=>{const Q=C.songs.find(oe=>oe.id===T);if(!Q)return C;const K=oe=>oe.map(z=>z.id===O&&"songs"in z?z.songs.some($=>$.id===T)?z:{...z,songs:[...z.songs,Q]}:"children"in z?{...z,children:K(z.children)}:z);return{...C,playlists:K(C.playlists)}})},w=(O,T)=>{a(C=>{if(!O)return{...C,songs:T,playlists:C.playlists.map(K=>K.id==="all-songs"?{...K,songs:T}:K)};const Q=K=>K.map(oe=>oe.id===O&&"songs"in oe?{...oe,songs:T}:"children"in oe?{...oe,children:Q(oe.children)}:oe);return{...C,playlists:Q(C.playlists)}})},B=(O,T,C)=>{a(Q=>{const K=Q.songs.find(X=>X.id===O);if(!K)return Q;const oe=(X,le)=>le===null||le==="all-songs"?X:X.map(Z=>Z.id===le&&"songs"in Z?{...Z,songs:Z.songs.filter(ge=>ge.id!==O)}:"children"in Z?{...Z,children:oe(Z.children,le)}:Z),z=(X,le)=>X.map(Z=>Z.id===le&&"songs"in Z?Z.songs.some(ge=>ge.id===O)?Z:{...Z,songs:[...Z.songs,K]}:"children"in Z?{...Z,children:z(Z.children,le)}:Z);let $=Q.playlists;return T&&T!=="all-songs"&&($=oe($,T)),$=z($,C),{...Q,playlists:$}})},E=(O,T,C)=>{a(Q=>{console.debug("[playlistManager] moveToFolder called with",{itemId:O,folderId:T,beforeId:C});let K=null;const oe=X=>X.filter(le=>le.id===O?(K=le,!1):!0).map(le=>"children"in le?{...le,children:oe(le.children)}:le);let z=oe(Q.playlists);if(!K)return console.warn("[playlistManager] moveToFolder: item not found",O),Q;if(T&&K&&"children"in K){const X=(ue,fe)=>{for(const _e of ue)if(_e.id===fe||"children"in _e&&X(_e.children,fe))return!0;return!1},le=(ue,fe)=>{for(const _e of ue){if(_e.id===fe&&"children"in _e)return _e;if("children"in _e){const Ge=le(_e.children,fe);if(Ge)return Ge}}return null};if(le(z,T)&&X(K.children,T))return Q}const $=(X,le,Z,ge)=>{if(le===null){if(!ge)return[...X,Z];const ue=X.findIndex(fe=>fe.id===ge);return ue===-1?[...X,Z]:[...X.slice(0,ue),Z,...X.slice(ue)]}return X.map(ue=>{if(ue.id===le&&"children"in ue){const fe=ue.children;if(!ge)return{...ue,children:[...fe,Z]};const _e=fe.findIndex(Ge=>Ge.id===ge);return _e===-1?{...ue,children:[...fe,Z]}:{...ue,children:[...fe.slice(0,_e),Z,...fe.slice(_e)]}}else if("children"in ue)return{...ue,children:$(ue.children,le,Z,ge)};return ue})};return T?(console.debug("[playlistManager] inserting into folder",T,"beforeId",C),z=$(z,T,K,C||null)):(console.debug("[playlistManager] inserting into root beforeId",C),z=$(z,null,K,C||null)),{...Q,playlists:z}})},D=O=>{const T=s.favorites.includes(O);return T?p(O):S(O),!T},k=O=>s.favorites.includes(O),q=()=>s.songs.filter(O=>s.favorites.includes(O.id)),j=O=>(r(O),O.trim()?s.songs.filter(T=>T.title.toLowerCase().includes(O.toLowerCase())||T.artist.toLowerCase().includes(O.toLowerCase())):s.songs);return{prepareSongsForPlaylist:h,createPlaylist:m,createFolder:v,removePlaylist:b,addToFavorites:S,removeFromFavorites:p,addToPlaylist:x,reorderPlaylistSongs:w,moveSongToPlaylist:B,moveToFolder:E,toggleFavorite:D,isFavorited:k,getFavoriteSongs:q,searchSongs:j,getSearchResults:()=>j(i),navigateToArtist:O=>{d(T=>({...T,view:"artist",currentArtist:O}))},navigateToAlbum:O=>{d(T=>({...T,view:"album",currentAlbum:O}))},navigateToSongs:()=>{d(O=>({...O,view:"songs",currentArtist:void 0,currentAlbum:void 0}))},exportPlaylist:(O,T="json")=>{try{let C,Q,K;if(T==="json"){const X={name:O.name,created:new Date().toISOString(),songs:O.songs.map(le=>({title:le.title,artist:le.artist,album:le.album,duration:le.duration}))};C=JSON.stringify(X,null,2),Q=`${O.name.replace(/[^a-z0-9]/gi,"_")}.json`,K="application/json"}else C=`#EXTM3U
`,O.songs.forEach(X=>{C+=`#EXTINF:${Math.floor(X.duration)},${X.artist} - ${X.title}
`,C+=`# ${X.album}
`}),Q=`${O.name.replace(/[^a-z0-9]/gi,"_")}.m3u`,K="audio/x-mpegurl";const oe=new Blob([C],{type:K}),z=URL.createObjectURL(oe),$=document.createElement("a");$.href=z,$.download=Q,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(z),ce.success(Ye.t("playlist.exportedAs",{name:O.name,format:T.toUpperCase()}))}catch(C){console.error("Export failed:",C),ce.error(Ye.t("playlist.exportFailed")+" "+(C instanceof Error?C.message:Ye.t("common.unknownError")))}},importPlaylist:O=>new Promise((T,C)=>{const Q=new FileReader;Q.onload=K=>{try{const oe=K.target?.result;if(O.name.endsWith(".json")){const z=JSON.parse(oe);if(!z.name||!Array.isArray(z.songs))throw new Error(Ye.t("playlist.invalidFormat"));const $={id:Date.now().toString(),name:`${z.name} (Imported)`,songs:[]};m($.name,$.songs),ce.success(Ye.t("playlist.importedPlaylist",{name:z.name,count:z.songs.length})),ce.info(Ye.t("playlist.noteManualAdd")),T()}else if(O.name.endsWith(".m3u")||O.name.endsWith(".m3u8")){const z=oe.split(`
`).filter(le=>le.trim()),$=[];for(let le=0;le<z.length;le++){const Z=z[le].trim();if(Z.startsWith("#EXTINF:")){const ge=Z.match(/#EXTINF:\d+,(.+?) - (.+)/);ge&&$.push({artist:ge[1],title:ge[2]})}}const X=O.name.replace(/\.(m3u|m3u8)$/i,"");m(`${X} (Imported)`,[]),ce.success(Ye.t("playlist.importedM3u",{count:$.length})),ce.info(Ye.t("playlist.noteManualAdd")),T()}else throw new Error(Ye.t("playlist.unsupportedFormat"))}catch(oe){console.error("Import failed:",oe);const z=oe instanceof Error?oe.message:Ye.t("playlist.failedToParse");ce.error(Ye.t("playlist.importFailedWithMessage",{message:z})),C(oe)}},Q.onerror=()=>{const K=new Error(Ye.t("playlist.failedToReadFile"));ce.error(Ye.t("playlist.failedToReadFile")),C(K)},Q.readAsText(O)})}},hM=()=>{const{t:a}=At(),s=y.useRef(null),r=y.useRef(null),i=y.useRef(new Map),d=y.useRef(DC()),h=y.useRef(null),f=y.useRef(null),m=y.useRef(null),v=y.useRef(null),b=y.useRef(null),S=y.useRef(null),p=y.useRef(!1),x=y.useRef(!1),w=y.useRef(null),B=y.useRef(!1),E=y.useRef(!1),[D,k]=y.useState(!1),q=y.useRef(null),[j,G]=y.useState({currentSong:null,currentPlaylist:null,isPlaying:!1,volume:.75,currentTime:0,duration:0,shuffle:!1,repeat:"off",analyserNode:null,view:"songs"}),[V,U]=y.useState({volume:.75,crossfade:3,colorTheme:"Blue",defaultShuffle:!1,defaultRepeat:"off",autoPlayNext:!0,themeMode:"auto",compactMode:!1,showAlbumArt:!0,showLyrics:!1,sessionRestore:!0,lastPlayedSongId:"none",lastPlayedPlaylistId:"none",language:"English",tempo:1,pitch:0,gaplessPlayback:!0,smartShuffle:!0,discordEnabled:!1,discordUserId:void 0}),[M,N]=y.useState(()=>({songs:[],playlists:[],favorites:[]})),[L,O]=y.useState(""),T=y.useRef(new Map),C=y.useRef(V),Q=y.useRef(j),K=y.useCallback(_r.debounce(async W=>{try{await en.saveLibrary(W),console.log("Saved musicLibrary to IndexedDB")}catch(ie){console.error("Failed to persist library data:",ie)}},500),[]),oe=y.useCallback(_r.debounce(async(W,ie)=>{try{const re=Array.from(ie.entries()),ve={...W,playHistory:re};await en.saveSettings(ve),console.log("Saved playerSettings to IndexedDB")}catch(re){console.error("Failed to persist settings:",re)}},300),[]),z=rM(i),$=oM(w,B),X=uM(s,h,f,m,v,p,x),le=dM(),Z=fM(N,M,O,L,G),{cacheSong:ge,getCachedSong:ue,prepareSongsForPlaylist:fe,updateSongCache:_e,clearAllCache:Ge}=z,{getAndCacheNextSong:Ae,invalidateNextSongCache:tt,updatePlayHistory:ct}=$,{setupCrossfadeManager:bt,prepareNextSongForCrossfade:Xe,preloadNextSong:pe,startCrossfadeTransition:Me,cleanupCrossfadeManager:Ze}=X,{processAudioBatch:nt}=le,{createPlaylist:me,createFolder:Ne,removePlaylist:qe,addToFavorites:ut,removeFromFavorites:Te,addToPlaylist:Qe,reorderPlaylistSongs:Ct,moveSongToPlaylist:Tt,moveToFolder:St,toggleFavorite:Pn,isFavorited:ee,getFavoriteSongs:je,searchSongs:De,getSearchResults:at,navigateToArtist:Ie,navigateToAlbum:Ot,navigateToSongs:mt,exportPlaylist:aa,importPlaylist:Ta}=Z,Fn=y.useCallback(()=>{if(d.current.isActive()){console.log("[Safari] Skipping Web Audio API setup for background playback compatibility");return}if(!r.current&&s.current){const ie=new(window.AudioContext||window.webkitAudioContext);r.current=ie;const re=bt(ie);if(re){const ve=re.getAnalyzerNode();G(be=>({...be,analyserNode:ve}))}console.log("[Audio Context] Created and initialized")}},[bt]);y.useEffect(()=>{const W=()=>{r.current&&r.current.state==="suspended"&&(console.log("[Audio Context] Resuming suspended context"),r.current.resume())},ie=()=>{r.current&&r.current.state==="suspended"&&(console.log("[Audio Context] Resuming on focus"),r.current.resume())};return document.addEventListener("visibilitychange",W),window.addEventListener("focus",ie),()=>{document.removeEventListener("visibilitychange",W),window.removeEventListener("focus",ie)}},[]),y.useEffect(()=>()=>{Ze(),b.current&&clearTimeout(b.current),Ge()},[]),y.useEffect(()=>{(async()=>{try{const ie=await en.loadLibrary(),re=await en.loadSettings();if(ie){const ve={...ie,songs:ie.songs.filter(Ce=>Ce.url&&Ce.url!=="")},be={id:"all-songs",name:a("allSongs"),songs:fe(ve.songs)},ze={...ve,playlists:ve.playlists.some(Ce=>Ce.id==="all-songs")?ve.playlists.map(Ce=>Ce.id==="all-songs"?{...Ce,songs:fe(ve.songs)}:Ce):[be,...ve.playlists]};N(ze);let ot=null,Je=null;re?.sessionRestore!==!1&&(re?.lastPlayedSongId&&(ot=ze.songs.find(Ce=>Ce.id===re.lastPlayedSongId)||null),re?.lastPlayedPlaylistId&&(Je=ze.playlists.find(Ce=>Ce.id===re.lastPlayedPlaylistId)||null)),(!Je||!Je.songs||Je.songs.length===0)&&(Je=be),!ot&&Je.songs.length>0&&re?.sessionRestore!==!1&&(ot=Je.songs[0]),G(Ce=>({...Ce,currentSong:ot,currentPlaylist:Je,isPlaying:!1,currentTime:0,duration:ot?.duration||0})),re&&(d.current.isActive()&&(re.gaplessPlayback=!1,re.crossfade=0),(re.pitch===void 0||re.pitch===null||isNaN(re.pitch))&&(re.pitch=0),U(re),re.playHistory&&(T.current=new Map(re.playHistory),console.log("Restored play history with",re.playHistory.length,"entries")))}}catch(ie){console.error("Failed to load persisted data:",ie)}finally{k(!0)}})()},[fe]),y.useEffect(()=>{D&&K(M)},[M,D,K]),y.useEffect(()=>{D&&oe(V,T.current)},[V,D,oe]),y.useEffect(()=>{const W=C.current;C.current=V,W.smartShuffle!==V.smartShuffle&&(console.log("Smart shuffle setting changed, invalidating cache"),tt(!0))},[V,tt]),y.useEffect(()=>{const W=Q.current;Q.current=j,(W.currentPlaylist?.id!==j.currentPlaylist?.id||W.shuffle!==j.shuffle&&j.shuffle||W.repeat!==j.repeat)&&(console.log("Player state changed significantly, invalidating cache"),tt(!0))},[j,tt]),y.useEffect(()=>{if(j.currentPlaylist){const W=re=>{for(const ve of re){if("songs"in ve&&ve.id===j.currentPlaylist?.id)return ve;if("children"in ve){const be=W(ve.children);if(be)return be}}return null},ie=W(M.playlists);ie&&ie.songs!==j.currentPlaylist.songs&&G(re=>({...re,currentPlaylist:ie}))}},[M.playlists,j.currentPlaylist?.id]),y.useEffect(()=>{f.current?f.current.setMasterVolume(V.volume):s.current&&(s.current.volume=V.volume)},[V.volume]),y.useEffect(()=>{G(W=>({...W,volume:V.volume,shuffle:V.defaultShuffle,repeat:V.defaultRepeat}))},[V.volume,V.defaultShuffle,V.defaultRepeat]),y.useEffect(()=>{if(D&&(V.sessionRestore&&U(W=>({...W,lastPlayedSongId:j.currentSong?.id??W.lastPlayedSongId,lastPlayedPlaylistId:j.currentPlaylist?.id??W.lastPlayedPlaylistId})),"mediaSession"in navigator&&j.currentSong)){navigator.mediaSession.metadata=new MediaMetadata({title:j.currentSong.title,artist:j.currentSong.artist,album:j.currentSong.album,artwork:j.currentSong.albumArt?[{src:j.currentSong.albumArt}]:[]}),navigator.mediaSession.setActionHandler("previoustrack",()=>{ja()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{Yn()}),navigator.mediaSession.setActionHandler("seekto",W=>{if(W.seekTime!==void 0&&s.current){const ie=Math.max(0,Math.min(W.seekTime,s.current.duration||0));s.current.currentTime=ie,d.current.isActive()&&d.current.seek(ie),console.log("[Media Session] Seek to:",ie)}}),navigator.mediaSession.setActionHandler("seekforward",W=>{if(s.current){const ie=W.seekOffset||10,re=Math.min(s.current.currentTime+ie,s.current.duration||0);s.current.currentTime=re,d.current.isActive()&&d.current.seek(re),console.log("[Media Session] Seek forward:",ie,"seconds")}}),navigator.mediaSession.setActionHandler("seekbackward",W=>{if(s.current){const ie=W.seekOffset||10,re=Math.max(s.current.currentTime-ie,0);s.current.currentTime=re,d.current.isActive()&&d.current.seek(re),console.log("[Media Session] Seek backward:",ie,"seconds")}});try{navigator.mediaSession.setActionHandler("enterpictureinpicture",()=>{gb({playerState:{currentSong:j.currentSong,isPlaying:j.isPlaying},togglePlayPause:tl,playNext:Yn,playPrevious:ja})})}catch{console.log("enterpictureinpicture action not supported")}return()=>{if("mediaSession"in navigator){navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null);try{navigator.mediaSession.setActionHandler("enterpictureinpicture",null)}catch{}}}}},[j.currentSong,j.currentPlaylist,D]),y.useEffect(()=>{const W=Xg(V.tempo),ie=Math.pow(2,(V.pitch??0)/12),re=W*ie;s.current&&(s.current.playbackRate=re),h.current&&(h.current.playbackRate=re)},[V.tempo,V.pitch]);const It=y.useCallback(async(W,ie)=>{const re=td.getInstance();if(!(!V.discordEnabled||!V.discordUserId))try{W&&ie?await re.updatePresence({userId:V.discordUserId,details:W.title,state:W.artist}):await re.clearPresence(V.discordUserId)}catch(ve){console.error("Failed to update Discord presence:",ve)}},[V.discordEnabled,V.discordUserId]),xn=y.useCallback(async()=>{if(!(E.current||!j.currentSong||!j.currentPlaylist)&&j.repeat!=="one"){E.current=!0;try{const W=Ae(Q,C,T);W&&(w.current=W,B.current=!0,V.crossfade>0&&h.current&&await pe(()=>W,ge,ue,C))}catch(W){console.error("Failed to preload next song:",W)}finally{E.current=!1}}},[j,V,pe,ge,ue,Ae]),Zt=y.useCallback(async(W,ie)=>{if(!W.url&&!W.hasStoredAudio){console.error("No URL or stored audio available for song:",W),ce.error(`Cannot play "${W.title}" - No audio source available`);return}r.current||Fn(),r.current?.state==="suspended"&&r.current.resume(),S.current&&(clearTimeout(S.current),S.current=null),b.current&&(clearTimeout(b.current),b.current=null);const re=W.hasStoredAudio?{...W,url:`indexeddb://${W.id}`}:W;await ge(re);const ve=ue(W.id);if(!ve){console.error("Failed to play song: could not cache");return}const be=ie&&"songs"in ie?{...ie,songs:fe(ie.songs)}:Q.current.currentPlaylist&&"songs"in Q.current.currentPlaylist?Q.current.currentPlaylist:null;if(G(ze=>({...ze,currentSong:W,currentPlaylist:be,isPlaying:!0,currentTime:0})),Q.current.currentSong&&Q.current.currentSong.id!==W.id&&ct(T,Q.current.currentSong.id),s.current){f.current?.isCrossfading()&&f.current.cancelCrossfade(),p.current=!1,x.current=!1,s.current.src=ve.url;const ze=Xg(C.current.tempo),ot=Math.pow(2,C.current.pitch/12);s.current.playbackRate=ze*ot,r.current||Fn(),r.current&&!f.current&&bt(r.current),f.current&&((!m.current||m.current.element!==s.current)&&(m.current=f.current.createAudioSource(s.current)),f.current.setCurrentSource(m.current));try{await s.current.play()}catch(Je){console.error("Failed to play song:",Je),ce.error(`Failed to play "${W.title}"`,{description:Je.message||"Unknown error occurred"}),G(Ce=>({...Ce,isPlaying:!1}));return}ie&&_e(W,ie,Q,C,T,p0),It(W,!0),tt(),b.current=window.setTimeout(()=>{xn()},2e3)}},[Fn,ge,ue,_e,fe,It,tt,xn]);y.useEffect(()=>{const W=d.current.getElement();W?(console.log("[Music Player] Using Safari audio element as primary audio"),s.current=W,W.muted=!1,W.volume=C.current.volume):(s.current=new Audio,s.current.crossOrigin="anonymous"),h.current=new Audio,h.current.crossOrigin="anonymous";const ie=s.current,re=ot=>{const Je=ot.target,Ce=s.current,Ft=h.current;let an=Ce;if(f.current?.isCrossfading()&&Ft&&Ft.src&&!Ft.src.includes("about:blank")&&(an=Ft),Je!==an)return;if(G(Ln=>({...Ln,currentTime:Je.currentTime})),"mediaSession"in navigator&&"setPositionState"in navigator.mediaSession)try{navigator.mediaSession.setPositionState({duration:Je.duration||0,playbackRate:Je.playbackRate||1,position:Je.currentTime||0})}catch{}const vs=C.current.crossfade>0,Gn=C.current.gaplessPlayback,Xn=C.current.autoPlayNext,al=!!q.current,Ea=Q.current.repeat!=="one",Nt=Ce&&Ce.duration>0,Mr=!f.current?.isCrossfading();if(Xn&&al&&Ea&&Nt&&Mr&&Ce){const Ln=Gn?oi(Q.current.currentSong):{start:0,end:0},Bn=Ce.duration-Ln.start-Ln.end,Aa=Number.isFinite(Bn)&&Bn>.1?Bn:Ce.duration,wi=Math.max(0,Ce.currentTime-Ln.start),Qn=Math.max(0,Aa-wi),Or=Gn&&(Ln.start>0||Ln.end>0);if(vs){const jl=C.current.crossfade,ll=Math.max(jl+5,10);Qn<=ll&&Qn>ll-1&&(E.current||xn()),Qn<=jl&&(console.log("Triggering crossfade at",Qn.toFixed(1),"seconds remaining"),Me(q,()=>w.current||Ae(Q,C,T),Na=>Xe(Na,ge,ue,C),Q,T,ct,G,C,r,tt,p,x).catch(Na=>{console.error("Crossfade transition failed:",Na)}))}else Gn&&(Qn<=3&&Qn>2.5&&(E.current||xn()),Or&&Qn<=.05&&!p.current&&(p.current=!0,Xn&&q.current?q.current():Xn||(Ce.pause(),G(jl=>({...jl,isPlaying:!1})))))}},ve=()=>{const ot=s.current;if(!ot)return;let Je=ot.duration;if(C.current.gaplessPlayback){const Ce=oi(Q.current.currentSong);if(!x.current&&Ce.start>0&&Ce.start<ot.duration)try{ot.currentTime=Ce.start,x.current=!0}catch(an){console.warn("Failed to apply gapless start offset:",an)}const Ft=ot.duration-Ce.start-Ce.end;Number.isFinite(Ft)&&Ft>.1&&(Je=Ft)}G(Ce=>({...Ce,duration:Je}))},be=ot=>{if(ot.target===s.current){if(f.current?.isCrossfading()){console.log("Current song ended during crossfade, completing immediately"),f.current&&setTimeout(()=>{console.log("Crossfade interrupted by song end")},100);return}C.current.autoPlayNext&&(Q.current.repeat==="one"?s.current&&(s.current.currentTime=0,s.current.play()):q.current&&(C.current.crossfade===0?C.current.gaplessPlayback?q.current():setTimeout(()=>q.current?.(),400):f.current?.isCrossfading()?console.log("Crossfade transition already in progress"):(console.log("Starting immediate crossfade transition on song end"),S.current&&(clearTimeout(S.current),S.current=null),Me(q,()=>w.current||Ae(Q,C,T),Ce=>Xe(Ce,ge,ue,C),Q,T,ct,G,C,r,tt,p,x).catch(Ce=>{console.error("Immediate crossfade failed:",Ce),q.current&&(console.log("Falling back to regular playNext"),q.current())}))))}};ie.addEventListener("timeupdate",re),ie.addEventListener("loadedmetadata",ve),ie.addEventListener("ended",be);const ze=h.current;return ze.addEventListener("timeupdate",re),ze.addEventListener("loadedmetadata",ve),ze.addEventListener("ended",be),()=>{ie.removeEventListener("timeupdate",re),ie.removeEventListener("loadedmetadata",ve),ie.removeEventListener("ended",be),ze.removeEventListener("timeupdate",re),ze.removeEventListener("loadedmetadata",ve),ze.removeEventListener("ended",be),ie.pause(),ze.pause()}},[]);const tl=y.useCallback(async()=>{if(!(!s.current||!j.currentSong))if(r.current?.state==="suspended"&&r.current.resume(),j.isPlaying)s.current.pause(),G(W=>({...W,isPlaying:!1})),It(j.currentSong,!1);else{if(!s.current.src||s.current.src.includes("about:blank")){await Zt(j.currentSong,j.currentPlaylist||void 0);return}try{await s.current.play(),G(W=>({...W,isPlaying:!0})),It(j.currentSong,!0)}catch{G(ie=>({...ie,isPlaying:!1}))}}},[j.isPlaying,j.currentSong,j.currentPlaylist,Zt,It]),Yn=y.useCallback(()=>{if(!j.currentPlaylist||!j.currentSong)return;f.current?.isCrossfading()&&f.current.cancelCrossfade(),S.current&&(clearTimeout(S.current),S.current=null),b.current&&(clearTimeout(b.current),b.current=null);let W=null;w.current&&B.current?(W=w.current,w.current=null,B.current=!1):W=Ae(Q,C,T),W&&(j.shuffle&&ct(T,j.currentSong.id),Zt(W,j.currentPlaylist))},[j,V.smartShuffle,ct,Zt,Ae]);y.useEffect(()=>{q.current=Yn},[Yn]);const ja=y.useCallback(()=>{if(!j.currentPlaylist||!j.currentSong)return;f.current?.isCrossfading()&&f.current.cancelCrossfade(),S.current&&(clearTimeout(S.current),S.current=null),b.current&&(clearTimeout(b.current),b.current=null);const W=j.currentPlaylist.songs,ie=W.findIndex(ve=>ve.id===j.currentSong.id);let re=null;j.shuffle?re=Ae(Q,C,T):ie>0?re=W[ie-1]:j.repeat==="all"&&(re=W[W.length-1]),re&&(j.shuffle&&ct(T,j.currentSong.id),Zt(re,j.currentPlaylist))},[j,V.smartShuffle,ct,Zt,Ae]),nl=y.useCallback(W=>{const ie=Math.max(0,Math.min(1,W));if(U(ve=>({...ve,volume:ie})),d.current.isActive()){s.current&&(s.current.volume=ie);return}f.current?f.current.setMasterVolume(ie):s.current&&(s.current.volume=ie)},[]),gt=y.useCallback(()=>{G(W=>({...W,shuffle:!W.shuffle})),tt(!0)},[tt]),Pt=y.useCallback(()=>{G(W=>({...W,repeat:W.repeat==="off"?"all":W.repeat==="all"?"one":"off"}))},[]),Bt=y.useCallback(W=>{U(ie=>({...ie,...W}))},[]),un=y.useCallback(W=>{if(s.current){const ie=s.current.currentTime;console.log("Seeking to:",W,"from:",ie,"readyState:",s.current.readyState),s.current.currentTime=W,setTimeout(()=>{const re=s.current?.currentTime;console.log("After seek - requested:",W,"actual:",re),Math.abs((re||0)-W)>.1&&console.warn("Seek failed or was overridden!")},100),G(re=>({...re,currentTime:W}))}},[]),Ut=y.useCallback(async W=>{N(ie=>{const re=[...ie.songs,W],ve=ie.playlists.some(ze=>ze.id==="all-songs");let be=ie.playlists.map(ze=>ze.id==="all-songs"?{...ze,songs:fe(re)}:ze);return ve||(be=[{id:"all-songs",name:a("allSongs"),songs:fe(re)},...be]),{...ie,songs:re,playlists:be}});try{const[ie]=await nt([W]);N(re=>{const ve=re.songs.map(be=>be.id===ie.id?ie:be);return{...re,songs:ve,playlists:re.playlists.map(be=>be.id==="all-songs"?{...be,songs:fe(ve)}:be)}})}catch(ie){console.error("Failed to process song audio:",ie),ce.error(`Failed to process "${W.title}"`,{description:ie.message||"Unknown error occurred"})}},[nt,fe]),zt=y.useCallback(async W=>{N(ie=>{const re=ie.songs.filter(be=>be.id!==W),ve=ie.playlists.map(be=>"songs"in be?{...be,songs:be.songs.filter(ze=>ze.id!==W)}:be);return{...ie,songs:re,playlists:ve,favorites:ie.favorites.filter(be=>be!==W)}});try{await en.removeSongAudio(W)}catch(ie){console.error("Failed to remove song audio from IndexedDB:",ie)}},[]);return{playerState:j,library:M,settings:V,searchQuery:L,isInitialized:D,playSong:Zt,togglePlayPause:tl,playNext:Yn,playPrevious:ja,setVolume:nl,seekTo:un,toggleShuffle:gt,toggleRepeat:Pt,updateSettings:Bt,addSong:Ut,removeSong:zt,createPlaylist:me,createFolder:Ne,removePlaylist:qe,addToPlaylist:Qe,reorderPlaylistSongs:Ct,moveSongToPlaylist:Tt,moveToFolder:St,addToFavorites:ut,removeFromFavorites:Te,toggleFavorite:Pn,isFavorited:ee,getFavoriteSongs:je,searchSongs:De,getSearchResults:at,setSearchQuery:O,navigateToArtist:Ie,navigateToAlbum:Ot,navigateToSongs:mt,exportPlaylist:aa,importPlaylist:Ta}},mM=({musicPlayerHook:a,onOpenSettings:s,onToggleLyrics:r,onToggleVisualizer:i,onSearch:d})=>{const[h,f]=y.useState({});y.useEffect(()=>{(async()=>{try{const S=await Cl.getAllShortcuts();f(S)}catch(S){console.error("Failed to load keyboard shortcuts:",S),f(await Cl.getAllShortcuts())}})()},[]);const m=y.useCallback((b,S)=>b.key===S.key&&(S.ctrlKey||!1)===b.ctrlKey&&(S.altKey||!1)===b.altKey&&(S.shiftKey||!1)===b.shiftKey,[]),v=y.useCallback(b=>{const S=b.target;if(S.tagName==="INPUT"||S.tagName==="TEXTAREA"||S.isContentEditable)return;const p=Object.values(h).find(x=>m(b,x));if(p)switch(b.preventDefault(),p.action){case"playPause":a.togglePlayPause();break;case"nextSong":a.playNext();break;case"previousSong":a.playPrevious();break;case"volumeUp":const x=Math.min(1,a.playerState.volume+.05);console.log("Volume up:",a.playerState.volume,"->",x),a.setVolume(x);break;case"volumeDown":const w=Math.max(0,a.playerState.volume-.05);console.log("Volume down:",a.playerState.volume,"->",w),a.setVolume(w);break;case"mute":const B=a.playerState.volume;if(B>0)sessionStorage.setItem("previousVolume",B.toString()),a.setVolume(0);else{const E=parseFloat(sessionStorage.getItem("previousVolume")||"0.7");a.setVolume(E)}break;case"toggleShuffle":a.toggleShuffle();break;case"toggleRepeat":a.toggleRepeat();break;case"toggleLyrics":r?.();break;case"toggleVisualizer":i?.();break;case"search":d?.();break;case"openSettings":s?.();break}},[h,m,a,r,i,d,s]);return y.useEffect(()=>(document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}),[v]),{shortcuts:h,reloadShortcuts:async()=>{const b=await Cl.getAllShortcuts();f(b)}}},gM="_container_18c42_15",pM="_mainSection_18c42_40",Qg={container:gM,mainSection:pM};function vM(){const{t:a}=At(),s=hM(),[,r]=y.useState("auto"),[i,d]=y.useState(!1),[h,f]=y.useState(!1);t2(s.addSong,a),e2(b=>{if(b.files.length>0&&(ce.success(a("shareTarget.filesReceived",{count:b.files.length})),g0(b.files,s.addSong,a)),b.title||b.text||b.url){const S=b.title||b.text||b.url;S&&(s.setSearchQuery(S),ce.info(a("shareTarget.searchQuery",{query:S})),setTimeout(()=>{const p=document.querySelector('input[type="search"], input[placeholder*="search" i]');p&&(p.focus(),p.select())},500))}});const m=(b,S)=>{if(console.log("Drag operation:",{dragItem:b,dropZone:S}),b.type==="song"&&S.type==="playlist"){const p=b.id,x=S.id;console.log("Adding song to playlist:",{songId:p,targetPlaylistId:x});const w=s.library.songs.find(D=>D.id===p),B=(D,k)=>{for(const q of D){if(q.id===k&&"songs"in q)return q;if("children"in q){const j=B(q.children,k);if(j)return j}}return null},E=B(s.library.playlists,x);if(E&&E.songs.some(D=>D.id===p)){w&&E&&ce.info(a("songAlreadyInPlaylist",{song:w.title,playlist:E.name}));return}s.addToPlaylist(x,p),w&&E&&ce.success(a("songMovedToPlaylist",{song:w.title,playlist:E.name}),{duration:3e3});return}if(b.type==="song"&&S.type==="song"){const p=s.playerState.currentPlaylist;if(p){const x=p.songs,w=x.findIndex(E=>E.id===b.id),B=x.findIndex(E=>E.id===S.id);if(w!==-1&&B!==-1){const E=[...x],[D]=E.splice(w,1);E.splice(B,0,D),s.reorderPlaylistSongs(p.id,E),console.log("Reordered songs in playlist:",{from:w,to:B})}}return}if(b.type==="playlist"&&S.type==="playlist"){const p=b.id,x=S.id,w=(D,k,q=null)=>{for(const j of D){if(j.id===k)return q;if("children"in j){const G=w(j.children,k,j.id);if(G!==void 0)return G}}},B=w(s.library.playlists,x),E=b.data;s.moveToFolder(p,B??null,x),ce.success(a("playlist.reordered",{item:E?.name||"Playlist"})||`Moved "${E?.name||"Playlist"}" playlist`);return}if(b.type==="playlist"&&S.type==="folder"){const p=b.id,x=S.id;s.moveToFolder(p,x),ce.success(a("playlist.movedToFolder",{item:b.data?.name||"Playlist",folder:S.data?.name||"Folder"}));return}if(b.type==="folder"&&S.type==="folder"){const p=b.id,x=S.id;if(p===x)return;const w=(E,D,k=null)=>{for(const q of E){if(q.id===D)return k;if("children"in q){const j=w(q.children,D,q.id);if(j!==void 0)return j}}},B=w(s.library.playlists,x);s.moveToFolder(p,B??null,x),ce.success(a("playlist.reordered",{item:b.data?.name||"Folder"})||`Reordered "${b.data?.name||"Folder"}" folder`);return}console.log("Unhandled drag operation:",{dragItem:b,dropZone:S})},{reloadShortcuts:v}=mM({musicPlayerHook:s,onOpenSettings:()=>{d(!i)},onToggleLyrics:()=>{const b=s.settings;s.updateSettings({showLyrics:!b.showLyrics})},onToggleVisualizer:()=>{console.log("Toggle visualizer shortcut - implementation needed")},onSearch:()=>{const b=document.querySelector('input[type="search"], input[placeholder*="search" i]');b&&(b.focus(),b.select())}});return y.useEffect(()=>{document.title=a("title");const b=document.querySelector('meta[name="description"]');if(b)b.setAttribute("content",a("about.description"));else{const x=document.createElement("meta");x.name="description",x.content=a("about.description"),document.head.appendChild(x)}async function S(){const w=(await en.loadSettings())?.themeMode||"auto";switch(r(w),w){case"light":vb();break;case"dark":pb();break;case"auto":default:yb();break}}S();const p=document.getElementById("loading-screen");p&&setTimeout(()=>{p.remove()},1100)},[]),c.jsx(PN,{children:c.jsx(OE,{onDragOperation:m,children:c.jsxs("div",{className:Qg.container,children:[c.jsx(XN,{musicPlayerHook:s,onShortcutsChanged:v,settingsOpen:i,onSettingsOpenChange:d,isMobileOpen:h,onMobileOpenChange:f}),c.jsxs("div",{className:Qg.mainSection,children:[c.jsx(Y2,{musicPlayerHook:s,onMobileMenuClick:()=>f(!0)}),c.jsx(sM,{musicPlayerHook:s,settings:{volume:0,crossfade:0,defaultShuffle:!1,defaultRepeat:"off",themeMode:"light",colorTheme:"",autoPlayNext:!1,compactMode:!1,showAlbumArt:!1,showLyrics:!1,sessionRestore:!0,gaplessPlayback:!0,smartShuffle:!0,lastPlayedSongId:void 0,lastPlayedPlaylistId:void 0,language:"English",tempo:1,pitch:0,discordEnabled:!1}})]})]})})})}Ye.use(a1).use(l1).use(s1).init({fallbackLng:"en",debug:!0,supportedLngs:Object.keys(Xo),backend:{loadPath:"./locales/{{lng}}/translation.json"},detection:{order:["queryString","cookie"],caches:["cookie"]},interpolation:{escapeValue:!1}});function yM({children:a}){const{isLoading:s}=_b(),{iconsReady:r}=ld(),[i,d]=he.useState(!1),[h,f]=he.useState(!1);return he.useEffect(()=>{!s&&r&&!i&&d(!0)},[s,r,i]),he.useEffect(()=>{i&&!h&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{const m=document.getElementById("loading-screen");m&&(m.classList.add("fade-out"),setTimeout(()=>{m.remove()},500)),f(!0)})})},[i,h]),i?c.jsx(c.Fragment,{children:a}):null}up.createRoot(document.getElementById("root")).render(c.jsx(he.StrictMode,{children:c.jsx(r1,{i18n:Ye,children:c.jsx(ad,{defaultSetId:"lucide",children:c.jsx(pT,{defaultTheme:"Blue",children:c.jsxs(yM,{children:[c.jsx(u1,{}),c.jsx(vM,{})]})})})})}));
//# sourceMappingURL=index-W8H2HRUX.js.map
