const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bootstrap.icons-w-ksyN7U.js","./iconBase-DUozSQKX.js","./vendor-ui-Br6e9zSa.js","./vendor-react-c5ypKtDW.js","./css-gg.icons-CIhwm2jF.js","./Lucide.icons-BJkhhx6I.js","./vendor-icons-htYG8YcH.js","./MaterialDesign.icons-CV6jFePv.js","./Phosphor.icons-D76IbvJA.js","./RemixIcon.icons-B1dcVoYg.js","./SimpleLineIcons.icons-AZLmccKJ.js","./TablerIcons.icons-jqyRdODH.js"])))=>i.map(i=>d[i]);
import{R as Fe,j as c,S as kS,b as BS,r as y,O as Wr,P as wg,C as eo,c as jg,T as to,D as no,d as Eg,e as Ag,f as US,g as Ng,h as $S,i as HS,k as Hh,l as Dg,I as VS,m as Mg,n as zg,o as qS,p as Og,V as IS,L as Rg,q as Lg,s as FS,t as PS,u as kg,v as YS,w as GS,x as XS,y as QS,z as KS,A as ZS,B as JS,E as WS,F as Bg,G as e_,H as t_,J as n_,K as a_,M as l_,N as s_,Q as fi,U as i_,W as r_,X as o_,Y as Vu,Z as c_,_ as u_,$ as d_,a0 as f_}from"./vendor-ui-Br6e9zSa.js";import{r as m_,a as h_,g as g_}from"./vendor-react-c5ypKtDW.js";import{_ as Me,u as Mt,i as Ye,B as y_,a as p_,b as v_,I as b_}from"./vendor-i18n-BBsUE1v-.js";import{c as S_,t as ue,p as __,r as x_,T as T_}from"./vendor-utils-CJcuHqKu.js";import{p as C_,s as w_,M as Vh,c as j_,a as E_,b as A_,d as N_,e as D_}from"./vendor-audio-BqCqqooE.js";import{U as M_,D as z_}from"./vendor-uppy-DPCC4q7y.js";import{g as O_,a as qh}from"./visualizers-DPq81_2z.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function r(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(d){if(d.ep)return;d.ep=!0;const m=r(d);fetch(d.href,m)}})();var bu={exports:{}},oi={},Su={exports:{}},_u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function R_(){return Ih||(Ih=1,(function(l){function s(D,$){var X=D.length;D.push($);e:for(;0<X;){var le=X-1>>>1,oe=D[le];if(0<d(oe,$))D[le]=$,D[X]=oe,X=le;else break e}}function r(D){return D.length===0?null:D[0]}function u(D){if(D.length===0)return null;var $=D[0],X=D.pop();if(X!==$){D[0]=X;e:for(var le=0,oe=D.length,ve=oe>>>1;le<ve;){var de=2*(le+1)-1,fe=D[de],_e=de+1,et=D[_e];if(0>d(fe,X))_e<oe&&0>d(et,fe)?(D[le]=et,D[_e]=X,le=_e):(D[le]=fe,D[de]=X,le=de);else if(_e<oe&&0>d(et,X))D[le]=et,D[_e]=X,le=_e;else break e}}return $}function d(D,$){var X=D.sortIndex-$.sortIndex;return X!==0?X:D.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var f=Date,g=f.now();l.unstable_now=function(){return f.now()-g}}var b=[],v=[],_=1,p=null,x=3,j=!1,I=!1,A=!1,O=!1,q=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function G(D){for(var $=r(v);$!==null;){if($.callback===null)u(v);else if($.startTime<=D)u(v),$.sortIndex=$.expirationTime,s(b,$);else break;$=r(v)}}function H(D){if(A=!1,G(D),!I)if(r(b)!==null)I=!0,B||(B=!0,C());else{var $=r(v);$!==null&&re(H,$.startTime-D)}}var B=!1,z=-1,N=5,L=-1;function R(){return O?!0:!(l.unstable_now()-L<N)}function T(){if(O=!1,B){var D=l.unstable_now();L=D;var $=!0;try{e:{I=!1,A&&(A=!1,P(z),z=-1),j=!0;var X=x;try{t:{for(G(D),p=r(b);p!==null&&!(p.expirationTime>D&&R());){var le=p.callback;if(typeof le=="function"){p.callback=null,x=p.priorityLevel;var oe=le(p.expirationTime<=D);if(D=l.unstable_now(),typeof oe=="function"){p.callback=oe,G(D),$=!0;break t}p===r(b)&&u(b),G(D)}else u(b);p=r(b)}if(p!==null)$=!0;else{var ve=r(v);ve!==null&&re(H,ve.startTime-D),$=!1}}break e}finally{p=null,x=X,j=!1}$=void 0}}finally{$?C():B=!1}}}var C;if(typeof E=="function")C=function(){E(T)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,K=Q.port2;Q.port1.onmessage=T,C=function(){K.postMessage(null)}}else C=function(){q(T,0)};function re(D,$){z=q(function(){D(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_next=function(D){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var X=x;x=$;try{return D()}finally{x=X}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=x;x=D;try{return $()}finally{x=X}},l.unstable_scheduleCallback=function(D,$,X){var le=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?le+X:le):X=le,D){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=X+oe,D={id:_++,callback:$,priorityLevel:D,startTime:X,expirationTime:oe,sortIndex:-1},X>le?(D.sortIndex=X,s(v,D),r(b)===null&&D===r(v)&&(A?(P(z),z=-1):A=!0,re(H,X-le))):(D.sortIndex=oe,s(b,D),I||j||(I=!0,B||(B=!0,C()))),D},l.unstable_shouldYield=R,l.unstable_wrapCallback=function(D){var $=x;return function(){var X=x;x=$;try{return D.apply(this,arguments)}finally{x=X}}}})(_u)),_u}var Fh;function L_(){return Fh||(Fh=1,Su.exports=R_()),Su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function k_(){if(Ph)return oi;Ph=1;var l=L_(),s=m_(),r=h_();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(m(e)!==e)throw Error(u(188))}function b(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return g(i),e;if(o===a)return g(i),t;o=o.sibling}throw Error(u(188))}if(n.return!==a.return)n=i,a=o;else{for(var h=!1,S=i.child;S;){if(S===n){h=!0,n=i,a=o;break}if(S===a){h=!0,a=i,n=o;break}S=S.sibling}if(!h){for(S=o.child;S;){if(S===n){h=!0,n=o,a=i;break}if(S===a){h=!0,a=o,n=i;break}S=S.sibling}if(!h)throw Error(u(189))}}if(n.alternate!==a)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),E=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=T&&e[T]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case O:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case E:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:K(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return K(e(t))}catch{}}return null}var re=Array.isArray,D=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},le=[],oe=-1;function ve(e){return{current:e}}function de(e){0>oe||(e.current=le[oe],le[oe]=null,oe--)}function fe(e,t){oe++,le[oe]=e.current,e.current=t}var _e=ve(null),et=ve(null),Re=ve(null),it=ve(null);function mt(e,t){switch(fe(Re,t),fe(et,e),fe(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hh(t),e=gh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}de(_e),fe(_e,e)}function Tt(){de(_e),de(et),de(Re)}function rt(e){e.memoizedState!==null&&fe(it,e);var t=_e.current,n=gh(t,e.type);t!==n&&(fe(et,e),fe(_e,n))}function me(e){et.current===e&&(de(_e),de(et)),it.current===e&&(de(it),ai._currentValue=X)}var Ne=Object.prototype.hasOwnProperty,Ke=l.unstable_scheduleCallback,ot=l.unstable_cancelCallback,he=l.unstable_shouldYield,Ee=l.unstable_requestPaint,Ve=l.unstable_now,ct=l.unstable_getCurrentPriorityLevel,we=l.unstable_ImmediatePriority,Ge=l.unstable_UserBlockingPriority,Ct=l.unstable_NormalPriority,wt=l.unstable_LowPriority,bt=l.unstable_IdlePriority,Fn=l.log,W=l.unstable_setDisableYieldValue,Te=null,Ae=null;function Qe(e){if(typeof Fn=="function"&&W(e),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(Te,e)}catch{}}var qe=Math.clz32?Math.clz32:Pn,zt=Math.log,ht=Math.LN2;function Pn(e){return e>>>=0,e===0?32:31-(zt(e)/ht|0)|0}var aa=256,Sn=4194304;function It(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _n(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var S=a&134217727;return S!==0?(a=S&~o,a!==0?i=It(a):(h&=S,h!==0?i=It(h):n||(n=S&~e,n!==0&&(i=It(n))))):(S=a&~o,S!==0?i=It(S):h!==0?i=It(h):n||(n=a&~e,n!==0&&(i=It(n)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:i}function Kt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function el(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(){var e=aa;return aa<<=1,(aa&4194048)===0&&(aa=256),e}function wa(){var e=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),e}function tl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ft(e,t,n,a,i,o){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var S=e.entanglements,w=e.expirationTimes,V=e.hiddenUpdates;for(n=h&~n;0<n;){var Z=31-qe(n),te=1<<Z;S[Z]=0,w[Z]=-1;var F=V[Z];if(F!==null)for(V[Z]=null,Z=0;Z<F.length;Z++){var Y=F[Z];Y!==null&&(Y.lane&=-536870913)}n&=~te}a!==0&&Bt(e,a,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function Bt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-qe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function on(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-qe(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Ut(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ot(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function J(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Rh(e.type))}function ie(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var se=Math.random().toString(36).slice(2),ge="__reactFiber$"+se,pe="__reactProps$"+se,ze="__reactContainer$"+se,lt="__reactEvents$"+se,Ze="__reactListeners$"+se,Ce="__reactHandles$"+se,Pt="__reactResources$"+se,tn="__reactMarker$"+se;function gs(e){delete e[ge],delete e[pe],delete e[lt],delete e[Ze],delete e[Ce]}function Gn(e){var t=e[ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bh(e);e!==null;){if(n=e[ge])return n;e=bh(e)}return t}e=n,n=e.parentNode}return null}function Xn(e){if(e=e[ge]||e[ze]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function nl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function ja(e){var t=e[Pt];return t||(t=e[Pt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[tn]=!0}var Ai=new Set,kn={};function Bn(e,t){Ea(e,t),Ea(e+"Capture",t)}function Ea(e,t){for(kn[e]=t,e=0;e<t.length;e++)Ai.add(t[e])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qn={},Ni={};function wl(e){return Ne.call(Ni,e)?!0:Ne.call(Qn,e)?!1:fo.test(e)?Ni[e]=!0:(Qn[e]=!0,!1)}function al(e,t,n){if(wl(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Aa(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function la(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var mo,id;function jl(e){if(mo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mo=t&&t[1]||"",id=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+e+id}var ho=!1;function go(e,t){if(!e||ho)return"";ho=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var F=Y}Reflect.construct(e,[],te)}else{try{te.call()}catch(Y){F=Y}e.call(te.prototype)}}else{try{throw Error()}catch(Y){F=Y}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),h=o[0],S=o[1];if(h&&S){var w=h.split(`
`),V=S.split(`
`);for(i=a=0;a<w.length&&!w[a].includes("DetermineComponentFrameRoot");)a++;for(;i<V.length&&!V[i].includes("DetermineComponentFrameRoot");)i++;if(a===w.length||i===V.length)for(a=w.length-1,i=V.length-1;1<=a&&0<=i&&w[a]!==V[i];)i--;for(;1<=a&&0<=i;a--,i--)if(w[a]!==V[i]){if(a!==1||i!==1)do if(a--,i--,0>i||w[a]!==V[i]){var Z=`
`+w[a].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=a&&0<=i);break}}}finally{ho=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?jl(n):""}function Db(e){switch(e.tag){case 26:case 27:case 5:return jl(e.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 15:return go(e.type,!1);case 11:return go(e.type.render,!1);case 1:return go(e.type,!0);case 31:return jl("Activity");default:return""}}function rd(e){try{var t="";do t+=Db(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function xn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function od(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mb(e){var t=od(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){a=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Di(e){e._valueTracker||(e._valueTracker=Mb(e))}function cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=od(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zb=/[\n"\\]/g;function Tn(e){return e.replace(zb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yo(e,t,n,a,i,o,h,S){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xn(t)):e.value!==""+xn(t)&&(e.value=""+xn(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?po(e,h,xn(t)):n!=null?po(e,h,xn(n)):a!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+xn(S):e.removeAttribute("name")}function ud(e,t,n,a,i,o,h,S){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+xn(n):"",t=t!=null?""+xn(t):n,S||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=S?e.checked:!!a,e.defaultChecked=!!a,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function po(e,t,n){t==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function El(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dd(e,t,n){if(t!=null&&(t=""+xn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xn(n):""}function fd(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(u(92));if(re(a)){if(1<a.length)throw Error(u(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=xn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Al(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ob=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ob.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function hd(e,t,n){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&md(e,i,a)}else for(var o in t)t.hasOwnProperty(o)&&md(e,o,t[o])}function vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zi(e){return Lb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bo=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nl=null,Dl=null;function gd(e){var t=Xn(e);if(t&&(e=t.stateNode)){var n=e[pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(yo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Tn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[pe]||null;if(!i)throw Error(u(90));yo(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&cd(a)}break e;case"textarea":dd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&El(e,!!n.multiple,t,!1)}}}var _o=!1;function yd(e,t,n){if(_o)return e(t,n);_o=!0;try{var a=e(t);return a}finally{if(_o=!1,(Nl!==null||Dl!==null)&&(pr(),Nl&&(t=Nl,e=Dl,Dl=Nl=null,gd(t),e)))for(t=0;t<e.length;t++)gd(e[t])}}function ys(e,t){var n=e.stateNode;if(n===null)return null;var a=n[pe]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(sa)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){xo=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{xo=!1}var Na=null,To=null,Oi=null;function pd(){if(Oi)return Oi;var e,t=To,n=t.length,a,i="value"in Na?Na.value:Na.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var h=n-e;for(a=1;a<=h&&t[n-a]===i[o-a];a++);return Oi=i.slice(e,1<a?1-a:void 0)}function Ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function vd(){return!1}function nn(e){function t(n,a,i,o,h){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(o):o[S]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Li:vd,this.isPropagationStopped=vd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=nn(ll),vs=_({},ll,{view:0,detail:0}),kb=nn(vs),Co,wo,bs,Bi=_({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(Co=e.screenX-bs.screenX,wo=e.screenY-bs.screenY):wo=Co=0,bs=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:wo}}),bd=nn(Bi),Bb=_({},Bi,{dataTransfer:0}),Ub=nn(Bb),$b=_({},vs,{relatedTarget:0}),jo=nn($b),Hb=_({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),Vb=nn(Hb),qb=_({},ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ib=nn(qb),Fb=_({},ll,{data:0}),Sd=nn(Fb),Pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gb[e])?!!t[e]:!1}function Eo(){return Xb}var Qb=_({},vs,{key:function(e){if(e.key){var t=Pb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(e){return e.type==="keypress"?Ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kb=nn(Qb),Zb=_({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=nn(Zb),Jb=_({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),Wb=nn(Jb),e0=_({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=nn(e0),n0=_({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a0=nn(n0),l0=_({},ll,{newState:0,oldState:0}),s0=nn(l0),i0=[9,13,27,32],Ao=sa&&"CompositionEvent"in window,Ss=null;sa&&"documentMode"in document&&(Ss=document.documentMode);var r0=sa&&"TextEvent"in window&&!Ss,xd=sa&&(!Ao||Ss&&8<Ss&&11>=Ss),Td=" ",Cd=!1;function wd(e,t){switch(e){case"keyup":return i0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ml=!1;function o0(e,t){switch(e){case"compositionend":return jd(t);case"keypress":return t.which!==32?null:(Cd=!0,Td);case"textInput":return e=t.data,e===Td&&Cd?null:e;default:return null}}function c0(e,t){if(Ml)return e==="compositionend"||!Ao&&wd(e,t)?(e=pd(),Oi=To=Na=null,Ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u0[e.type]:t==="textarea"}function Ad(e,t,n,a){Nl?Dl?Dl.push(a):Dl=[a]:Nl=a,t=Tr(t,"onChange"),0<t.length&&(n=new ki("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var _s=null,xs=null;function d0(e){ch(e,0)}function Ui(e){var t=nl(e);if(cd(t))return e}function Nd(e,t){if(e==="change")return t}var Dd=!1;if(sa){var No;if(sa){var Do="oninput"in document;if(!Do){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Do=typeof Md.oninput=="function"}No=Do}else No=!1;Dd=No&&(!document.documentMode||9<document.documentMode)}function zd(){_s&&(_s.detachEvent("onpropertychange",Od),xs=_s=null)}function Od(e){if(e.propertyName==="value"&&Ui(xs)){var t=[];Ad(t,xs,e,So(e)),yd(d0,t)}}function f0(e,t,n){e==="focusin"?(zd(),_s=t,xs=n,_s.attachEvent("onpropertychange",Od)):e==="focusout"&&zd()}function m0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(xs)}function h0(e,t){if(e==="click")return Ui(t)}function g0(e,t){if(e==="input"||e==="change")return Ui(t)}function y0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:y0;function Ts(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Ne.call(t,i)||!cn(e[i],t[i]))return!1}return!0}function Rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var n=Rd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rd(n)}}function kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Mi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mi(e.document)}return t}function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var p0=sa&&"documentMode"in document&&11>=document.documentMode,zl=null,zo=null,Cs=null,Oo=!1;function Ud(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oo||zl==null||zl!==Mi(a)||(a=zl,"selectionStart"in a&&Mo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Cs&&Ts(Cs,a)||(Cs=a,a=Tr(zo,"onSelect"),0<a.length&&(t=new ki("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=zl)))}function sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ol={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionrun:sl("Transition","TransitionRun"),transitionstart:sl("Transition","TransitionStart"),transitioncancel:sl("Transition","TransitionCancel"),transitionend:sl("Transition","TransitionEnd")},Ro={},$d={};sa&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function il(e){if(Ro[e])return Ro[e];if(!Ol[e])return e;var t=Ol[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $d)return Ro[e]=t[n];return e}var Hd=il("animationend"),Vd=il("animationiteration"),qd=il("animationstart"),v0=il("transitionrun"),b0=il("transitionstart"),S0=il("transitioncancel"),Id=il("transitionend"),Fd=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function Un(e,t){Fd.set(e,t),Bn(t,[e])}var Pd=new WeakMap;function Cn(e,t){if(typeof e=="object"&&e!==null){var n=Pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:rd(t)},Pd.set(e,t),t)}return{value:e,source:t,stack:rd(t)}}var wn=[],Rl=0,ko=0;function $i(){for(var e=Rl,t=ko=Rl=0;t<e;){var n=wn[t];wn[t++]=null;var a=wn[t];wn[t++]=null;var i=wn[t];wn[t++]=null;var o=wn[t];if(wn[t++]=null,a!==null&&i!==null){var h=a.pending;h===null?i.next=i:(i.next=h.next,h.next=i),a.pending=i}o!==0&&Yd(n,i,o)}}function Hi(e,t,n,a){wn[Rl++]=e,wn[Rl++]=t,wn[Rl++]=n,wn[Rl++]=a,ko|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Bo(e,t,n,a){return Hi(e,t,n,a),Vi(e)}function Ll(e,t){return Hi(e,null,null,t),Vi(e)}function Yd(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,o=e.return;o!==null;)o.childLanes|=n,a=o.alternate,a!==null&&(a.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-qe(n),e=o.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),o):null}function Vi(e){if(50<Qs)throw Qs=0,Ic=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var kl={};function _0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,a){return new _0(e,t,n,a)}function Uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Gd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qi(e,t,n,a,i,o){var h=0;if(a=e,typeof e=="function")Uo(e)&&(h=1);else if(typeof e=="string")h=TS(e,n,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=un(31,n,t,i),e.elementType=L,e.lanes=o,e;case I:return rl(n.children,i,o,t);case A:h=8,i|=24;break;case O:return e=un(12,n,t,i|2),e.elementType=O,e.lanes=o,e;case H:return e=un(13,n,t,i),e.elementType=H,e.lanes=o,e;case B:return e=un(19,n,t,i),e.elementType=B,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:case E:h=10;break e;case P:h=9;break e;case G:h=11;break e;case z:h=14;break e;case N:h=16,a=null;break e}h=29,n=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=un(h,n,t,i),t.elementType=e,t.type=a,t.lanes=o,t}function rl(e,t,n,a){return e=un(7,e,a,t),e.lanes=n,e}function $o(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function Ho(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bl=[],Ul=0,Ii=null,Fi=0,jn=[],En=0,ol=null,ra=1,oa="";function cl(e,t){Bl[Ul++]=Fi,Bl[Ul++]=Ii,Ii=e,Fi=t}function Xd(e,t,n){jn[En++]=ra,jn[En++]=oa,jn[En++]=ol,ol=e;var a=ra;e=oa;var i=32-qe(a)-1;a&=~(1<<i),n+=1;var o=32-qe(t)+i;if(30<o){var h=i-i%5;o=(a&(1<<h)-1).toString(32),a>>=h,i-=h,ra=1<<32-qe(t)+i|n<<i|a,oa=o+e}else ra=1<<o|n<<i|a,oa=e}function Vo(e){e.return!==null&&(cl(e,1),Xd(e,1,0))}function qo(e){for(;e===Ii;)Ii=Bl[--Ul],Bl[Ul]=null,Fi=Bl[--Ul],Bl[Ul]=null;for(;e===ol;)ol=jn[--En],jn[En]=null,oa=jn[--En],jn[En]=null,ra=jn[--En],jn[En]=null}var Zt=null,_t=null,Xe=!1,ul=null,Kn=!1,Io=Error(u(519));function dl(e){var t=Error(u(418,""));throw Es(Cn(t,e)),Io}function Qd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ge]=e,t[pe]=a,n){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(n=0;n<Zs.length;n++)Be(Zs[n],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),ud(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Di(t);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),fd(t,a.value,a.defaultValue,a.children),Di(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||mh(t.textContent,n)?(a.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),a.onScroll!=null&&Be("scroll",t),a.onScrollEnd!=null&&Be("scrollend",t),a.onClick!=null&&(t.onclick=Cr),t=!0):t=!1,t||dl(e)}function Kd(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Zt=Zt.return}}function ws(e){if(e!==Zt)return!1;if(!Xe)return Kd(e),Xe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||su(e.type,e.memoizedProps)),n=!n),n&&_t&&dl(e),Kd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){_t=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}_t=null}}else t===27?(t=_t,Pa(e.type)?(e=cu,cu=null,_t=e):_t=t):_t=Zt?Hn(e.stateNode.nextSibling):null;return!0}function js(){_t=Zt=null,Xe=!1}function Zd(){var e=ul;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),ul=null),e}function Es(e){ul===null?ul=[e]:ul.push(e)}var Fo=ve(null),fl=null,ca=null;function Da(e,t,n){fe(Fo,t._currentValue),t._currentValue=n}function ua(e){e._currentValue=Fo.current,de(Fo)}function Po(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Yo(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var h=i.child;o=o.firstContext;e:for(;o!==null;){var S=o;o=i;for(var w=0;w<t.length;w++)if(S.context===t[w]){o.lanes|=n,S=o.alternate,S!==null&&(S.lanes|=n),Po(o.return,n,e),a||(h=null);break e}o=S.next}}else if(i.tag===18){if(h=i.return,h===null)throw Error(u(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),Po(h,n,e),h=null}else h=i.child;if(h!==null)h.return=i;else for(h=i;h!==null;){if(h===e){h=null;break}if(i=h.sibling,i!==null){i.return=h.return,h=i;break}h=h.return}i=h}}function As(e,t,n,a){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var h=i.alternate;if(h===null)throw Error(u(387));if(h=h.memoizedProps,h!==null){var S=i.type;cn(i.pendingProps.value,h.value)||(e!==null?e.push(S):e=[S])}}else if(i===it.current){if(h=i.alternate,h===null)throw Error(u(387));h.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ai):e=[ai])}i=i.return}e!==null&&Yo(t,e,n,a),t.flags|=262144}function Pi(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ml(e){fl=e,ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return Jd(fl,e)}function Yi(e,t){return fl===null&&ml(e),Jd(e,t)}function Jd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ca===null){if(e===null)throw Error(u(308));ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ca=ca.next=t;return n}var x0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},T0=l.unstable_scheduleCallback,C0=l.unstable_NormalPriority,Rt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Go(){return{controller:new x0,data:new Map,refCount:0}}function Ns(e){e.refCount--,e.refCount===0&&T0(C0,function(){e.controller.abort()})}var Ds=null,Xo=0,$l=0,Hl=null;function w0(e,t){if(Ds===null){var n=Ds=[];Xo=0,$l=Kc(),Hl={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Xo++,t.then(Wd,Wd),t}function Wd(){if(--Xo===0&&Ds!==null){Hl!==null&&(Hl.status="fulfilled");var e=Ds;Ds=null,$l=0,Hl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function j0(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ef=D.S;D.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&w0(e,t),ef!==null&&ef(e,t)};var hl=ve(null);function Qo(){var e=hl.current;return e!==null?e:ut.pooledCache}function Gi(e,t){t===null?fe(hl,hl.current):fe(hl,t.pool)}function tf(){var e=Qo();return e===null?null:{parent:Rt._currentValue,pool:e}}var Ms=Error(u(460)),nf=Error(u(474)),Xi=Error(u(542)),Ko={then:function(){}};function af(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qi(){}function lf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Qi,Qi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rf(e),e;default:if(typeof t.status=="string")t.then(Qi,Qi);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rf(e),e}throw zs=t,Ms}}var zs=null;function sf(){if(zs===null)throw Error(u(459));var e=zs;return zs=null,e}function rf(e){if(e===Ms||e===Xi)throw Error(u(483))}var Ma=!1;function Zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Je&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Vi(e),Yd(e,null,n),t}return Hi(e,a,t,n),Vi(e)}function Os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,on(e,n)}}function Wo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ec=!1;function Rs(){if(ec){var e=Hl;if(e!==null)throw e}}function Ls(e,t,n,a){ec=!1;var i=e.updateQueue;Ma=!1;var o=i.firstBaseUpdate,h=i.lastBaseUpdate,S=i.shared.pending;if(S!==null){i.shared.pending=null;var w=S,V=w.next;w.next=null,h===null?o=V:h.next=V,h=w;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==h&&(S===null?Z.firstBaseUpdate=V:S.next=V,Z.lastBaseUpdate=w))}if(o!==null){var te=i.baseState;h=0,Z=V=w=null,S=o;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Ie&F)===F:(a&F)===F){F!==0&&F===$l&&(ec=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var je=e,Se=S;F=t;var at=n;switch(Se.tag){case 1:if(je=Se.payload,typeof je=="function"){te=je.call(at,te,F);break e}te=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Se.payload,F=typeof je=="function"?je.call(at,te,F):je,F==null)break e;te=_({},te,F);break e;case 2:Ma=!0}}F=S.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=i.callbacks,Y===null?i.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(V=Z=Y,w=te):Z=Z.next=Y,h|=F;if(S=S.next,S===null){if(S=i.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,i.lastBaseUpdate=Y,i.shared.pending=null}}while(!0);Z===null&&(w=te),i.baseState=w,i.firstBaseUpdate=V,i.lastBaseUpdate=Z,o===null&&(i.shared.lanes=0),Va|=h,e.lanes=h,e.memoizedState=te}}function of(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function cf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)of(n[e],t)}var Vl=ve(null),Ki=ve(0);function uf(e,t){e=pa,fe(Ki,e),fe(Vl,t),pa=e|t.baseLanes}function tc(){fe(Ki,pa),fe(Vl,Vl.current)}function nc(){pa=Ki.current,de(Vl),de(Ki)}var Ra=0,Oe=null,tt=null,Nt=null,Zi=!1,ql=!1,gl=!1,Ji=0,ks=0,Il=null,E0=0;function jt(){throw Error(u(321))}function ac(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function lc(e,t,n,a,i,o){return Ra=o,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Gf:Xf,gl=!1,o=n(a,i),gl=!1,ql&&(o=ff(t,n,a,i)),df(e),o}function df(e){D.H=lr;var t=tt!==null&&tt.next!==null;if(Ra=0,Nt=tt=Oe=null,Zi=!1,ks=0,Il=null,t)throw Error(u(300));e===null||$t||(e=e.dependencies,e!==null&&Pi(e)&&($t=!0))}function ff(e,t,n,a){Oe=e;var i=0;do{if(ql&&(Il=null),ks=0,ql=!1,25<=i)throw Error(u(301));if(i+=1,Nt=tt=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}D.H=R0,o=t(n,a)}while(ql);return o}function A0(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Bs(t):t,e=e.useState()[0],(tt!==null?tt.memoizedState:null)!==e&&(Oe.flags|=1024),t}function sc(){var e=Ji!==0;return Ji=0,e}function ic(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function rc(e){if(Zi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zi=!1}Ra=0,Nt=tt=Oe=null,ql=!1,ks=Ji=0,Il=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Oe.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Dt(){if(tt===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=Nt===null?Oe.memoizedState:Nt.next;if(t!==null)Nt=t,tt=e;else{if(e===null)throw Oe.alternate===null?Error(u(467)):Error(u(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Oe.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bs(e){var t=ks;return ks+=1,Il===null&&(Il=[]),e=lf(Il,e,t),t=Oe,(Nt===null?t.memoizedState:Nt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Gf:Xf),e}function Wi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bs(e);if(e.$$typeof===E)return Qt(e)}throw Error(u(438,String(e)))}function cc(e){var t=null,n=Oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Oe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=oc(),Oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=R;return t.index++,n}function da(e,t){return typeof t=="function"?t(e):t}function er(e){var t=Dt();return uc(t,tt,e)}function uc(e,t,n){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=n;var i=e.baseQueue,o=a.pending;if(o!==null){if(i!==null){var h=i.next;i.next=o.next,o.next=h}t.baseQueue=i=o,a.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var S=h=null,w=null,V=t,Z=!1;do{var te=V.lane&-536870913;if(te!==V.lane?(Ie&te)===te:(Ra&te)===te){var F=V.revertLane;if(F===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),te===$l&&(Z=!0);else if((Ra&F)===F){V=V.next,F===$l&&(Z=!0);continue}else te={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},w===null?(S=w=te,h=o):w=w.next=te,Oe.lanes|=F,Va|=F;te=V.action,gl&&n(o,te),o=V.hasEagerState?V.eagerState:n(o,te)}else F={lane:te,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},w===null?(S=w=F,h=o):w=w.next=F,Oe.lanes|=te,Va|=te;V=V.next}while(V!==null&&V!==t);if(w===null?h=o:w.next=S,!cn(o,e.memoizedState)&&($t=!0,Z&&(n=Hl,n!==null)))throw n;e.memoizedState=o,e.baseState=h,e.baseQueue=w,a.lastRenderedState=o}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function dc(e){var t=Dt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var h=i=i.next;do o=e(o,h.action),h=h.next;while(h!==i);cn(o,t.memoizedState)||($t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function mf(e,t,n){var a=Oe,i=Dt(),o=Xe;if(o){if(n===void 0)throw Error(u(407));n=n()}else n=t();var h=!cn((tt||i).memoizedState,n);h&&(i.memoizedState=n,$t=!0),i=i.queue;var S=yf.bind(null,a,i,e);if(Us(2048,8,S,[e]),i.getSnapshot!==t||h||Nt!==null&&Nt.memoizedState.tag&1){if(a.flags|=2048,Fl(9,tr(),gf.bind(null,a,i,n,t),null),ut===null)throw Error(u(349));o||(Ra&124)!==0||hf(a,t,n)}return n}function hf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t=oc(),Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gf(e,t,n,a){t.value=n,t.getSnapshot=a,pf(t)&&vf(e)}function yf(e,t,n){return n(function(){pf(t)&&vf(e)})}function pf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function vf(e){var t=Ll(e,2);t!==null&&gn(t,e,2)}function fc(e){var t=an();if(typeof e=="function"){var n=e;if(e=n(),gl){Qe(!0);try{n()}finally{Qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function bf(e,t,n,a){return e.baseState=n,uc(e,tt,typeof a=="function"?a:da)}function N0(e,t,n,a,i){if(ar(e))throw Error(u(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};D.T!==null?n(!0):o.isTransition=!1,a(o),n=t.pending,n===null?(o.next=t.pending=o,Sf(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Sf(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var o=D.T,h={};D.T=h;try{var S=n(i,a),w=D.S;w!==null&&w(h,S),_f(e,t,S)}catch(V){mc(e,t,V)}finally{D.T=o}}else try{o=n(i,a),_f(e,t,o)}catch(V){mc(e,t,V)}}function _f(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){xf(e,t,a)},function(a){return mc(e,t,a)}):xf(e,t,n)}function xf(e,t,n){t.status="fulfilled",t.value=n,Tf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Sf(e,n)))}function mc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Tf(t),t=t.next;while(t!==a)}e.action=null}function Tf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cf(e,t){return t}function wf(e,t){if(Xe){var n=ut.formState;if(n!==null){e:{var a=Oe;if(Xe){if(_t){t:{for(var i=_t,o=Kn;i.nodeType!==8;){if(!o){i=null;break t}if(i=Hn(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){_t=Hn(i.nextSibling),a=i.data==="F!";break e}}dl(a)}a=!1}a&&(t=n[0])}}return n=an(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:t},n.queue=a,n=Ff.bind(null,Oe,a),a.dispatch=n,a=fc(!1),o=vc.bind(null,Oe,!1,a.queue),a=an(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=N0.bind(null,Oe,i,o,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function jf(e){var t=Dt();return Ef(t,tt,e)}function Ef(e,t,n){if(t=uc(e,t,Cf)[0],e=er(da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Bs(t)}catch(h){throw h===Ms?Xi:h}else a=t;t=Dt();var i=t.queue,o=i.dispatch;return n!==t.memoizedState&&(Oe.flags|=2048,Fl(9,tr(),D0.bind(null,i,n),null)),[a,o,e]}function D0(e,t){e.action=t}function Af(e){var t=Dt(),n=tt;if(n!==null)return Ef(t,n,e);Dt(),t=t.memoizedState,n=Dt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Fl(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Oe.updateQueue,t===null&&(t=oc(),Oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function tr(){return{destroy:void 0,resource:void 0}}function Nf(){return Dt().memoizedState}function nr(e,t,n,a){var i=an();a=a===void 0?null:a,Oe.flags|=e,i.memoizedState=Fl(1|t,tr(),n,a)}function Us(e,t,n,a){var i=Dt();a=a===void 0?null:a;var o=i.memoizedState.inst;tt!==null&&a!==null&&ac(a,tt.memoizedState.deps)?i.memoizedState=Fl(t,o,n,a):(Oe.flags|=e,i.memoizedState=Fl(1|t,o,n,a))}function Df(e,t){nr(8390656,8,e,t)}function Mf(e,t){Us(2048,8,e,t)}function zf(e,t){return Us(4,2,e,t)}function Of(e,t){return Us(4,4,e,t)}function Rf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lf(e,t,n){n=n!=null?n.concat([e]):null,Us(4,4,Rf.bind(null,t,e),n)}function hc(){}function kf(e,t){var n=Dt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&ac(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Bf(e,t){var n=Dt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&ac(t,a[1]))return a[0];if(a=e(),gl){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[a,t],a}function gc(e,t,n){return n===void 0||(Ra&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Hm(),Oe.lanes|=e,Va|=e,n)}function Uf(e,t,n,a){return cn(n,t)?n:Vl.current!==null?(e=gc(e,n,a),cn(e,t)||($t=!0),e):(Ra&42)===0?($t=!0,e.memoizedState=n):(e=Hm(),Oe.lanes|=e,Va|=e,t)}function $f(e,t,n,a,i){var o=$.p;$.p=o!==0&&8>o?o:8;var h=D.T,S={};D.T=S,vc(e,!1,t,n);try{var w=i(),V=D.S;if(V!==null&&V(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Z=j0(w,a);$s(e,t,Z,hn(e))}else $s(e,t,a,hn(e))}catch(te){$s(e,t,{then:function(){},status:"rejected",reason:te},hn())}finally{$.p=o,D.T=h}}function M0(){}function yc(e,t,n,a){if(e.tag!==5)throw Error(u(476));var i=Hf(e).queue;$f(e,i,t,X,n===null?M0:function(){return Vf(e),n(a)})}function Hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:X},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vf(e){var t=Hf(e).next.queue;$s(e,t,{},hn())}function pc(){return Qt(ai)}function qf(){return Dt().memoizedState}function If(){return Dt().memoizedState}function z0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=za(n);var a=Oa(t,e,n);a!==null&&(gn(a,t,n),Os(a,t,n)),t={cache:Go()},e.payload=t;return}t=t.return}}function O0(e,t,n){var a=hn();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ar(e)?Pf(t,n):(n=Bo(e,t,n,a),n!==null&&(gn(n,e,a),Yf(n,t,a)))}function Ff(e,t,n){var a=hn();$s(e,t,n,a)}function $s(e,t,n,a){var i={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ar(e))Pf(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,S=o(h,n);if(i.hasEagerState=!0,i.eagerState=S,cn(S,h))return Hi(e,t,i,0),ut===null&&$i(),!1}catch{}finally{}if(n=Bo(e,t,i,a),n!==null)return gn(n,e,a),Yf(n,t,a),!0}return!1}function vc(e,t,n,a){if(a={lane:2,revertLane:Kc(),action:a,hasEagerState:!1,eagerState:null,next:null},ar(e)){if(t)throw Error(u(479))}else t=Bo(e,n,a,2),t!==null&&gn(t,e,2)}function ar(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Pf(e,t){ql=Zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yf(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,on(e,n)}}var lr={readContext:Qt,use:Wi,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},Gf={readContext:Qt,use:Wi,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Df,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,nr(4194308,4,Rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nr(4194308,4,e,t)},useInsertionEffect:function(e,t){nr(4,2,e,t)},useMemo:function(e,t){var n=an();t=t===void 0?null:t;var a=e();if(gl){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=an();if(n!==void 0){var i=n(t);if(gl){Qe(!0);try{n(t)}finally{Qe(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=O0.bind(null,Oe,e),[a.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:function(e){e=fc(e);var t=e.queue,n=Ff.bind(null,Oe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:hc,useDeferredValue:function(e,t){var n=an();return gc(n,e,t)},useTransition:function(){var e=fc(!1);return e=$f.bind(null,Oe,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Oe,i=an();if(Xe){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),ut===null)throw Error(u(349));(Ie&124)!==0||hf(a,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Df(yf.bind(null,a,o,e),[e]),a.flags|=2048,Fl(9,tr(),gf.bind(null,a,o,n,t),null),n},useId:function(){var e=an(),t=ut.identifierPrefix;if(Xe){var n=oa,a=ra;n=(a&~(1<<32-qe(a)-1)).toString(32)+n,t=""+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=E0++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:pc,useFormState:wf,useActionState:wf,useOptimistic:function(e){var t=an();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vc.bind(null,Oe,!0,n),n.dispatch=t,[e,t]},useMemoCache:cc,useCacheRefresh:function(){return an().memoizedState=z0.bind(null,Oe)}},Xf={readContext:Qt,use:Wi,useCallback:kf,useContext:Qt,useEffect:Mf,useImperativeHandle:Lf,useInsertionEffect:zf,useLayoutEffect:Of,useMemo:Bf,useReducer:er,useRef:Nf,useState:function(){return er(da)},useDebugValue:hc,useDeferredValue:function(e,t){var n=Dt();return Uf(n,tt.memoizedState,e,t)},useTransition:function(){var e=er(da)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Bs(e),t]},useSyncExternalStore:mf,useId:qf,useHostTransitionStatus:pc,useFormState:jf,useActionState:jf,useOptimistic:function(e,t){var n=Dt();return bf(n,tt,e,t)},useMemoCache:cc,useCacheRefresh:If},R0={readContext:Qt,use:Wi,useCallback:kf,useContext:Qt,useEffect:Mf,useImperativeHandle:Lf,useInsertionEffect:zf,useLayoutEffect:Of,useMemo:Bf,useReducer:dc,useRef:Nf,useState:function(){return dc(da)},useDebugValue:hc,useDeferredValue:function(e,t){var n=Dt();return tt===null?gc(n,e,t):Uf(n,tt.memoizedState,e,t)},useTransition:function(){var e=dc(da)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Bs(e),t]},useSyncExternalStore:mf,useId:qf,useHostTransitionStatus:pc,useFormState:Af,useActionState:Af,useOptimistic:function(e,t){var n=Dt();return tt!==null?bf(n,tt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:cc,useCacheRefresh:If},Pl=null,Hs=0;function sr(e){var t=Hs;return Hs+=1,Pl===null&&(Pl=[]),lf(Pl,e,t)}function Vs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ir(e,t){throw t.$$typeof===p?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qf(e){var t=e._init;return t(e._payload)}function Kf(e){function t(k,M){if(e){var U=k.deletions;U===null?(k.deletions=[M],k.flags|=16):U.push(M)}}function n(k,M){if(!e)return null;for(;M!==null;)t(k,M),M=M.sibling;return null}function a(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function i(k,M){return k=ia(k,M),k.index=0,k.sibling=null,k}function o(k,M,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<M?(k.flags|=67108866,M):U):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function h(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function S(k,M,U,ee){return M===null||M.tag!==6?(M=$o(U,k.mode,ee),M.return=k,M):(M=i(M,U),M.return=k,M)}function w(k,M,U,ee){var ye=U.type;return ye===I?Z(k,M,U.props.children,ee,U.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&Qf(ye)===M.type)?(M=i(M,U.props),Vs(M,U),M.return=k,M):(M=qi(U.type,U.key,U.props,null,k.mode,ee),Vs(M,U),M.return=k,M)}function V(k,M,U,ee){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Ho(U,k.mode,ee),M.return=k,M):(M=i(M,U.children||[]),M.return=k,M)}function Z(k,M,U,ee,ye){return M===null||M.tag!==7?(M=rl(U,k.mode,ee,ye),M.return=k,M):(M=i(M,U),M.return=k,M)}function te(k,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=$o(""+M,k.mode,U),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return U=qi(M.type,M.key,M.props,null,k.mode,U),Vs(U,M),U.return=k,U;case j:return M=Ho(M,k.mode,U),M.return=k,M;case N:var ee=M._init;return M=ee(M._payload),te(k,M,U)}if(re(M)||C(M))return M=rl(M,k.mode,U,null),M.return=k,M;if(typeof M.then=="function")return te(k,sr(M),U);if(M.$$typeof===E)return te(k,Yi(k,M),U);ir(k,M)}return null}function F(k,M,U,ee){var ye=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:S(k,M,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return U.key===ye?w(k,M,U,ee):null;case j:return U.key===ye?V(k,M,U,ee):null;case N:return ye=U._init,U=ye(U._payload),F(k,M,U,ee)}if(re(U)||C(U))return ye!==null?null:Z(k,M,U,ee,null);if(typeof U.then=="function")return F(k,M,sr(U),ee);if(U.$$typeof===E)return F(k,M,Yi(k,U),ee);ir(k,U)}return null}function Y(k,M,U,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return k=k.get(U)||null,S(M,k,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return k=k.get(ee.key===null?U:ee.key)||null,w(M,k,ee,ye);case j:return k=k.get(ee.key===null?U:ee.key)||null,V(M,k,ee,ye);case N:var Le=ee._init;return ee=Le(ee._payload),Y(k,M,U,ee,ye)}if(re(ee)||C(ee))return k=k.get(U)||null,Z(M,k,ee,ye,null);if(typeof ee.then=="function")return Y(k,M,U,sr(ee),ye);if(ee.$$typeof===E)return Y(k,M,U,Yi(M,ee),ye);ir(M,ee)}return null}function je(k,M,U,ee){for(var ye=null,Le=null,be=M,xe=M=0,Vt=null;be!==null&&xe<U.length;xe++){be.index>xe?(Vt=be,be=null):Vt=be.sibling;var Pe=F(k,be,U[xe],ee);if(Pe===null){be===null&&(be=Vt);break}e&&be&&Pe.alternate===null&&t(k,be),M=o(Pe,M,xe),Le===null?ye=Pe:Le.sibling=Pe,Le=Pe,be=Vt}if(xe===U.length)return n(k,be),Xe&&cl(k,xe),ye;if(be===null){for(;xe<U.length;xe++)be=te(k,U[xe],ee),be!==null&&(M=o(be,M,xe),Le===null?ye=be:Le.sibling=be,Le=be);return Xe&&cl(k,xe),ye}for(be=a(be);xe<U.length;xe++)Vt=Y(be,k,xe,U[xe],ee),Vt!==null&&(e&&Vt.alternate!==null&&be.delete(Vt.key===null?xe:Vt.key),M=o(Vt,M,xe),Le===null?ye=Vt:Le.sibling=Vt,Le=Vt);return e&&be.forEach(function(Ka){return t(k,Ka)}),Xe&&cl(k,xe),ye}function Se(k,M,U,ee){if(U==null)throw Error(u(151));for(var ye=null,Le=null,be=M,xe=M=0,Vt=null,Pe=U.next();be!==null&&!Pe.done;xe++,Pe=U.next()){be.index>xe?(Vt=be,be=null):Vt=be.sibling;var Ka=F(k,be,Pe.value,ee);if(Ka===null){be===null&&(be=Vt);break}e&&be&&Ka.alternate===null&&t(k,be),M=o(Ka,M,xe),Le===null?ye=Ka:Le.sibling=Ka,Le=Ka,be=Vt}if(Pe.done)return n(k,be),Xe&&cl(k,xe),ye;if(be===null){for(;!Pe.done;xe++,Pe=U.next())Pe=te(k,Pe.value,ee),Pe!==null&&(M=o(Pe,M,xe),Le===null?ye=Pe:Le.sibling=Pe,Le=Pe);return Xe&&cl(k,xe),ye}for(be=a(be);!Pe.done;xe++,Pe=U.next())Pe=Y(be,k,xe,Pe.value,ee),Pe!==null&&(e&&Pe.alternate!==null&&be.delete(Pe.key===null?xe:Pe.key),M=o(Pe,M,xe),Le===null?ye=Pe:Le.sibling=Pe,Le=Pe);return e&&be.forEach(function(LS){return t(k,LS)}),Xe&&cl(k,xe),ye}function at(k,M,U,ee){if(typeof U=="object"&&U!==null&&U.type===I&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case x:e:{for(var ye=U.key;M!==null;){if(M.key===ye){if(ye=U.type,ye===I){if(M.tag===7){n(k,M.sibling),ee=i(M,U.props.children),ee.return=k,k=ee;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&Qf(ye)===M.type){n(k,M.sibling),ee=i(M,U.props),Vs(ee,U),ee.return=k,k=ee;break e}n(k,M);break}else t(k,M);M=M.sibling}U.type===I?(ee=rl(U.props.children,k.mode,ee,U.key),ee.return=k,k=ee):(ee=qi(U.type,U.key,U.props,null,k.mode,ee),Vs(ee,U),ee.return=k,k=ee)}return h(k);case j:e:{for(ye=U.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){n(k,M.sibling),ee=i(M,U.children||[]),ee.return=k,k=ee;break e}else{n(k,M);break}else t(k,M);M=M.sibling}ee=Ho(U,k.mode,ee),ee.return=k,k=ee}return h(k);case N:return ye=U._init,U=ye(U._payload),at(k,M,U,ee)}if(re(U))return je(k,M,U,ee);if(C(U)){if(ye=C(U),typeof ye!="function")throw Error(u(150));return U=ye.call(U),Se(k,M,U,ee)}if(typeof U.then=="function")return at(k,M,sr(U),ee);if(U.$$typeof===E)return at(k,M,Yi(k,U),ee);ir(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(n(k,M.sibling),ee=i(M,U),ee.return=k,k=ee):(n(k,M),ee=$o(U,k.mode,ee),ee.return=k,k=ee),h(k)):n(k,M)}return function(k,M,U,ee){try{Hs=0;var ye=at(k,M,U,ee);return Pl=null,ye}catch(be){if(be===Ms||be===Xi)throw be;var Le=un(29,be,null,k.mode);return Le.lanes=ee,Le.return=k,Le}finally{}}}var Yl=Kf(!0),Zf=Kf(!1),An=ve(null),Zn=null;function La(e){var t=e.alternate;fe(Lt,Lt.current&1),fe(An,e),Zn===null&&(t===null||Vl.current!==null||t.memoizedState!==null)&&(Zn=e)}function Jf(e){if(e.tag===22){if(fe(Lt,Lt.current),fe(An,e),Zn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Zn=e)}}else ka()}function ka(){fe(Lt,Lt.current),fe(An,An.current)}function fa(e){de(An),Zn===e&&(Zn=null),de(Lt)}var Lt=ve(0);function rr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||ou(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function bc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=hn(),i=za(a);i.payload=t,n!=null&&(i.callback=n),t=Oa(e,i,a),t!==null&&(gn(t,e,a),Os(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=hn(),i=za(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Oa(e,i,a),t!==null&&(gn(t,e,a),Os(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),a=za(n);a.tag=2,t!=null&&(a.callback=t),t=Oa(e,a,n),t!==null&&(gn(t,e,n),Os(t,e,n))}};function Wf(e,t,n,a,i,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,h):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,a)||!Ts(i,o):!0}function em(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Sc.enqueueReplaceState(t,t.state,null)}function yl(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tm(e){or(e)}function nm(e){console.error(e)}function am(e){or(e)}function cr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function lm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function _c(e,t,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){cr(e,t)},n}function sm(e){return e=za(e),e.tag=3,e}function im(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=a.value;e.payload=function(){return i(o)},e.callback=function(){lm(t,n,a)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){lm(t,n,a),typeof i!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function L0(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&As(t,n,i,!0),n=An.current,n!==null){switch(n.tag){case 13:return Zn===null?Pc():n.alternate===null&&xt===0&&(xt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Ko?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Gc(e,a,i)),!1;case 22:return n.flags|=65536,a===Ko?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Gc(e,a,i)),!1}throw Error(u(435,n.tag))}return Gc(e,a,i),Pc(),!1}if(Xe)return t=An.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Io&&(e=Error(u(422),{cause:a}),Es(Cn(e,n)))):(a!==Io&&(t=Error(u(423),{cause:a}),Es(Cn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Cn(a,n),i=_c(e.stateNode,a,i),Wo(e,i),xt!==4&&(xt=2)),!1;var o=Error(u(520),{cause:a});if(o=Cn(o,n),Xs===null?Xs=[o]:Xs.push(o),xt!==4&&(xt=2),t===null)return!0;a=Cn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=_c(n.stateNode,a,e),Wo(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=sm(i),im(i,e,n,a),Wo(n,i),!1}n=n.return}while(n!==null);return!1}var rm=Error(u(461)),$t=!1;function Yt(e,t,n,a){t.child=e===null?Zf(t,null,n,a):Yl(t,e.child,n,a)}function om(e,t,n,a,i){n=n.render;var o=t.ref;if("ref"in a){var h={};for(var S in a)S!=="ref"&&(h[S]=a[S])}else h=a;return ml(t),a=lc(e,t,n,h,o,i),S=sc(),e!==null&&!$t?(ic(e,t,i),ma(e,t,i)):(Xe&&S&&Vo(t),t.flags|=1,Yt(e,t,a,i),t.child)}function cm(e,t,n,a,i){if(e===null){var o=n.type;return typeof o=="function"&&!Uo(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,um(e,t,o,a,i)):(e=qi(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Nc(e,i)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(h,a)&&e.ref===t.ref)return ma(e,t,i)}return t.flags|=1,e=ia(o,a),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,n,a,i){if(e!==null){var o=e.memoizedProps;if(Ts(o,a)&&e.ref===t.ref)if($t=!1,t.pendingProps=a=o,Nc(e,i))(e.flags&131072)!==0&&($t=!0);else return t.lanes=e.lanes,ma(e,t,i)}return xc(e,t,n,a,i)}function dm(e,t,n){var a=t.pendingProps,i=a.children,o=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~a}else t.childLanes=0,t.child=null;return fm(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gi(t,o!==null?o.cachePool:null),o!==null?uf(t,o):tc(),Jf(t);else return t.lanes=t.childLanes=536870912,fm(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Gi(t,o.cachePool),uf(t,o),ka(),t.memoizedState=null):(e!==null&&Gi(t,null),tc(),ka());return Yt(e,t,i,n),t.child}function fm(e,t,n,a){var i=Qo();return i=i===null?null:{parent:Rt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Gi(t,null),tc(),Jf(t),e!==null&&As(e,t,a,!0),null}function ur(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(u(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xc(e,t,n,a,i){return ml(t),n=lc(e,t,n,a,void 0,i),a=sc(),e!==null&&!$t?(ic(e,t,i),ma(e,t,i)):(Xe&&a&&Vo(t),t.flags|=1,Yt(e,t,n,i),t.child)}function mm(e,t,n,a,i,o){return ml(t),t.updateQueue=null,n=ff(t,a,n,i),df(e),a=sc(),e!==null&&!$t?(ic(e,t,o),ma(e,t,o)):(Xe&&a&&Vo(t),t.flags|=1,Yt(e,t,n,o),t.child)}function hm(e,t,n,a,i){if(ml(t),t.stateNode===null){var o=kl,h=n.contextType;typeof h=="object"&&h!==null&&(o=Qt(h)),o=new n(a,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Sc,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=a,o.state=t.memoizedState,o.refs={},Zo(t),h=n.contextType,o.context=typeof h=="object"&&h!==null?Qt(h):kl,o.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(bc(t,n,h,a),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&Sc.enqueueReplaceState(o,o.state,null),Ls(t,a,o,i),Rs(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){o=t.stateNode;var S=t.memoizedProps,w=yl(n,S);o.props=w;var V=o.context,Z=n.contextType;h=kl,typeof Z=="object"&&Z!==null&&(h=Qt(Z));var te=n.getDerivedStateFromProps;Z=typeof te=="function"||typeof o.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,Z||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(S||V!==h)&&em(t,o,a,h),Ma=!1;var F=t.memoizedState;o.state=F,Ls(t,a,o,i),Rs(),V=t.memoizedState,S||F!==V||Ma?(typeof te=="function"&&(bc(t,n,te,a),V=t.memoizedState),(w=Ma||Wf(t,n,w,a,F,V,h))?(Z||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=V),o.props=a,o.state=V,o.context=h,a=w):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Jo(e,t),h=t.memoizedProps,Z=yl(n,h),o.props=Z,te=t.pendingProps,F=o.context,V=n.contextType,w=kl,typeof V=="object"&&V!==null&&(w=Qt(V)),S=n.getDerivedStateFromProps,(V=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==te||F!==w)&&em(t,o,a,w),Ma=!1,F=t.memoizedState,o.state=F,Ls(t,a,o,i),Rs();var Y=t.memoizedState;h!==te||F!==Y||Ma||e!==null&&e.dependencies!==null&&Pi(e.dependencies)?(typeof S=="function"&&(bc(t,n,S,a),Y=t.memoizedState),(Z=Ma||Wf(t,n,Z,a,F,Y,w)||e!==null&&e.dependencies!==null&&Pi(e.dependencies))?(V||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,Y,w),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,Y,w)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Y),o.props=a,o.state=Y,o.context=w,a=Z):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return o=a,ur(e,t),a=(t.flags&128)!==0,o||a?(o=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&a?(t.child=Yl(t,e.child,null,i),t.child=Yl(t,null,n,i)):Yt(e,t,n,i),t.memoizedState=o.state,e=t.child):e=ma(e,t,i),e}function gm(e,t,n,a){return js(),t.flags|=256,Yt(e,t,n,a),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:tf()}}function wc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Nn),e}function ym(e,t,n){var a=t.pendingProps,i=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),h&&(i=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Xe){if(i?La(t):ka(),Xe){var S=_t,w;if(w=S){e:{for(w=S,S=Kn;w.nodeType!==8;){if(!S){S=null;break e}if(w=Hn(w.nextSibling),w===null){S=null;break e}}S=w}S!==null?(t.memoizedState={dehydrated:S,treeContext:ol!==null?{id:ra,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},w=un(18,null,null,0),w.stateNode=S,w.return=t,t.child=w,Zt=t,_t=null,w=!0):w=!1}w||dl(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return ou(S)?t.lanes=32:t.lanes=536870912,null;fa(t)}return S=a.children,a=a.fallback,i?(ka(),i=t.mode,S=dr({mode:"hidden",children:S},i),a=rl(a,i,n,null),S.return=t,a.return=t,S.sibling=a,t.child=S,i=t.child,i.memoizedState=Cc(n),i.childLanes=wc(e,h,n),t.memoizedState=Tc,a):(La(t),jc(t,S))}if(w=e.memoizedState,w!==null&&(S=w.dehydrated,S!==null)){if(o)t.flags&256?(La(t),t.flags&=-257,t=Ec(e,t,n)):t.memoizedState!==null?(ka(),t.child=e.child,t.flags|=128,t=null):(ka(),i=a.fallback,S=t.mode,a=dr({mode:"visible",children:a.children},S),i=rl(i,S,n,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,Yl(t,e.child,null,n),a=t.child,a.memoizedState=Cc(n),a.childLanes=wc(e,h,n),t.memoizedState=Tc,t=i);else if(La(t),ou(S)){if(h=S.nextSibling&&S.nextSibling.dataset,h)var V=h.dgst;h=V,a=Error(u(419)),a.stack="",a.digest=h,Es({value:a,source:null,stack:null}),t=Ec(e,t,n)}else if($t||As(e,t,n,!1),h=(n&e.childLanes)!==0,$t||h){if(h=ut,h!==null&&(a=n&-n,a=(a&42)!==0?1:Ut(a),a=(a&(h.suspendedLanes|n))!==0?0:a,a!==0&&a!==w.retryLane))throw w.retryLane=a,Ll(e,a),gn(h,e,a),rm;S.data==="$?"||Pc(),t=Ec(e,t,n)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,_t=Hn(S.nextSibling),Zt=t,Xe=!0,ul=null,Kn=!1,e!==null&&(jn[En++]=ra,jn[En++]=oa,jn[En++]=ol,ra=e.id,oa=e.overflow,ol=t),t=jc(t,a.children),t.flags|=4096);return t}return i?(ka(),i=a.fallback,S=t.mode,w=e.child,V=w.sibling,a=ia(w,{mode:"hidden",children:a.children}),a.subtreeFlags=w.subtreeFlags&65011712,V!==null?i=ia(V,i):(i=rl(i,S,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,S=e.child.memoizedState,S===null?S=Cc(n):(w=S.cachePool,w!==null?(V=Rt._currentValue,w=w.parent!==V?{parent:V,pool:V}:w):w=tf(),S={baseLanes:S.baseLanes|n,cachePool:w}),i.memoizedState=S,i.childLanes=wc(e,h,n),t.memoizedState=Tc,a):(La(t),n=e.child,e=n.sibling,n=ia(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function jc(e,t){return t=dr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function dr(e,t){return e=un(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ec(e,t,n){return Yl(t,e.child,null,n),e=jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Po(e.return,t,n)}function Ac(e,t,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=i)}function vm(e,t,n){var a=t.pendingProps,i=a.revealOrder,o=a.tail;if(Yt(e,t,a.children,n),a=Lt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pm(e,n,t);else if(e.tag===19)pm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(fe(Lt,a),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rr(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ac(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rr(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ac(t,!0,n,null,o);break;case"together":Ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ma(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(As(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=ia(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ia(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Pi(e)))}function k0(e,t,n){switch(t.tag){case 3:mt(t,t.stateNode.containerInfo),Da(t,Rt,e.memoizedState.cache),js();break;case 27:case 5:rt(t);break;case 4:mt(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(La(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ym(e,t,n):(La(t),e=ma(e,t,n),e!==null?e.sibling:null);La(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(As(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return vm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Lt,Lt.current),a)break;return null;case 22:case 23:return t.lanes=0,dm(e,t,n);case 24:Da(t,Rt,e.memoizedState.cache)}return ma(e,t,n)}function bm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!Nc(e,n)&&(t.flags&128)===0)return $t=!1,k0(e,t,n);$t=(e.flags&131072)!==0}else $t=!1,Xe&&(t.flags&1048576)!==0&&Xd(t,Fi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,typeof a=="function")Uo(a)?(e=yl(a,e),t.tag=1,t=hm(null,t,a,e,n)):(t.tag=0,t=xc(null,t,a,e,n));else{if(a!=null){if(i=a.$$typeof,i===G){t.tag=11,t=om(null,t,a,e,n);break e}else if(i===z){t.tag=14,t=cm(null,t,a,e,n);break e}}throw t=K(a)||a,Error(u(306,t,""))}}return t;case 0:return xc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=yl(a,t.pendingProps),hm(e,t,a,i,n);case 3:e:{if(mt(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var o=t.memoizedState;i=o.element,Jo(e,t),Ls(t,a,null,n);var h=t.memoizedState;if(a=h.cache,Da(t,Rt,a),a!==o.cache&&Yo(t,[Rt],n,!0),Rs(),a=h.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=gm(e,t,a,n);break e}else if(a!==i){i=Cn(Error(u(424)),t),Es(i),t=gm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_t=Hn(e.firstChild),Zt=t,Xe=!0,ul=null,Kn=!0,n=Zf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(js(),a===i){t=ma(e,t,n);break e}Yt(e,t,a,n)}t=t.child}return t;case 26:return ur(e,t),e===null?(n=Th(t.type,null,t.pendingProps,null))?t.memoizedState=n:Xe||(n=t.type,e=t.pendingProps,a=wr(Re.current).createElement(n),a[ge]=t,a[pe]=e,Xt(a,n,e),At(a),t.stateNode=a):t.memoizedState=Th(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return rt(t),e===null&&Xe&&(a=t.stateNode=Sh(t.type,t.pendingProps,Re.current),Zt=t,Kn=!0,i=_t,Pa(t.type)?(cu=i,_t=Hn(a.firstChild)):_t=i),Yt(e,t,t.pendingProps.children,n),ur(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Xe&&((i=a=_t)&&(a=uS(a,t.type,t.pendingProps,Kn),a!==null?(t.stateNode=a,Zt=t,_t=Hn(a.firstChild),Kn=!1,i=!0):i=!1),i||dl(t)),rt(t),i=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,a=o.children,su(i,o)?a=null:h!==null&&su(i,h)&&(t.flags|=32),t.memoizedState!==null&&(i=lc(e,t,A0,null,null,n),ai._currentValue=i),ur(e,t),Yt(e,t,a,n),t.child;case 6:return e===null&&Xe&&((e=n=_t)&&(n=dS(n,t.pendingProps,Kn),n!==null?(t.stateNode=n,Zt=t,_t=null,e=!0):e=!1),e||dl(t)),null;case 13:return ym(e,t,n);case 4:return mt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Yl(t,null,a,n):Yt(e,t,a,n),t.child;case 11:return om(e,t,t.type,t.pendingProps,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Da(t,t.type,a.value),Yt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,ml(t),i=Qt(i),a=a(i),t.flags|=1,Yt(e,t,a,n),t.child;case 14:return cm(e,t,t.type,t.pendingProps,n);case 15:return um(e,t,t.type,t.pendingProps,n);case 19:return vm(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=dr(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ia(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return dm(e,t,n);case 24:return ml(t),a=Qt(Rt),e===null?(i=Qo(),i===null&&(i=ut,o=Go(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:a,cache:i},Zo(t),Da(t,Rt,i)):((e.lanes&n)!==0&&(Jo(e,t),Ls(t,null,null,n),Rs()),i=e.memoizedState,o=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Da(t,Rt,a)):(a=o.cache,Da(t,Rt,a),a!==i.cache&&Yo(t,[Rt],n,!0))),Yt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function ha(e){e.flags|=4}function Sm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ah(t)){if(t=An.current,t!==null&&((Ie&4194048)===Ie?Zn!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||t!==Zn))throw zs=Ko,nf;e.flags|=8192}}function fr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wa():536870912,e.lanes|=t,Kl|=t)}function qs(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function B0(e,t,n){var a=t.pendingProps;switch(qo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return St(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ua(Rt),Tt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ws(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zd())),St(t),null;case 26:return n=t.memoizedState,e===null?(ha(t),n!==null?(St(t),Sm(t,n)):(St(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ha(t),St(t),Sm(t,n)):(St(t),t.flags&=-16777217):(e.memoizedProps!==a&&ha(t),St(t),t.flags&=-16777217),null;case 27:me(t),n=Re.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return St(t),null}e=_e.current,ws(t)?Qd(t):(e=Sh(i,a,n),t.stateNode=e,ha(t))}return St(t),null;case 5:if(me(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return St(t),null}if(e=_e.current,ws(t))Qd(t);else{switch(i=wr(Re.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}e[ge]=t,e[pe]=a;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Xt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ha(t)}}return St(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=Re.current,ws(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Zt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[ge]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||mh(e.nodeValue,n)),e||dl(t)}else e=wr(e).createTextNode(a),e[ge]=t,t.stateNode=e}return St(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ws(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(u(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(u(317));i[ge]=t}else js(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;St(t),i=!1}else i=Zd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(fa(t),t):(fa(t),null)}if(fa(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool);var o=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),fr(t,t.updateQueue),St(t),null;case 4:return Tt(),e===null&&eu(t.stateNode.containerInfo),St(t),null;case 10:return ua(t.type),St(t),null;case 19:if(de(Lt),i=t.memoizedState,i===null)return St(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)qs(i,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=rr(e),o!==null){for(t.flags|=128,qs(i,!1),e=o.updateQueue,t.updateQueue=e,fr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Gd(n,e),n=n.sibling;return fe(Lt,Lt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ve()>gr&&(t.flags|=128,a=!0,qs(i,!1),t.lanes=4194304)}else{if(!a)if(e=rr(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,fr(t,e),qs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return St(t),null}else 2*Ve()-i.renderingStartTime>gr&&n!==536870912&&(t.flags|=128,a=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ve(),t.sibling=null,e=Lt.current,fe(Lt,a?e&1|2:e&1),t):(St(t),null);case 22:case 23:return fa(t),nc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),n=t.updateQueue,n!==null&&fr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&de(hl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ua(Rt),St(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function U0(e,t){switch(qo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(Rt),Tt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 13:if(fa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(Lt),null;case 4:return Tt(),null;case 10:return ua(t.type),null;case 22:case 23:return fa(t),nc(),e!==null&&de(hl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ua(Rt),null;case 25:return null;default:return null}}function _m(e,t){switch(qo(t),t.tag){case 3:ua(Rt),Tt();break;case 26:case 27:case 5:me(t);break;case 4:Tt();break;case 13:fa(t);break;case 19:de(Lt);break;case 10:ua(t.type);break;case 22:case 23:fa(t),nc(),e!==null&&de(hl);break;case 24:ua(Rt)}}function Is(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var o=n.create,h=n.inst;a=o(),h.destroy=a}n=n.next}while(n!==i)}}catch(S){st(t,t.return,S)}}function Ba(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){var h=a.inst,S=h.destroy;if(S!==void 0){h.destroy=void 0,i=t;var w=n,V=S;try{V()}catch(Z){st(i,w,Z)}}}a=a.next}while(a!==o)}}catch(Z){st(t,t.return,Z)}}function xm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{cf(t,n)}catch(a){st(e,e.return,a)}}}function Tm(e,t,n){n.props=yl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){st(e,t,a)}}function Fs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){st(e,t,i)}}function Jn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){st(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){st(e,t,i)}else n.current=null}function Cm(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){st(e,e.return,i)}}function Dc(e,t,n){try{var a=e.stateNode;sS(a,e.type,n,t),a[pe]=t}catch(i){st(e,e.return,i)}}function wm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cr));else if(a!==4&&(a===27&&Pa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zc(e,t,n),e=e.sibling;e!==null;)zc(e,t,n),e=e.sibling}function mr(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Pa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(mr(e,t,n),e=e.sibling;e!==null;)mr(e,t,n),e=e.sibling}function jm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Xt(t,a,n),t[ge]=e,t[pe]=n}catch(o){st(e,e.return,o)}}var ga=!1,Et=!1,Oc=!1,Em=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function $0(e,t){if(e=e.containerInfo,au=Mr,e=Bd(e),Mo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var h=0,S=-1,w=-1,V=0,Z=0,te=e,F=null;t:for(;;){for(var Y;te!==n||i!==0&&te.nodeType!==3||(S=h+i),te!==o||a!==0&&te.nodeType!==3||(w=h+a),te.nodeType===3&&(h+=te.nodeValue.length),(Y=te.firstChild)!==null;)F=te,te=Y;for(;;){if(te===e)break t;if(F===n&&++V===i&&(S=h),F===o&&++Z===a&&(w=h),(Y=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=Y}n=S===-1||w===-1?null:{start:S,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(lu={focusedElem:e,selectionRange:n},Mr=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){switch(t=Ht,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,a=n.stateNode;try{var je=yl(n.type,i,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(je,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(Se){st(n,n.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ru(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}}function Am(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ua(e,n),a&4&&Is(5,n);break;case 1:if(Ua(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){st(n,n.return,h)}else{var i=yl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){st(n,n.return,h)}}a&64&&xm(n),a&512&&Fs(n,n.return);break;case 3:if(Ua(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{cf(e,t)}catch(h){st(n,n.return,h)}}break;case 27:t===null&&a&4&&jm(n);case 26:case 5:Ua(e,n),t===null&&a&4&&Cm(n),a&512&&Fs(n,n.return);break;case 12:Ua(e,n);break;case 13:Ua(e,n),a&4&&Mm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=X0.bind(null,n),fS(e,n))));break;case 22:if(a=n.memoizedState!==null||ga,!a){t=t!==null&&t.memoizedState!==null||Et,i=ga;var o=Et;ga=a,(Et=t)&&!o?$a(e,n,(n.subtreeFlags&8772)!==0):Ua(e,n),ga=i,Et=o}break;case 30:break;default:Ua(e,n)}}function Nm(e){var t=e.alternate;t!==null&&(e.alternate=null,Nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,ln=!1;function ya(e,t,n){for(n=n.child;n!==null;)Dm(e,t,n),n=n.sibling}function Dm(e,t,n){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(Te,n)}catch{}switch(n.tag){case 26:Et||Jn(n,t),ya(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Et||Jn(n,t);var a=yt,i=ln;Pa(n.type)&&(yt=n.stateNode,ln=!1),ya(e,t,n),Ws(n.stateNode),yt=a,ln=i;break;case 5:Et||Jn(n,t);case 6:if(a=yt,i=ln,yt=null,ya(e,t,n),yt=a,ln=i,yt!==null)if(ln)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(n.stateNode)}catch(o){st(n,t,o)}else try{yt.removeChild(n.stateNode)}catch(o){st(n,t,o)}break;case 18:yt!==null&&(ln?(e=yt,vh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ri(e)):vh(yt,n.stateNode));break;case 4:a=yt,i=ln,yt=n.stateNode.containerInfo,ln=!0,ya(e,t,n),yt=a,ln=i;break;case 0:case 11:case 14:case 15:Et||Ba(2,n,t),Et||Ba(4,n,t),ya(e,t,n);break;case 1:Et||(Jn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Tm(n,t,a)),ya(e,t,n);break;case 21:ya(e,t,n);break;case 22:Et=(a=Et)||n.memoizedState!==null,ya(e,t,n),Et=a;break;default:ya(e,t,n)}}function Mm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ri(e)}catch(n){st(t,t.return,n)}}function H0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Em),t;default:throw Error(u(435,e.tag))}}function Rc(e,t){var n=H0(e);t.forEach(function(a){var i=Q0.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}function dn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],o=e,h=t,S=h;e:for(;S!==null;){switch(S.tag){case 27:if(Pa(S.type)){yt=S.stateNode,ln=!1;break e}break;case 5:yt=S.stateNode,ln=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(yt===null)throw Error(u(160));Dm(o,h,i),yt=null,ln=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}var $n=null;function zm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(t,e),fn(e),a&4&&(Ba(3,e,e.return),Is(3,e),Ba(5,e,e.return));break;case 1:dn(t,e),fn(e),a&512&&(Et||n===null||Jn(n,n.return)),a&64&&ga&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=$n;if(dn(t,e),fn(e),a&512&&(Et||n===null||Jn(n,n.return)),a&4){var o=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":o=i.getElementsByTagName("title")[0],(!o||o[tn]||o[ge]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(a),i.head.insertBefore(o,i.querySelector("head > title"))),Xt(o,a,n),o[ge]=e,At(o),a=o;break e;case"link":var h=jh("link","href",i).get(a+(n.href||""));if(h){for(var S=0;S<h.length;S++)if(o=h[S],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(S,1);break t}}o=i.createElement(a),Xt(o,a,n),i.head.appendChild(o);break;case"meta":if(h=jh("meta","content",i).get(a+(n.content||""))){for(S=0;S<h.length;S++)if(o=h[S],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(S,1);break t}}o=i.createElement(a),Xt(o,a,n),i.head.appendChild(o);break;default:throw Error(u(468,a))}o[ge]=e,At(o),a=o}e.stateNode=a}else Eh(i,e.type,e.stateNode);else e.stateNode=wh(i,a,e.memoizedProps);else o!==a?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,a===null?Eh(i,e.type,e.stateNode):wh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Dc(e,e.memoizedProps,n.memoizedProps)}break;case 27:dn(t,e),fn(e),a&512&&(Et||n===null||Jn(n,n.return)),n!==null&&a&4&&Dc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dn(t,e),fn(e),a&512&&(Et||n===null||Jn(n,n.return)),e.flags&32){i=e.stateNode;try{Al(i,"")}catch(Y){st(e,e.return,Y)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Dc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Oc=!0);break;case 6:if(dn(t,e),fn(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Y){st(e,e.return,Y)}}break;case 3:if(Ar=null,i=$n,$n=jr(t.containerInfo),dn(t,e),$n=i,fn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ri(t.containerInfo)}catch(Y){st(e,e.return,Y)}Oc&&(Oc=!1,Om(e));break;case 4:a=$n,$n=jr(e.stateNode.containerInfo),dn(t,e),fn(e),$n=a;break;case 12:dn(t,e),fn(e);break;case 13:dn(t,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Hc=Ve()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Rc(e,a)));break;case 22:i=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,V=ga,Z=Et;if(ga=V||i,Et=Z||w,dn(t,e),Et=Z,ga=V,fn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||w||ga||Et||pl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(o=w.stateNode,i)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{S=w.stateNode;var te=w.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Y){st(w,w.return,Y)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=i?"":w.memoizedProps}catch(Y){st(w,w.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Rc(e,n))));break;case 19:dn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Rc(e,a)));break;case 30:break;case 21:break;default:dn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(wm(a)){n=a;break}a=a.return}if(n==null)throw Error(u(160));switch(n.tag){case 27:var i=n.stateNode,o=Mc(e);mr(e,o,i);break;case 5:var h=n.stateNode;n.flags&32&&(Al(h,""),n.flags&=-33);var S=Mc(e);mr(e,S,h);break;case 3:case 4:var w=n.stateNode.containerInfo,V=Mc(e);zc(e,V,w);break;default:throw Error(u(161))}}catch(Z){st(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Om(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Am(e,t.alternate,t),t=t.sibling}function pl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),pl(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Tm(t,t.return,n),pl(t);break;case 27:Ws(t.stateNode);case 26:case 5:Jn(t,t.return),pl(t);break;case 22:t.memoizedState===null&&pl(t);break;case 30:pl(t);break;default:pl(t)}e=e.sibling}}function $a(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:$a(i,o,n),Is(4,o);break;case 1:if($a(i,o,n),a=o,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(V){st(a,a.return,V)}if(a=o,i=a.updateQueue,i!==null){var S=a.stateNode;try{var w=i.shared.hiddenCallbacks;if(w!==null)for(i.shared.hiddenCallbacks=null,i=0;i<w.length;i++)of(w[i],S)}catch(V){st(a,a.return,V)}}n&&h&64&&xm(o),Fs(o,o.return);break;case 27:jm(o);case 26:case 5:$a(i,o,n),n&&a===null&&h&4&&Cm(o),Fs(o,o.return);break;case 12:$a(i,o,n);break;case 13:$a(i,o,n),n&&h&4&&Mm(i,o);break;case 22:o.memoizedState===null&&$a(i,o,n),Fs(o,o.return);break;case 30:break;default:$a(i,o,n)}t=t.sibling}}function Lc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ns(n))}function kc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ns(e))}function Wn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rm(e,t,n,a),t=t.sibling}function Rm(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Wn(e,t,n,a),i&2048&&Is(9,t);break;case 1:Wn(e,t,n,a);break;case 3:Wn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ns(e)));break;case 12:if(i&2048){Wn(e,t,n,a),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,S=o.onPostCommit;typeof S=="function"&&S(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){st(t,t.return,w)}}else Wn(e,t,n,a);break;case 13:Wn(e,t,n,a);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?Wn(e,t,n,a):Ps(e,t):o._visibility&2?Wn(e,t,n,a):(o._visibility|=2,Gl(e,t,n,a,(t.subtreeFlags&10256)!==0)),i&2048&&Lc(h,t);break;case 24:Wn(e,t,n,a),i&2048&&kc(t.alternate,t);break;default:Wn(e,t,n,a)}}function Gl(e,t,n,a,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,h=t,S=n,w=a,V=h.flags;switch(h.tag){case 0:case 11:case 15:Gl(o,h,S,w,i),Is(8,h);break;case 23:break;case 22:var Z=h.stateNode;h.memoizedState!==null?Z._visibility&2?Gl(o,h,S,w,i):Ps(o,h):(Z._visibility|=2,Gl(o,h,S,w,i)),i&&V&2048&&Lc(h.alternate,h);break;case 24:Gl(o,h,S,w,i),i&&V&2048&&kc(h.alternate,h);break;default:Gl(o,h,S,w,i)}t=t.sibling}}function Ps(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Ps(n,a),i&2048&&Lc(a.alternate,a);break;case 24:Ps(n,a),i&2048&&kc(a.alternate,a);break;default:Ps(n,a)}t=t.sibling}}var Ys=8192;function Xl(e){if(e.subtreeFlags&Ys)for(e=e.child;e!==null;)Lm(e),e=e.sibling}function Lm(e){switch(e.tag){case 26:Xl(e),e.flags&Ys&&e.memoizedState!==null&&wS($n,e.memoizedState,e.memoizedProps);break;case 5:Xl(e);break;case 3:case 4:var t=$n;$n=jr(e.stateNode.containerInfo),Xl(e),$n=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ys,Ys=16777216,Xl(e),Ys=t):Xl(e));break;default:Xl(e)}}function km(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ht=a,Um(a,e)}km(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bm(e),e=e.sibling}function Bm(e){switch(e.tag){case 0:case 11:case 15:Gs(e),e.flags&2048&&Ba(9,e,e.return);break;case 3:Gs(e);break;case 12:Gs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hr(e)):Gs(e);break;default:Gs(e)}}function hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ht=a,Um(a,e)}km(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ba(8,t,t.return),hr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,hr(t));break;default:hr(t)}e=e.sibling}}function Um(e,t){for(;Ht!==null;){var n=Ht;switch(n.tag){case 0:case 11:case 15:Ba(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ns(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ht=a;else e:for(n=e;Ht!==null;){a=Ht;var i=a.sibling,o=a.return;if(Nm(a),a===n){Ht=null;break e}if(i!==null){i.return=o,Ht=i;break e}Ht=o}}}var V0={getCacheForType:function(e){var t=Qt(Rt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},q0=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,ke=null,Ie=0,We=0,mn=null,Ha=!1,Ql=!1,Bc=!1,pa=0,xt=0,Va=0,vl=0,Uc=0,Nn=0,Kl=0,Xs=null,sn=null,$c=!1,Hc=0,gr=1/0,yr=null,qa=null,Gt=0,Ia=null,Zl=null,Jl=0,Vc=0,qc=null,$m=null,Qs=0,Ic=null;function hn(){if((Je&2)!==0&&Ie!==0)return Ie&-Ie;if(D.T!==null){var e=$l;return e!==0?e:Kc()}return J()}function Hm(){Nn===0&&(Nn=(Ie&536870912)===0||Xe?Yn():536870912);var e=An.current;return e!==null&&(e.flags|=32),Nn}function gn(e,t,n){(e===ut&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(Wl(e,0),Fa(e,Ie,Nn,!1)),gt(e,n),((Je&2)===0||e!==ut)&&(e===ut&&((Je&2)===0&&(vl|=n),xt===4&&Fa(e,Ie,Nn,!1)),ea(e))}function Vm(e,t,n){if((Je&6)!==0)throw Error(u(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Kt(e,t),i=a?P0(e,t):Yc(e,t,!0),o=a;do{if(i===0){Ql&&!a&&Fa(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!I0(n)){i=Yc(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var S=e;i=Xs;var w=S.current.memoizedState.isDehydrated;if(w&&(Wl(S,h).flags|=256),h=Yc(S,h,!1),h!==2){if(Bc&&!w){S.errorRecoveryDisabledLanes|=o,vl|=o,i=4;break e}o=sn,sn=i,o!==null&&(sn===null?sn=o:sn.push.apply(sn,o))}i=h}if(o=!1,i!==2)continue}}if(i===1){Wl(e,0),Fa(e,t,0,!0);break}e:{switch(a=e,o=i,o){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Fa(a,t,Nn,!Ha);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(i=Hc+300-Ve(),10<i)){if(Fa(a,t,Nn,!Ha),_n(a,0,!0)!==0)break e;a.timeoutHandle=yh(qm.bind(null,a,n,sn,yr,$c,t,Nn,vl,Kl,Ha,o,2,-0,0),i);break e}qm(a,n,sn,yr,$c,t,Nn,vl,Kl,Ha,o,0,-0,0)}}break}while(!0);ea(e)}function qm(e,t,n,a,i,o,h,S,w,V,Z,te,F,Y){if(e.timeoutHandle=-1,te=t.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(ni={stylesheets:null,count:0,unsuspend:CS},Lm(t),te=jS(),te!==null)){e.cancelPendingCommit=te(Qm.bind(null,e,t,o,n,a,i,h,S,w,Z,1,F,Y)),Fa(e,o,h,!V);return}Qm(e,t,o,n,a,i,h,S,w)}function I0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],o=i.getSnapshot;i=i.value;try{if(!cn(o(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,n,a){t&=~Uc,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var o=31-qe(i),h=1<<o;a[o]=-1,i&=~h}n!==0&&Bt(e,n,t)}function pr(){return(Je&6)===0?(Ks(0),!1):!0}function Fc(){if(ke!==null){if(We===0)var e=ke.return;else e=ke,ca=fl=null,rc(e),Pl=null,Hs=0,e=ke;for(;e!==null;)_m(e.alternate,e),e=e.return;ke=null}}function Wl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,rS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fc(),ut=e,ke=n=ia(e.current,null),Ie=t,We=0,mn=null,Ha=!1,Ql=Kt(e,t),Bc=!1,Kl=Nn=Uc=vl=Va=xt=0,sn=Xs=null,$c=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-qe(a),o=1<<i;t|=e[i],a&=~o}return pa=t,$i(),n}function Im(e,t){Oe=null,D.H=lr,t===Ms||t===Xi?(t=sf(),We=3):t===nf?(t=sf(),We=4):We=t===rm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,mn=t,ke===null&&(xt=1,cr(e,Cn(t,e.current)))}function Fm(){var e=D.H;return D.H=lr,e===null?lr:e}function Pm(){var e=D.A;return D.A=V0,e}function Pc(){xt=4,Ha||(Ie&4194048)!==Ie&&An.current!==null||(Ql=!0),(Va&134217727)===0&&(vl&134217727)===0||ut===null||Fa(ut,Ie,Nn,!1)}function Yc(e,t,n){var a=Je;Je|=2;var i=Fm(),o=Pm();(ut!==e||Ie!==t)&&(yr=null,Wl(e,t)),t=!1;var h=xt;e:do try{if(We!==0&&ke!==null){var S=ke,w=mn;switch(We){case 8:Fc(),h=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(t=!0);var V=We;if(We=0,mn=null,es(e,S,w,V),n&&Ql){h=0;break e}break;default:V=We,We=0,mn=null,es(e,S,w,V)}}F0(),h=xt;break}catch(Z){Im(e,Z)}while(!0);return t&&e.shellSuspendCounter++,ca=fl=null,Je=a,D.H=i,D.A=o,ke===null&&(ut=null,Ie=0,$i()),h}function F0(){for(;ke!==null;)Ym(ke)}function P0(e,t){var n=Je;Je|=2;var a=Fm(),i=Pm();ut!==e||Ie!==t?(yr=null,gr=Ve()+500,Wl(e,t)):Ql=Kt(e,t);e:do try{if(We!==0&&ke!==null){t=ke;var o=mn;t:switch(We){case 1:We=0,mn=null,es(e,t,o,1);break;case 2:case 9:if(af(o)){We=0,mn=null,Gm(t);break}t=function(){We!==2&&We!==9||ut!==e||(We=7),ea(e)},o.then(t,t);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:af(o)?(We=0,mn=null,Gm(t)):(We=0,mn=null,es(e,t,o,7));break;case 5:var h=null;switch(ke.tag){case 26:h=ke.memoizedState;case 5:case 27:var S=ke;if(!h||Ah(h)){We=0,mn=null;var w=S.sibling;if(w!==null)ke=w;else{var V=S.return;V!==null?(ke=V,vr(V)):ke=null}break t}}We=0,mn=null,es(e,t,o,5);break;case 6:We=0,mn=null,es(e,t,o,6);break;case 8:Fc(),xt=6;break e;default:throw Error(u(462))}}Y0();break}catch(Z){Im(e,Z)}while(!0);return ca=fl=null,D.H=a,D.A=i,Je=n,ke!==null?0:(ut=null,Ie=0,$i(),xt)}function Y0(){for(;ke!==null&&!he();)Ym(ke)}function Ym(e){var t=bm(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?vr(e):ke=t}function Gm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mm(n,t,t.pendingProps,t.type,void 0,Ie);break;case 11:t=mm(n,t,t.pendingProps,t.type.render,t.ref,Ie);break;case 5:rc(t);default:_m(n,t),t=ke=Gd(t,pa),t=bm(n,t,pa)}e.memoizedProps=e.pendingProps,t===null?vr(e):ke=t}function es(e,t,n,a){ca=fl=null,rc(t),Pl=null,Hs=0;var i=t.return;try{if(L0(e,i,t,n,Ie)){xt=1,cr(e,Cn(n,e.current)),ke=null;return}}catch(o){if(i!==null)throw ke=i,o;xt=1,cr(e,Cn(n,e.current)),ke=null;return}t.flags&32768?(Xe||a===1?e=!0:Ql||(Ie&536870912)!==0?e=!1:(Ha=e=!0,(a===2||a===9||a===3||a===6)&&(a=An.current,a!==null&&a.tag===13&&(a.flags|=16384))),Xm(t,e)):vr(t)}function vr(e){var t=e;do{if((t.flags&32768)!==0){Xm(t,Ha);return}e=t.return;var n=B0(t.alternate,t,pa);if(n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);xt===0&&(xt=5)}function Xm(e,t){do{var n=U0(e.alternate,e);if(n!==null){n.flags&=32767,ke=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=n}while(e!==null);xt=6,ke=null}function Qm(e,t,n,a,i,o,h,S,w){e.cancelPendingCommit=null;do br();while(Gt!==0);if((Je&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(o=t.lanes|t.childLanes,o|=ko,Ft(e,n,o,h,S,w),e===ut&&(ke=ut=null,Ie=0),Zl=t,Ia=e,Jl=n,Vc=o,qc=i,$m=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K0(Ct,function(){return eh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null,i=$.p,$.p=2,h=Je,Je|=4;try{$0(e,t,n)}finally{Je=h,$.p=i,D.T=a}}Gt=1,Km(),Zm(),Jm()}}function Km(){if(Gt===1){Gt=0;var e=Ia,t=Zl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var a=$.p;$.p=2;var i=Je;Je|=4;try{zm(t,e);var o=lu,h=Bd(e.containerInfo),S=o.focusedElem,w=o.selectionRange;if(h!==S&&S&&S.ownerDocument&&kd(S.ownerDocument.documentElement,S)){if(w!==null&&Mo(S)){var V=w.start,Z=w.end;if(Z===void 0&&(Z=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min(Z,S.value.length);else{var te=S.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var Y=F.getSelection(),je=S.textContent.length,Se=Math.min(w.start,je),at=w.end===void 0?Se:Math.min(w.end,je);!Y.extend&&Se>at&&(h=at,at=Se,Se=h);var k=Ld(S,Se),M=Ld(S,at);if(k&&M&&(Y.rangeCount!==1||Y.anchorNode!==k.node||Y.anchorOffset!==k.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var U=te.createRange();U.setStart(k.node,k.offset),Y.removeAllRanges(),Se>at?(Y.addRange(U),Y.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),Y.addRange(U))}}}}for(te=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Mr=!!au,lu=au=null}finally{Je=i,$.p=a,D.T=n}}e.current=t,Gt=2}}function Zm(){if(Gt===2){Gt=0;var e=Ia,t=Zl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var a=$.p;$.p=2;var i=Je;Je|=4;try{Am(e,t.alternate,t)}finally{Je=i,$.p=a,D.T=n}}Gt=3}}function Jm(){if(Gt===4||Gt===3){Gt=0,Ee();var e=Ia,t=Zl,n=Jl,a=$m;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Gt=5:(Gt=0,Zl=Ia=null,Wm(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(qa=null),Ot(n),t=t.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(Te,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=D.T,i=$.p,$.p=2,D.T=null;try{for(var o=e.onRecoverableError,h=0;h<a.length;h++){var S=a[h];o(S.value,{componentStack:S.stack})}}finally{D.T=t,$.p=i}}(Jl&3)!==0&&br(),ea(e),i=e.pendingLanes,(n&4194090)!==0&&(i&42)!==0?e===Ic?Qs++:(Qs=0,Ic=e):Qs=0,Ks(0)}}function Wm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ns(t)))}function br(e){return Km(),Zm(),Jm(),eh()}function eh(){if(Gt!==5)return!1;var e=Ia,t=Vc;Vc=0;var n=Ot(Jl),a=D.T,i=$.p;try{$.p=32>n?32:n,D.T=null,n=qc,qc=null;var o=Ia,h=Jl;if(Gt=0,Zl=Ia=null,Jl=0,(Je&6)!==0)throw Error(u(331));var S=Je;if(Je|=4,Bm(o.current),Rm(o,o.current,h,n),Je=S,Ks(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(Te,o)}catch{}return!0}finally{$.p=i,D.T=a,Wm(e,t)}}function th(e,t,n){t=Cn(n,t),t=_c(e.stateNode,t,2),e=Oa(e,t,2),e!==null&&(gt(e,2),ea(e))}function st(e,t,n){if(e.tag===3)th(e,e,n);else for(;t!==null;){if(t.tag===3){th(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qa===null||!qa.has(a))){e=Cn(n,e),n=sm(2),a=Oa(t,n,2),a!==null&&(im(n,a,t,e),gt(a,2),ea(a));break}}t=t.return}}function Gc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new q0;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Bc=!0,i.add(n),e=G0.bind(null,e,t,n),t.then(e,e))}function G0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ut===e&&(Ie&n)===n&&(xt===4||xt===3&&(Ie&62914560)===Ie&&300>Ve()-Hc?(Je&2)===0&&Wl(e,0):Uc|=n,Kl===Ie&&(Kl=0)),ea(e)}function nh(e,t){t===0&&(t=wa()),e=Ll(e,t),e!==null&&(gt(e,t),ea(e))}function X0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nh(e,n)}function Q0(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),nh(e,n)}function K0(e,t){return Ke(e,t)}var Sr=null,ts=null,Xc=!1,_r=!1,Qc=!1,bl=0;function ea(e){e!==ts&&e.next===null&&(ts===null?Sr=ts=e:ts=ts.next=e),_r=!0,Xc||(Xc=!0,J0())}function Ks(e,t){if(!Qc&&_r){Qc=!0;do for(var n=!1,a=Sr;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var o=0;else{var h=a.suspendedLanes,S=a.pingedLanes;o=(1<<31-qe(42|e)+1)-1,o&=i&~(h&~S),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,ih(a,o))}else o=Ie,o=_n(a,a===ut?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(o&3)===0||Kt(a,o)||(n=!0,ih(a,o));a=a.next}while(n);Qc=!1}}function Z0(){ah()}function ah(){_r=Xc=!1;var e=0;bl!==0&&(iS()&&(e=bl),bl=0);for(var t=Ve(),n=null,a=Sr;a!==null;){var i=a.next,o=lh(a,t);o===0?(a.next=null,n===null?Sr=i:n.next=i,i===null&&(ts=n)):(n=a,(e!==0||(o&3)!==0)&&(_r=!0)),a=i}Ks(e)}function lh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-qe(o),S=1<<h,w=i[h];w===-1?((S&n)===0||(S&a)!==0)&&(i[h]=el(S,t)):w<=t&&(e.expiredLanes|=S),o&=~S}if(t=ut,n=Ie,n=_n(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(We===2||We===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ot(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Kt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ot(a),Ot(n)){case 2:case 8:n=Ge;break;case 32:n=Ct;break;case 268435456:n=bt;break;default:n=Ct}return a=sh.bind(null,e),n=Ke(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ot(a),e.callbackPriority=2,e.callbackNode=null,2}function sh(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(br()&&e.callbackNode!==n)return null;var a=Ie;return a=_n(e,e===ut?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Vm(e,a,t),lh(e,Ve()),e.callbackNode!=null&&e.callbackNode===n?sh.bind(null,e):null)}function ih(e,t){if(br())return null;Vm(e,t,!0)}function J0(){oS(function(){(Je&6)!==0?Ke(we,Z0):ah()})}function Kc(){return bl===0&&(bl=Yn()),bl}function rh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zi(""+e)}function oh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function W0(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var o=rh((i[pe]||null).action),h=a.submitter;h&&(t=(t=h[pe]||null)?rh(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var S=new ki("action","action",null,a,i);e.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(bl!==0){var w=h?oh(i,h):new FormData(i);yc(n,{pending:!0,data:w,method:i.method,action:o},null,w)}}else typeof o=="function"&&(S.preventDefault(),w=h?oh(i,h):new FormData(i),yc(n,{pending:!0,data:w,method:i.method,action:o},o,w))},currentTarget:i}]})}}for(var Zc=0;Zc<Lo.length;Zc++){var Jc=Lo[Zc],eS=Jc.toLowerCase(),tS=Jc[0].toUpperCase()+Jc.slice(1);Un(eS,"on"+tS)}Un(Hd,"onAnimationEnd"),Un(Vd,"onAnimationIteration"),Un(qd,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(v0,"onTransitionRun"),Un(b0,"onTransitionStart"),Un(S0,"onTransitionCancel"),Un(Id,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zs));function ch(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var h=a.length-1;0<=h;h--){var S=a[h],w=S.instance,V=S.currentTarget;if(S=S.listener,w!==o&&i.isPropagationStopped())break e;o=S,i.currentTarget=V;try{o(i)}catch(Z){or(Z)}i.currentTarget=null,o=w}else for(h=0;h<a.length;h++){if(S=a[h],w=S.instance,V=S.currentTarget,S=S.listener,w!==o&&i.isPropagationStopped())break e;o=S,i.currentTarget=V;try{o(i)}catch(Z){or(Z)}i.currentTarget=null,o=w}}}}function Be(e,t){var n=t[lt];n===void 0&&(n=t[lt]=new Set);var a=e+"__bubble";n.has(a)||(uh(t,e,2,!1),n.add(a))}function Wc(e,t,n){var a=0;t&&(a|=4),uh(n,e,a,t)}var xr="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[xr]){e[xr]=!0,Ai.forEach(function(n){n!=="selectionchange"&&(nS.has(n)||Wc(n,!1,e),Wc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xr]||(t[xr]=!0,Wc("selectionchange",!1,t))}}function uh(e,t,n,a){switch(Rh(t)){case 2:var i=NS;break;case 8:i=DS;break;default:i=hu}n=i.bind(null,t,n,e),i=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tu(e,t,n,a,i){var o=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var S=a.stateNode.containerInfo;if(S===i)break;if(h===4)for(h=a.return;h!==null;){var w=h.tag;if((w===3||w===4)&&h.stateNode.containerInfo===i)return;h=h.return}for(;S!==null;){if(h=Gn(S),h===null)return;if(w=h.tag,w===5||w===6||w===26||w===27){a=o=h;continue e}S=S.parentNode}}a=a.return}yd(function(){var V=o,Z=So(n),te=[];e:{var F=Fd.get(e);if(F!==void 0){var Y=ki,je=e;switch(e){case"keypress":if(Ri(n)===0)break e;case"keydown":case"keyup":Y=Kb;break;case"focusin":je="focus",Y=jo;break;case"focusout":je="blur",Y=jo;break;case"beforeblur":case"afterblur":Y=jo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Wb;break;case Hd:case Vd:case qd:Y=Vb;break;case Id:Y=t0;break;case"scroll":case"scrollend":Y=kb;break;case"wheel":Y=a0;break;case"copy":case"cut":case"paste":Y=Ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=_d;break;case"toggle":case"beforetoggle":Y=s0}var Se=(t&4)!==0,at=!Se&&(e==="scroll"||e==="scrollend"),k=Se?F!==null?F+"Capture":null:F;Se=[];for(var M=V,U;M!==null;){var ee=M;if(U=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||U===null||k===null||(ee=ys(M,k),ee!=null&&Se.push(Js(M,ee,U))),at)break;M=M.return}0<Se.length&&(F=new Y(F,je,null,n,Z),te.push({event:F,listeners:Se}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&n!==bo&&(je=n.relatedTarget||n.fromElement)&&(Gn(je)||je[ze]))break e;if((Y||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(je=n.relatedTarget||n.toElement,Y=V,je=je?Gn(je):null,je!==null&&(at=m(je),Se=je.tag,je!==at||Se!==5&&Se!==27&&Se!==6)&&(je=null)):(Y=null,je=V),Y!==je)){if(Se=bd,ee="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Se=_d,ee="onPointerLeave",k="onPointerEnter",M="pointer"),at=Y==null?F:nl(Y),U=je==null?F:nl(je),F=new Se(ee,M+"leave",Y,n,Z),F.target=at,F.relatedTarget=U,ee=null,Gn(Z)===V&&(Se=new Se(k,M+"enter",je,n,Z),Se.target=U,Se.relatedTarget=at,ee=Se),at=ee,Y&&je)t:{for(Se=Y,k=je,M=0,U=Se;U;U=ns(U))M++;for(U=0,ee=k;ee;ee=ns(ee))U++;for(;0<M-U;)Se=ns(Se),M--;for(;0<U-M;)k=ns(k),U--;for(;M--;){if(Se===k||k!==null&&Se===k.alternate)break t;Se=ns(Se),k=ns(k)}Se=null}else Se=null;Y!==null&&dh(te,F,Y,Se,!1),je!==null&&at!==null&&dh(te,at,je,Se,!0)}}e:{if(F=V?nl(V):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ye=Nd;else if(Ed(F))if(Dd)ye=g0;else{ye=m0;var Le=f0}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?V&&vo(V.elementType)&&(ye=Nd):ye=h0;if(ye&&(ye=ye(e,V))){Ad(te,ye,n,Z);break e}Le&&Le(e,F,V),e==="focusout"&&V&&F.type==="number"&&V.memoizedProps.value!=null&&po(F,"number",F.value)}switch(Le=V?nl(V):window,e){case"focusin":(Ed(Le)||Le.contentEditable==="true")&&(zl=Le,zo=V,Cs=null);break;case"focusout":Cs=zo=zl=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,Ud(te,n,Z);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":Ud(te,n,Z)}var be;if(Ao)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ml?wd(e,n)&&(xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xe="onCompositionStart");xe&&(xd&&n.locale!=="ko"&&(Ml||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ml&&(be=pd()):(Na=Z,To="value"in Na?Na.value:Na.textContent,Ml=!0)),Le=Tr(V,xe),0<Le.length&&(xe=new Sd(xe,e,null,n,Z),te.push({event:xe,listeners:Le}),be?xe.data=be:(be=jd(n),be!==null&&(xe.data=be)))),(be=r0?o0(e,n):c0(e,n))&&(xe=Tr(V,"onBeforeInput"),0<xe.length&&(Le=new Sd("onBeforeInput","beforeinput",null,n,Z),te.push({event:Le,listeners:xe}),Le.data=be)),W0(te,e,V,n,Z)}ch(te,t)})}function Js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tr(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=ys(e,n),i!=null&&a.unshift(Js(e,i,o)),i=ys(e,t),i!=null&&a.push(Js(e,i,o))),e.tag===3)return a;e=e.return}return[]}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dh(e,t,n,a,i){for(var o=t._reactName,h=[];n!==null&&n!==a;){var S=n,w=S.alternate,V=S.stateNode;if(S=S.tag,w!==null&&w===a)break;S!==5&&S!==26&&S!==27||V===null||(w=V,i?(V=ys(n,o),V!=null&&h.unshift(Js(n,V,w))):i||(V=ys(n,o),V!=null&&h.push(Js(n,V,w)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var aS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function fh(e){return(typeof e=="string"?e:""+e).replace(aS,`
`).replace(lS,"")}function mh(e,t){return t=fh(t),fh(e)===t}function Cr(){}function nt(e,t,n,a,i,o){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Al(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Al(e,""+a);break;case"className":Aa(e,"class",a);break;case"tabIndex":Aa(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Aa(e,n,a);break;case"style":hd(e,a,o);break;case"data":if(t!=="object"){Aa(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=zi(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&nt(e,t,"name",i.name,i,null),nt(e,t,"formEncType",i.formEncType,i,null),nt(e,t,"formMethod",i.formMethod,i,null),nt(e,t,"formTarget",i.formTarget,i,null)):(nt(e,t,"encType",i.encType,i,null),nt(e,t,"method",i.method,i,null),nt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=zi(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Cr);break;case"onScroll":a!=null&&Be("scroll",e);break;case"onScrollEnd":a!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=zi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Be("beforetoggle",e),Be("toggle",e),al(e,"popover",a);break;case"xlinkActuate":la(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":la(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":la(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":la(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":la(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":la(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":la(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":la(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":la(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":al(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Rb.get(n)||n,al(e,n,a))}}function nu(e,t,n,a,i,o){switch(n){case"style":hd(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Al(e,a):(typeof a=="number"||typeof a=="bigint")&&Al(e,""+a);break;case"onScroll":a!=null&&Be("scroll",e);break;case"onScrollEnd":a!=null&&Be("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),o=e[pe]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof a=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):al(e,n,a)}}}function Xt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var a=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(h!=null)switch(o){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:nt(e,t,o,h,n,null)}}i&&nt(e,t,"srcSet",n.srcSet,n,null),a&&nt(e,t,"src",n.src,n,null);return;case"input":Be("invalid",e);var S=o=h=i=null,w=null,V=null;for(a in n)if(n.hasOwnProperty(a)){var Z=n[a];if(Z!=null)switch(a){case"name":i=Z;break;case"type":h=Z;break;case"checked":w=Z;break;case"defaultChecked":V=Z;break;case"value":o=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(u(137,t));break;default:nt(e,t,a,Z,n,null)}}ud(e,o,S,w,V,h,i,!1),Di(e);return;case"select":Be("invalid",e),a=h=o=null;for(i in n)if(n.hasOwnProperty(i)&&(S=n[i],S!=null))switch(i){case"value":o=S;break;case"defaultValue":h=S;break;case"multiple":a=S;default:nt(e,t,i,S,n,null)}t=o,n=h,e.multiple=!!a,t!=null?El(e,!!a,t,!1):n!=null&&El(e,!!a,n,!0);return;case"textarea":Be("invalid",e),o=i=a=null;for(h in n)if(n.hasOwnProperty(h)&&(S=n[h],S!=null))switch(h){case"value":a=S;break;case"defaultValue":i=S;break;case"children":o=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(u(91));break;default:nt(e,t,h,S,n,null)}fd(e,a,i,o),Di(e);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(a=n[w],a!=null))switch(w){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:nt(e,t,w,a,n,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(a=0;a<Zs.length;a++)Be(Zs[a],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in n)if(n.hasOwnProperty(V)&&(a=n[V],a!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:nt(e,t,V,a,n,null)}return;default:if(vo(t)){for(Z in n)n.hasOwnProperty(Z)&&(a=n[Z],a!==void 0&&nu(e,t,Z,a,n,void 0));return}}for(S in n)n.hasOwnProperty(S)&&(a=n[S],a!=null&&nt(e,t,S,a,n,null))}function sS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,h=null,S=null,w=null,V=null,Z=null;for(Y in n){var te=n[Y];if(n.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":w=te;default:a.hasOwnProperty(Y)||nt(e,t,Y,null,a,te)}}for(var F in a){var Y=a[F];if(te=n[F],a.hasOwnProperty(F)&&(Y!=null||te!=null))switch(F){case"type":o=Y;break;case"name":i=Y;break;case"checked":V=Y;break;case"defaultChecked":Z=Y;break;case"value":h=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,t));break;default:Y!==te&&nt(e,t,F,Y,a,te)}}yo(e,h,S,w,V,Z,o,i);return;case"select":Y=h=S=F=null;for(o in n)if(w=n[o],n.hasOwnProperty(o)&&w!=null)switch(o){case"value":break;case"multiple":Y=w;default:a.hasOwnProperty(o)||nt(e,t,o,null,a,w)}for(i in a)if(o=a[i],w=n[i],a.hasOwnProperty(i)&&(o!=null||w!=null))switch(i){case"value":F=o;break;case"defaultValue":S=o;break;case"multiple":h=o;default:o!==w&&nt(e,t,i,o,a,w)}t=S,n=h,a=Y,F!=null?El(e,!!n,F,!1):!!a!=!!n&&(t!=null?El(e,!!n,t,!0):El(e,!!n,n?[]:"",!1));return;case"textarea":Y=F=null;for(S in n)if(i=n[S],n.hasOwnProperty(S)&&i!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(e,t,S,null,a,i)}for(h in a)if(i=a[h],o=n[h],a.hasOwnProperty(h)&&(i!=null||o!=null))switch(h){case"value":F=i;break;case"defaultValue":Y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(u(91));break;default:i!==o&&nt(e,t,h,i,a,o)}dd(e,F,Y);return;case"option":for(var je in n)if(F=n[je],n.hasOwnProperty(je)&&F!=null&&!a.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:nt(e,t,je,null,a,F)}for(w in a)if(F=a[w],Y=n[w],a.hasOwnProperty(w)&&F!==Y&&(F!=null||Y!=null))switch(w){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:nt(e,t,w,F,a,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in n)F=n[Se],n.hasOwnProperty(Se)&&F!=null&&!a.hasOwnProperty(Se)&&nt(e,t,Se,null,a,F);for(V in a)if(F=a[V],Y=n[V],a.hasOwnProperty(V)&&F!==Y&&(F!=null||Y!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(u(137,t));break;default:nt(e,t,V,F,a,Y)}return;default:if(vo(t)){for(var at in n)F=n[at],n.hasOwnProperty(at)&&F!==void 0&&!a.hasOwnProperty(at)&&nu(e,t,at,void 0,a,F);for(Z in a)F=a[Z],Y=n[Z],!a.hasOwnProperty(Z)||F===Y||F===void 0&&Y===void 0||nu(e,t,Z,F,a,Y);return}}for(var k in n)F=n[k],n.hasOwnProperty(k)&&F!=null&&!a.hasOwnProperty(k)&&nt(e,t,k,null,a,F);for(te in a)F=a[te],Y=n[te],!a.hasOwnProperty(te)||F===Y||F==null&&Y==null||nt(e,t,te,F,a,Y)}var au=null,lu=null;function wr(e){return e.nodeType===9?e:e.ownerDocument}function hh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iu=null;function iS(){var e=window.event;return e&&e.type==="popstate"?e===iu?!1:(iu=e,!0):(iu=null,!1)}var yh=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(e){return ph.resolve(null).then(e).catch(cS)}:yh;function cS(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function vh(e,t){var n=t,a=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<a&&8>a){n=a;var h=e.ownerDocument;if(n&1&&Ws(h.documentElement),n&2&&Ws(h.body),n&4)for(n=h.head,Ws(n),h=n.firstChild;h;){var S=h.nextSibling,w=h.nodeName;h[tn]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=S}}if(i===0){e.removeChild(o),ri(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:a=n.charCodeAt(0)-48;else a=0;n=o}while(n);ri(t)}function ru(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ru(n),gs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function uS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[tn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function dS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function fS(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var cu=null;function bh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Sh(e,t,n){switch(t=wr(n),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Ws(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gs(e)}var Dn=new Map,_h=new Set;function jr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=$.d;$.d={f:mS,r:hS,D:gS,C:yS,L:pS,m:vS,X:SS,S:bS,M:_S};function mS(){var e=va.f(),t=pr();return e||t}function hS(e){var t=Xn(e);t!==null&&t.tag===5&&t.type==="form"?Vf(t):va.r(e)}var as=typeof document>"u"?null:document;function xh(e,t,n){var a=as;if(a&&typeof t=="string"&&t){var i=Tn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),_h.has(i)||(_h.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Xt(t,"link",e),At(t),a.head.appendChild(t)))}}function gS(e){va.D(e),xh("dns-prefetch",e,null)}function yS(e,t){va.C(e,t),xh("preconnect",e,t)}function pS(e,t,n){va.L(e,t,n);var a=as;if(a&&e&&t){var i='link[rel="preload"][as="'+Tn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Tn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Tn(n.imageSizes)+'"]')):i+='[href="'+Tn(e)+'"]';var o=i;switch(t){case"style":o=ls(e);break;case"script":o=ss(e)}Dn.has(o)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Dn.set(o,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(ei(o))||t==="script"&&a.querySelector(ti(o))||(t=a.createElement("link"),Xt(t,"link",e),At(t),a.head.appendChild(t)))}}function vS(e,t){va.m(e,t);var n=as;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Tn(a)+'"][href="'+Tn(e)+'"]',o=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ss(e)}if(!Dn.has(o)&&(e=_({rel:"modulepreload",href:e},t),Dn.set(o,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ti(o)))return}a=n.createElement("link"),Xt(a,"link",e),At(a),n.head.appendChild(a)}}}function bS(e,t,n){va.S(e,t,n);var a=as;if(a&&e){var i=ja(a).hoistableStyles,o=ls(e);t=t||"default";var h=i.get(o);if(!h){var S={loading:0,preload:null};if(h=a.querySelector(ei(o)))S.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Dn.get(o))&&uu(e,n);var w=h=a.createElement("link");At(w),Xt(w,"link",e),w._p=new Promise(function(V,Z){w.onload=V,w.onerror=Z}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Er(h,t,a)}h={type:"stylesheet",instance:h,count:1,state:S},i.set(o,h)}}}function SS(e,t){va.X(e,t);var n=as;if(n&&e){var a=ja(n).hoistableScripts,i=ss(e),o=a.get(i);o||(o=n.querySelector(ti(i)),o||(e=_({src:e,async:!0},t),(t=Dn.get(i))&&du(e,t),o=n.createElement("script"),At(o),Xt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(i,o))}}function _S(e,t){va.M(e,t);var n=as;if(n&&e){var a=ja(n).hoistableScripts,i=ss(e),o=a.get(i);o||(o=n.querySelector(ti(i)),o||(e=_({src:e,async:!0,type:"module"},t),(t=Dn.get(i))&&du(e,t),o=n.createElement("script"),At(o),Xt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(i,o))}}function Th(e,t,n,a){var i=(i=Re.current)?jr(i):null;if(!i)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ls(n.href),n=ja(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ls(n.href);var o=ja(i).hoistableStyles,h=o.get(e);if(h||(i=i.ownerDocument||i,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=i.querySelector(ei(e)))&&!o._p&&(h.instance=o,h.state.loading=5),Dn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Dn.set(e,n),o||xS(i,e,n,h.state))),t&&a===null)throw Error(u(528,""));return h}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ss(n),n=ja(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function ls(e){return'href="'+Tn(e)+'"'}function ei(e){return'link[rel="stylesheet"]['+e+"]"}function Ch(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function xS(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Xt(t,"link",n),At(t),e.head.appendChild(t))}function ss(e){return'[src="'+Tn(e)+'"]'}function ti(e){return"script[async]"+e}function wh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Tn(n.href)+'"]');if(a)return t.instance=a,At(a),a;var i=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),At(a),Xt(a,"style",i),Er(a,n.precedence,e),t.instance=a;case"stylesheet":i=ls(n.href);var o=e.querySelector(ei(i));if(o)return t.state.loading|=4,t.instance=o,At(o),o;a=Ch(n),(i=Dn.get(i))&&uu(a,i),o=(e.ownerDocument||e).createElement("link"),At(o);var h=o;return h._p=new Promise(function(S,w){h.onload=S,h.onerror=w}),Xt(o,"link",a),t.state.loading|=4,Er(o,n.precedence,e),t.instance=o;case"script":return o=ss(n.src),(i=e.querySelector(ti(o)))?(t.instance=i,At(i),i):(a=n,(i=Dn.get(o))&&(a=_({},n),du(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),At(i),Xt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Er(a,n.precedence,e));return t.instance}function Er(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,o=i,h=0;h<a.length;h++){var S=a[h];if(S.dataset.precedence===t)o=S;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function du(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ar=null;function jh(e,t,n){if(Ar===null){var a=new Map,i=Ar=new Map;i.set(n,a)}else i=Ar,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[tn]||o[ge]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var S=a.get(h);S?S.push(o):a.set(h,[o])}}return a}function Eh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function TS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ah(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ni=null;function CS(){}function wS(e,t,n){if(ni===null)throw Error(u(475));var a=ni;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=ls(n.href),o=e.querySelector(ei(i));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Nr.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=o,At(o);return}o=e.ownerDocument||e,n=Ch(n),(i=Dn.get(i))&&uu(n,i),o=o.createElement("link"),At(o);var h=o;h._p=new Promise(function(S,w){h.onload=S,h.onerror=w}),Xt(o,"link",n),t.instance=o}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Nr.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function jS(){if(ni===null)throw Error(u(475));var e=ni;return e.stylesheets&&e.count===0&&fu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Nr(){if(this.count--,this.count===0){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dr=null;function fu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dr=new Map,t.forEach(ES,e),Dr=null,Nr.call(e))}function ES(e,t){if(!(t.state.loading&4)){var n=Dr.get(e);if(n)var a=n.get(null);else{n=new Map,Dr.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var h=i[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),a=h)}a&&n.set(null,a)}i=t.instance,h=i.getAttribute("data-precedence"),o=n.get(h)||a,o===a&&n.set(null,i),n.set(h,i),this.count++,a=Nr.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ai={$$typeof:E,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function AS(e,t,n,a,i,o,h,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.hiddenUpdates=tl(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Nh(e,t,n,a,i,o,h,S,w,V,Z,te){return e=new AS(e,t,n,h,S,w,V,te),t=1,o===!0&&(t|=24),o=un(3,null,null,t),e.current=o,o.stateNode=e,t=Go(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:a,isDehydrated:n,cache:t},Zo(o),e}function Dh(e){return e?(e=kl,e):kl}function Mh(e,t,n,a,i,o){i=Dh(i),a.context===null?a.context=i:a.pendingContext=i,a=za(t),a.payload={element:n},o=o===void 0?null:o,o!==null&&(a.callback=o),n=Oa(e,a,t),n!==null&&(gn(n,e,t),Os(n,e,t))}function zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mu(e,t){zh(e,t),(e=e.alternate)&&zh(e,t)}function Oh(e){if(e.tag===13){var t=Ll(e,67108864);t!==null&&gn(t,e,67108864),mu(e,67108864)}}var Mr=!0;function NS(e,t,n,a){var i=D.T;D.T=null;var o=$.p;try{$.p=2,hu(e,t,n,a)}finally{$.p=o,D.T=i}}function DS(e,t,n,a){var i=D.T;D.T=null;var o=$.p;try{$.p=8,hu(e,t,n,a)}finally{$.p=o,D.T=i}}function hu(e,t,n,a){if(Mr){var i=gu(a);if(i===null)tu(e,t,a,zr,n),Lh(e,a);else if(zS(i,e,t,n,a))a.stopPropagation();else if(Lh(e,a),t&4&&-1<MS.indexOf(e)){for(;i!==null;){var o=Xn(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=It(o.pendingLanes);if(h!==0){var S=o;for(S.pendingLanes|=2,S.entangledLanes|=2;h;){var w=1<<31-qe(h);S.entanglements[1]|=w,h&=~w}ea(o),(Je&6)===0&&(gr=Ve()+500,Ks(0))}}break;case 13:S=Ll(o,2),S!==null&&gn(S,o,2),pr(),mu(o,2)}if(o=gu(a),o===null&&tu(e,t,a,zr,n),o===i)break;i=o}i!==null&&a.stopPropagation()}else tu(e,t,a,null,n)}}function gu(e){return e=So(e),yu(e)}var zr=null;function yu(e){if(zr=null,e=Gn(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zr=e,null}function Rh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case we:return 2;case Ge:return 8;case Ct:case wt:return 32;case bt:return 268435456;default:return 32}default:return 32}}var pu=!1,Ya=null,Ga=null,Xa=null,li=new Map,si=new Map,Qa=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(t.pointerId)}}function ii(e,t,n,a,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Xn(t),t!==null&&Oh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zS(e,t,n,a,i){switch(t){case"focusin":return Ya=ii(Ya,e,t,n,a,i),!0;case"dragenter":return Ga=ii(Ga,e,t,n,a,i),!0;case"mouseover":return Xa=ii(Xa,e,t,n,a,i),!0;case"pointerover":var o=i.pointerId;return li.set(o,ii(li.get(o)||null,e,t,n,a,i)),!0;case"gotpointercapture":return o=i.pointerId,si.set(o,ii(si.get(o)||null,e,t,n,a,i)),!0}return!1}function kh(e){var t=Gn(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,ie(e.priority,function(){if(n.tag===13){var a=hn();a=Ut(a);var i=Ll(n,a);i!==null&&gn(i,n,a),mu(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Or(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);bo=a,n.target.dispatchEvent(a),bo=null}else return t=Xn(n),t!==null&&Oh(t),e.blockedOn=n,!1;t.shift()}return!0}function Bh(e,t,n){Or(e)&&n.delete(t)}function OS(){pu=!1,Ya!==null&&Or(Ya)&&(Ya=null),Ga!==null&&Or(Ga)&&(Ga=null),Xa!==null&&Or(Xa)&&(Xa=null),li.forEach(Bh),si.forEach(Bh)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,pu||(pu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,OS)))}var Lr=null;function Uh(e){Lr!==e&&(Lr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Lr===e&&(Lr=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(yu(a||n)===null)continue;break}var o=Xn(n);o!==null&&(e.splice(t,3),t-=3,yc(o,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function ri(e){function t(w){return Rr(w,e)}Ya!==null&&Rr(Ya,e),Ga!==null&&Rr(Ga,e),Xa!==null&&Rr(Xa,e),li.forEach(t),si.forEach(t);for(var n=0;n<Qa.length;n++){var a=Qa[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)kh(n),n.blockedOn===null&&Qa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],o=n[a+1],h=i[pe]||null;if(typeof o=="function")h||Uh(n);else if(h){var S=null;if(o&&o.hasAttribute("formAction")){if(i=o,h=o[pe]||null)S=h.formAction;else if(yu(i)!==null)continue}else S=h.action;typeof S=="function"?n[a+1]=S:(n.splice(a,3),a-=3),Uh(n)}}}function vu(e){this._internalRoot=e}kr.prototype.render=vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var n=t.current,a=hn();Mh(n,a,e,t,null,null)},kr.prototype.unmount=vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mh(e.current,2,null,e,null,null),pr(),t[ze]=null}};function kr(e){this._internalRoot=e}kr.prototype.unstable_scheduleHydration=function(e){if(e){var t=J();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qa.length&&t!==0&&t<Qa[n].priority;n++);Qa.splice(n,0,e),n===0&&kh(e)}};var $h=s.version;if($h!=="19.1.1")throw Error(u(527,$h,"19.1.1"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=b(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var RS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Br.isDisabled&&Br.supportsFiber)try{Te=Br.inject(RS),Ae=Br}catch{}}return oi.createRoot=function(e,t){if(!d(e))throw Error(u(299));var n=!1,a="",i=tm,o=nm,h=am,S=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=Nh(e,1,!1,null,null,n,a,i,o,h,S,null),e[ze]=t.current,eu(e),new vu(t)},oi.hydrateRoot=function(e,t,n){if(!d(e))throw Error(u(299));var a=!1,i="",o=tm,h=nm,S=am,w=null,V=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks),n.formState!==void 0&&(V=n.formState)),t=Nh(e,1,!0,t,n??null,a,i,o,h,S,w,V),t.context=Dh(null),n=t.current,a=hn(),a=Ut(a),i=za(a),i.callback=null,Oa(n,i,a),n=a,t.current.lanes=n,gt(t,n),ea(t),e[ze]=t.current,eu(e),new kr(t)},oi.version="19.1.1",oi}var Yh;function B_(){if(Yh)return bu.exports;Yh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),bu.exports=k_(),bu.exports}var Ug=B_();const $g=g_(Ug),U_="_button_ve6wq_3",$_="_disabled_ve6wq_26",H_="_sm_ve6wq_33",V_="_md_ve6wq_39",q_="_lg_ve6wq_45",I_="_icon_ve6wq_53",F_="_primary_ve6wq_98",P_="_secondary_ve6wq_112",Y_="_destructive_ve6wq_126",G_="_outline_ve6wq_140",X_="_ghost_ve6wq_155",Q_="_link_ve6wq_169",Ur={button:U_,disabled:$_,sm:H_,md:V_,lg:q_,icon:I_,"icon-md":"_icon-md_ve6wq_54","icon-sm":"_icon-sm_ve6wq_60","icon-lg":"_icon-lg_ve6wq_66",primary:F_,secondary:P_,destructive:Y_,outline:G_,ghost:X_,link:Q_},ce=Fe.forwardRef((l,s)=>{const{children:r,variant:u="primary",size:d="md",asChild:m=!1,className:f="",disabled:g,type:b="button",...v}=l,_=m?kS:"button",p=[Ur.button,Ur[u],Ur[d],g&&Ur.disabled,f].filter(Boolean).join(" ");return c.jsx(_,{ref:s,type:b,className:p,disabled:g,...v,children:r})});ce.displayName="Button";const K_="_separator_nyfht_2",Z_="_vertical_nyfht_17",Gh={separator:K_,vertical:Z_},J_=({orientation:l="horizontal",className:s="",decorative:r=!0})=>c.jsx(BS,{className:`${Gh.separator} ${Gh[l]} ${s??""}`,orientation:l,decorative:r}),W_="_overlay_1z121_2",e1="_overlayShow_1z121_1",t1="_content_1z121_12",n1="_top_1z121_25",a1="_slideDownAndFade_1z121_1",l1="_bottom_1z121_37",s1="_slideUpAndFade_1z121_1",i1="_left_1z121_49",r1="_slideRightAndFade_1z121_1",o1="_right_1z121_61",c1="_slideLeftAndFade_1z121_1",u1="_close_1z121_73",d1="_closeIcon_1z121_102",f1="_header_1z121_107",m1="_footer_1z121_116",h1="_title_1z121_125",g1="_description_1z121_132",xa={overlay:W_,overlayShow:e1,content:t1,top:n1,slideDownAndFade:a1,bottom:l1,slideUpAndFade:s1,left:i1,slideRightAndFade:r1,right:o1,slideLeftAndFade:c1,close:u1,closeIcon:d1,header:f1,footer:m1,title:h1,description:g1},Hg={id:"bootstrap",label:"Bootstrap",author:"NellowTCS",description:"Icons from Bootstrap.",version:"1.0.0"},y1={icons:Hg},p1=Object.freeze(Object.defineProperty({__proto__:null,default:y1,icons:Hg},Symbol.toStringTag,{value:"Module"})),Vg={id:"css-gg",label:"CSS.gg",author:"NellowTCS",description:"Icons from CSS.gg.",version:"1.0.0"},v1={icons:Vg},b1=Object.freeze(Object.defineProperty({__proto__:null,default:v1,icons:Vg},Symbol.toStringTag,{value:"Module"})),qg={id:"lucide",label:"Lucide",author:"NellowTCS",description:"Icons from Lucide.",version:"1.0.0"},S1={icons:qg},_1=Object.freeze(Object.defineProperty({__proto__:null,default:S1,icons:qg},Symbol.toStringTag,{value:"Module"})),Ig={id:"material-design",label:"Material Design",author:"NellowTCS",description:"Icons from Material Design.",version:"1.0.0"},x1={icons:Ig},T1=Object.freeze(Object.defineProperty({__proto__:null,default:x1,icons:Ig},Symbol.toStringTag,{value:"Module"})),Fg={id:"phosphor",label:"Phosphor",author:"NellowTCS",description:"Icons from Phosphor.",version:"1.0.0"},C1={icons:Fg},w1=Object.freeze(Object.defineProperty({__proto__:null,default:C1,icons:Fg},Symbol.toStringTag,{value:"Module"})),Pg={id:"remix-icons",label:"Remix Icons",author:"NellowTCS",description:"Icons from Remix Icons.",version:"1.0.0"},j1={icons:Pg},E1=Object.freeze(Object.defineProperty({__proto__:null,default:j1,icons:Pg},Symbol.toStringTag,{value:"Module"})),Yg={id:"simple-line-icons",label:"Simple Line Icons",author:"NellowTCS",description:"Icons from Simple Line Icons.",version:"1.0.0"},A1={icons:Yg},N1=Object.freeze(Object.defineProperty({__proto__:null,default:A1,icons:Yg},Symbol.toStringTag,{value:"Module"})),Gg={id:"tabler-icons",label:"Tabler Icons",author:"NellowTCS",description:"Icons from Tabler Icons.",version:"1.0.0"},D1={icons:Gg},M1=Object.freeze(Object.defineProperty({__proto__:null,default:D1,icons:Gg},Symbol.toStringTag,{value:"Module"})),Xg="50 Shades of Blue",Qg="NellowTCS",Kg="A joke theme I made (I haven't read that one book btw, just made this as a meme.)",Zg="1.0",Jg="50Shades.theme.css",z1={name:Xg,author:Qg,description:Kg,version:Zg,cssFile:Jg},O1=Object.freeze(Object.defineProperty({__proto__:null,author:Qg,cssFile:Jg,default:z1,description:Kg,name:Xg,version:Zg},Symbol.toStringTag,{value:"Module"})),Wg="Aurora",ey="NellowTCS",ty="An ethereal theme inspired by the northern lights, featuring dynamic color mixing and gradient magic with cutting-edge CSS features",ny="1.0",ay="Aurora.theme.css",R1={name:Wg,author:ey,description:ty,version:ny,cssFile:ay},L1=Object.freeze(Object.defineProperty({__proto__:null,author:ey,cssFile:ay,default:R1,description:ty,name:Wg,version:ny},Symbol.toStringTag,{value:"Module"})),ly="BlackHole",sy="NellowTCS",iy="A theme that was meant to look like a black hole with the red glow of the event horizon",ry="1.0",oy="BlackHole.theme.css",k1={name:ly,author:sy,description:iy,version:ry,cssFile:oy},B1=Object.freeze(Object.defineProperty({__proto__:null,author:sy,cssFile:oy,default:k1,description:iy,name:ly,version:ry},Symbol.toStringTag,{value:"Module"})),cy="Blue",uy="NellowTCS",dy="The default blue theme.",fy="1.0",my="Blue.theme.css",hy={id:"lucide",label:"Lucide",description:"Gradient forward icons that pair with the Blue theme.",version:"1.0.0"},U1={name:cy,author:uy,description:dy,version:fy,cssFile:my,icons:hy},$1=Object.freeze(Object.defineProperty({__proto__:null,author:uy,cssFile:my,default:U1,description:dy,icons:hy,name:cy,version:fy},Symbol.toStringTag,{value:"Module"})),gy="Cotton Candy",yy="NellowTCS",py="A theme with a soft color palette inspired by cotton candy.",vy="1.0",by="CottonCandy.theme.css",H1={name:gy,author:yy,description:py,version:vy,cssFile:by},V1=Object.freeze(Object.defineProperty({__proto__:null,author:yy,cssFile:by,default:H1,description:py,name:gy,version:vy},Symbol.toStringTag,{value:"Module"})),Sy="Cyberpunk",_y="NellowTCS",xy="A neon futuristic theme with cyan, magenta, and yellow. Comes with a really cool (dark mode) Settings page.",Ty="1.0",Cy="Cyberpunk.theme.css",q1={name:Sy,author:_y,description:xy,version:Ty,cssFile:Cy},I1=Object.freeze(Object.defineProperty({__proto__:null,author:_y,cssFile:Cy,default:q1,description:xy,name:Sy,version:Ty},Symbol.toStringTag,{value:"Module"})),wy="Forest",jy="NellowTCS",Ey="A natural theme inspired by forests so you can touch grass.",Ay="1.0",Ny="Forest.theme.css",F1={name:wy,author:jy,description:Ey,version:Ay,cssFile:Ny},P1=Object.freeze(Object.defineProperty({__proto__:null,author:jy,cssFile:Ny,default:F1,description:Ey,name:wy,version:Ay},Symbol.toStringTag,{value:"Module"})),Dy="Frosty",My="NellowTCS",zy="Frosty morning, a peaceful light and dark mode experience.",Oy="1.0",Ry="Frosty.theme.css",Y1={name:Dy,author:My,description:zy,version:Oy,cssFile:Ry},G1=Object.freeze(Object.defineProperty({__proto__:null,author:My,cssFile:Ry,default:Y1,description:zy,name:Dy,version:Oy},Symbol.toStringTag,{value:"Module"})),Ly="Lumenis",ky="NellowTCS",By="A orange and purple gradient causes a interesting and cool effect.",Uy="1.0",$y="Lumenis.theme.css",X1={name:Ly,author:ky,description:By,version:Uy,cssFile:$y},Q1=Object.freeze(Object.defineProperty({__proto__:null,author:ky,cssFile:$y,default:X1,description:By,name:Ly,version:Uy},Symbol.toStringTag,{value:"Module"})),Hy="Lunar Eclipse",Vy="NellowTCS",qy="The twin of the Solar Eclipse theme.",Iy="1.0",Fy="LunarEclipse.theme.css",K1={name:Hy,author:Vy,description:qy,version:Iy,cssFile:Fy},Z1=Object.freeze(Object.defineProperty({__proto__:null,author:Vy,cssFile:Fy,default:K1,description:qy,name:Hy,version:Iy},Symbol.toStringTag,{value:"Module"})),Py="Mirage",Yy="NellowTCS",Gy="A theme with warm sunset colors for light mode and violet-orange tones for dark mode.",Xy="1.0",Qy="Mirage.theme.css",J1={name:Py,author:Yy,description:Gy,version:Xy,cssFile:Qy},W1=Object.freeze(Object.defineProperty({__proto__:null,author:Yy,cssFile:Qy,default:J1,description:Gy,name:Py,version:Xy},Symbol.toStringTag,{value:"Module"})),Ky="Monochrome",Zy="NellowTCS",Jy="A minimal modern monochrome theme with (around 10) shades of gray.",Wy="1.0",ep="Monochrome.theme.css",ex={name:Ky,author:Zy,description:Jy,version:Wy,cssFile:ep},tx=Object.freeze(Object.defineProperty({__proto__:null,author:Zy,cssFile:ep,default:ex,description:Jy,name:Ky,version:Wy},Symbol.toStringTag,{value:"Module"})),tp="Murder Drones",np="NellowTCS",ap="Murder Drones theme!",lp="1.0",sp="Drones.theme.css",nx={name:tp,author:np,description:ap,version:lp,cssFile:sp},ax=Object.freeze(Object.defineProperty({__proto__:null,author:np,cssFile:sp,default:nx,description:ap,name:tp,version:lp},Symbol.toStringTag,{value:"Module"})),ip="Nebula",rp="NellowTCS",op="Starry, starry, nights.",cp="1.0",up="Nebula.theme.css",lx={name:ip,author:rp,description:op,version:cp,cssFile:up},sx=Object.freeze(Object.defineProperty({__proto__:null,author:rp,cssFile:up,default:lx,description:op,name:ip,version:cp},Symbol.toStringTag,{value:"Module"})),dp="Northern Lights",fp="NellowTCS",mp="A theme inspired by the northern lights with greens, blues, purples, and magentas",hp="1.0",gp="NorthernLights.theme.css",ix={name:dp,author:fp,description:mp,version:hp,cssFile:gp},rx=Object.freeze(Object.defineProperty({__proto__:null,author:fp,cssFile:gp,default:ix,description:mp,name:dp,version:hp},Symbol.toStringTag,{value:"Module"})),yp="Obsidian",pp="NellowTCS",vp="A dark, minimal theme inspired by the Obsidian app.",bp="1.0",Sp="Obsidian.theme.css",ox={name:yp,author:pp,description:vp,version:bp,cssFile:Sp},cx=Object.freeze(Object.defineProperty({__proto__:null,author:pp,cssFile:Sp,default:ox,description:vp,name:yp,version:bp},Symbol.toStringTag,{value:"Module"})),_p="Ocean",xp="NellowTCS",Tp="Ocean skies in the morning and night.",Cp="1.0",wp="Ocean.theme.css",ux={name:_p,author:xp,description:Tp,version:Cp,cssFile:wp},dx=Object.freeze(Object.defineProperty({__proto__:null,author:xp,cssFile:wp,default:ux,description:Tp,name:_p,version:Cp},Symbol.toStringTag,{value:"Module"})),jp="Orange",Ep="NellowTCS",Ap="A orange themed version of the Blue theme.",Np="1.0",Dp="Orange.theme.css",fx={name:jp,author:Ep,description:Ap,version:Np,cssFile:Dp},mx=Object.freeze(Object.defineProperty({__proto__:null,author:Ep,cssFile:Dp,default:fx,description:Ap,name:jp,version:Np},Symbol.toStringTag,{value:"Module"})),Mp="Rainbow",zp="NellowTCS",Op="A theme that cycles through all colors of the rainbow.",Rp="1.0",Lp="Rainbow.theme.css",hx={name:Mp,author:zp,description:Op,version:Rp,cssFile:Lp},gx=Object.freeze(Object.defineProperty({__proto__:null,author:zp,cssFile:Lp,default:hx,description:Op,name:Mp,version:Rp},Symbol.toStringTag,{value:"Module"})),kp="Red",Bp="NellowTCS",Up="A red themed version of the Blue theme.",$p="1.0",Hp="Red.theme.css",yx={name:kp,author:Bp,description:Up,version:$p,cssFile:Hp},px=Object.freeze(Object.defineProperty({__proto__:null,author:Bp,cssFile:Hp,default:yx,description:Up,name:kp,version:$p},Symbol.toStringTag,{value:"Module"})),Vp="Sakura",qp="NellowTCS",Ip="A soft and fresh theme inspired by cherry blossoms, blending gentle pinks and greens for a peaceful spring vibe.",Fp="1.0",Pp="Sakura.theme.css",vx={name:Vp,author:qp,description:Ip,version:Fp,cssFile:Pp},bx=Object.freeze(Object.defineProperty({__proto__:null,author:qp,cssFile:Pp,default:vx,description:Ip,name:Vp,version:Fp},Symbol.toStringTag,{value:"Module"})),Yp="Solar Eclipse",Gp="NellowTCS",Xp="The twin of the Lunar Eclipse theme.",Qp="1.0",Kp="SolarEclipse.theme.css",Sx={name:Yp,author:Gp,description:Xp,version:Qp,cssFile:Kp},_x=Object.freeze(Object.defineProperty({__proto__:null,author:Gp,cssFile:Kp,default:Sx,description:Xp,name:Yp,version:Qp},Symbol.toStringTag,{value:"Module"})),Zp="Stellar Glow",Jp="NellowTCS",Wp="A theme with indigo and soft lavender tones, creating a peaceful night theme for both light and dark modes.",ev="1.0",tv="StellarGlow.theme.css",xx={name:Zp,author:Jp,description:Wp,version:ev,cssFile:tv},Tx=Object.freeze(Object.defineProperty({__proto__:null,author:Jp,cssFile:tv,default:xx,description:Wp,name:Zp,version:ev},Symbol.toStringTag,{value:"Module"})),nv="Sun",av="NellowTCS",lv="The light of the Sun packed into a HTMLPlayer theme.",sv="1.0",iv="Sun.theme.css",Cx={name:nv,author:av,description:lv,version:sv,cssFile:iv},wx=Object.freeze(Object.defineProperty({__proto__:null,author:av,cssFile:iv,default:Cx,description:lv,name:nv,version:sv},Symbol.toStringTag,{value:"Module"})),rv="Terracotta",ov="NellowTCS",cv="A simple, ground-like theme which has terracotta and sage tones.",uv="1.0",dv="Terracotta.theme.css",jx={name:rv,author:ov,description:cv,version:uv,cssFile:dv},Ex=Object.freeze(Object.defineProperty({__proto__:null,author:ov,cssFile:dv,default:jx,description:cv,name:rv,version:uv},Symbol.toStringTag,{value:"Module"})),fv="Twilight",mv="NellowTCS",hv="A twilight themed, pink and purple gradient.",gv="1.0",yv="Twilight.theme.css",Ax={name:fv,author:mv,description:hv,version:gv,cssFile:yv},Nx=Object.freeze(Object.defineProperty({__proto__:null,author:mv,cssFile:yv,default:Ax,description:hv,name:fv,version:gv},Symbol.toStringTag,{value:"Module"})),pv="Verdant",vv="NellowTCS",bv="A subtle nature based theme that is very underrated.",Sv="1.0",_v="Verdant.theme.css",Dx={name:pv,author:vv,description:bv,version:Sv,cssFile:_v},Mx=Object.freeze(Object.defineProperty({__proto__:null,author:vv,cssFile:_v,default:Dx,description:bv,name:pv,version:Sv},Symbol.toStringTag,{value:"Module"})),xv="Win95",Tv="NellowTCS",Cv="A Windows 95inspired theme with a rotating thingy that looks super cool.",wv="1.0",jv="Win95.theme.css",zx={name:xv,author:Tv,description:Cv,version:wv,cssFile:jv},Ox=Object.freeze(Object.defineProperty({__proto__:null,author:Tv,cssFile:jv,default:zx,description:Cv,name:xv,version:wv},Symbol.toStringTag,{value:"Module"})),Ev="Yellow",Av="NellowTCS",Nv="A yellow themed version of the Blue theme.",Dv="1.0",Mv="Yellow.theme.css",Rx={name:Ev,author:Av,description:Nv,version:Dv,cssFile:Mv},Lx=Object.freeze(Object.defineProperty({__proto__:null,author:Av,cssFile:Mv,default:Rx,description:Nv,name:Ev,version:Dv},Symbol.toStringTag,{value:"Module"})),zv=Object.assign({"../themes/Icons/Bootstrap/Bootstrap.theme.json":p1,"../themes/Icons/Css.gg/css-gg.theme.json":b1,"../themes/Icons/Lucide/Lucide.theme.json":_1,"../themes/Icons/Material Design/MaterialDesign.theme.json":T1,"../themes/Icons/Phosphor/Phosphor.theme.json":w1,"../themes/Icons/Remix Icon/RemixIcon.theme.json":E1,"../themes/Icons/Simple Line Icons/SimpleLineIcons.theme.json":N1,"../themes/Icons/Tabler Icons/TablerIcons.theme.json":M1,"../themes/Themes/50Shades/50Shades.theme.json":O1,"../themes/Themes/Aurora/Aurora.theme.json":L1,"../themes/Themes/BlackHole/BlackHole.theme.json":B1,"../themes/Themes/Blue/Blue.theme.json":$1,"../themes/Themes/CottonCandy/CottonCandy.theme.json":V1,"../themes/Themes/Cyberpunk/Cyberpunk.theme.json":I1,"../themes/Themes/Forest/Forest.theme.json":P1,"../themes/Themes/Frosty/Frosty.theme.json":G1,"../themes/Themes/Lumenis/Lumenis.theme.json":Q1,"../themes/Themes/LunarEclipse/LunarEclipse.theme.json":Z1,"../themes/Themes/Mirage/Mirage.theme.json":W1,"../themes/Themes/Monochrome/Monochrome.theme.json":tx,"../themes/Themes/MurderDrones/Drones.theme.json":ax,"../themes/Themes/Nebula/Nebula.theme.json":sx,"../themes/Themes/NorthernLights/NorthernLights.theme.json":rx,"../themes/Themes/Obsidian/Obsidian.theme.json":cx,"../themes/Themes/Ocean/Ocean.theme.json":dx,"../themes/Themes/Orange/Orange.theme.json":mx,"../themes/Themes/Rainbow/Rainbow.theme.json":gx,"../themes/Themes/Red/Red.theme.json":px,"../themes/Themes/Sakura/Sakura.theme.json":bx,"../themes/Themes/SolarEclipse/SolarEclipse.theme.json":_x,"../themes/Themes/StellarGlow/StellarGlow.theme.json":Tx,"../themes/Themes/Sun/Sun.theme.json":wx,"../themes/Themes/Terracotta/Terracotta.theme.json":Ex,"../themes/Themes/Twilight/Twilight.theme.json":Nx,"../themes/Themes/Verdant/Verdant.theme.json":Mx,"../themes/Themes/Win95/Win95.theme.json":Ox,"../themes/Themes/Yellow/Yellow.theme.json":Lx}),xu=new Map;async function kx(l){const s=l.replace(/\\/g,"/");if(xu.has(s))return xu.get(s);const r=zv[s];if(!r)return console.warn(`Theme JSON not found at ${s}`),null;try{const u=r.default||r;return xu.set(s,u),u}catch(u){return console.warn(`Failed to parse theme JSON at ${s}`,u),null}}async function Bx(l){const s=l.replace(/\.icons\.(ts|tsx)$/,".theme.json").replace(/\.theme\.(css|scss|sass)$/,".theme.json");return kx(s)}async function Ux(){const l=new Map;for(const[s,r]of Object.entries(zv))try{const u=r.default||r;l.set(s,u)}catch(u){console.warn(`Failed to parse theme JSON at ${s}`,u)}return l}const $r=Object.assign({"../themes/Icons/Bootstrap/Bootstrap.icons.ts":()=>Me(()=>import("./Bootstrap.icons-w-ksyN7U.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),"../themes/Icons/Css.gg/css-gg.icons.ts":()=>Me(()=>import("./css-gg.icons-CIhwm2jF.js"),__vite__mapDeps([4,1,2,3]),import.meta.url),"../themes/Icons/Lucide/Lucide.icons.ts":()=>Me(()=>import("./Lucide.icons-BJkhhx6I.js"),__vite__mapDeps([5,6,2,3]),import.meta.url),"../themes/Icons/Material Design/MaterialDesign.icons.ts":()=>Me(()=>import("./MaterialDesign.icons-CV6jFePv.js"),__vite__mapDeps([7,1,2,3]),import.meta.url),"../themes/Icons/Phosphor/Phosphor.icons.ts":()=>Me(()=>import("./Phosphor.icons-D76IbvJA.js"),__vite__mapDeps([8,1,2,3]),import.meta.url),"../themes/Icons/Remix Icon/RemixIcon.icons.ts":()=>Me(()=>import("./RemixIcon.icons-B1dcVoYg.js"),__vite__mapDeps([9,1,2,3]),import.meta.url),"../themes/Icons/Simple Line Icons/SimpleLineIcons.icons.ts":()=>Me(()=>import("./SimpleLineIcons.icons-AZLmccKJ.js"),__vite__mapDeps([10,1,2,3]),import.meta.url),"../themes/Icons/Tabler Icons/TablerIcons.icons.ts":()=>Me(()=>import("./TablerIcons.icons-jqyRdODH.js"),__vite__mapDeps([11,1,2,3]),import.meta.url)}),$x={lucide:async()=>Me(()=>import("./vendor-icons-htYG8YcH.js"),__vite__mapDeps([6,2,3]),import.meta.url)},Ov=y.createContext(null),Hr="selected-icon-set";class Rv{constructor(s){this.maxSize=s,this.cache=new Map}get(s){if(!this.cache.has(s))return;const r=this.cache.get(s);return this.cache.delete(s),this.cache.set(s,r),r}set(s,r){if(this.cache.has(s)&&this.cache.delete(s),this.cache.set(s,r),this.cache.size>this.maxSize){const u=this.cache.keys().next();if(!u.done){const d=u.value;this.cache.delete(d)}}}clear(){this.cache.clear()}}const Hx=128,ci=new Rv(Hx),Xh=new Rv(8);function Vx(l,s,r){const u=l.split("/"),m=(u[u.length-1]??"").replace(/\.icons\.(?:ts|tsx)$/,""),f=r?.icons||{},g=r?.name??s?.theme??u[u.length-2]??m,b=f.label??s?.label??s?.id??g??m;return{id:(f.id??s?.id??g??b).toLowerCase(),label:f.label??s?.label??b,themeName:g}}const qx="__global";async function Ix(l,s){const r=`${s?s.id:qx}::${l}`,u=Xh.get(r);if(u)return u;const d=s?.libraries?.[l]??$x[l];if(!d)return null;try{let m;if(typeof d=="function"){const f=d();m=f instanceof Promise?await f:f}else m=d;return Xh.set(r,m),m}catch(m){return console.error(`Failed to load icon library "${l}"`,m),null}}function Fx(l,s){if(!l)return;const r=s.split(".");let u=l;for(const d of r)if(u&&typeof u=="object"&&d in u)u=u[d];else return;return u}async function Px(l,s,r){const u=await Ix(l,r);if(!u)return console.warn(`Unsupported icon library "${l}"${r?` for set "${r.label}"`:""}`),null;const d=new Set([s]);!s.includes(".")&&!s.endsWith("Icon")&&d.add(`${s}Icon`);const m=s.charAt(0).toUpperCase()+s.slice(1),f=s.charAt(0).toLowerCase()+s.slice(1);d.add(m),d.add(f);const g=[u,u.default,u.icons,u.default?.icons].filter(v=>v&&typeof v=="object");let b;for(const v of g){for(const _ of d)if(b=Fx(v,_),b)break;if(b)break}return b&&typeof b=="object"&&typeof b.default=="function"&&(b=b.default),typeof b=="function"||b&&typeof b=="object"&&(b.$$typeof||b.render)?b:(console.warn(`Icon "${s}" not found in library "${l}"`),null)}const qu=({defaultSetId:l,rememberSelection:s=!0,onSetChange:r,children:u})=>{const[d,m]=y.useState([]),[f,g]=y.useState(null),[b,v]=y.useState(null),[_,p]=y.useState(!0),[x,j]=y.useState(!1);y.useEffect(()=>{let B=!1;return(async()=>{try{p(!0),j(!1),v(null);const N=[];for(const[L,R]of Object.entries($r))try{const T=await Bx(L);let C={};try{C=(await R())?.metadata||{}}catch{}const Q=Vx(L,C,T),K=T?.icons||{},re={id:Q.id,label:Q.label,themeName:Q.themeName,description:K.description??C?.description,version:K.version??C?.version,theme:Q.themeName,inheritsFrom:K.inheritsFrom??C?.inheritsFrom,author:K.author??C?.author??T?.author,tags:K.tags??C?.tags},D={id:Q.id,label:Q.label,themeName:Q.themeName,metadata:re,icons:{},path:L,libraries:void 0,libraryConfig:void 0};N.push(D)}catch(T){console.error(`Failed to load icon registry module metadata at ${L}`,T)}if(!B){N.sort((Q,K)=>Q.label.localeCompare(K.label)),m(N);const R=(s&&typeof window<"u"?localStorage.getItem(Hr):null)??l,C=(R?N.find(Q=>Q.id===R||Q.themeName===R):null)??N.find(Q=>Q.metadata?.inheritsFrom===void 0)??N[0]??null;if(C){const Q=$r[C.path];Q?Q().then(K=>{const re={...C,icons:K.default,libraries:K.libraries,libraryConfig:K.libraryConfig};m(D=>D.map($=>$.id===re.id?re:$)),g(re),j(!0),s&&typeof window<"u"&&localStorage.setItem(Hr,re.id)}):(g(C),j(!0),s&&typeof window<"u"&&localStorage.setItem(Hr,C.id))}}}catch(N){if(!B){const L=N instanceof Error?N.message:"Unable to load icon registry";v(L),console.error("Icon registry loading error:",N)}}finally{B||p(!1)}})(),()=>{B=!0}},[l,s]);const I=y.useMemo(()=>{const B=new Map;for(const z of d)B.set(z.id,z),B.set(z.themeName.toLowerCase(),z);return B},[d]),A=y.useRef(r);A.current=r;const O=y.useCallback(async B=>{const z=B.toLowerCase();let N=I.get(z)??d.find(L=>L.id===z||L.themeName.toLowerCase()===z);if(!N){console.warn(`Icon set "${B}" not found`);return}if(j(!1),!N.icons||Object.keys(N.icons).length===0)try{const L=$r[N.path];if(L){const R=await L();N={...N,icons:R.default,libraries:R.libraries,libraryConfig:R.libraryConfig},N&&m(T=>T.map(C=>C.id===N.id?N:C))}}catch(L){console.error(`Failed to load icon set "${N.label}"`,L)}g(N),j(!0),typeof window<"u"&&s&&localStorage.setItem(Hr,N.id),A.current?.(N)},[I,d,s]),q=y.useCallback((B,z,N)=>{if(!z||N.has(z.id))return;N.add(z.id);const L=z.icons[B];if(L)return{definition:L,set:z};const R=z.metadata?.inheritsFrom;if(R){const T=I.get(R)??I.get(R.toLowerCase());if(T)return q(B,T,N)}},[I]),P=y.useCallback((B,z)=>{if(!B)return;const N=z?.setId?I.get(z.setId)??I.get(z.setId.toLowerCase())??null:f??d[0]??null,L=q(B,N,new Set);if(L)return L;if(z?.fallbackOrder&&z.fallbackOrder.length>0)for(const R of z.fallbackOrder){const T=I.get(R)??I.get(R.toLowerCase()),C=q(B,T??null,new Set);if(C)return C}},[f,I,d,q]),E=y.useCallback((B,z)=>P(B,z)?.definition,[P]),G=y.useCallback(async(B,z)=>{if(!B)return null;if(f&&(!f.icons||Object.keys(f.icons).length===0)){j(!1);try{const K=$r[f.path];if(K){const re=await K();m(D=>D.map($=>$.id===f.id?{...$,icons:re.default,libraries:re.libraries,libraryConfig:re.libraryConfig}:$))}}catch(K){console.error(`Failed to load icon set "${f.label}"`,K)}j(!0)}const N=P(B,z);if(!N)return null;const L=[N.set.id,B];z?.setId&&L.push(`requested:${z.setId}`),z?.fallbackOrder&&z.fallbackOrder.length>0&&L.push(`fallback:${z.fallbackOrder.join("|")}`);const R=L.join("::"),T=ci.get(R);if(T)return T;const{definition:C,set:Q}=N;switch(C.type){case"library":{const K=await Px(C.library,C.icon,Q);if(!K)return console.warn(`Icon "${C.icon}" from library "${C.library}" not found.`),null;const re=Q.libraryConfig?.[C.library];let D;if(re&&typeof re=="object"&&"propTransformer"in re){const X=re.propTransformer;typeof X=="function"&&(D=X)}const $={type:"component",Component:K,defaultProps:{},propTransformer:D,title:C.title};return ci.set(R,$),$}case"component":{const K={type:"component",Component:C.component,defaultProps:C.props,title:C.title};return ci.set(R,K),K}case"image":{const K={type:"image",src:C.src,alt:C.alt,title:C.title};return ci.set(R,K),K}case"svg-inline":{const K={type:"svg-inline",content:C.content,viewBox:C.viewBox,alt:C.alt,title:C.title};return ci.set(R,K),K}default:return console.warn(`Unsupported icon definition type for icon "${B}"`),null}},[P,f,m]),H=y.useMemo(()=>({iconSets:d,iconSetMap:I,currentSet:f,isLoading:_,iconsReady:x,error:b,setIconSet:O,getIconDefinition:E,loadIcon:G}),[f,b,E,I,d,_,x,G,O]);return y.useEffect(()=>{typeof window<"u"&&(window.iconRegistry={list:()=>d,current:()=>f,set:B=>O(B)})},[d,f,O]),c.jsx(Ov.Provider,{value:H,children:u})},Iu=()=>{const l=y.useContext(Ov);if(!l)throw new Error("useIconRegistry must be used within an IconRegistryProvider");return l},Tu=(l,s)=>typeof l=="function"?l(s):l??null,ne=({name:l,setId:s,fallback:r,fallbackOrder:u,className:d,style:m,size:f=20,color:g,stroke:b,strokeWidth:v,fill:_,inline:p=!1,decorative:x=!1,alt:j,title:I,role:A,onClick:O,onMouseEnter:q,onMouseLeave:P,onFocus:E,onBlur:G})=>{const{loadIcon:H}=Iu(),[B,z]=y.useState(null),[N,L]=y.useState(!0),[R,T]=y.useState(null),C=y.useMemo(()=>f===void 0?{}:{width:f,height:f},[f]);y.useEffect(()=>{let K=!1;return(async()=>{if(!l){z(null),L(!1),T("Icon name not provided");return}try{L(!0),T(null);const D=(()=>{const X=!!s,le=!!(u&&u.length>0);if(!X&&!le)return;const oe={};return X&&s&&(oe.setId=s),le&&(oe.fallbackOrder=u),oe})(),$=await H(l,D);if(K)return;z($)}catch(D){if(K)return;const $=D instanceof Error?D.message:"Failed to load icon";T($),z(null)}finally{K||L(!1)}})(),()=>{K=!0}},[l,s,u,H]);const Q=y.useMemo(()=>x?{role:A??"presentation","aria-hidden":"true","aria-label":void 0}:{role:A??"img","aria-hidden":void 0,"aria-label":j??I??l},[j,x,l,A,I]);if(N)return Tu(r,{isLoading:!0,error:null});if(R||!B)return Tu(r,{isLoading:!1,error:R??"Icon not found"});switch(B.type){case"component":{const{Component:K,defaultProps:re,propTransformer:D}=B,$=D?D({size:f,color:g,stroke:b,strokeWidth:v,fill:_,className:d,style:m}):{},X={className:d,style:{display:"inline-flex",verticalAlign:"middle",...D?{}:C,...m},...Q,...re,...$};return D||(f!==void 0&&(X.size=f),g!==void 0&&(X.color=g),b!==void 0&&(X.stroke=b),v!==void 0&&(X.strokeWidth=v),_!==void 0&&(X.fill=_)),O&&(X.onClick=O),q&&(X.onMouseEnter=q),P&&(X.onMouseLeave=P),E&&(X.onFocus=E),G&&(X.onBlur=G),c.jsx(K,{...X})}case"image":return c.jsx("img",{className:d,style:{display:p?"inline-block":"block",...C,...m},src:B.src,alt:x?"":j??B.alt??l,title:I??B.title??void 0,onClick:O,onMouseEnter:q,onMouseLeave:P,onFocus:E,onBlur:G,...Q});case"svg-inline":return c.jsx("span",{className:d,style:{display:p?"inline-block":"block",...C,...m},onClick:O,onMouseEnter:q,onMouseLeave:P,onFocus:E,onBlur:G,title:I??B.title??void 0,...Q,dangerouslySetInnerHTML:{__html:B.content}});default:return Tu(r,{isLoading:!1,error:"Unsupported icon type"})}},Yx=Eg,Gx=wg,Lv=y.forwardRef(({className:l,...s},r)=>c.jsx(Wr,{className:`${xa.overlay} ${l??""}`,...s,ref:r}));Lv.displayName=Wr.displayName;const kv=y.forwardRef(({side:l="right",className:s,children:r,...u},d)=>c.jsxs(Gx,{children:[c.jsx(Lv,{}),c.jsxs(eo,{ref:d,className:`${xa.content} ${xa[l]} ${s??""}`,...u,children:[r,c.jsx(jg,{className:xa.close,children:c.jsx(ne,{name:"close",className:xa.closeIcon,size:"1rem",decorative:!0})})]})]}));kv.displayName=eo.displayName;const Bv=({className:l,...s})=>c.jsx("div",{className:`${xa.header} ${l??""}`,...s});Bv.displayName="SheetHeader";const Uv=({className:l,...s})=>c.jsx("div",{className:`${xa.footer} ${l??""}`,...s});Uv.displayName="SheetFooter";const $v=y.forwardRef(({className:l,...s},r)=>c.jsx(to,{ref:r,className:`${xa.title} ${l??""}`,...s}));$v.displayName=to.displayName;const Hv=y.forwardRef(({className:l,...s},r)=>c.jsx(no,{ref:r,className:`${xa.description} ${l??""}`,...s}));Hv.displayName=no.displayName;const Xx="_root_8ua84_2",Qx="_thumb_8ua84_32",Qh={root:Xx,thumb:Qx},Vn=y.forwardRef(({className:l,...s},r)=>c.jsx(Ag,{className:`${Qh.root} ${l??""}`,...s,ref:r,children:c.jsx(US,{className:`${Qh.thumb} ${l??""}`})}));Vn.displayName=Ag.displayName;const Kx="_slider_56sou_2",Zx="_track_56sou_13",Jx="_range_56sou_22",Wx="_thumb_56sou_30",ui={slider:Kx,track:Zx,range:Jx,thumb:Wx},mi=y.forwardRef(({className:l,...s},r)=>{const u=Array.isArray(s.defaultValue)&&s.defaultValue.length>1||Array.isArray(s.value)&&s.value.length>1;return c.jsxs(Ng,{ref:r,className:`${ui.slider} ${l??""}`,...s,children:[c.jsx($S,{className:ui.track,children:c.jsx(HS,{className:ui.range})}),c.jsx(Hh,{className:ui.thumb}),u&&c.jsx(Hh,{className:ui.thumb})]})});mi.displayName=Ng.displayName;const eT="_input_1c2l4_2",tT={input:eT},Wa=y.forwardRef(({className:l,...s},r)=>c.jsx("input",{ref:r,className:`${tT.input} ${l||""}`,...s}));Wa.displayName="Input";const nT="_selectTrigger_1qrsb_2",aT="_selectIcon_1qrsb_51",lT="_selectContent_1qrsb_63",sT="_selectViewport_1qrsb_88",iT="_scrollButton_1qrsb_92",rT="_scrollIcon_1qrsb_104",oT="_selectLabel_1qrsb_115",cT="_selectItem_1qrsb_122",uT="_selectItemIndicator_1qrsb_155",dT="_checkIcon_1qrsb_163",fT="_selectSeparator_1qrsb_169",bn={selectTrigger:nT,selectIcon:aT,selectContent:lT,selectViewport:sT,scrollButton:iT,scrollIcon:rT,selectLabel:oT,selectItem:cT,selectItemIndicator:uT,checkIcon:dT,selectSeparator:fT},Vr=YS,qr=GS,hi=y.forwardRef(({children:l,className:s,...r},u)=>c.jsxs(Dg,{ref:u,className:`${bn.selectTrigger} ${s||""}`,...r,children:[l,c.jsx(VS,{asChild:!0,children:c.jsx(ne,{name:"chevronDown",className:bn.selectIcon,size:"1rem",decorative:!0})})]}));hi.displayName=Dg.displayName;const Vv=y.forwardRef(({className:l,...s},r)=>c.jsx(Mg,{ref:r,className:`${bn.scrollButton} ${l||""}`,...s,children:c.jsx(ne,{name:"chevronUp",className:bn.scrollIcon,size:"1rem",decorative:!0})}));Vv.displayName=Mg.displayName;const qv=y.forwardRef(({className:l,...s},r)=>c.jsx(zg,{ref:r,className:`${bn.scrollButton} ${l||""}`,...s,children:c.jsx(ne,{name:"chevronDown",className:bn.scrollIcon,size:"1rem",decorative:!0})}));qv.displayName=zg.displayName;const gi=y.forwardRef(({children:l,position:s="popper",className:r,...u},d)=>c.jsx(qS,{children:c.jsxs(Og,{ref:d,position:s,className:`${bn.selectContent} ${r||""}`,...u,children:[c.jsx(Vv,{}),c.jsx(IS,{className:bn.selectViewport,children:l}),c.jsx(qv,{})]})}));gi.displayName=Og.displayName;const mT=y.forwardRef(({className:l,...s},r)=>c.jsx(Rg,{ref:r,className:`${bn.selectLabel} ${l||""}`,...s}));mT.displayName=Rg.displayName;const xl=y.forwardRef(({children:l,className:s,...r},u)=>c.jsxs(Lg,{ref:u,className:`${bn.selectItem} ${s||""}`,...r,children:[c.jsx(FS,{children:l}),c.jsx(PS,{className:bn.selectItemIndicator,children:c.jsx(ne,{name:"check",className:bn.checkIcon,size:"1rem",decorative:!0})})]}));xl.displayName=Lg.displayName;const hT=y.forwardRef(({className:l,...s},r)=>c.jsx(kg,{ref:r,className:`${bn.selectSeparator} ${l||""}`,...s}));hT.displayName=kg.displayName;const gT="_content_d8cf9_2",yT="_subContent_d8cf9_3",pT="_item_d8cf9_20",vT="_checkboxItem_d8cf9_21",bT="_radioItem_d8cf9_22",ST="_subTrigger_d8cf9_23",_T="_checkboxIndicator_d8cf9_75",xT="_radioIndicator_d8cf9_76",TT="_radioIndicatorCircle_d8cf9_99",CT="_label_d8cf9_106",wT="_separator_d8cf9_113",jT="_subTriggerIcon_d8cf9_126",ET="_inset_d8cf9_133",Wt={content:gT,subContent:yT,item:pT,checkboxItem:vT,radioItem:bT,subTrigger:ST,checkboxIndicator:_T,radioIndicator:xT,radioIndicatorCircle:TT,label:CT,separator:wT,subTriggerIcon:jT,inset:ET},Du=(l=!1)=>{const[s,r]=y.useState(!1),u=y.useRef(null),d=y.useCallback(m=>{l&&(m.preventDefault(),m.stopPropagation(),r(!0))},[l]);return y.useEffect(()=>{const m=u.current;if(l&&m)return m.addEventListener("contextmenu",d),()=>{m.removeEventListener("contextmenu",d)}},[l,d]),{open:s,setOpen:r,containerRef:u}},us=a_,ds=l_,AT=s_,NT=y.forwardRef(({className:l,inset:s,children:r,...u},d)=>c.jsxs(XS,{ref:d,className:`${Wt.subTrigger} ${s?Wt.inset:""} ${l||""}`,...u,children:[r,c.jsx(ne,{name:"chevronRight",className:Wt.subTriggerIcon,size:"1rem",decorative:!0})]}));NT.displayName="DropdownMenuSubTrigger";const DT=y.forwardRef(({className:l,...s},r)=>c.jsx(QS,{ref:r,className:`${Wt.subContent} ${l||""}`,...s}));DT.displayName="DropdownMenuSubContent";const Cl=y.forwardRef(({className:l,sideOffset:s=4,...r},u)=>c.jsx(KS,{children:c.jsx(ZS,{ref:u,sideOffset:s,className:`${Wt.content} ${l||""}`,...r})}));Cl.displayName="DropdownMenuContent";const vt=y.forwardRef(({className:l,inset:s,...r},u)=>c.jsx(JS,{ref:u,className:`${Wt.item} ${s?Wt.inset:""} ${l||""}`,...r}));vt.displayName="DropdownMenuItem";const MT=y.forwardRef(({className:l,children:s,checked:r,...u},d)=>c.jsxs(WS,{ref:d,className:`${Wt.checkboxItem} ${l||""}`,checked:r,...u,children:[c.jsx("span",{className:Wt.checkboxIndicator,children:c.jsx(Bg,{children:c.jsx(ne,{name:"check",size:"0.875rem",decorative:!0})})}),s]}));MT.displayName="DropdownMenuCheckboxItem";const Iv=y.forwardRef(({className:l,children:s,...r},u)=>c.jsxs(e_,{ref:u,className:`${Wt.radioItem} ${l||""}`,...r,children:[c.jsx("span",{className:Wt.radioIndicator,children:c.jsx(Bg,{children:c.jsx("div",{className:Wt.radioIndicatorCircle})})}),s]}));Iv.displayName="DropdownMenuRadioItem";const zT=y.forwardRef(({className:l,inset:s,...r},u)=>c.jsx(t_,{ref:u,className:`${Wt.label} ${s?Wt.inset:""} ${l||""}`,...r}));zT.displayName="DropdownMenuLabel";const na=y.forwardRef(({className:l,...s},r)=>c.jsx(n_,{ref:r,className:`${Wt.separator} ${l||""}`,...s}));na.displayName="DropdownMenuSeparator";const OT="_miniplayer_22cj1_2",RT="_albumArt_22cj1_15",LT="_controls_22cj1_52",kT="_playBtn_22cj1_94",BT="_songInfo_22cj1_113",UT="_songTitle_22cj1_121",$T="_artist_22cj1_131",Sl={miniplayer:OT,albumArt:RT,controls:LT,playBtn:kT,songInfo:BT,songTitle:UT,artist:$T},HT=l=>(s,r,u)=>{const d=u.subscribe;return u.subscribe=((f,g,b)=>{let v=f;if(g){const _=b?.equalityFn||Object.is;let p=f(u.getState());v=x=>{const j=f(x);if(!_(p,j)){const I=p;g(p=j,I)}},b?.fireImmediately&&g(p,p)}return d(v)}),l(s,r,u)},VT=HT;function Fu(){const l=navigator.userAgent.toLowerCase(),s=l.includes("safari")&&!l.includes("chrome")&&!l.includes("android"),r=l.includes("applewebkit")&&!l.includes("chrome");return s||r}class qT{constructor(){this.audioElement=null,this.isEnabled=!1,this.isEnabled=Fu(),this.isEnabled&&this.initializeAudioElement()}initializeAudioElement(){this.audioElement=document.createElement("audio"),this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.audioElement.volume=0,this.audioElement.muted=!0,this.audioElement.style.position="fixed",this.audioElement.style.opacity="0",this.audioElement.style.pointerEvents="none",this.audioElement.style.width="1px",this.audioElement.style.height="1px",this.audioElement.style.bottom="0",this.audioElement.style.left="0",document.body.appendChild(this.audioElement),console.log("[Safari Audio] Initialized audio element for background playback")}isActive(){return this.isEnabled&&this.audioElement!==null}setSrc(s){if(this.audioElement)try{s&&!s.includes("about:blank")&&!s.startsWith("indexeddb://")?(this.audioElement.src=s,console.log("[Safari Audio] Set source:",s.substring(0,50)+"...")):s.startsWith("indexeddb://")&&console.log("[Safari Audio] Skipping IndexedDB URL - waiting for blob URL")}catch(r){console.error("[Safari Audio] Failed to set src:",r)}}async play(){if(this.audioElement){if(!this.audioElement.src||this.audioElement.src.includes("about:blank")){console.warn("[Safari Audio] Cannot play - no valid source");return}if(this.audioElement.readyState<2){console.log("[Safari Audio] Waiting for source to load...");const s=this.audioElement;await new Promise((r,u)=>{const d=setTimeout(()=>{console.warn("[Safari Audio] Timeout waiting for source to load"),r()},2e3),m=()=>{clearTimeout(d),s.removeEventListener("loadeddata",m),s.removeEventListener("canplay",m),s.removeEventListener("error",f),r()},f=g=>{clearTimeout(d),s.removeEventListener("loadeddata",m),s.removeEventListener("canplay",m),s.removeEventListener("error",f),console.error("[Safari Audio] Error loading source:",g),u(g)};s.addEventListener("loadeddata",m),s.addEventListener("canplay",m),s.addEventListener("error",f)})}try{await this.audioElement.play(),console.log("[Safari Audio] Playing")}catch(s){console.error("[Safari Audio] Failed to play:",s)}}}pause(){if(this.audioElement)try{this.audioElement.pause(),console.log("[Safari Audio] Paused")}catch(s){console.error("[Safari Audio] Failed to pause:",s)}}setVolume(s){if(this.audioElement)try{this.audioElement.volume=Math.max(0,Math.min(1,s))}catch(r){console.error("[Safari Audio] Failed to set volume:",r)}}seek(s){if(this.audioElement)try{this.audioElement.currentTime=s}catch(r){console.error("[Safari Audio] Failed to seek:",r)}}setPlaybackRate(s){if(this.audioElement)try{this.audioElement.playbackRate=s}catch(r){console.error("[Safari Audio] Failed to set playback rate:",r)}}getElement(){return this.audioElement}destroy(){if(this.audioElement)try{this.audioElement.pause(),this.audioElement.src="",this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement),this.audioElement=null,console.log("[Safari Audio] Destroyed")}catch(s){console.error("[Safari Audio] Failed to destroy:",s)}}}const ba=new BroadcastChannel("audio-events"),Sa=new qT,ao=S_()(VT((l,s)=>({isPlaying:!1,currentTime:0,duration:0,volume:.75,currentSong:null,lastEvent:null,setPlaying:(r,u="main")=>{l({isPlaying:r})},setCurrentTime:(r,u="main")=>{l({currentTime:r})},setVolume:(r,u="main")=>{l({volume:r})},setCurrentSong:(r,u="main")=>{l({currentSong:r});const d={type:"songChange",payload:{song:r},timestamp:Date.now(),source:u};l({lastEvent:d}),ba.postMessage(d)},setDuration:(r,u="main")=>{l({duration:r})},play:(r="main")=>{const u={type:"play",timestamp:Date.now(),source:r};l({lastEvent:u}),ba.postMessage(u),Sa.isActive()&&Sa.play()},pause:(r="main")=>{const u={type:"pause",timestamp:Date.now(),source:r};l({lastEvent:u}),ba.postMessage(u),Sa.isActive()&&Sa.pause()},seek:(r,u="main")=>{const d={type:"seek",payload:{time:r},timestamp:Date.now(),source:u};l({lastEvent:d}),ba.postMessage(d),Sa.isActive()&&Sa.seek(r)},next:(r="main")=>{const u={type:"next",timestamp:Date.now(),source:r};l({lastEvent:u}),ba.postMessage(u)},previous:(r="main")=>{const u={type:"previous",timestamp:Date.now(),source:r};l({lastEvent:u}),ba.postMessage(u)},updateTime:(r,u="main")=>{l({currentTime:r});const d=Date.now(),m=s().lastEvent;if(!m||m.type!=="timeUpdate"||d-m.timestamp>500){const f={type:"timeUpdate",payload:{time:r},timestamp:d,source:u};l({lastEvent:f}),ba.postMessage(f)}},changeVolume:(r,u="main")=>{l({volume:r});const d={type:"volume",payload:{volume:r},timestamp:Date.now(),source:u};l({lastEvent:d}),ba.postMessage(d),Sa.isActive()&&Sa.setVolume(r)}})));ba.onmessage=l=>{const s=l.data,r=ao.getState(),d=typeof window<"u"&&window.parent===window?"main":"pip";if(s.source!==d)switch(console.log(`[${d}] Received audio event:`,s.type,"from",s.source),s.type){case"play":r.setPlaying(!0,s.source);break;case"pause":r.setPlaying(!1,s.source);break;case"volume":r.setVolume(s.payload.volume,s.source);break;case"seek":r.setCurrentTime(s.payload.time,s.source);break;case"timeUpdate":r.setCurrentTime(s.payload.time,s.source);break;case"songChange":r.setCurrentSong(s.payload.song,s.source);break}};const is=(l,s)=>{const r=ao(d=>d.lastEvent),u=y.useRef(0);y.useEffect(()=>{r&&r.type===l&&r.timestamp!==u.current&&Date.now()-r.timestamp<1e3&&(u.current=r.timestamp,s(r))},[r,l])},IT=()=>Sa;let rs=null;function FT(l){document.querySelectorAll('link[rel="stylesheet"]').forEach(r=>{const u=l.document.createElement("link");u.rel="stylesheet",u.href=r.href,u.type="text/css",l.document.head.appendChild(u)}),document.querySelectorAll("style").forEach(r=>{const u=l.document.createElement("style");u.textContent=r.textContent,Array.from(r.attributes).forEach(d=>{u.setAttribute(d.name,d.value)}),l.document.head.appendChild(u)});let s=0;try{[...document.styleSheets].forEach(r=>{try{const u=[...r.cssRules].map(d=>d.cssText).join("");if(u){const d=l.document.createElement("style");d.textContent=u,l.document.head.appendChild(d),s+=r.cssRules.length}}catch(u){console.warn("Could not access stylesheet:",r.href,u)}})}catch(r){console.warn("Could not copy some stylesheets:",r)}console.log(`Copied ${s} CSS rules to PiP window`)}const PT=()=>"documentPictureInPicture"in window&&!!window.documentPictureInPicture,Fv=async l=>{if(!l.playerState.currentSong){console.error("No song is currently playing");return}try{if(rs){rs.close(),rs=null;return}if(!("documentPictureInPicture"in window)||!window.documentPictureInPicture){console.error("Document Picture-in-Picture not supported");return}const s=await window.documentPictureInPicture.requestWindow({width:400,height:70});rs=s,console.log("PiP window opened successfully"),document.documentElement.classList.contains("dark")&&s.document.documentElement.classList.add("dark"),FT(s),await new Promise(m=>setTimeout(m,300));const r=Xv();if(r&&r.trim()!==`:root {
  
}`){const m=s.document.createElement("style");m.textContent=r,m.setAttribute("data-theme-variables","true"),s.document.head.appendChild(m),console.log("Applied theme CSS variables to PiP window")}else{const m=getComputedStyle(document.documentElement),f=[];if(["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background","--spacing-1","--spacing-2","--spacing-3","--spacing-4","--radius","--radius-lg"].forEach(b=>{const v=m.getPropertyValue(b).trim();v&&f.push(`${b}: ${v};`)}),f.length>0){const b=s.document.createElement("style");b.textContent=`:root {
  ${f.join(`
  `)}
}`,b.setAttribute("data-fallback-theme-variables","true"),s.document.head.appendChild(b),console.log("Applied fallback theme variables")}}s.document.body.style.margin="0",s.document.body.style.padding="0",s.document.body.style.overflow="hidden";const u=Ug.createRoot(s.document.body);u.render(c.jsx(YT,{})),s.addEventListener("pagehide",()=>{u.unmount(),d.close(),rs=null});const d=new BroadcastChannel("theme-updates");d.onmessage=m=>{if(m.data.type==="theme-css"){console.log("PiP window received theme update"),m.data.darkMode?s.document.documentElement.classList.add("dark"):s.document.documentElement.classList.remove("dark"),s.document.querySelectorAll('style[data-theme-variables], style[data-fallback-theme-variables], style[id^="theme-stylesheet"]').forEach(b=>b.remove());const g=s.document.createElement("style");g.textContent=m.data.css,g.setAttribute("data-theme-variables","true"),m.data.fallback&&g.setAttribute("data-fallback-theme-variables","true"),s.document.head.appendChild(g),s.document.body.offsetHeight}}}catch(s){console.error("PiP failed:",s),rs=null}},YT=()=>{const{t:l}=Mt(),{currentSong:s,isPlaying:r,play:u,pause:d,next:m,previous:f}=ao(),g=()=>{r?d("pip"):u("pip")},b=()=>{f("pip")},v=()=>{m("pip")};return s?c.jsx(qu,{defaultSetId:"lucide",children:c.jsxs("div",{className:Sl.miniplayer,children:[s.albumArt&&c.jsx("img",{src:s.albumArt,alt:l("player.albumArt"),className:Sl.albumArt}),c.jsxs("div",{className:Sl.songInfo,children:[c.jsx("div",{className:Sl.songTitle,children:s.title}),c.jsx("div",{className:Sl.artist,children:s.artist})]}),c.jsxs("div",{className:Sl.controls,children:[c.jsx(ce,{id:"prevBtn",title:l("player.previousTrack"),onClick:b,children:c.jsx(ne,{name:"skipBack",size:18,decorative:!0})}),c.jsx(ce,{id:"playBtn",className:Sl.playBtn,title:r?"Pause":"Play",onClick:g,children:r?c.jsx(ne,{name:"pause",size:20,decorative:!0}):c.jsx(ne,{name:"play",size:20,decorative:!0})}),c.jsx(ce,{id:"nextBtn",title:l("player.nextTrack"),onClick:v,children:c.jsx(ne,{name:"skipForward",size:18,decorative:!0})})]})]})}):c.jsx("div",{children:l("player.noSongPlaying")})},Mu=new BroadcastChannel("theme-updates");function zu(){const l=Xv(),s=document.documentElement.classList.contains("dark");if(l&&l.trim()!==`:root {
  
}`)Mu.postMessage({type:"theme-css",css:l,darkMode:s,timestamp:Date.now()});else{const r=getComputedStyle(document.documentElement),u=[];if(["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background","--spacing-1","--spacing-2","--spacing-3","--spacing-4","--radius","--radius-lg"].forEach(m=>{const f=r.getPropertyValue(m).trim();f&&u.push(`${m}: ${f};`)}),u.length>0){const m=`:root {
  ${u.join(`
  `)}
}`;Mu.postMessage({type:"theme-css",css:m,darkMode:s,timestamp:Date.now(),fallback:!0})}}}typeof window<"u"&&(Mu.onmessage=l=>{l.data.type});function Pu(){requestAnimationFrame(()=>{const l=getComputedStyle(document.documentElement).getPropertyValue("--themecolor2").trim();let s=document.querySelector('meta[name="theme-color"]');s||(s=document.createElement("meta"),s.name="theme-color",document.head.appendChild(s)),s.content=l,setTimeout(()=>{zu()},100)})}function Pv(){Ta&&(Ta.onchange=null,Ta=null),document.documentElement.classList.add("dark"),Pu()}function Yv(){Ta&&(Ta.onchange=null,Ta=null),document.documentElement.classList.remove("dark"),Pu()}function Kh(l){l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),Pu()}let Ta=null;function Gv(){Ta&&(Ta.onchange=null);const l=window.matchMedia("(prefers-color-scheme: dark)");l.onchange=s=>{Kh(s.matches)},Ta=l,Kh(l.matches)}function Xv(){const l=getComputedStyle(document.documentElement),s=[];for(let f=0;f<l.length;f++){const g=l[f];if(g.startsWith("--")){const b=l.getPropertyValue(g).trim();b&&s.push(`${g}: ${b};`)}}const r=["--themecolor","--themecolor2","--themecolor3","--themecolor4","--themegradient","--themecolor1-transparent","--themecolor2-transparent","--themecolor3-transparent","--foreground","--foreground-strong","--foreground-stronger","--foreground-muted","--foreground-subtle","--background","--surface","--surface-foreground","--surface-transparent-05","--surface-transparent-1","--surface-transparent-2","--primary","--primary-foreground","--primary-transparent","--primary-border","--primary-border-strong","--secondary","--secondary-foreground","--menu-background"],u=[];r.forEach(f=>{const g=l.getPropertyValue(f).trim();g&&!s.some(b=>b.startsWith(f))&&u.push(`${f}: ${g};`)});const d=[];try{Array.from(document.styleSheets).forEach(f=>{try{Array.from(f.cssRules||[]).forEach(g=>{if(g instanceof CSSStyleRule&&g.selectorText===":root"){const b=g.style;for(let v=0;v<b.length;v++){const _=b[v];if(_.startsWith("--")){const p=b.getPropertyValue(_).trim();p&&!s.some(x=>x.startsWith(_))&&!u.some(x=>x.startsWith(_))&&d.push(`${_}: ${p};`)}}}})}catch{}})}catch(f){console.warn("Could not access stylesheets:",f)}return`:root {
  ${[...s,...u,...d].join(`
  `)}
}`}const GT="_container_1f8ey_1",XT="_themeButton_1f8ey_6",QT="_icon_1f8ey_15",KT="_menuIcon_1f8ey_20",ZT="_activeItem_1f8ey_25",JT="_checkmark_1f8ey_35",Jt={container:GT,themeButton:XT,icon:QT,menuIcon:KT,activeItem:ZT,checkmark:JT},WT=({className:l,value:s,onChange:r})=>{const{t:u}=Mt(),d=f=>{switch(f){case"light":Yv();break;case"dark":Pv();break;case"auto":Gv();break}r(f)},m=()=>{switch(s){case"light":return c.jsx(ne,{name:"sun",className:Jt.icon,decorative:!0});case"dark":return c.jsx(ne,{name:"moon",className:Jt.icon,decorative:!0});case"auto":return c.jsx(ne,{name:"sunMoon",className:Jt.icon,decorative:!0});default:return c.jsx(ne,{name:"sun",className:Jt.icon,decorative:!0})}};return c.jsx("div",{className:`${Jt.container} ${l||""}`,children:c.jsxs(us,{children:[c.jsx(ds,{asChild:!0,children:c.jsx(ce,{variant:"ghost",size:"icon-md","aria-label":u("currentThemeAria",{theme:s}),className:Jt.themeButton,children:m()})}),c.jsxs(Cl,{align:"end",children:[c.jsxs(vt,{className:s==="light"?Jt.activeItem:"",onClick:()=>d("light"),children:[c.jsx(ne,{name:"sun",size:16,className:Jt.menuIcon,decorative:!0}),u("themeLight"),s==="light"&&c.jsx("span",{className:Jt.checkmark,children:""})]}),c.jsxs(vt,{className:s==="dark"?Jt.activeItem:"",onClick:()=>d("dark"),children:[c.jsx(ne,{name:"moon",size:16,className:Jt.menuIcon,decorative:!0}),u("themeDark"),s==="dark"&&c.jsx("span",{className:Jt.checkmark,children:""})]}),c.jsxs(vt,{className:s==="auto"?Jt.activeItem:"",onClick:()=>d("auto"),children:[c.jsx(ne,{name:"sunMoon",size:16,className:Jt.menuIcon,decorative:!0}),u("themeAuto"),s==="auto"&&c.jsx("span",{className:Jt.checkmark,children:""})]})]})]})})},eC="HTMLPlayerShortcuts",tC=1,ta="shortcuts",os={playPause:{id:"playPause",key:" ",action:"playPause",description:"settings.shortcuts.playPause",category:"playback"},nextSong:{id:"nextSong",key:"ArrowRight",action:"nextSong",description:"settings.shortcuts.nextSong",category:"playback"},previousSong:{id:"previousSong",key:"ArrowLeft",action:"previousSong",description:"settings.shortcuts.previousSong",category:"playback"},volumeUp:{id:"volumeUp",key:"ArrowUp",action:"volumeUp",description:"settings.shortcuts.volumeUpAction",category:"audio"},volumeDown:{id:"volumeDown",key:"ArrowDown",action:"volumeDown",description:"settings.shortcuts.volumeDownAction",category:"audio"},mute:{id:"mute",key:"m",action:"mute",description:"settings.shortcuts.mute",category:"audio"},toggleShuffle:{id:"toggleShuffle",key:"s",action:"toggleShuffle",description:"settings.shortcuts.toggleShuffleAction",category:"playback"},toggleRepeat:{id:"toggleRepeat",key:"r",action:"toggleRepeat",description:"settings.shortcuts.toggleRepeatAction",category:"playback"},toggleLyrics:{id:"toggleLyrics",key:"l",action:"toggleLyrics",description:"settings.shortcuts.toggleLyricsAction",category:"interface"},toggleVisualizer:{id:"toggleVisualizer",key:"v",action:"toggleVisualizer",description:"settings.shortcuts.toggleVisualizerAction",category:"interface"},search:{id:"search",key:"f",ctrlKey:!0,action:"search",description:"settings.shortcuts.openSearch",category:"navigation"},openSettings:{id:"openSettings",key:",",ctrlKey:!0,action:"openSettings",description:"settings.shortcuts.openSettingsAction",category:"navigation"}};class nC{constructor(){this.db=null}async initDB(){return new Promise((s,r)=>{const u=indexedDB.open(eC,tC);u.onerror=()=>{r(new Error("Failed to open IndexedDB"))},u.onsuccess=d=>{this.db=d.target.result,s()},u.onupgradeneeded=d=>{const m=d.target.result;if(!m.objectStoreNames.contains(ta)){const f=m.createObjectStore(ta,{keyPath:"id"});f.createIndex("action","action",{unique:!0}),f.createIndex("category","category",{unique:!1})}}})}async ensureDB(){this.db||await this.initDB()}async getAllShortcuts(){return await this.ensureDB(),new Promise((s,r)=>{if(!this.db){r(new Error("Database not initialized"));return}const m=this.db.transaction([ta],"readonly").objectStore(ta).getAll();m.onsuccess=async()=>{const f=m.result;if(f.length===0)try{await this.saveAllShortcuts(os),s(os)}catch{s(os)}else{const g={};f.forEach(b=>{g[b.id]=b}),s(g)}},m.onerror=()=>{r(new Error("Failed to get shortcuts"))}})}async saveShortcut(s){if(await this.ensureDB(),!s.id)throw new Error("Shortcut must have an id property");if(!s.key)throw new Error("Shortcut must have a key property");if(!s.action)throw new Error("Shortcut must have an action property");return new Promise((r,u)=>{if(!this.db){u(new Error("Database not initialized"));return}const f=this.db.transaction([ta],"readwrite").objectStore(ta).put(s);f.onsuccess=()=>{r()},f.onerror=()=>{u(new Error(Ye.t("settings.shortcuts.failedToSaveGeneral")))}})}async saveAllShortcuts(s){return await this.ensureDB(),new Promise((r,u)=>{if(!this.db){u(new Error("Database not initialized"));return}const m=this.db.transaction([ta],"readwrite").objectStore(ta),f=m.clear();f.onsuccess=()=>{const g=[];Object.values(s).forEach(b=>{g.push(new Promise((v,_)=>{const p=m.add(b);p.onsuccess=()=>v(),p.onerror=()=>_(new Error(Ye.t("settings.shortcuts.failedToSave")+` ${b.id}`))}))}),Promise.all(g).then(()=>r()).catch(u)},f.onerror=()=>{u(new Error("Failed to clear existing shortcuts"))}})}async resetToDefaults(){await this.saveAllShortcuts(os)}async deleteShortcut(s){return await this.ensureDB(),new Promise((r,u)=>{if(!this.db){u(new Error("Database not initialized"));return}const f=this.db.transaction([ta],"readwrite").objectStore(ta).delete(s);f.onsuccess=()=>{r()},f.onerror=()=>{u(new Error("Failed to delete shortcut"))}})}async isShortcutConflict(s,r){const u=await this.getAllShortcuts();return Object.values(u).some(d=>r&&d.id===r?!1:d.key===s.key&&(d.ctrlKey||!1)===(s.ctrlKey||!1)&&(d.altKey||!1)===(s.altKey||!1)&&(d.shiftKey||!1)===(s.shiftKey||!1))}}const Tl=new nC;function Zh(l){const s=[];l.ctrlKey&&s.push("Ctrl"),l.altKey&&s.push("Alt"),l.shiftKey&&s.push("Shift");let r=l.key;return r===" "?r="Space":r==="ArrowUp"?r="":r==="ArrowDown"?r="":r==="ArrowLeft"?r="":r==="ArrowRight"?r="":r.length===1&&(r=r.toUpperCase()),s.push(r),s.join(" + ")}function aC(l){return{key:l.key,ctrlKey:l.ctrlKey||void 0,altKey:l.altKey||void 0,shiftKey:l.shiftKey||void 0}}const lC="_container_1711m_1",sC="_sheetContent_1711m_14",iC="_settingsContent_1711m_21",rC="_section_1711m_28",oC="_sectionHeader_1711m_40",cC="_sectionIcon_1711m_50",uC="_sectionTitle_1711m_57",dC="_settingItem_1711m_65",fC="_settingLabel_1711m_84",mC="_settingInfo_1711m_98",hC="_settingDescription_1711m_111",gC="_settingValue_1711m_118",yC="_slider_1711m_126",pC="_resetButton_1711m_143",vC="_shortcutConfigPanel_1711m_264",bC="_shortcutConfigList_1711m_268",SC="_shortcutConfigItem_1711m_274",_C="_shortcutConfigLabel_1711m_291",xC="_shortcutConfigKey_1711m_298",TC="_shortcutConfigInput_1711m_316",CC="_shortcutConflict_1711m_337",ae={container:lC,sheetContent:sC,settingsContent:iC,section:rC,sectionHeader:oC,sectionIcon:cC,sectionTitle:uC,settingItem:dC,settingLabel:fC,settingInfo:mC,settingDescription:hC,settingValue:gC,slider:yC,resetButton:pC,shortcutConfigPanel:vC,shortcutConfigList:bC,shortcutConfigItem:SC,shortcutConfigLabel:_C,shortcutConfigKey:xC,shortcutConfigInput:TC,shortcutConflict:CC},wC=({onShortcutsChanged:l})=>{const{t:s}=Mt(),[r,u]=y.useState({}),[d,m]=y.useState({}),[f,g]=y.useState(null),[b,v]=y.useState({}),[_,p]=y.useState(null);y.useEffect(()=>{Tl.getAllShortcuts().then(q=>{u(q),m({...os,...q})})},[]);const x=q=>{g(q),v(r[q]||{}),p(null)},j=q=>{q.preventDefault(),q.stopPropagation();const P=aC(q.nativeEvent);v({...r[f],...P})},I=()=>!b||!b.key?s("settings.shortcuts.pressKey"):Zh(b),A=async()=>{if(!f||!b.key)return;const q=r[f]||d[f];if(!q){p(s("settings.shortcuts.unableToFindConfig"));return}const P={...q,...b,id:f};if(await Tl.isShortcutConflict(P,f)){p(s("settings.shortcuts.conflict"));return}try{await Tl.saveShortcut(P);const G=await Tl.getAllShortcuts();u(G),m({...os,...G}),g(null),v({}),p(null),l?.()}catch(G){console.error("Failed to save shortcut:",G),p(G instanceof Error?G.message:s("settings.shortcuts.failedToSaveGeneral"))}},O=()=>{g(null),v({}),p(null)};return c.jsxs("div",{className:ae.shortcutConfigPanel,children:[c.jsx("h4",{children:s("settings.shortcuts.title")}),c.jsx("div",{className:ae.shortcutConfigList,children:Object.keys(d).length>0&&Object.values(d).map(q=>!q||!q.id?null:c.jsxs("div",{className:ae.shortcutConfigItem,children:[c.jsx("span",{className:ae.shortcutConfigLabel,children:s(q.description)}),f===q.id?c.jsxs(c.Fragment,{children:[c.jsx("input",{autoFocus:!0,readOnly:!0,className:ae.shortcutConfigInput,value:I(),onKeyDown:j,placeholder:s("settings.shortcuts.pressNewKey"),style:{width:120}}),c.jsx(ce,{size:"sm",onClick:A,title:s("settings.shortcuts.saveShortcut"),children:c.jsx(ne,{name:"save",size:16,decorative:!0})}),c.jsx(ce,{size:"sm",onClick:O,title:s("common.cancel"),children:c.jsx(ne,{name:"close",size:16,decorative:!0})}),_&&c.jsx("span",{className:ae.shortcutConflict,children:_})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:ae.shortcutConfigKey,children:Zh(q)}),c.jsx(ce,{size:"sm",onClick:()=>x(q.id),title:s("settings.shortcuts.editShortcut"),children:c.jsx(ne,{name:"pencil",size:16,decorative:!0})})]})]},q.id))})]})},jC=""+new URL("MurderDrones-DBj3e7mu.jpg",import.meta.url).href,EC=Object.freeze(Object.defineProperty({__proto__:null,default:jC},Symbol.toStringTag,{value:"Module"})),Qv=y.createContext({themes:[],currentTheme:null,isLoading:!1,error:null,setTheme:async()=>{}});let Jh=[];const Cu=Object.assign({"../themes/Themes/50Shades/50Shades.theme.css":()=>Me(()=>import("./50Shades.theme-CZFrAgS4.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Aurora/Aurora.theme.css":()=>Me(()=>import("./Aurora.theme-B0-ZgZKa.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/BlackHole/BlackHole.theme.css":()=>Me(()=>import("./BlackHole.theme-CLcFi2E-.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Blue/Blue.theme.css":()=>Me(()=>import("./Blue.theme-BLbX3FDz.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/CottonCandy/CottonCandy.theme.css":()=>Me(()=>import("./CottonCandy.theme-CtW3Qsme.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Cyberpunk/Cyberpunk.theme.css":()=>Me(()=>import("./Cyberpunk.theme-ek3mdeJ-.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Forest/Forest.theme.css":()=>Me(()=>import("./Forest.theme-BsQodKum.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Frosty/Frosty.theme.css":()=>Me(()=>import("./Frosty.theme-FOkKpPNg.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Lumenis/Lumenis.theme.css":()=>Me(()=>import("./Lumenis.theme-KvkxCsbO.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/LunarEclipse/LunarEclipse.theme.css":()=>Me(()=>import("./LunarEclipse.theme-ydxJHfSb.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Mirage/Mirage.theme.css":()=>Me(()=>import("./Mirage.theme-ClgazwCT.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Monochrome/Monochrome.theme.css":()=>Me(()=>import("./Monochrome.theme-CmCC--0u.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/MurderDrones/Drones.theme.css":()=>Me(()=>import("./Drones.theme-DoGhqShd.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Nebula/Nebula.theme.css":()=>Me(()=>import("./Nebula.theme-2f5e1esc.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/NorthernLights/NorthernLights.theme.css":()=>Me(()=>import("./NorthernLights.theme-DxE1tbxx.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Obsidian/Obsidian.theme.css":()=>Me(()=>import("./Obsidian.theme-6hkJgGyO.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Ocean/Ocean.theme.css":()=>Me(()=>import("./Ocean.theme-Cb8QJOC6.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Orange/Orange.theme.css":()=>Me(()=>import("./Orange.theme-Bcainte4.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Rainbow/Rainbow.theme.css":()=>Me(()=>import("./Rainbow.theme-DJB_dP19.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Red/Red.theme.css":()=>Me(()=>import("./Red.theme-BU-WfGS3.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Sakura/Sakura.theme.css":()=>Me(()=>import("./Sakura.theme-CIsTmY2M.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/SolarEclipse/SolarEclipse.theme.css":()=>Me(()=>import("./SolarEclipse.theme-RGmKV3e3.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/StellarGlow/StellarGlow.theme.css":()=>Me(()=>import("./StellarGlow.theme-D_hXsr3I.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Sun/Sun.theme.css":()=>Me(()=>import("./Sun.theme-C6vrqN_B.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Terracotta/Terracotta.theme.css":()=>Me(()=>import("./Terracotta.theme-DX_608l-.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Twilight/Twilight.theme.css":()=>Me(()=>import("./Twilight.theme-BjGCat8L.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Verdant/Verdant.theme.css":()=>Me(()=>import("./Verdant.theme-CQ1TDiy1.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Win95/Win95.theme.css":()=>Me(()=>import("./Win95.theme-BqrvYfBm.js"),[],import.meta.url).then(l=>l.default),"../themes/Themes/Yellow/Yellow.theme.css":()=>Me(()=>import("./Yellow.theme-aTkwG5K4.js"),[],import.meta.url).then(l=>l.default)}),AC=Object.assign({"../themes/Themes/MurderDrones/MurderDrones.jpg":EC}),NC=({defaultTheme:l,children:s,onThemeChange:r})=>{const[u,d]=y.useState([]),[m,f]=y.useState(null),[g,b]=y.useState(!0),[v,_]=y.useState(null),p=(A,O)=>{if(!A||typeof A!="object")return console.warn(`Theme file ${O}: Invalid metadata format`),null;if(A.icons&&!A.cssFile&&!A.name)return null;const q=["name","author","description","version","cssFile"];for(const P of q)if(!A[P]||typeof A[P]!="string")return console.warn(`Theme file ${O}: Missing or invalid field "${P}"`),null;return A};y.useEffect(()=>{(async()=>{try{b(!0),_(null);const O=[],q=await Ux();for(const[G,H]of q.entries()){const B=p(H,G);B&&(Object.keys(Cu).some(N=>N.endsWith(B.cssFile))?O.push(B):console.warn(`Theme "${B.name}": CSS file "${B.cssFile}" not found`))}if(O.length===0)throw new Error("No valid themes found");d(O),Jh=O;const P=localStorage.getItem("selected-color-theme")||l,E=O.find(G=>G.name===P)||O.find(G=>G.name===l)||O[0];E&&(await x(E),setTimeout(()=>{zu()},300))}catch(O){const q=O instanceof Error?O.message:"Failed to load themes";_(q),console.error("Theme loading error:",O)}finally{b(!1)}})()},[l]);const x=y.useCallback(async A=>{try{const O=Object.keys(Cu).find(N=>N.endsWith(A.cssFile));if(!O)throw new Error(`CSS file not found: ${A.cssFile}`);document.querySelectorAll('style[id^="theme-stylesheet"], link[id^="theme-stylesheet"]').forEach(N=>N.remove());const P=await Cu[O]();if(!P||typeof P!="string")throw new Error(`Invalid CSS content for ${O}: ${typeof P}`);let E=P;const G=O.replace(/\/[^\/]+$/,"");E=E.replace(/url\(['"]?([^'"\)]+)['"]?\)/g,(N,L)=>{if(L.startsWith("data:")||L.startsWith("http")||L.startsWith("/"))return N;const R=`${G}/${L}`,T=AC[R];return T?`url('${T.default}')`:(console.warn(`Image not found in imports: ${R}`),N)}),console.log("Theme loaded");const H=document.createElement("style");H.id=`theme-stylesheet-${A.name}`,H.textContent=E,await new Promise(N=>requestAnimationFrame(()=>setTimeout(N,50))),document.head.appendChild(H),await new Promise(N=>{requestAnimationFrame(()=>{document.documentElement.offsetHeight,setTimeout(N,100)})}),f(A),localStorage.setItem("selected-color-theme",A.name),r?.(A),_(null),console.log(`Successfully applied theme: ${A.name}`);const B=getComputedStyle(document.documentElement).getPropertyValue("--themecolor2").trim();let z=document.querySelector('meta[name="theme-color"]');z||(z=document.createElement("meta"),z.name="theme-color",document.head.appendChild(z)),z.content=B,setTimeout(()=>{zu()},200)}catch(O){const q=O instanceof Error?O.message:"Failed to apply theme";throw _(q),console.error("Theme application error:",O),O}},[r]),j=y.useCallback(async A=>{const O=u.find(q=>q.name===A);if(!O)throw new Error(`Theme "${A}" not found`);await x(O)},[u,x]),I={themes:u,currentTheme:m,isLoading:g,error:v,setTheme:j};return y.useEffect(()=>{typeof window<"u"&&(window.themeLoader={getAllThemes:()=>Jh,getCurrentTheme:()=>m,setTheme:j})},[u,m,j]),c.jsx(Qv.Provider,{value:I,children:s})},Kv=()=>{const l=y.useContext(Qv);if(!l)throw new Error("useThemeLoader must be used within a ThemeProvider");return l},Ir={en:"English",fr:"Franais"},DC="HTMLPlayerDB",MC=1,ft={LIBRARY:"library",SETTINGS:"settings",AUDIO_DATA:"audioData"},Ja=()=>new Promise((l,s)=>{const r=indexedDB.open(DC,MC);r.onerror=()=>{console.error("Failed to open IndexedDB:",r.error),s(r.error)},r.onsuccess=()=>{l(r.result)},r.onupgradeneeded=u=>{const d=u.target.result,m=u.oldVersion;if(d.objectStoreNames.contains(ft.LIBRARY)||d.createObjectStore(ft.LIBRARY,{keyPath:"id"}),d.objectStoreNames.contains(ft.SETTINGS)||d.createObjectStore(ft.SETTINGS,{keyPath:"id"}),d.objectStoreNames.contains(ft.AUDIO_DATA)||d.createObjectStore(ft.AUDIO_DATA,{keyPath:"songId"}).createIndex("lastAccessed","lastAccessed",{unique:!1}),m<2){const f=u.target.transaction;if(f){const g=f.objectStore(ft.LIBRARY),b=f.objectStore(ft.AUDIO_DATA);g.get("musicLibrary").onsuccess=function(v){const _=v.target.result?.data;_?.songs&&(_.songs.forEach(p=>{p.fileData&&p.mimeType&&(b.add({songId:p.id,fileData:p.fileData,mimeType:p.mimeType,lastAccessed:Date.now()}),delete p.fileData,delete p.mimeType)}),g.put({id:"musicLibrary",data:_}))}}}}}),Wh=async(l,s,r)=>{try{s==="musicLibrary"&&r?.songs;const u=await Ja(),d=u.transaction([l],"readwrite"),m=d.objectStore(l);let f=r;s==="musicLibrary"&&r?.songs&&(f={...r,songs:r.songs.map(b=>({...b,hasStoredAudio:b.hasStoredAudio||!1,url:"",albumArt:b.albumArt}))}),await new Promise((b,v)=>{d.oncomplete=()=>b(),d.onerror=()=>v(d.error),m.put({id:s,data:f})}),u.close(),console.log(`Saved ${s} to IndexedDB`)}catch(u){throw console.error(`Failed to save ${s} to IndexedDB:`,u),u}},eg=async(l,s)=>{try{const r=await Ja(),d=r.transaction([l],"readonly").objectStore(l),m=await new Promise((f,g)=>{const b=d.get(s);b.onsuccess=()=>f(b.result?.data),b.onerror=()=>g(b.error)});return r.close(),console.log(`Loaded ${s} from IndexedDB`),s==="musicLibrary"&&m?.songs?(m.songs=m.songs||[],{songs:m.songs.map(g=>{const b=g.hasStoredAudio?`indexeddb://${g.id}`:g.url||"";return{id:g.id||`song-${Date.now()}-${Math.random()}`,title:g.title||Ye.t("common.unknownTitle"),artist:g.artist||Ye.t("common.unknownArtist"),album:g.album||Ye.t("common.unknownAlbum"),duration:g.duration||0,url:b,hasStoredAudio:g.hasStoredAudio||!1,albumArt:g.albumArt}}),playlists:m.playlists||[],favorites:m.favorites||[]}):m}catch(r){return console.error(`Failed to load ${s} from IndexedDB:`,r),null}},On={async loadLibrary(){try{const l=await eg(ft.LIBRARY,"musicLibrary");return console.log("Loaded library state:",{songCount:l?.songs?.length||0,playlistCount:l?.playlists?.length||0,favoriteCount:l?.favorites?.length||0}),l}catch(l){return console.error("Failed to load library:",l),{songs:[],playlists:[],favorites:[]}}},async saveLibrary(l){await Wh(ft.LIBRARY,"musicLibrary",l)},async loadSettings(){return await eg(ft.SETTINGS,"playerSettings")},async saveSettings(l){await Wh(ft.SETTINGS,"playerSettings",l)},async loadSongAudio(l){try{const s=await Ja(),u=s.transaction([ft.AUDIO_DATA],"readwrite").objectStore(ft.AUDIO_DATA),d=await new Promise((m,f)=>{const g=u.get(l);g.onsuccess=()=>m(g.result),g.onerror=()=>f(g.error)});return d?(u.put({...d,lastAccessed:Date.now()}),{fileData:d.fileData,mimeType:d.mimeType}):(s.close(),null)}catch(s){return console.error(`Failed to load audio data for song ${l}:`,s),null}},async saveSongAudio(l,s){try{const r=await Ja(),u=r.transaction([ft.AUDIO_DATA,ft.LIBRARY],"readwrite"),d=u.objectStore(ft.AUDIO_DATA),m=u.objectStore(ft.LIBRARY);await new Promise((g,b)=>{const v=d.put({songId:l,fileData:s.fileData,mimeType:s.mimeType,lastAccessed:Date.now()});v.onsuccess=()=>g(),v.onerror=()=>b(v.error)});const f=await new Promise((g,b)=>{const v=m.get("musicLibrary");v.onsuccess=()=>g(v.result?.data),v.onerror=()=>b(v.error)});if(f?.songs){const g=f.songs.map(b=>b.id===l?{...b,hasStoredAudio:!0}:b);await new Promise((b,v)=>{const _=m.put({id:"musicLibrary",data:{...f,songs:g}});_.onsuccess=()=>b(),_.onerror=()=>v(_.error)})}r.close()}catch(r){throw console.error(`Failed to save audio data for song ${l}:`,r),r}},async removeSongAudio(l){try{const s=await Ja(),u=s.transaction([ft.AUDIO_DATA],"readwrite").objectStore(ft.AUDIO_DATA);await new Promise((d,m)=>{const f=u.delete(l);f.onsuccess=()=>d(),f.onerror=()=>m(f.error)}),s.close()}catch(s){throw console.error(`Failed to remove audio data for song ${l}:`,s),s}},async shouldShowDialog(l){try{const s=await Ja(),u=s.transaction([ft.SETTINGS],"readonly").objectStore(ft.SETTINGS),d=await new Promise((m,f)=>{const g=u.get(`dialog-${l}`);g.onsuccess=()=>m(g.result),g.onerror=()=>f(g.error)});return s.close(),d?.data?.dontShowAgain!==!0}catch(s){return console.error(`Failed to check dialog preference for ${l}:`,s),!0}},async setDialogPreference(l,s){try{const r=await Ja(),d=r.transaction([ft.SETTINGS],"readwrite").objectStore(ft.SETTINGS);await new Promise((m,f)=>{const g=d.put({id:`dialog-${l}`,data:{dontShowAgain:s,timestamp:Date.now()}});g.onsuccess=()=>m(),g.onerror=()=>f(g.error)}),r.close(),console.log(`Saved dialog preference for ${l}: dontShowAgain=${s}`)}catch(r){throw console.error(`Failed to save dialog preference for ${l}:`,r),r}}};async function Zv(){try{const l=await Ja(),r=l.transaction([ft.SETTINGS],"readwrite").objectStore(ft.SETTINGS),u=await new Promise((d,m)=>{const f=r.getAllKeys();f.onsuccess=()=>d(f.result),f.onerror=()=>m(f.error)});await Promise.all(u.filter(d=>d.startsWith("dialog-")).map(d=>new Promise((m,f)=>{const g=r.delete(d);g.onsuccess=()=>m(),g.onerror=()=>f(g.error)}))),l.close()}catch(l){throw console.error("Failed to reset dialog preferences:",l),l}}const Pr=Object.freeze(Object.defineProperty({__proto__:null,musicIndexedDbHelper:On,resetAllDialogPreferences:Zv},Symbol.toStringTag,{value:"Module"})),zC="_backdrop_eq3i5_2",OC="_modal_eq3i5_14",RC="_dismissButton_eq3i5_34",LC="_dismissIcon_eq3i5_64",kC="_headerSection_eq3i5_69",BC="_footerSection_eq3i5_73",UC="_modalTitle_eq3i5_80",$C="_modalDescription_eq3i5_89",HC="_spaceY4_eq3i5_97",VC="_spaceY2_eq3i5_101",qC="_flex_eq3i5_105",IC="_gap2_eq3i5_109",FC="_visuallyHidden_eq3i5_125",PC="_dontShowAgain_eq3i5_138",YC="_checkboxLabel_eq3i5_144",GC="_checkboxText_eq3i5_154",$e={backdrop:zC,modal:OC,dismissButton:RC,dismissIcon:LC,headerSection:kC,footerSection:BC,modalTitle:UC,modalDescription:$C,spaceY4:HC,spaceY2:VC,flex:qC,gap2:IC,"w-full":"_w-full_eq3i5_117","justify-start":"_justify-start_eq3i5_121",visuallyHidden:FC,dontShowAgain:PC,checkboxLabel:YC,checkboxText:GC},XC="_checkboxWrapper_13lc5_2",QC="_checkbox_13lc5_2",KC="_checkmark_13lc5_51",wu={checkboxWrapper:XC,checkbox:QC,checkmark:KC},Yu=y.forwardRef(({className:l,...s},r)=>c.jsxs("div",{className:wu.checkboxWrapper,children:[c.jsx("input",{...s,type:"checkbox",ref:r,className:`${wu.checkbox} ${l||""}`}),c.jsx(ne,{name:"check",className:wu.checkmark,size:"1rem",decorative:!0})]}));Yu.displayName="Checkbox";const Rn=Eg,ZC=wg,Jv=y.forwardRef((l,s)=>{const{className:r,...u}=l;return c.jsx(Wr,{ref:s,className:[$e.backdrop,r].filter(Boolean).join(" "),...u})});Jv.displayName=Wr.displayName;const yn=y.forwardRef((l,s)=>{const{className:r,children:u,dontShowAgainKey:d,...m}=l,{t:f}=Mt(),[g,b]=y.useState(!1),v=()=>{b(!1)};return c.jsxs(ZC,{children:[c.jsx(Jv,{}),c.jsxs(eo,{ref:s,className:[$e.modal,r].filter(Boolean).join(" "),onOpenAutoFocus:v,...m,children:[u,d&&c.jsx("div",{className:$e.dontShowAgain,children:c.jsxs("label",{className:$e.checkboxLabel,children:[c.jsx(Yu,{checked:g,onChange:_=>{const p=_.target.checked;b(p),p&&d&&Me(async()=>{const{musicIndexedDbHelper:x}=await Promise.resolve().then(()=>Pr);return{musicIndexedDbHelper:x}},void 0,import.meta.url).then(({musicIndexedDbHelper:x})=>{x.setDialogPreference(d,!0)})}}),c.jsx("span",{className:$e.checkboxText,children:f("common.dontShowAgain","Don't show again")})]})}),c.jsxs(jg,{className:$e.dismissButton,children:[c.jsx(ne,{name:"close",className:$e.dismissIcon,size:"1rem",decorative:!0}),c.jsx("span",{className:$e.visuallyHidden,children:f("common.close")})]})]})]})});yn.displayName=eo.displayName;const pn=l=>{const{className:s,...r}=l;return c.jsx("div",{className:[$e.headerSection,s].filter(Boolean).join(" "),...r})};pn.displayName="DialogHeader";const qn=l=>{const{className:s,...r}=l;return c.jsx("div",{className:[$e.footerSection,s].filter(Boolean).join(" "),...r})};qn.displayName="DialogFooter";const vn=y.forwardRef((l,s)=>{const{className:r,...u}=l;return c.jsx(to,{ref:s,className:[$e.modalTitle,r].filter(Boolean).join(" "),...u})});vn.displayName=to.displayName;const Ln=y.forwardRef((l,s)=>{const{className:r,...u}=l;return c.jsx(no,{ref:s,className:[$e.modalDescription,r].filter(Boolean).join(" "),...u})});Ln.displayName=no.displayName;const JC=({className:l,open:s,onOpenChange:r,settings:u,onSettingsChange:d,onShortcutsChanged:m})=>{const{t:f,i18n:g}=Mt(),[b,v]=y.useState(!1),[_,p]=y.useState(!1),x=()=>v(!1),j=y.useRef(u.crossfadeBeforeGapless??u.crossfade),{themes:I,currentTheme:A,setTheme:O}=Kv(),{iconSets:q,currentSet:P,setIconSet:E}=Iu(),G=Fu(),H=async()=>{const T="Blue";try{await O(T),d({volume:.75,crossfade:3,crossfadeBeforeGapless:void 0,defaultShuffle:!1,defaultRepeat:"off",autoPlayNext:!0,compactMode:!1,showAlbumArt:!0,showLyrics:!1,sessionRestore:!0,gaplessPlayback:!0,smartShuffle:!0,colorTheme:T,language:"English",tempo:1,pitch:0,discordEnabled:!1,discordUserId:void 0})}catch{ue.error(f("settings.resetError"))}},B=T=>{d({volume:T[0]/100})},z=T=>{if(u.gaplessPlayback)return;const C=T[0];j.current=C,d({crossfade:C,crossfadeBeforeGapless:void 0})};let N=[];Array.isArray(g.options.supportedLngs)&&(N=g.options.supportedLngs.filter(T=>T!=="cimode"));const L=T=>{g.changeLanguage(T),ue.success(f("settings.interface.languageSet",{language:Ir[T]||T}))},R=async()=>{try{if("caches"in window){const T=await caches.keys();await Promise.all(T.map(C=>caches.delete(C)))}g.services.resourceStore&&Object.keys(g.services.resourceStore.data).forEach(T=>{g.services.resourceStore.data[T]={}}),await g.reloadResources(),ue.success(f("settings.cacheClearedSuccess"))}catch(T){console.error("Failed to clear cache:",T),ue.error(f("settings.cacheClearedError"))}};return c.jsx("div",{className:`${ae.container} ${l||""}`,children:c.jsx(Yx,{open:s,onOpenChange:r,children:c.jsxs(kv,{side:"left",className:ae.sheetContent,children:[c.jsxs(Bv,{children:[c.jsx($v,{children:f("settings.title")}),c.jsx(Hv,{children:f("settings.description")})]}),c.jsxs("div",{className:ae.settingsContent,children:[c.jsxs("section",{className:ae.section,children:[c.jsxs("div",{className:ae.sectionHeader,children:[c.jsx(ne,{name:"volume2",className:ae.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ae.sectionTitle,children:f("settings.audio.title")})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingLabel,children:[c.jsx("label",{htmlFor:"tempo-slider",children:f("settings.playback.tempo")}),c.jsxs("span",{className:ae.settingValue,children:[Math.round(u.tempo*100),"%"]})]}),c.jsx(mi,{id:"tempo-slider",value:[u.tempo*100],onValueChange:T=>{let C=T[0];Math.abs(C-100)<=3&&(C=100),d({tempo:C/100})},min:50,max:150,step:1,className:ae.slider})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingLabel,children:[c.jsx("label",{htmlFor:"pitch-slider",children:f("settings.playback.pitch")}),c.jsx("span",{className:ae.settingValue,children:(u.pitch??0)===0?"0":(u.pitch??0)>0?`+${u.pitch??0}`:u.pitch??0})]}),c.jsx(mi,{id:"pitch-slider",value:[u.pitch??0],onValueChange:T=>{let C=T[0];Math.abs(C)<=.5&&(C=0),d({pitch:C})},min:-12,max:12,step:1,className:ae.slider})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingLabel,children:[c.jsx("label",{htmlFor:"volume-slider",children:f("player.volume")}),c.jsxs("span",{className:ae.settingValue,children:[Math.round(u.volume*100),"%"]})]}),c.jsx(mi,{id:"volume-slider",value:[Math.round(u.volume*100)],onValueChange:B,max:100,step:1,className:ae.slider})]}),!G&&c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingLabel,children:[c.jsxs("label",{htmlFor:"crossfade-slider",children:[f("settings.audio.crossfade"),u.gaplessPlayback&&c.jsxs("span",{className:ae.settingDescription,children:[" ","(",f("settings.audio.crossfadeDisabled"),")"]})]}),c.jsx("span",{className:ae.settingValue,children:u.gaplessPlayback?"0s":`${u.crossfade}s`})]}),c.jsx(mi,{id:"crossfade-slider",value:u.gaplessPlayback?[0]:[u.crossfade],onValueChange:z,max:10,step:1,className:ae.slider,disabled:u.gaplessPlayback})]}),!G&&c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"gapless-playback",children:f("settings.playback.gapless")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.playback.gaplessDesc")})]}),c.jsx(Vn,{id:"gapless-playback",checked:u.gaplessPlayback,onCheckedChange:T=>{if(T){const C=u.crossfade;j.current=C,d({gaplessPlayback:T,crossfade:0,crossfadeBeforeGapless:C})}else{const C=u.crossfadeBeforeGapless??j.current;d({gaplessPlayback:T,crossfade:C,crossfadeBeforeGapless:void 0})}}})]})]}),c.jsxs("section",{className:ae.section,children:[c.jsxs("div",{className:ae.sectionHeader,children:[c.jsx(ne,{name:"music",className:ae.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ae.sectionTitle,children:f("settings.playback.title")})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"default-shuffle",children:f("settings.playback.shuffle")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.playback.shuffleDesc")})]}),c.jsx(Vn,{id:"default-shuffle",checked:u.defaultShuffle,onCheckedChange:T=>d({defaultShuffle:T})})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"smart-shuffle",children:f("settings.playback.smartShuffle")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.playback.smartShuffleDesc")})]}),c.jsx(Vn,{id:"smart-shuffle",checked:u.smartShuffle,onCheckedChange:T=>d({smartShuffle:T})})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsx("div",{className:ae.settingLabel,children:c.jsx("label",{htmlFor:"default-repeat",children:f("settings.playback.repeat")})}),c.jsxs(Vr,{value:u.defaultRepeat,onValueChange:T=>d({defaultRepeat:T}),children:[c.jsx(hi,{id:"default-repeat",children:c.jsx(qr,{})}),c.jsxs(gi,{children:[c.jsx(xl,{value:"off",children:f("player.repeatOff")}),c.jsx(xl,{value:"one",children:f("player.repeatTrack")}),c.jsx(xl,{value:"all",children:f("player.repeatAll")})]})]})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"auto-play-next",children:f("settings.playback.autoPlay")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.playback.autoPlayDesc")})]}),c.jsx(Vn,{id:"auto-play-next",checked:u.autoPlayNext,onCheckedChange:T=>d({autoPlayNext:T})})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"session-restore",children:f("settings.playback.sessionRestore")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.playback.sessionRestoreDesc")})]}),c.jsx(Vn,{id:"session-restore",checked:u.sessionRestore,onCheckedChange:T=>d({sessionRestore:T})})]})]}),c.jsxs("section",{className:ae.section,children:[c.jsxs("div",{className:ae.sectionHeader,children:[c.jsx(ne,{name:"palette",className:ae.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ae.sectionTitle,children:f("settings.interface.title")})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsx("div",{className:ae.settingLabel,children:c.jsx("label",{htmlFor:"color-theme",children:f("settings.interface.colorTheme")})}),c.jsxs(Vr,{value:A?.name||u.colorTheme,onValueChange:async T=>{try{await O(T),d({colorTheme:T})}catch{ue.error(f("settings.themeError"))}},children:[c.jsx(hi,{id:"color-theme",children:c.jsx(qr,{})}),c.jsx(gi,{children:I.map(T=>c.jsx(xl,{value:T.name,children:T.name},T.name))})]})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingLabel,children:[c.jsx("label",{htmlFor:"icon-set",children:f("settings.interface.iconSet")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.interface.iconSetDesc")})]}),c.jsxs(Vr,{value:P?.id||"blue",onValueChange:T=>{try{E(T),ue.success(f("settings.interface.iconSetChanged"))}catch{ue.error(f("settings.interface.iconSetError"))}},children:[c.jsx(hi,{id:"icon-set",children:c.jsx(qr,{})}),c.jsx(gi,{children:q.map(T=>c.jsx(xl,{value:T.id,children:T.label},T.id))})]})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{children:f("settings.interface.themeMode")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.interface.themeModeDesc")})]}),c.jsx(WT,{value:u.themeMode,onChange:T=>d({themeMode:T})})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"compact-mode",children:f("settings.interface.compact")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.interface.compactDesc")})]}),c.jsx(Vn,{id:"compact-mode",checked:u.compactMode,onCheckedChange:T=>d({compactMode:T})})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"show-album-art",children:f("settings.interface.albumArt")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.interface.albumArtDesc")})]}),c.jsx(Vn,{id:"show-album-art",checked:u.showAlbumArt,onCheckedChange:T=>d({showAlbumArt:T})})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"show-lyrics",children:f("settings.interface.lyrics")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.interface.lyricsDesc")})]}),c.jsx(Vn,{id:"show-lyrics",checked:u.showLyrics,onCheckedChange:T=>d({showLyrics:T})})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingLabel,children:[c.jsx("label",{htmlFor:"language-selector",children:f("settings.interface.language")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.interface.languageDescription")})]}),c.jsxs(Vr,{value:g.language,onValueChange:L,children:[c.jsx(hi,{id:"language-selector",children:c.jsx(qr,{children:Ir[g.language]||g.language.toUpperCase()})}),c.jsx(gi,{children:N.map(T=>c.jsx(xl,{value:T,children:Ir[T]||T.toUpperCase()},T))})]})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{children:f("settings.interface.clearCache")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.interface.clearCacheDesc")})]}),c.jsxs(ce,{variant:"outline",onClick:R,size:"sm",children:[c.jsx(ne,{name:"trash2",size:16,decorative:!0}),f("settings.interface.clearCacheButton")]})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{children:f("settings.resetDialogs")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.resetDialogsDescription")})]}),c.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>v(!0),children:[c.jsx(ne,{name:"rotateCcw",size:16,decorative:!0}),f("settings.resetDialogsButton")]}),c.jsx(Rn,{open:b,onOpenChange:v,children:c.jsxs(yn,{children:[c.jsxs(pn,{children:[c.jsx(vn,{children:f("settings.resetDialogsTitle")}),c.jsx(Ln,{children:f("settings.resetDialogsDescription")})]}),c.jsxs(qn,{children:[c.jsx(ce,{variant:"outline",onClick:x,disabled:_,children:f("common.cancel")}),c.jsx(ce,{onClick:async()=>{p(!0);try{await Zv(),ue.success(f("settings.resetDialogsSuccess")),v(!1)}catch(T){ue.error(T?.message||f("settings.resetError"))}finally{p(!1)}},disabled:_,variant:"destructive",children:f(_?"common.loading":"common.reset")})]})]})})]})]}),c.jsxs("section",{className:ae.section,children:[c.jsxs("div",{className:ae.sectionHeader,children:[c.jsx(ne,{name:"keyboard",className:ae.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ae.sectionTitle,children:f("settings.shortcuts.title")})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingLabel,children:[c.jsx("label",{children:f("settings.shortcuts.enabled")}),c.jsx("p",{className:ae.settingDescription,children:f("settings.shortcuts.enabledDesc")})]}),c.jsx(Vn,{id:"shortcuts-enabled",checked:!0,onCheckedChange:()=>{}})]}),c.jsx(wC,{onShortcutsChanged:m})]}),c.jsxs("section",{className:ae.section,children:[c.jsxs("div",{className:ae.sectionHeader,children:[c.jsx(ne,{name:"messageCircle",className:ae.sectionIcon,size:"1.25rem",decorative:!0}),c.jsx("h3",{className:ae.sectionTitle,children:"Integrations"})]}),c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"discord-enabled",children:"Enable Discord Integration (Broken Beta)"}),c.jsx("p",{className:ae.settingDescription,children:"Note: Discord's RPC API requires special approval. Currently logs track info for testing."})]}),c.jsx(Vn,{id:"discord-enabled",checked:u.discordEnabled||!1,onCheckedChange:T=>d({discordEnabled:T})})]}),u.discordEnabled&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{children:f("discord.connection")}),c.jsx("p",{className:ae.settingDescription,children:u.discordUserId?f("discord.connected",{userId:u.discordUserId}):f("discord.notConnected")})]}),c.jsx(ce,{variant:u.discordUserId?"outline":"primary",onClick:()=>{u.discordUserId?(d({discordUserId:void 0}),ue.success(f("discord.disconnected"))):(window.open("https://discord.com/oauth2/authorize?client_id=1419480226970341476&response_type=code&redirect_uri=https%3A%2F%2Fhtmlplayer-backend.onrender.com%2Foauth%2Fcallback&scope=identify%20rpc.activities.write","_blank"),ue.info(f("discord.completeAuth")))},children:u.discordUserId?f("discord.disconnect"):f("discord.connect")})]}),!u.discordUserId&&c.jsxs("div",{className:ae.settingItem,children:[c.jsxs("div",{className:ae.settingInfo,children:[c.jsx("label",{htmlFor:"discord-user-id",children:f("discord.manualUserId")}),c.jsx("p",{className:ae.settingDescription,children:f("discord.manualUserIdDescription")})]}),c.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[c.jsx(Wa,{id:"discord-user-id",type:"text",placeholder:f("discord.userId"),onKeyDown:T=>{if(T.key==="Enter"){const C=T.target;C.value.trim()&&(d({discordUserId:C.value.trim()}),ue.success(f("discord.userIdSaved")),C.value="")}}}),c.jsx(ce,{size:"sm",onClick:T=>{const C=T.target.previousElementSibling;C&&C.value.trim()&&(d({discordUserId:C.value.trim()}),ue.success(f("discord.userIdSaved")),C.value="")},children:f("common.save")})]})]})]})]})]}),c.jsx(Uv,{children:c.jsxs(ce,{variant:"outline",onClick:H,className:ae.resetButton,children:[c.jsx(ne,{name:"rotateCcw",size:16,decorative:!0}),f("settings.reset")]})})]})})})},lo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ms(l){const s=Object.prototype.toString.call(l);return s==="[object Window]"||s==="[object global]"}function Gu(l){return"nodeType"in l}function en(l){var s,r;return l?ms(l)?l:Gu(l)&&(s=(r=l.ownerDocument)==null?void 0:r.defaultView)!=null?s:window:window}function Xu(l){const{Document:s}=en(l);return l instanceof s}function Ci(l){return ms(l)?!1:l instanceof en(l).HTMLElement}function Wv(l){return l instanceof en(l).SVGElement}function hs(l){return l?ms(l)?l.document:Gu(l)?Xu(l)?l:Ci(l)||Wv(l)?l.ownerDocument:document:document:document}const Ca=lo?y.useLayoutEffect:y.useEffect;function so(l){const s=y.useRef(l);return Ca(()=>{s.current=l}),y.useCallback(function(){for(var r=arguments.length,u=new Array(r),d=0;d<r;d++)u[d]=arguments[d];return s.current==null?void 0:s.current(...u)},[])}function WC(){const l=y.useRef(null),s=y.useCallback((u,d)=>{l.current=setInterval(u,d)},[]),r=y.useCallback(()=>{l.current!==null&&(clearInterval(l.current),l.current=null)},[]);return[s,r]}function Si(l,s){s===void 0&&(s=[l]);const r=y.useRef(l);return Ca(()=>{r.current!==l&&(r.current=l)},s),r}function wi(l,s){const r=y.useRef();return y.useMemo(()=>{const u=l(r.current);return r.current=u,u},[...s])}function Yr(l){const s=so(l),r=y.useRef(null),u=y.useCallback(d=>{d!==r.current&&s?.(d,r.current),r.current=d},[]);return[r,u]}function Gr(l){const s=y.useRef();return y.useEffect(()=>{s.current=l},[l]),s.current}let ju={};function io(l,s){return y.useMemo(()=>{if(s)return s;const r=ju[l]==null?0:ju[l]+1;return ju[l]=r,l+"-"+r},[l,s])}function eb(l){return function(s){for(var r=arguments.length,u=new Array(r>1?r-1:0),d=1;d<r;d++)u[d-1]=arguments[d];return u.reduce((m,f)=>{const g=Object.entries(f);for(const[b,v]of g){const _=m[b];_!=null&&(m[b]=_+l*v)}return m},{...s})}}const fs=eb(1),_i=eb(-1);function ew(l){return"clientX"in l&&"clientY"in l}function Qu(l){if(!l)return!1;const{KeyboardEvent:s}=en(l.target);return s&&l instanceof s}function tw(l){if(!l)return!1;const{TouchEvent:s}=en(l.target);return s&&l instanceof s}function Xr(l){if(tw(l)){if(l.touches&&l.touches.length){const{clientX:s,clientY:r}=l.touches[0];return{x:s,y:r}}else if(l.changedTouches&&l.changedTouches.length){const{clientX:s,clientY:r}=l.changedTouches[0];return{x:s,y:r}}}return ew(l)?{x:l.clientX,y:l.clientY}:null}const xi=Object.freeze({Translate:{toString(l){if(!l)return;const{x:s,y:r}=l;return"translate3d("+(s?Math.round(s):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(l){if(!l)return;const{scaleX:s,scaleY:r}=l;return"scaleX("+s+") scaleY("+r+")"}},Transform:{toString(l){if(l)return[xi.Translate.toString(l),xi.Scale.toString(l)].join(" ")}},Transition:{toString(l){let{property:s,duration:r,easing:u}=l;return s+" "+r+"ms "+u}}}),tg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nw(l){return l.matches(tg)?l:l.querySelector(tg)}const aw={display:"none"};function lw(l){let{id:s,value:r}=l;return Fe.createElement("div",{id:s,style:aw},r)}function sw(l){let{id:s,announcement:r,ariaLiveType:u="assertive"}=l;const d={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Fe.createElement("div",{id:s,style:d,role:"status","aria-live":u,"aria-atomic":!0},r)}function iw(){const[l,s]=y.useState("");return{announce:y.useCallback(u=>{u!=null&&s(u)},[]),announcement:l}}const tb=y.createContext(null);function rw(l){const s=y.useContext(tb);y.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(l)},[l,s])}function ow(){const[l]=y.useState(()=>new Set),s=y.useCallback(u=>(l.add(u),()=>l.delete(u)),[l]);return[y.useCallback(u=>{let{type:d,event:m}=u;l.forEach(f=>{var g;return(g=f[d])==null?void 0:g.call(f,m)})},[l]),s]}const cw={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uw={onDragStart(l){let{active:s}=l;return"Picked up draggable item "+s.id+"."},onDragOver(l){let{active:s,over:r}=l;return r?"Draggable item "+s.id+" was moved over droppable area "+r.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(l){let{active:s,over:r}=l;return r?"Draggable item "+s.id+" was dropped over droppable area "+r.id:"Draggable item "+s.id+" was dropped."},onDragCancel(l){let{active:s}=l;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function dw(l){let{announcements:s=uw,container:r,hiddenTextDescribedById:u,screenReaderInstructions:d=cw}=l;const{announce:m,announcement:f}=iw(),g=io("DndLiveRegion"),[b,v]=y.useState(!1);if(y.useEffect(()=>{v(!0)},[]),rw(y.useMemo(()=>({onDragStart(p){let{active:x}=p;m(s.onDragStart({active:x}))},onDragMove(p){let{active:x,over:j}=p;s.onDragMove&&m(s.onDragMove({active:x,over:j}))},onDragOver(p){let{active:x,over:j}=p;m(s.onDragOver({active:x,over:j}))},onDragEnd(p){let{active:x,over:j}=p;m(s.onDragEnd({active:x,over:j}))},onDragCancel(p){let{active:x,over:j}=p;m(s.onDragCancel({active:x,over:j}))}}),[m,s])),!b)return null;const _=Fe.createElement(Fe.Fragment,null,Fe.createElement(lw,{id:u,value:d.draggable}),Fe.createElement(sw,{id:g,announcement:f}));return r?fi.createPortal(_,r):_}var kt;(function(l){l.DragStart="dragStart",l.DragMove="dragMove",l.DragEnd="dragEnd",l.DragCancel="dragCancel",l.DragOver="dragOver",l.RegisterDroppable="registerDroppable",l.SetDroppableDisabled="setDroppableDisabled",l.UnregisterDroppable="unregisterDroppable"})(kt||(kt={}));function Qr(){}function ng(l,s){return y.useMemo(()=>({sensor:l,options:s??{}}),[l,s])}function fw(){for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return y.useMemo(()=>[...s].filter(u=>u!=null),[...s])}const In=Object.freeze({x:0,y:0});function Ku(l,s){return Math.sqrt(Math.pow(l.x-s.x,2)+Math.pow(l.y-s.y,2))}function mw(l,s){const r=Xr(l);if(!r)return"0 0";const u={x:(r.x-s.left)/s.width*100,y:(r.y-s.top)/s.height*100};return u.x+"% "+u.y+"%"}function Zu(l,s){let{data:{value:r}}=l,{data:{value:u}}=s;return r-u}function hw(l,s){let{data:{value:r}}=l,{data:{value:u}}=s;return u-r}function Ou(l){let{left:s,top:r,height:u,width:d}=l;return[{x:s,y:r},{x:s+d,y:r},{x:s,y:r+u},{x:s+d,y:r+u}]}function nb(l,s){if(!l||l.length===0)return null;const[r]=l;return r[s]}function ag(l,s,r){return s===void 0&&(s=l.left),r===void 0&&(r=l.top),{x:s+l.width*.5,y:r+l.height*.5}}const gw=l=>{let{collisionRect:s,droppableRects:r,droppableContainers:u}=l;const d=ag(s,s.left,s.top),m=[];for(const f of u){const{id:g}=f,b=r.get(g);if(b){const v=Ku(ag(b),d);m.push({id:g,data:{droppableContainer:f,value:v}})}}return m.sort(Zu)},yw=l=>{let{collisionRect:s,droppableRects:r,droppableContainers:u}=l;const d=Ou(s),m=[];for(const f of u){const{id:g}=f,b=r.get(g);if(b){const v=Ou(b),_=d.reduce((x,j,I)=>x+Ku(v[I],j),0),p=Number((_/4).toFixed(4));m.push({id:g,data:{droppableContainer:f,value:p}})}}return m.sort(Zu)};function pw(l,s){const r=Math.max(s.top,l.top),u=Math.max(s.left,l.left),d=Math.min(s.left+s.width,l.left+l.width),m=Math.min(s.top+s.height,l.top+l.height),f=d-u,g=m-r;if(u<d&&r<m){const b=s.width*s.height,v=l.width*l.height,_=f*g,p=_/(b+v-_);return Number(p.toFixed(4))}return 0}const vw=l=>{let{collisionRect:s,droppableRects:r,droppableContainers:u}=l;const d=[];for(const m of u){const{id:f}=m,g=r.get(f);if(g){const b=pw(g,s);b>0&&d.push({id:f,data:{droppableContainer:m,value:b}})}}return d.sort(hw)};function bw(l,s){const{top:r,left:u,bottom:d,right:m}=s;return r<=l.y&&l.y<=d&&u<=l.x&&l.x<=m}const Sw=l=>{let{droppableContainers:s,droppableRects:r,pointerCoordinates:u}=l;if(!u)return[];const d=[];for(const m of s){const{id:f}=m,g=r.get(f);if(g&&bw(u,g)){const v=Ou(g).reduce((p,x)=>p+Ku(u,x),0),_=Number((v/4).toFixed(4));d.push({id:f,data:{droppableContainer:m,value:_}})}}return d.sort(Zu)};function _w(l,s,r){return{...l,scaleX:s&&r?s.width/r.width:1,scaleY:s&&r?s.height/r.height:1}}function ab(l,s){return l&&s?{x:l.left-s.left,y:l.top-s.top}:In}function xw(l){return function(r){for(var u=arguments.length,d=new Array(u>1?u-1:0),m=1;m<u;m++)d[m-1]=arguments[m];return d.reduce((f,g)=>({...f,top:f.top+l*g.y,bottom:f.bottom+l*g.y,left:f.left+l*g.x,right:f.right+l*g.x}),{...r})}}const Tw=xw(1);function lb(l){if(l.startsWith("matrix3d(")){const s=l.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}else if(l.startsWith("matrix(")){const s=l.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}function Cw(l,s,r){const u=lb(s);if(!u)return l;const{scaleX:d,scaleY:m,x:f,y:g}=u,b=l.left-f-(1-d)*parseFloat(r),v=l.top-g-(1-m)*parseFloat(r.slice(r.indexOf(" ")+1)),_=d?l.width/d:l.width,p=m?l.height/m:l.height;return{width:_,height:p,top:v,right:b+_,bottom:v+p,left:b}}const ww={ignoreTransform:!1};function ji(l,s){s===void 0&&(s=ww);let r=l.getBoundingClientRect();if(s.ignoreTransform){const{transform:v,transformOrigin:_}=en(l).getComputedStyle(l);v&&(r=Cw(r,v,_))}const{top:u,left:d,width:m,height:f,bottom:g,right:b}=r;return{top:u,left:d,width:m,height:f,bottom:g,right:b}}function lg(l){return ji(l,{ignoreTransform:!0})}function jw(l){const s=l.innerWidth,r=l.innerHeight;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}function Ew(l,s){return s===void 0&&(s=en(l).getComputedStyle(l)),s.position==="fixed"}function Aw(l,s){s===void 0&&(s=en(l).getComputedStyle(l));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(d=>{const m=s[d];return typeof m=="string"?r.test(m):!1})}function ro(l,s){const r=[];function u(d){if(s!=null&&r.length>=s||!d)return r;if(Xu(d)&&d.scrollingElement!=null&&!r.includes(d.scrollingElement))return r.push(d.scrollingElement),r;if(!Ci(d)||Wv(d)||r.includes(d))return r;const m=en(l).getComputedStyle(d);return d!==l&&Aw(d,m)&&r.push(d),Ew(d,m)?r:u(d.parentNode)}return l?u(l):r}function sb(l){const[s]=ro(l,1);return s??null}function Eu(l){return!lo||!l?null:ms(l)?l:Gu(l)?Xu(l)||l===hs(l).scrollingElement?window:Ci(l)?l:null:null}function ib(l){return ms(l)?l.scrollX:l.scrollLeft}function rb(l){return ms(l)?l.scrollY:l.scrollTop}function Ru(l){return{x:ib(l),y:rb(l)}}var qt;(function(l){l[l.Forward=1]="Forward",l[l.Backward=-1]="Backward"})(qt||(qt={}));function ob(l){return!lo||!l?!1:l===document.scrollingElement}function cb(l){const s={x:0,y:0},r=ob(l)?{height:window.innerHeight,width:window.innerWidth}:{height:l.clientHeight,width:l.clientWidth},u={x:l.scrollWidth-r.width,y:l.scrollHeight-r.height},d=l.scrollTop<=s.y,m=l.scrollLeft<=s.x,f=l.scrollTop>=u.y,g=l.scrollLeft>=u.x;return{isTop:d,isLeft:m,isBottom:f,isRight:g,maxScroll:u,minScroll:s}}const Nw={x:.2,y:.2};function Dw(l,s,r,u,d){let{top:m,left:f,right:g,bottom:b}=r;u===void 0&&(u=10),d===void 0&&(d=Nw);const{isTop:v,isBottom:_,isLeft:p,isRight:x}=cb(l),j={x:0,y:0},I={x:0,y:0},A={height:s.height*d.y,width:s.width*d.x};return!v&&m<=s.top+A.height?(j.y=qt.Backward,I.y=u*Math.abs((s.top+A.height-m)/A.height)):!_&&b>=s.bottom-A.height&&(j.y=qt.Forward,I.y=u*Math.abs((s.bottom-A.height-b)/A.height)),!x&&g>=s.right-A.width?(j.x=qt.Forward,I.x=u*Math.abs((s.right-A.width-g)/A.width)):!p&&f<=s.left+A.width&&(j.x=qt.Backward,I.x=u*Math.abs((s.left+A.width-f)/A.width)),{direction:j,speed:I}}function Mw(l){if(l===document.scrollingElement){const{innerWidth:m,innerHeight:f}=window;return{top:0,left:0,right:m,bottom:f,width:m,height:f}}const{top:s,left:r,right:u,bottom:d}=l.getBoundingClientRect();return{top:s,left:r,right:u,bottom:d,width:l.clientWidth,height:l.clientHeight}}function ub(l){return l.reduce((s,r)=>fs(s,Ru(r)),In)}function zw(l){return l.reduce((s,r)=>s+ib(r),0)}function Ow(l){return l.reduce((s,r)=>s+rb(r),0)}function db(l,s){if(s===void 0&&(s=ji),!l)return;const{top:r,left:u,bottom:d,right:m}=s(l);sb(l)&&(d<=0||m<=0||r>=window.innerHeight||u>=window.innerWidth)&&l.scrollIntoView({block:"center",inline:"center"})}const Rw=[["x",["left","right"],zw],["y",["top","bottom"],Ow]];class Ju{constructor(s,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const u=ro(r),d=ub(u);this.rect={...s},this.width=s.width,this.height=s.height;for(const[m,f,g]of Rw)for(const b of f)Object.defineProperty(this,b,{get:()=>{const v=g(u),_=d[m]-v;return this.rect[b]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class yi{constructor(s){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var u;return(u=this.target)==null?void 0:u.removeEventListener(...r)})},this.target=s}add(s,r,u){var d;(d=this.target)==null||d.addEventListener(s,r,u),this.listeners.push([s,r,u])}}function Lw(l){const{EventTarget:s}=en(l);return l instanceof s?l:hs(l)}function Au(l,s){const r=Math.abs(l.x),u=Math.abs(l.y);return typeof s=="number"?Math.sqrt(r**2+u**2)>s:"x"in s&&"y"in s?r>s.x&&u>s.y:"x"in s?r>s.x:"y"in s?u>s.y:!1}var zn;(function(l){l.Click="click",l.DragStart="dragstart",l.Keydown="keydown",l.ContextMenu="contextmenu",l.Resize="resize",l.SelectionChange="selectionchange",l.VisibilityChange="visibilitychange"})(zn||(zn={}));function sg(l){l.preventDefault()}function kw(l){l.stopPropagation()}var He;(function(l){l.Space="Space",l.Down="ArrowDown",l.Right="ArrowRight",l.Left="ArrowLeft",l.Up="ArrowUp",l.Esc="Escape",l.Enter="Enter",l.Tab="Tab"})(He||(He={}));const fb={start:[He.Space,He.Enter],cancel:[He.Esc],end:[He.Space,He.Enter,He.Tab]},Bw=(l,s)=>{let{currentCoordinates:r}=s;switch(l.code){case He.Right:return{...r,x:r.x+25};case He.Left:return{...r,x:r.x-25};case He.Down:return{...r,y:r.y+25};case He.Up:return{...r,y:r.y-25}}};class Wu{constructor(s){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=s;const{event:{target:r}}=s;this.props=s,this.listeners=new yi(hs(r)),this.windowListeners=new yi(en(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(zn.Resize,this.handleCancel),this.windowListeners.add(zn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(zn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:s,onStart:r}=this.props,u=s.node.current;u&&db(u),r(In)}handleKeyDown(s){if(Qu(s)){const{active:r,context:u,options:d}=this.props,{keyboardCodes:m=fb,coordinateGetter:f=Bw,scrollBehavior:g="smooth"}=d,{code:b}=s;if(m.end.includes(b)){this.handleEnd(s);return}if(m.cancel.includes(b)){this.handleCancel(s);return}const{collisionRect:v}=u.current,_=v?{x:v.left,y:v.top}:In;this.referenceCoordinates||(this.referenceCoordinates=_);const p=f(s,{active:r,context:u.current,currentCoordinates:_});if(p){const x=_i(p,_),j={x:0,y:0},{scrollableAncestors:I}=u.current;for(const A of I){const O=s.code,{isTop:q,isRight:P,isLeft:E,isBottom:G,maxScroll:H,minScroll:B}=cb(A),z=Mw(A),N={x:Math.min(O===He.Right?z.right-z.width/2:z.right,Math.max(O===He.Right?z.left:z.left+z.width/2,p.x)),y:Math.min(O===He.Down?z.bottom-z.height/2:z.bottom,Math.max(O===He.Down?z.top:z.top+z.height/2,p.y))},L=O===He.Right&&!P||O===He.Left&&!E,R=O===He.Down&&!G||O===He.Up&&!q;if(L&&N.x!==p.x){const T=A.scrollLeft+x.x,C=O===He.Right&&T<=H.x||O===He.Left&&T>=B.x;if(C&&!x.y){A.scrollTo({left:T,behavior:g});return}C?j.x=A.scrollLeft-T:j.x=O===He.Right?A.scrollLeft-H.x:A.scrollLeft-B.x,j.x&&A.scrollBy({left:-j.x,behavior:g});break}else if(R&&N.y!==p.y){const T=A.scrollTop+x.y,C=O===He.Down&&T<=H.y||O===He.Up&&T>=B.y;if(C&&!x.x){A.scrollTo({top:T,behavior:g});return}C?j.y=A.scrollTop-T:j.y=O===He.Down?A.scrollTop-H.y:A.scrollTop-B.y,j.y&&A.scrollBy({top:-j.y,behavior:g});break}}this.handleMove(s,fs(_i(p,this.referenceCoordinates),j))}}}handleMove(s,r){const{onMove:u}=this.props;s.preventDefault(),u(r)}handleEnd(s){const{onEnd:r}=this.props;s.preventDefault(),this.detach(),r()}handleCancel(s){const{onCancel:r}=this.props;s.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wu.activators=[{eventName:"onKeyDown",handler:(l,s,r)=>{let{keyboardCodes:u=fb,onActivation:d}=s,{active:m}=r;const{code:f}=l.nativeEvent;if(u.start.includes(f)){const g=m.activatorNode.current;return g&&l.target!==g?!1:(l.preventDefault(),d?.({event:l.nativeEvent}),!0)}return!1}}];function ig(l){return!!(l&&"distance"in l)}function rg(l){return!!(l&&"delay"in l)}class ed{constructor(s,r,u){var d;u===void 0&&(u=Lw(s.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=s,this.events=r;const{event:m}=s,{target:f}=m;this.props=s,this.events=r,this.document=hs(f),this.documentListeners=new yi(this.document),this.listeners=new yi(u),this.windowListeners=new yi(en(f)),this.initialCoordinates=(d=Xr(m))!=null?d:In,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:s,props:{options:{activationConstraint:r,bypassActivationConstraint:u}}}=this;if(this.listeners.add(s.move.name,this.handleMove,{passive:!1}),this.listeners.add(s.end.name,this.handleEnd),s.cancel&&this.listeners.add(s.cancel.name,this.handleCancel),this.windowListeners.add(zn.Resize,this.handleCancel),this.windowListeners.add(zn.DragStart,sg),this.windowListeners.add(zn.VisibilityChange,this.handleCancel),this.windowListeners.add(zn.ContextMenu,sg),this.documentListeners.add(zn.Keydown,this.handleKeydown),r){if(u!=null&&u({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(rg(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(ig(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(s,r){const{active:u,onPending:d}=this.props;d(u,s,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:s}=this,{onStart:r}=this.props;s&&(this.activated=!0,this.documentListeners.add(zn.Click,kw,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(zn.SelectionChange,this.removeTextSelection),r(s))}handleMove(s){var r;const{activated:u,initialCoordinates:d,props:m}=this,{onMove:f,options:{activationConstraint:g}}=m;if(!d)return;const b=(r=Xr(s))!=null?r:In,v=_i(d,b);if(!u&&g){if(ig(g)){if(g.tolerance!=null&&Au(v,g.tolerance))return this.handleCancel();if(Au(v,g.distance))return this.handleStart()}if(rg(g)&&Au(v,g.tolerance))return this.handleCancel();this.handlePending(g,v);return}s.cancelable&&s.preventDefault(),f(b)}handleEnd(){const{onAbort:s,onEnd:r}=this.props;this.detach(),this.activated||s(this.props.active),r()}handleCancel(){const{onAbort:s,onCancel:r}=this.props;this.detach(),this.activated||s(this.props.active),r()}handleKeydown(s){s.code===He.Esc&&this.handleCancel()}removeTextSelection(){var s;(s=this.document.getSelection())==null||s.removeAllRanges()}}const Uw={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class td extends ed{constructor(s){const{event:r}=s,u=hs(r.target);super(s,Uw,u)}}td.activators=[{eventName:"onPointerDown",handler:(l,s)=>{let{nativeEvent:r}=l,{onActivation:u}=s;return!r.isPrimary||r.button!==0?!1:(u?.({event:r}),!0)}}];const $w={move:{name:"mousemove"},end:{name:"mouseup"}};var Lu;(function(l){l[l.RightClick=2]="RightClick"})(Lu||(Lu={}));class Hw extends ed{constructor(s){super(s,$w,hs(s.event.target))}}Hw.activators=[{eventName:"onMouseDown",handler:(l,s)=>{let{nativeEvent:r}=l,{onActivation:u}=s;return r.button===Lu.RightClick?!1:(u?.({event:r}),!0)}}];const Nu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Vw extends ed{constructor(s){super(s,Nu)}static setup(){return window.addEventListener(Nu.move.name,s,{capture:!1,passive:!1}),function(){window.removeEventListener(Nu.move.name,s)};function s(){}}}Vw.activators=[{eventName:"onTouchStart",handler:(l,s)=>{let{nativeEvent:r}=l,{onActivation:u}=s;const{touches:d}=r;return d.length>1?!1:(u?.({event:r}),!0)}}];var pi;(function(l){l[l.Pointer=0]="Pointer",l[l.DraggableRect=1]="DraggableRect"})(pi||(pi={}));var Kr;(function(l){l[l.TreeOrder=0]="TreeOrder",l[l.ReversedTreeOrder=1]="ReversedTreeOrder"})(Kr||(Kr={}));function qw(l){let{acceleration:s,activator:r=pi.Pointer,canScroll:u,draggingRect:d,enabled:m,interval:f=5,order:g=Kr.TreeOrder,pointerCoordinates:b,scrollableAncestors:v,scrollableAncestorRects:_,delta:p,threshold:x}=l;const j=Fw({delta:p,disabled:!m}),[I,A]=WC(),O=y.useRef({x:0,y:0}),q=y.useRef({x:0,y:0}),P=y.useMemo(()=>{switch(r){case pi.Pointer:return b?{top:b.y,bottom:b.y,left:b.x,right:b.x}:null;case pi.DraggableRect:return d}},[r,d,b]),E=y.useRef(null),G=y.useCallback(()=>{const B=E.current;if(!B)return;const z=O.current.x*q.current.x,N=O.current.y*q.current.y;B.scrollBy(z,N)},[]),H=y.useMemo(()=>g===Kr.TreeOrder?[...v].reverse():v,[g,v]);y.useEffect(()=>{if(!m||!v.length||!P){A();return}for(const B of H){if(u?.(B)===!1)continue;const z=v.indexOf(B),N=_[z];if(!N)continue;const{direction:L,speed:R}=Dw(B,N,P,s,x);for(const T of["x","y"])j[T][L[T]]||(R[T]=0,L[T]=0);if(R.x>0||R.y>0){A(),E.current=B,I(G,f),O.current=R,q.current=L;return}}O.current={x:0,y:0},q.current={x:0,y:0},A()},[s,G,u,A,m,f,JSON.stringify(P),JSON.stringify(j),I,v,H,_,JSON.stringify(x)])}const Iw={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function Fw(l){let{delta:s,disabled:r}=l;const u=Gr(s);return wi(d=>{if(r||!u||!d)return Iw;const m={x:Math.sign(s.x-u.x),y:Math.sign(s.y-u.y)};return{x:{[qt.Backward]:d.x[qt.Backward]||m.x===-1,[qt.Forward]:d.x[qt.Forward]||m.x===1},y:{[qt.Backward]:d.y[qt.Backward]||m.y===-1,[qt.Forward]:d.y[qt.Forward]||m.y===1}}},[r,s,u])}function Pw(l,s){const r=s!=null?l.get(s):void 0,u=r?r.node.current:null;return wi(d=>{var m;return s==null?null:(m=u??d)!=null?m:null},[u,s])}function Yw(l,s){return y.useMemo(()=>l.reduce((r,u)=>{const{sensor:d}=u,m=d.activators.map(f=>({eventName:f.eventName,handler:s(f.handler,u)}));return[...r,...m]},[]),[l,s])}var Ti;(function(l){l[l.Always=0]="Always",l[l.BeforeDragging=1]="BeforeDragging",l[l.WhileDragging=2]="WhileDragging"})(Ti||(Ti={}));var ku;(function(l){l.Optimized="optimized"})(ku||(ku={}));const og=new Map;function Gw(l,s){let{dragging:r,dependencies:u,config:d}=s;const[m,f]=y.useState(null),{frequency:g,measure:b,strategy:v}=d,_=y.useRef(l),p=O(),x=Si(p),j=y.useCallback(function(q){q===void 0&&(q=[]),!x.current&&f(P=>P===null?q:P.concat(q.filter(E=>!P.includes(E))))},[x]),I=y.useRef(null),A=wi(q=>{if(p&&!r)return og;if(!q||q===og||_.current!==l||m!=null){const P=new Map;for(let E of l){if(!E)continue;if(m&&m.length>0&&!m.includes(E.id)&&E.rect.current){P.set(E.id,E.rect.current);continue}const G=E.node.current,H=G?new Ju(b(G),G):null;E.rect.current=H,H&&P.set(E.id,H)}return P}return q},[l,m,r,p,b]);return y.useEffect(()=>{_.current=l},[l]),y.useEffect(()=>{p||j()},[r,p]),y.useEffect(()=>{m&&m.length>0&&f(null)},[JSON.stringify(m)]),y.useEffect(()=>{p||typeof g!="number"||I.current!==null||(I.current=setTimeout(()=>{j(),I.current=null},g))},[g,p,j,...u]),{droppableRects:A,measureDroppableContainers:j,measuringScheduled:m!=null};function O(){switch(v){case Ti.Always:return!1;case Ti.BeforeDragging:return r;default:return!r}}}function nd(l,s){return wi(r=>l?r||(typeof s=="function"?s(l):l):null,[s,l])}function Xw(l,s){return nd(l,s)}function Qw(l){let{callback:s,disabled:r}=l;const u=so(s),d=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:m}=window;return new m(u)},[u,r]);return y.useEffect(()=>()=>d?.disconnect(),[d]),d}function oo(l){let{callback:s,disabled:r}=l;const u=so(s),d=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:m}=window;return new m(u)},[r]);return y.useEffect(()=>()=>d?.disconnect(),[d]),d}function Kw(l){return new Ju(ji(l),l)}function cg(l,s,r){s===void 0&&(s=Kw);const[u,d]=y.useState(null);function m(){d(b=>{if(!l)return null;if(l.isConnected===!1){var v;return(v=b??r)!=null?v:null}const _=s(l);return JSON.stringify(b)===JSON.stringify(_)?b:_})}const f=Qw({callback(b){if(l)for(const v of b){const{type:_,target:p}=v;if(_==="childList"&&p instanceof HTMLElement&&p.contains(l)){m();break}}}}),g=oo({callback:m});return Ca(()=>{m(),l?(g?.observe(l),f?.observe(document.body,{childList:!0,subtree:!0})):(g?.disconnect(),f?.disconnect())},[l]),u}function Zw(l){const s=nd(l);return ab(l,s)}const ug=[];function Jw(l){const s=y.useRef(l),r=wi(u=>l?u&&u!==ug&&l&&s.current&&l.parentNode===s.current.parentNode?u:ro(l):ug,[l]);return y.useEffect(()=>{s.current=l},[l]),r}function Ww(l){const[s,r]=y.useState(null),u=y.useRef(l),d=y.useCallback(m=>{const f=Eu(m.target);f&&r(g=>g?(g.set(f,Ru(f)),new Map(g)):null)},[]);return y.useEffect(()=>{const m=u.current;if(l!==m){f(m);const g=l.map(b=>{const v=Eu(b);return v?(v.addEventListener("scroll",d,{passive:!0}),[v,Ru(v)]):null}).filter(b=>b!=null);r(g.length?new Map(g):null),u.current=l}return()=>{f(l),f(m)};function f(g){g.forEach(b=>{const v=Eu(b);v?.removeEventListener("scroll",d)})}},[d,l]),y.useMemo(()=>l.length?s?Array.from(s.values()).reduce((m,f)=>fs(m,f),In):ub(l):In,[l,s])}function dg(l,s){s===void 0&&(s=[]);const r=y.useRef(null);return y.useEffect(()=>{r.current=null},s),y.useEffect(()=>{const u=l!==In;u&&!r.current&&(r.current=l),!u&&r.current&&(r.current=null)},[l]),r.current?_i(l,r.current):In}function ej(l){y.useEffect(()=>{if(!lo)return;const s=l.map(r=>{let{sensor:u}=r;return u.setup==null?void 0:u.setup()});return()=>{for(const r of s)r?.()}},l.map(s=>{let{sensor:r}=s;return r}))}function tj(l,s){return y.useMemo(()=>l.reduce((r,u)=>{let{eventName:d,handler:m}=u;return r[d]=f=>{m(f,s)},r},{}),[l,s])}function mb(l){return y.useMemo(()=>l?jw(l):null,[l])}const fg=[];function nj(l,s){s===void 0&&(s=ji);const[r]=l,u=mb(r?en(r):null),[d,m]=y.useState(fg);function f(){m(()=>l.length?l.map(b=>ob(b)?u:new Ju(s(b),b)):fg)}const g=oo({callback:f});return Ca(()=>{g?.disconnect(),f(),l.forEach(b=>g?.observe(b))},[l]),d}function hb(l){if(!l)return null;if(l.children.length>1)return l;const s=l.children[0];return Ci(s)?s:l}function aj(l){let{measure:s}=l;const[r,u]=y.useState(null),d=y.useCallback(v=>{for(const{target:_}of v)if(Ci(_)){u(p=>{const x=s(_);return p?{...p,width:x.width,height:x.height}:x});break}},[s]),m=oo({callback:d}),f=y.useCallback(v=>{const _=hb(v);m?.disconnect(),_&&m?.observe(_),u(_?s(_):null)},[s,m]),[g,b]=Yr(f);return y.useMemo(()=>({nodeRef:g,rect:r,setRef:b}),[r,g,b])}const lj=[{sensor:td,options:{}},{sensor:Wu,options:{}}],sj={current:{}},Fr={draggable:{measure:lg},droppable:{measure:lg,strategy:Ti.WhileDragging,frequency:ku.Optimized},dragOverlay:{measure:ji}};class vi extends Map{get(s){var r;return s!=null&&(r=super.get(s))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(s=>{let{disabled:r}=s;return!r})}getNodeFor(s){var r,u;return(r=(u=this.get(s))==null?void 0:u.node.current)!=null?r:void 0}}const ij={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vi,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fr,measureDroppableContainers:Qr,windowRect:null,measuringScheduled:!1},gb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qr,draggableNodes:new Map,over:null,measureDroppableContainers:Qr},Ei=y.createContext(gb),yb=y.createContext(ij);function rj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vi}}}function oj(l,s){switch(s.type){case kt.DragStart:return{...l,draggable:{...l.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case kt.DragMove:return l.draggable.active==null?l:{...l,draggable:{...l.draggable,translate:{x:s.coordinates.x-l.draggable.initialCoordinates.x,y:s.coordinates.y-l.draggable.initialCoordinates.y}}};case kt.DragEnd:case kt.DragCancel:return{...l,draggable:{...l.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kt.RegisterDroppable:{const{element:r}=s,{id:u}=r,d=new vi(l.droppable.containers);return d.set(u,r),{...l,droppable:{...l.droppable,containers:d}}}case kt.SetDroppableDisabled:{const{id:r,key:u,disabled:d}=s,m=l.droppable.containers.get(r);if(!m||u!==m.key)return l;const f=new vi(l.droppable.containers);return f.set(r,{...m,disabled:d}),{...l,droppable:{...l.droppable,containers:f}}}case kt.UnregisterDroppable:{const{id:r,key:u}=s,d=l.droppable.containers.get(r);if(!d||u!==d.key)return l;const m=new vi(l.droppable.containers);return m.delete(r),{...l,droppable:{...l.droppable,containers:m}}}default:return l}}function cj(l){let{disabled:s}=l;const{active:r,activatorEvent:u,draggableNodes:d}=y.useContext(Ei),m=Gr(u),f=Gr(r?.id);return y.useEffect(()=>{if(!s&&!u&&m&&f!=null){if(!Qu(m)||document.activeElement===m.target)return;const g=d.get(f);if(!g)return;const{activatorNode:b,node:v}=g;if(!b.current&&!v.current)return;requestAnimationFrame(()=>{for(const _ of[b.current,v.current]){if(!_)continue;const p=nw(_);if(p){p.focus();break}}})}},[u,s,d,f,m]),null}function pb(l,s){let{transform:r,...u}=s;return l!=null&&l.length?l.reduce((d,m)=>m({transform:d,...u}),r):r}function uj(l){return y.useMemo(()=>({draggable:{...Fr.draggable,...l?.draggable},droppable:{...Fr.droppable,...l?.droppable},dragOverlay:{...Fr.dragOverlay,...l?.dragOverlay}}),[l?.draggable,l?.droppable,l?.dragOverlay])}function dj(l){let{activeNode:s,measure:r,initialRect:u,config:d=!0}=l;const m=y.useRef(!1),{x:f,y:g}=typeof d=="boolean"?{x:d,y:d}:d;Ca(()=>{if(!f&&!g||!s){m.current=!1;return}if(m.current||!u)return;const v=s?.node.current;if(!v||v.isConnected===!1)return;const _=r(v),p=ab(_,u);if(f||(p.x=0),g||(p.y=0),m.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const x=sb(v);x&&x.scrollBy({top:p.y,left:p.x})}},[s,f,g,u,r])}const co=y.createContext({...In,scaleX:1,scaleY:1});var Za;(function(l){l[l.Uninitialized=0]="Uninitialized",l[l.Initializing=1]="Initializing",l[l.Initialized=2]="Initialized"})(Za||(Za={}));const fj=y.memo(function(s){var r,u,d,m;let{id:f,accessibility:g,autoScroll:b=!0,children:v,sensors:_=lj,collisionDetection:p=vw,measuring:x,modifiers:j,...I}=s;const A=y.useReducer(oj,void 0,rj),[O,q]=A,[P,E]=ow(),[G,H]=y.useState(Za.Uninitialized),B=G===Za.Initialized,{draggable:{active:z,nodes:N,translate:L},droppable:{containers:R}}=O,T=z!=null?N.get(z):null,C=y.useRef({initial:null,translated:null}),Q=y.useMemo(()=>{var gt;return z!=null?{id:z,data:(gt=T?.data)!=null?gt:sj,rect:C}:null},[z,T]),K=y.useRef(null),[re,D]=y.useState(null),[$,X]=y.useState(null),le=Si(I,Object.values(I)),oe=io("DndDescribedBy",f),ve=y.useMemo(()=>R.getEnabled(),[R]),de=uj(x),{droppableRects:fe,measureDroppableContainers:_e,measuringScheduled:et}=Gw(ve,{dragging:B,dependencies:[L.x,L.y],config:de.droppable}),Re=Pw(N,z),it=y.useMemo(()=>$?Xr($):null,[$]),mt=tl(),Tt=Xw(Re,de.draggable.measure);dj({activeNode:z!=null?N.get(z):null,config:mt.layoutShiftCompensation,initialRect:Tt,measure:de.draggable.measure});const rt=cg(Re,de.draggable.measure,Tt),me=cg(Re?Re.parentElement:null),Ne=y.useRef({activatorEvent:null,active:null,activeNode:Re,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ke=R.getNodeFor((r=Ne.current.over)==null?void 0:r.id),ot=aj({measure:de.dragOverlay.measure}),he=(u=ot.nodeRef.current)!=null?u:Re,Ee=B?(d=ot.rect)!=null?d:rt:null,Ve=!!(ot.nodeRef.current&&ot.rect),ct=Zw(Ve?null:rt),we=mb(he?en(he):null),Ge=Jw(B?Ke??Re:null),Ct=nj(Ge),wt=pb(j,{transform:{x:L.x-ct.x,y:L.y-ct.y,scaleX:1,scaleY:1},activatorEvent:$,active:Q,activeNodeRect:rt,containerNodeRect:me,draggingNodeRect:Ee,over:Ne.current.over,overlayNodeRect:ot.rect,scrollableAncestors:Ge,scrollableAncestorRects:Ct,windowRect:we}),bt=it?fs(it,L):null,Fn=Ww(Ge),W=dg(Fn),Te=dg(Fn,[rt]),Ae=fs(wt,W),Qe=Ee?Tw(Ee,wt):null,qe=Q&&Qe?p({active:Q,collisionRect:Qe,droppableRects:fe,droppableContainers:ve,pointerCoordinates:bt}):null,zt=nb(qe,"id"),[ht,Pn]=y.useState(null),aa=Ve?wt:fs(wt,Te),Sn=_w(aa,(m=ht?.rect)!=null?m:null,rt),It=y.useRef(null),_n=y.useCallback((gt,Ft)=>{let{sensor:Bt,options:on}=Ft;if(K.current==null)return;const Ut=N.get(K.current);if(!Ut)return;const Ot=gt.nativeEvent,J=new Bt({active:K.current,activeNode:Ut,event:Ot,options:on,context:Ne,onAbort(se){if(!N.get(se))return;const{onDragAbort:pe}=le.current,ze={id:se};pe?.(ze),P({type:"onDragAbort",event:ze})},onPending(se,ge,pe,ze){if(!N.get(se))return;const{onDragPending:Ze}=le.current,Ce={id:se,constraint:ge,initialCoordinates:pe,offset:ze};Ze?.(Ce),P({type:"onDragPending",event:Ce})},onStart(se){const ge=K.current;if(ge==null)return;const pe=N.get(ge);if(!pe)return;const{onDragStart:ze}=le.current,lt={activatorEvent:Ot,active:{id:ge,data:pe.data,rect:C}};fi.unstable_batchedUpdates(()=>{ze?.(lt),H(Za.Initializing),q({type:kt.DragStart,initialCoordinates:se,active:ge}),P({type:"onDragStart",event:lt}),D(It.current),X(Ot)})},onMove(se){q({type:kt.DragMove,coordinates:se})},onEnd:ie(kt.DragEnd),onCancel:ie(kt.DragCancel)});It.current=J;function ie(se){return async function(){const{active:pe,collisions:ze,over:lt,scrollAdjustedTranslate:Ze}=Ne.current;let Ce=null;if(pe&&Ze){const{cancelDrop:Pt}=le.current;Ce={activatorEvent:Ot,active:pe,collisions:ze,delta:Ze,over:lt},se===kt.DragEnd&&typeof Pt=="function"&&await Promise.resolve(Pt(Ce))&&(se=kt.DragCancel)}K.current=null,fi.unstable_batchedUpdates(()=>{q({type:se}),H(Za.Uninitialized),Pn(null),D(null),X(null),It.current=null;const Pt=se===kt.DragEnd?"onDragEnd":"onDragCancel";if(Ce){const tn=le.current[Pt];tn?.(Ce),P({type:Pt,event:Ce})}})}}},[N]),Kt=y.useCallback((gt,Ft)=>(Bt,on)=>{const Ut=Bt.nativeEvent,Ot=N.get(on);if(K.current!==null||!Ot||Ut.dndKit||Ut.defaultPrevented)return;const J={active:Ot};gt(Bt,Ft.options,J)===!0&&(Ut.dndKit={capturedBy:Ft.sensor},K.current=on,_n(Bt,Ft))},[N,_n]),el=Yw(_,Kt);ej(_),Ca(()=>{rt&&G===Za.Initializing&&H(Za.Initialized)},[rt,G]),y.useEffect(()=>{const{onDragMove:gt}=le.current,{active:Ft,activatorEvent:Bt,collisions:on,over:Ut}=Ne.current;if(!Ft||!Bt)return;const Ot={active:Ft,activatorEvent:Bt,collisions:on,delta:{x:Ae.x,y:Ae.y},over:Ut};fi.unstable_batchedUpdates(()=>{gt?.(Ot),P({type:"onDragMove",event:Ot})})},[Ae.x,Ae.y]),y.useEffect(()=>{const{active:gt,activatorEvent:Ft,collisions:Bt,droppableContainers:on,scrollAdjustedTranslate:Ut}=Ne.current;if(!gt||K.current==null||!Ft||!Ut)return;const{onDragOver:Ot}=le.current,J=on.get(zt),ie=J&&J.rect.current?{id:J.id,rect:J.rect.current,data:J.data,disabled:J.disabled}:null,se={active:gt,activatorEvent:Ft,collisions:Bt,delta:{x:Ut.x,y:Ut.y},over:ie};fi.unstable_batchedUpdates(()=>{Pn(ie),Ot?.(se),P({type:"onDragOver",event:se})})},[zt]),Ca(()=>{Ne.current={activatorEvent:$,active:Q,activeNode:Re,collisionRect:Qe,collisions:qe,droppableRects:fe,draggableNodes:N,draggingNode:he,draggingNodeRect:Ee,droppableContainers:R,over:ht,scrollableAncestors:Ge,scrollAdjustedTranslate:Ae},C.current={initial:Ee,translated:Qe}},[Q,Re,qe,Qe,N,he,Ee,fe,R,ht,Ge,Ae]),qw({...mt,delta:L,draggingRect:Qe,pointerCoordinates:bt,scrollableAncestors:Ge,scrollableAncestorRects:Ct});const Yn=y.useMemo(()=>({active:Q,activeNode:Re,activeNodeRect:rt,activatorEvent:$,collisions:qe,containerNodeRect:me,dragOverlay:ot,draggableNodes:N,droppableContainers:R,droppableRects:fe,over:ht,measureDroppableContainers:_e,scrollableAncestors:Ge,scrollableAncestorRects:Ct,measuringConfiguration:de,measuringScheduled:et,windowRect:we}),[Q,Re,rt,$,qe,me,ot,N,R,fe,ht,_e,Ge,Ct,de,et,we]),wa=y.useMemo(()=>({activatorEvent:$,activators:el,active:Q,activeNodeRect:rt,ariaDescribedById:{draggable:oe},dispatch:q,draggableNodes:N,over:ht,measureDroppableContainers:_e}),[$,el,Q,rt,q,oe,N,ht,_e]);return Fe.createElement(tb.Provider,{value:E},Fe.createElement(Ei.Provider,{value:wa},Fe.createElement(yb.Provider,{value:Yn},Fe.createElement(co.Provider,{value:Sn},v)),Fe.createElement(cj,{disabled:g?.restoreFocus===!1})),Fe.createElement(dw,{...g,hiddenTextDescribedById:oe}));function tl(){const gt=re?.autoScrollEnabled===!1,Ft=typeof b=="object"?b.enabled===!1:b===!1,Bt=B&&!gt&&!Ft;return typeof b=="object"?{...b,enabled:Bt}:{enabled:Bt}}}),mj=y.createContext(null),mg="button",hj="Draggable";function gj(l){let{id:s,data:r,disabled:u=!1,attributes:d}=l;const m=io(hj),{activators:f,activatorEvent:g,active:b,activeNodeRect:v,ariaDescribedById:_,draggableNodes:p,over:x}=y.useContext(Ei),{role:j=mg,roleDescription:I="draggable",tabIndex:A=0}=d??{},O=b?.id===s,q=y.useContext(O?co:mj),[P,E]=Yr(),[G,H]=Yr(),B=tj(f,s),z=Si(r);Ca(()=>(p.set(s,{id:s,key:m,node:P,activatorNode:G,data:z}),()=>{const L=p.get(s);L&&L.key===m&&p.delete(s)}),[p,s]);const N=y.useMemo(()=>({role:j,tabIndex:A,"aria-disabled":u,"aria-pressed":O&&j===mg?!0:void 0,"aria-roledescription":I,"aria-describedby":_.draggable}),[u,j,A,O,I,_.draggable]);return{active:b,activatorEvent:g,activeNodeRect:v,attributes:N,isDragging:O,listeners:u?void 0:B,node:P,over:x,setNodeRef:E,setActivatorNodeRef:H,transform:q}}function yj(){return y.useContext(yb)}const pj="Droppable",vj={timeout:25};function bj(l){let{data:s,disabled:r=!1,id:u,resizeObserverConfig:d}=l;const m=io(pj),{active:f,dispatch:g,over:b,measureDroppableContainers:v}=y.useContext(Ei),_=y.useRef({disabled:r}),p=y.useRef(!1),x=y.useRef(null),j=y.useRef(null),{disabled:I,updateMeasurementsFor:A,timeout:O}={...vj,...d},q=Si(A??u),P=y.useCallback(()=>{if(!p.current){p.current=!0;return}j.current!=null&&clearTimeout(j.current),j.current=setTimeout(()=>{v(Array.isArray(q.current)?q.current:[q.current]),j.current=null},O)},[O]),E=oo({callback:P,disabled:I||!f}),G=y.useCallback((N,L)=>{E&&(L&&(E.unobserve(L),p.current=!1),N&&E.observe(N))},[E]),[H,B]=Yr(G),z=Si(s);return y.useEffect(()=>{!E||!H.current||(E.disconnect(),p.current=!1,E.observe(H.current))},[H,E]),y.useEffect(()=>(g({type:kt.RegisterDroppable,element:{id:u,key:m,disabled:r,node:H,rect:x,data:z}}),()=>g({type:kt.UnregisterDroppable,key:m,id:u})),[u]),y.useEffect(()=>{r!==_.current.disabled&&(g({type:kt.SetDroppableDisabled,id:u,key:m,disabled:r}),_.current.disabled=r)},[u,m,r,g]),{active:f,rect:x,isOver:b?.id===u,node:H,over:b,setNodeRef:B}}function Sj(l){let{animation:s,children:r}=l;const[u,d]=y.useState(null),[m,f]=y.useState(null),g=Gr(r);return!r&&!u&&g&&d(g),Ca(()=>{if(!m)return;const b=u?.key,v=u?.props.id;if(b==null||v==null){d(null);return}Promise.resolve(s(v,m)).then(()=>{d(null)})},[s,u,m]),Fe.createElement(Fe.Fragment,null,r,u?y.cloneElement(u,{ref:f}):null)}const _j={x:0,y:0,scaleX:1,scaleY:1};function xj(l){let{children:s}=l;return Fe.createElement(Ei.Provider,{value:gb},Fe.createElement(co.Provider,{value:_j},s))}const Tj={position:"fixed",touchAction:"none"},Cj=l=>Qu(l)?"transform 250ms ease":void 0,wj=y.forwardRef((l,s)=>{let{as:r,activatorEvent:u,adjustScale:d,children:m,className:f,rect:g,style:b,transform:v,transition:_=Cj}=l;if(!g)return null;const p=d?v:{...v,scaleX:1,scaleY:1},x={...Tj,width:g.width,height:g.height,top:g.top,left:g.left,transform:xi.Transform.toString(p),transformOrigin:d&&u?mw(u,g):void 0,transition:typeof _=="function"?_(u):_,...b};return Fe.createElement(r,{className:f,style:x,ref:s},m)}),jj=l=>s=>{let{active:r,dragOverlay:u}=s;const d={},{styles:m,className:f}=l;if(m!=null&&m.active)for(const[g,b]of Object.entries(m.active))b!==void 0&&(d[g]=r.node.style.getPropertyValue(g),r.node.style.setProperty(g,b));if(m!=null&&m.dragOverlay)for(const[g,b]of Object.entries(m.dragOverlay))b!==void 0&&u.node.style.setProperty(g,b);return f!=null&&f.active&&r.node.classList.add(f.active),f!=null&&f.dragOverlay&&u.node.classList.add(f.dragOverlay),function(){for(const[b,v]of Object.entries(d))r.node.style.setProperty(b,v);f!=null&&f.active&&r.node.classList.remove(f.active)}},Ej=l=>{let{transform:{initial:s,final:r}}=l;return[{transform:xi.Transform.toString(s)},{transform:xi.Transform.toString(r)}]},Aj={duration:250,easing:"ease",keyframes:Ej,sideEffects:jj({styles:{active:{opacity:"0"}}})};function Nj(l){let{config:s,draggableNodes:r,droppableContainers:u,measuringConfiguration:d}=l;return so((m,f)=>{if(s===null)return;const g=r.get(m);if(!g)return;const b=g.node.current;if(!b)return;const v=hb(f);if(!v)return;const{transform:_}=en(f).getComputedStyle(f),p=lb(_);if(!p)return;const x=typeof s=="function"?s:Dj(s);return db(b,d.draggable.measure),x({active:{id:m,data:g.data,node:b,rect:d.draggable.measure(b)},draggableNodes:r,dragOverlay:{node:f,rect:d.dragOverlay.measure(v)},droppableContainers:u,measuringConfiguration:d,transform:p})})}function Dj(l){const{duration:s,easing:r,sideEffects:u,keyframes:d}={...Aj,...l};return m=>{let{active:f,dragOverlay:g,transform:b,...v}=m;if(!s)return;const _={x:g.rect.left-f.rect.left,y:g.rect.top-f.rect.top},p={scaleX:b.scaleX!==1?f.rect.width*b.scaleX/g.rect.width:1,scaleY:b.scaleY!==1?f.rect.height*b.scaleY/g.rect.height:1},x={x:b.x-_.x,y:b.y-_.y,...p},j=d({...v,active:f,dragOverlay:g,transform:{initial:b,final:x}}),[I]=j,A=j[j.length-1];if(JSON.stringify(I)===JSON.stringify(A))return;const O=u?.({active:f,dragOverlay:g,...v}),q=g.node.animate(j,{duration:s,easing:r,fill:"forwards"});return new Promise(P=>{q.onfinish=()=>{O?.(),P()}})}}let hg=0;function Mj(l){return y.useMemo(()=>{if(l!=null)return hg++,hg},[l])}const zj=Fe.memo(l=>{let{adjustScale:s=!1,children:r,dropAnimation:u,style:d,transition:m,modifiers:f,wrapperElement:g="div",className:b,zIndex:v=999}=l;const{activatorEvent:_,active:p,activeNodeRect:x,containerNodeRect:j,draggableNodes:I,droppableContainers:A,dragOverlay:O,over:q,measuringConfiguration:P,scrollableAncestors:E,scrollableAncestorRects:G,windowRect:H}=yj(),B=y.useContext(co),z=Mj(p?.id),N=pb(f,{activatorEvent:_,active:p,activeNodeRect:x,containerNodeRect:j,draggingNodeRect:O.rect,over:q,overlayNodeRect:O.rect,scrollableAncestors:E,scrollableAncestorRects:G,transform:B,windowRect:H}),L=nd(x),R=Nj({config:u,draggableNodes:I,droppableContainers:A,measuringConfiguration:P}),T=L?O.setRef:void 0;return Fe.createElement(xj,null,Fe.createElement(Sj,{animation:R},p&&z?Fe.createElement(wj,{key:z,id:p.id,ref:T,as:g,activatorEvent:_,adjustScale:s,className:b,transition:m,rect:L,style:{zIndex:v,...d},transform:N},r):null))});function Zr(l){if(!l)return!1;const s=l.data.current;return!!(s&&"sortable"in s&&typeof s.sortable=="object"&&"containerId"in s.sortable&&"items"in s.sortable&&"index"in s.sortable)}const Oj=[He.Down,He.Right,He.Up,He.Left],Rj=(l,s)=>{let{context:{active:r,collisionRect:u,droppableRects:d,droppableContainers:m,over:f,scrollableAncestors:g}}=s;if(Oj.includes(l.code)){if(l.preventDefault(),!r||!u)return;const b=[];m.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const x=d.get(p.id);if(x)switch(l.code){case He.Down:u.top<x.top&&b.push(p);break;case He.Up:u.top>x.top&&b.push(p);break;case He.Left:u.left>x.left&&b.push(p);break;case He.Right:u.left<x.left&&b.push(p);break}});const v=yw({collisionRect:u,droppableRects:d,droppableContainers:b});let _=nb(v,"id");if(_===f?.id&&v.length>1&&(_=v[1].id),_!=null){const p=m.get(r.id),x=m.get(_),j=x?d.get(x.id):null,I=x?.node.current;if(I&&j&&p&&x){const O=ro(I).some((B,z)=>g[z]!==B),q=vb(p,x),P=Lj(p,x),E=O||!q?{x:0,y:0}:{x:P?u.width-j.width:0,y:P?u.height-j.height:0},G={x:j.left,y:j.top};return E.x&&E.y?G:_i(G,E)}}}};function vb(l,s){return!Zr(l)||!Zr(s)?!1:l.data.current.sortable.containerId===s.data.current.sortable.containerId}function Lj(l,s){return!Zr(l)||!Zr(s)||!vb(l,s)?!1:l.data.current.sortable.index<s.data.current.sortable.index}const kj="_dragOverlay_19xet_3",Bj="_songPreview_19xet_11",Uj="_songTitle_19xet_42",$j="_songArtist_19xet_47",Hj="_dropZone_19xet_116",Vj="_draggableItem_19xet_130",cs={dragOverlay:kj,songPreview:Bj,songTitle:Uj,songArtist:$j,dropZone:Hj,draggableItem:Vj},qj=Fe.createContext({activeItem:null}),Ij=l=>{let s=Sw(l);if((!s||s.length===0)&&(s=gw(l)),!s||!s.length)return s||[];const r=s.filter(d=>d.id.toString().startsWith("song::")),u=s.filter(d=>d.id.toString().startsWith("playlist::"));if(r.length>0&&u.length>0){const{pointerCoordinates:d}=l;if(d)return d.x<350?u:r}return s},Fj=({children:l,onDragOperation:s})=>{const{t:r}=Mt(),[u,d]=y.useState(null),m=fw(ng(td,{activationConstraint:{distance:10,delay:100,tolerance:5}}),ng(Wu,{coordinateGetter:Rj})),f=y.useCallback(v=>{const{active:_}=v,p=_.id,x=p.indexOf("::");if(x===-1){console.error("Invalid drag ID format:",p);return}const j=p.substring(0,x),I=p.substring(x+2);d({id:I,type:j,data:_.data.current})},[]),g=y.useCallback(v=>{const{active:_,over:p}=v;if(d(null),!p||_.id===p.id)return;const x=q=>{const P=q.indexOf("::");return P===-1?(console.error("Invalid ID format:",q),{type:"",id:""}):{type:q.substring(0,P),id:q.substring(P+2)}},j=x(_.id),I=x(p.id),A={id:j.id,type:j.type,data:_.data.current},O={id:I.id,type:I.type,data:p.data.current};s?.(A,O)},[s]),b=()=>{if(!u)return null;switch(u.type){case"song":return document.querySelector('[data-droppable="true"]')?.closest('[data-playlist-drop-zone="true"]')?c.jsxs("div",{className:cs.songPreview,children:[c.jsx(ne,{name:"music",size:18,color:"var(--themecolor2)",decorative:!0}),c.jsxs("div",{children:[c.jsx("div",{className:cs.songTitle,children:u.data?.title||"Song"}),c.jsx("div",{className:cs.songArtist,children:u.data?.artist||r("common.unknownArtist")})]})]}):null;case"playlist":return null;case"folder":return null;default:return null}};return c.jsx(qj.Provider,{value:{activeItem:u},children:c.jsxs(fj,{sensors:m,collisionDetection:Ij,onDragStart:f,onDragEnd:g,autoScroll:{threshold:{x:.2,y:.2},acceleration:5},children:[l,c.jsx(zj,{dropAnimation:{duration:200,easing:"cubic-bezier(0.34, 1.56, 0.64, 1)"},className:cs.dragOverlay,children:b()})]})})},Bu=({id:l,type:s,data:r,children:u,disabled:d=!1})=>{const{attributes:m,listeners:f,setNodeRef:g,transform:b,isDragging:v}=gj({id:`${s}::${l}`,data:r,disabled:d}),_=b?{transform:`translate3d(${b.x}px, ${b.y}px, 0)`}:void 0;return c.jsx("div",{ref:g,style:_,className:cs.draggableItem,"data-dragging":v?"true":"false",...f,...m,children:u})},Uu=({id:l,type:s,data:r,children:u,className:d})=>{const{isOver:m,setNodeRef:f}=bj({id:`${s}::${l}`,data:r});return c.jsx("div",{ref:f,className:`${cs.dropZone} ${d||""}`,"data-droppable":m?"true":"false","data-playlist-drop-zone":s==="playlist"?"true":"false","data-folder-drop-zone":s==="folder"?"true":"false","data-drop-type":s,children:u})},Pj="_playlistContainer_1s8lm_1",Yj="_searchContainer_1s8lm_10",Gj="_searchWrapper_1s8lm_19",Xj="_searchIcon_1s8lm_24",Qj="_searchInput_1s8lm_33",Kj="_actionButton_1s8lm_53",Zj="_playlistList_1s8lm_76",Jj="_playlistItemContainer_1s8lm_86",Wj="_playlistItemMain_1s8lm_93",eE="_playlistItem_1s8lm_86",tE="_playlistNameWrapper_1s8lm_116",nE="_playlistNameText_1s8lm_123",aE="_playlistImage_1s8lm_128",lE="_playlistDropZone_1s8lm_147",sE="_folderItem_1s8lm_171",iE="_chevron_1s8lm_175",rE="_chevronOpen_1s8lm_180",oE="_songCount_1s8lm_184",cE="_allSongsItem_1s8lm_190",uE="_favoritesItem_1s8lm_199",dE="_noResults_1s8lm_208",fE="_moreButton_1s8lm_274",mE="_deleteMenuItem_1s8lm_285",Ue={playlistContainer:Pj,searchContainer:Yj,searchWrapper:Gj,searchIcon:Xj,searchInput:Qj,actionButton:Kj,playlistList:Zj,playlistItemContainer:Jj,playlistItemMain:Wj,playlistItem:eE,playlistNameWrapper:tE,playlistNameText:nE,playlistImage:aE,playlistDropZone:lE,folderItem:sE,chevron:iE,chevronOpen:rE,songCount:oE,allSongsItem:cE,favoritesItem:uE,noResults:dE,moreButton:fE,deleteMenuItem:mE},hE=async l=>{const s=document.createElement("canvas");s.width=80,s.height=80;const r=s.getContext("2d");if(!r)return"";const u=Array.from(new Set(l.filter(m=>m.albumArt).map(m=>m.albumArt))).slice(0,4);if(u.length===0)return"";const d=m=>new Promise((f,g)=>{const b=new Image;b.crossOrigin="anonymous",b.onload=()=>f(b),b.onerror=g,b.src=m});try{const m=await Promise.all(u.map(f=>d(f)));switch(r.fillStyle="#1E3A8A",r.fillRect(0,0,s.width,s.height),m.length){case 1:r.drawImage(m[0],0,0,80,80);break;case 2:r.drawImage(m[0],0,0,40,80),r.drawImage(m[1],40,0,40,80);break;case 3:r.drawImage(m[0],0,0,80,40),r.drawImage(m[1],0,40,40,40),r.drawImage(m[2],40,40,40,40);break;case 4:r.drawImage(m[0],0,0,40,40),r.drawImage(m[1],40,0,40,40),r.drawImage(m[2],0,40,40,40),r.drawImage(m[3],40,40,40,40);break}return r.fillStyle="rgba(0, 0, 0, 0.1)",r.fillRect(0,0,80,80),s.toDataURL("image/jpeg",.8)}catch(m){return console.error("Failed to generate playlist image:",m),""}};var uo="Collapsible",[gE]=r_(uo),[yE,ad]=gE(uo),bb=y.forwardRef((l,s)=>{const{__scopeCollapsible:r,open:u,defaultOpen:d,disabled:m,onOpenChange:f,...g}=l,[b,v]=i_({prop:u,defaultProp:d??!1,onChange:f,caller:uo});return c.jsx(yE,{scope:r,disabled:m,contentId:o_(),open:b,onOpenToggle:y.useCallback(()=>v(_=>!_),[v]),children:c.jsx(Vu.div,{"data-state":sd(b),"data-disabled":m?"":void 0,...g,ref:s})})});bb.displayName=uo;var Sb="CollapsibleTrigger",_b=y.forwardRef((l,s)=>{const{__scopeCollapsible:r,...u}=l,d=ad(Sb,r);return c.jsx(Vu.button,{type:"button","aria-controls":d.contentId,"aria-expanded":d.open||!1,"data-state":sd(d.open),"data-disabled":d.disabled?"":void 0,disabled:d.disabled,...u,ref:s,onClick:c_(l.onClick,d.onOpenToggle)})});_b.displayName=Sb;var ld="CollapsibleContent",xb=y.forwardRef((l,s)=>{const{forceMount:r,...u}=l,d=ad(ld,l.__scopeCollapsible);return c.jsx(u_,{present:r||d.open,children:({present:m})=>c.jsx(pE,{...u,ref:s,present:m})})});xb.displayName=ld;var pE=y.forwardRef((l,s)=>{const{__scopeCollapsible:r,present:u,children:d,...m}=l,f=ad(ld,r),[g,b]=y.useState(u),v=y.useRef(null),_=d_(s,v),p=y.useRef(0),x=p.current,j=y.useRef(0),I=j.current,A=f.open||g,O=y.useRef(A),q=y.useRef(void 0);return y.useEffect(()=>{const P=requestAnimationFrame(()=>O.current=!1);return()=>cancelAnimationFrame(P)},[]),f_(()=>{const P=v.current;if(P){q.current=q.current||{transitionDuration:P.style.transitionDuration,animationName:P.style.animationName},P.style.transitionDuration="0s",P.style.animationName="none";const E=P.getBoundingClientRect();p.current=E.height,j.current=E.width,O.current||(P.style.transitionDuration=q.current.transitionDuration,P.style.animationName=q.current.animationName),b(u)}},[f.open,u]),c.jsx(Vu.div,{"data-state":sd(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!A,...m,ref:_,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":I?`${I}px`:void 0,...l.style},children:A&&d})});function sd(l){return l?"open":"closed"}var vE=bb,bE=_b,SE=xb;const _E=vE,xE=bE,TE=SE,CE="_wrapper_10f4h_1",wE="_inner_10f4h_8",jE="_scrolling_10f4h_16",EE="_pauseOnHover_10f4h_20",AE="_text_10f4h_24",di={wrapper:CE,inner:wE,scrolling:jE,pauseOnHover:EE,text:AE},$u=({text:l,className:s,textClassName:r,textStyle:u,speed:d=30,gap:m=24,minDuration:f=10,pauseOnHover:g=!0,allowHTML:b=!0,containerClassName:v,wrapperStyle:_,...p})=>{const{t:x}=Mt(),j=y.useRef(null),I=y.useRef(null),A=y.useRef(null),O=y.useRef(null),[q,P]=y.useState({shouldScroll:!1,distance:0,duration:f}),E=y.useMemo(()=>b?__.sanitize(l):l,[l,b]),G=y.useMemo(()=>{const L={className:di.text,style:q.shouldScroll?{marginRight:`${m}px`}:void 0};return b?{...L,dangerouslySetInnerHTML:{__html:E}}:{...L,children:l}},[b,E,l,m,q.shouldScroll]),H=y.useCallback(()=>{const L=j.current,R=I.current;if(!L||!R)return;const T=R.querySelector("[data-scroll-text='primary']");if(!T)return;const C=T.scrollWidth,Q=L.clientWidth;if(Q<=0){typeof window<"u"&&(O.current&&window.cancelAnimationFrame(O.current),O.current=window.requestAnimationFrame(()=>{O.current=null,H()}));return}const K=C-Q,re=14,D=6;P($=>{if($.shouldScroll?K>D:K>re){const le=C+m,oe=Math.max(f,le/d);return $.shouldScroll&&Math.abs($.distance-le)<1&&Math.abs($.duration-oe)<.1?$:{shouldScroll:!0,distance:le,duration:oe}}return!$.shouldScroll&&Math.abs($.distance-C)<1?$:{shouldScroll:!1,distance:C,duration:f}})},[m,f,d]);y.useEffect(()=>{if(!(typeof ResizeObserver>"u"))return A.current=new ResizeObserver(()=>H()),()=>{A.current?.disconnect()}},[H]),y.useLayoutEffect(()=>{if(!A.current)return;const L=j.current,R=I.current;return L&&A.current.observe(L),R&&A.current.observe(R),H(),()=>{L&&A.current?.unobserve(L),R&&A.current?.unobserve(R)}},[H,E]),y.useEffect(()=>()=>{O.current&&typeof window<"u"&&window.cancelAnimationFrame(O.current)},[]);const B=y.useMemo(()=>[di.wrapper,g&&q.shouldScroll?di.pauseOnHover:"",s,v].filter(Boolean).join(" "),[s,v,g,q.shouldScroll]),z=y.useMemo(()=>[di.inner,r,q.shouldScroll?di.scrolling:""].filter(Boolean).join(" "),[r,q.shouldScroll]),N=y.useMemo(()=>({...q.shouldScroll?{"--scroll-distance":`${q.distance}px`,"--scroll-duration":`${q.duration}s`,"--scroll-gap":`${m}px`}:{},...u}),[q,m,u]);return c.jsx("div",{ref:j,className:B,style:_,role:"region","aria-label":x("accessibility.scrollingText"),...p,children:c.jsxs("div",{ref:I,className:z,style:N,children:[c.jsx("span",{"data-scroll-text":"primary",...G}),q.shouldScroll&&c.jsx("span",{"data-scroll-text":"clone","aria-hidden":"true",...G})]})})},Tb=({musicPlayerHook:l})=>{const{t:s}=Mt(),[r,u]=y.useState(""),[d,m]=y.useState(!1),[f,g]=y.useState(""),[b,v]=y.useState({}),[_,p]=y.useState(!1),[x,j]=y.useState(null),[I,A]=y.useState(new Set),O=y.useCallback(W=>{A(Te=>{const Ae=new Set(Te);return Ae.has(W)?Ae.delete(W):Ae.add(W),Ae})},[]),[q,P]=y.useState(!1),[E,G]=y.useState(null),[H,B]=y.useState([]),[z,N]=y.useState(!1),[L,R]=y.useState(null),[T,C]=y.useState(""),[Q,K]=y.useState(!1),[re,D]=y.useState(""),{library:$,playSong:X,createPlaylist:le,createFolder:oe,removePlaylist:ve,moveToFolder:de,exportPlaylist:fe,importPlaylist:_e}=l;y.useEffect(()=>{(async()=>{const Te={},Ae=qe=>{const zt=[];for(const ht of qe)"children"in ht?zt.push(...Ae(ht.children)):"songs"in ht&&zt.push(ht);return zt},Qe=Ae($.playlists);for(const qe of Qe)if(qe.id!=="all-songs"){const zt=await hE(qe.songs);zt&&(Te[qe.id]=zt)}v(Te)})()},[$.playlists,$.songs]);const et=y.useCallback(W=>{const Te=[];for(const Ae of W)Te.push(Ae),"children"in Ae&&Te.push(...et(Ae.children));return Te},[]),Re=y.useMemo(()=>$.playlists.filter(W=>W.id!=="all-songs"&&W.name.toLowerCase().includes(r.toLowerCase())),[$.playlists,r]),it=W=>u(W),mt=y.useCallback(W=>{W.songs.length>0&&X(W.songs[0],W)},[X]),Tt=y.useCallback(()=>{const W=$.playlists.find(Te=>Te.id==="all-songs");if(W&&"songs"in W&&W.songs.length>0)X(W.songs[0],W);else if($.songs.length>0){const Te={id:"all-songs",name:s("allSongs"),songs:$.songs};X(Te.songs[0],Te)}},[$.playlists,$.songs,X]),rt=()=>{m(!0),g("")},me=y.useCallback(()=>{f.trim()&&(le(f.trim()),ue.success(s("playlist.playlistCreated",{name:f.trim()})),m(!1),g(""))},[f,le]),Ne=()=>{m(!1),g("")},Ke=async W=>{const{musicIndexedDbHelper:Te}=await Me(async()=>{const{musicIndexedDbHelper:Qe}=await Promise.resolve().then(()=>Pr);return{musicIndexedDbHelper:Qe}},void 0,import.meta.url);if(!await Te.shouldShowDialog("delete-playlist-confirmation")){ve(W.id),ue.success(s("playlist.playlistDeleted",{name:W.name}));return}j(W),p(!0)},ot=y.useCallback(()=>{x&&(ve(x.id),ue.success(s("playlist.playlistDeleted",{name:x.name})),p(!1),j(null))},[x,ve]),he=y.useCallback(W=>{const Te={title:s("playlist.playlistShareTitle",{name:W.name}),text:s("playlist.playlistShareText",{name:W.name,count:W.songs.length}),url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(Te)?(navigator.share(Te),ue.success(s("playlist.playlistShared"))):(navigator.clipboard.writeText(`${Te.title}
${Te.text}
${Te.url}`),ue.success(s("playlist.playlistCopied")))}catch{ue.error(s("playlist.playlistShareFailed"))}},[]),Ee=y.useCallback((W,Te="json")=>{fe(W,Te)},[fe]),Ve=y.useCallback(W=>W.toLowerCase().includes("favorite")?c.jsx(ne,{name:"heart",size:16,decorative:!0}):W.toLowerCase().includes("made")?c.jsx(ne,{name:"list",size:16,decorative:!0}):c.jsx(ne,{name:"music",size:16,decorative:!0}),[]),ct=()=>{const W=document.createElement("input");W.type="file",W.accept=".json,.m3u,.m3u8",W.onchange=async Te=>{const Ae=Te.target.files?.[0];if(Ae)try{await _e(Ae)}catch(Qe){Qe&&p(!1)}},W.click()},we=y.useCallback(W=>{const Te=(Qe,qe=[])=>{const zt=[];for(const ht of Qe)"children"in ht&&(zt.push({folder:ht,path:[...qe]}),zt.push(...Te(ht.children,[...qe,ht.name])));return zt},Ae=Te($.playlists);if(Ae.length===0){ue.error(s("playlist.noFoldersAvailable"));return}B(Ae),G(W),P(!0)},[$.playlists]),Ge=y.useCallback(W=>{R(W),C(W.name),N(!0)},[]),Ct=y.useRef(null),wt=(W,Te=0)=>"songs"in W?c.jsx(bt,{item:W,depth:Te},W.id):c.jsx(Fn,{item:W,depth:Te,renderPlaylistItem:wt},W.id),bt=y.memo(({item:W,depth:Te})=>{const{open:Ae,setOpen:Qe,containerRef:qe}=Du(!0);return c.jsxs("div",{"data-id":W.id,className:Ue.playlistItemContainer,style:{marginLeft:`${Te*20}px`},ref:qe,children:[c.jsx("div",{className:Ue.playlistItemMain,children:c.jsx(Bu,{id:W.id,type:"playlist",data:W,children:c.jsx(Uu,{id:W.id,type:"playlist",data:W,className:Ue.playlistDropZone,children:c.jsxs("button",{className:Ue.playlistItem,onClick:()=>mt(W),children:[b[W.id]?c.jsx("div",{className:Ue.playlistImage,children:c.jsx("img",{src:b[W.id],alt:"",loading:"lazy"})}):Ve(W.name),c.jsx("div",{className:Ue.playlistNameWrapper,children:c.jsx($u,{text:W.name,textClassName:Ue.playlistNameText,gap:12,speed:40,minDuration:6,pauseOnHover:!0,allowHTML:!1})}),c.jsx("span",{className:Ue.songCount,children:W.songs.length})]})})})}),c.jsxs(us,{open:Ae,onOpenChange:Qe,children:[c.jsx(ds,{asChild:!0,children:c.jsx(ce,{variant:"ghost",size:"icon-sm",className:Ue.moreButton,title:s("moreOptions"),children:c.jsx(ne,{name:"moreHorizontal",size:16,decorative:!0})})}),c.jsxs(Cl,{align:"end",sideOffset:8,children:[c.jsxs(vt,{onClick:()=>Ge(W),children:[c.jsx(ne,{name:"edit",size:16,style:{marginRight:8},decorative:!0}),s("playlist.renamePlaylist")]}),c.jsxs(vt,{onClick:()=>he(W),children:[c.jsx(ne,{name:"share",size:16,style:{marginRight:8},decorative:!0}),s("playlist.sharePlaylist")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:()=>we(W),children:[c.jsx(ne,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToFolder")]}),c.jsxs(vt,{onClick:()=>{de(W.id,null),ue.success(s("playlist.movedToRoot",{item:W.name}))},children:[c.jsx(ne,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToRoot")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:()=>Ee(W,"json"),children:[c.jsx(ne,{name:"download",size:16,style:{marginRight:8},decorative:!0}),s("playlist.exportJSON")]}),c.jsxs(vt,{onClick:()=>Ee(W,"m3u"),children:[c.jsx(ne,{name:"download",size:16,style:{marginRight:8},decorative:!0}),s("playlist.exportM3U")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:()=>Ke(W),className:Ue.deleteMenuItem,children:[c.jsx(ne,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),s("playlist.deletePlaylist")]})]})]},`dropdown-${W.id}`)]})}),Fn=y.memo(({item:W,depth:Te,renderPlaylistItem:Ae})=>{const Qe=I.has(W.id),{open:qe,setOpen:zt,containerRef:ht}=Du(!0);return c.jsxs(_E,{open:Qe,onOpenChange:()=>O(W.id),children:[c.jsxs("div",{className:Ue.playlistItemContainer,style:{marginLeft:`${Te*20}px`},"data-id":W.id,ref:ht,children:[c.jsx("div",{className:Ue.playlistItemMain,children:c.jsx(Bu,{id:W.id,type:"folder",data:W,children:c.jsx(Uu,{id:W.id,type:"folder",data:W,className:Ue.playlistDropZone,children:c.jsx(xE,{asChild:!0,children:c.jsxs("button",{className:`${Ue.playlistItem} ${Ue.folderItem}`,style:{width:"100%"},children:[c.jsx(ne,{name:"chevronDown",size:16,className:`${Ue.chevron} ${Qe?Ue.chevronOpen:""}`,decorative:!0}),c.jsx(ne,{name:"list",size:16,decorative:!0}),c.jsx("div",{className:Ue.playlistNameWrapper,children:c.jsx($u,{text:W.name,textClassName:Ue.playlistNameText,gap:12,speed:40,minDuration:6,pauseOnHover:!0,allowHTML:!1})}),c.jsx("span",{className:Ue.songCount,children:W.children.length})]})})})})}),c.jsxs(us,{open:qe,onOpenChange:zt,children:[c.jsx(ds,{asChild:!0,children:c.jsx(ce,{variant:"ghost",size:"icon-sm",className:Ue.moreButton,title:s("moreOptions"),children:c.jsx(ne,{name:"moreHorizontal",size:16,decorative:!0})})}),c.jsxs(Cl,{align:"end",sideOffset:8,children:[c.jsxs(vt,{onClick:()=>Ge(W),children:[c.jsx(ne,{name:"edit",size:16,style:{marginRight:8},decorative:!0}),s("playlist.renameFolder")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:()=>we(W),children:[c.jsx(ne,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToFolder")]}),c.jsxs(vt,{onClick:()=>{de(W.id,null),ue.success(s("playlist.movedToRoot",{item:W.name}))},children:[c.jsx(ne,{name:"list",size:16,style:{marginRight:8},decorative:!0}),s("playlist.moveToRoot")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:async()=>{const{musicIndexedDbHelper:Pn}=await Me(async()=>{const{musicIndexedDbHelper:Sn}=await Promise.resolve().then(()=>Pr);return{musicIndexedDbHelper:Sn}},void 0,import.meta.url);if(!await Pn.shouldShowDialog("delete-playlist-confirmation")){ve(W.id),ue.success(s("playlist.folderDeleted",{name:W.name}));return}j(W),p(!0)},className:Ue.deleteMenuItem,children:[c.jsx(ne,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),s("playlist.deleteFolder")]})]})]},`dropdown-${W.id}`)]}),c.jsx(TE,{children:c.jsxs("div",{children:[W.children.map(Pn=>Ae(Pn,Te+1)),W.children.length===0&&c.jsx("div",{style:{height:20,margin:"4px 0 4px 20px",color:"#999",fontSize:12,display:"flex",alignItems:"center",justifyContent:"center"},children:"Empty folder"})]})})]},W.id)});return c.jsxs("div",{className:Ue.playlistContainer,children:[c.jsxs("div",{className:Ue.searchContainer,children:[c.jsxs("div",{className:Ue.searchWrapper,children:[c.jsx("div",{className:Ue.searchIcon,children:c.jsx(ne,{name:"music",size:16,decorative:!0})}),c.jsx("input",{type:"text",className:Ue.searchInput,placeholder:s("playlist.searchPlaylists"),value:r,onChange:W=>it(W.target.value)})]}),c.jsxs(us,{children:[c.jsx(ds,{asChild:!0,children:c.jsx(ce,{variant:"outline",size:"icon-md",className:Ue.actionButton,"aria-label":s("playlist.add"),children:c.jsx(ne,{name:"plus",size:16,decorative:!0})})}),c.jsxs(Cl,{align:"end",sideOffset:8,children:[c.jsxs(vt,{onClick:rt,children:[c.jsx(ne,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),s("playlist.addPlaylist")]}),c.jsxs(vt,{onClick:()=>K(!0),children:[c.jsx(ne,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),s("playlist.addFolder")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:ct,children:[c.jsx(ne,{name:"upload",size:16,style:{marginRight:8},decorative:!0}),s("playlist.importPlaylist")]})]})]})]}),c.jsxs("div",{ref:Ct,className:Ue.playlistList,style:{position:"relative"},children:[c.jsxs("button",{className:`${Ue.playlistItem} ${Ue.allSongsItem}`,onClick:Tt,children:[c.jsx(ne,{name:"music",size:16,decorative:!0}),s("allSongs"),c.jsx("span",{className:Ue.songCount,children:$.songs.length})]}),c.jsxs("button",{className:`${Ue.playlistItem} ${Ue.favoritesItem}`,onClick:()=>mt({id:"favorites",name:s("favorites.favorites"),songs:$.songs.filter(W=>$.favorites.includes(W.id))}),children:[c.jsx(ne,{name:"heart",size:16,decorative:!0}),s("favorites.favorites"),c.jsx("span",{className:Ue.songCount,children:$.favorites.length})]}),Re.map(W=>wt(W)),Re.length===0&&r&&c.jsx("div",{className:Ue.noResults,children:s("noPlaylistsFound")})]}),c.jsx(Rn,{open:d,onOpenChange:m,children:c.jsxs(yn,{children:[c.jsxs(pn,{children:[c.jsx(vn,{children:s("playlist.createPlaylist")}),c.jsx(Ln,{children:s("playlist.enterPlaylistName")})]}),c.jsx("div",{style:{margin:"var(--spacing-4) 0"},children:c.jsx(Wa,{placeholder:s("playlist.enterPlaylistName"),value:f,onChange:W=>g(W.target.value),onKeyDown:W=>{W.key==="Enter"&&me()},autoFocus:!0})}),c.jsxs(qn,{children:[c.jsx(ce,{variant:"outline",onClick:Ne,children:s("common.cancel")}),c.jsx(ce,{onClick:me,disabled:!f.trim(),children:s("common.create")})]})]})}),c.jsx(Rn,{open:q,onOpenChange:P,children:c.jsxs(yn,{children:[c.jsxs(pn,{children:[c.jsx(vn,{children:s("playlist.moveToFolder")}),c.jsx(Ln,{children:s("playlist.selectFolderToMove",{item:E?.name})})]}),c.jsx("div",{className:$e.spaceY4,children:H.map(({folder:W,path:Te})=>c.jsx(ce,{variant:"outline",className:`${$e["w-full"]} ${$e["justify-start"]}`,onClick:()=>{E&&de(E.id,W.id),ue.success(s("playlist.movedToFolder",{item:E?.name,folder:W.name})),P(!1),G(null)},children:Te.length>0?`${Te.join(" / ")} / ${W.name}`:W.name},W.id))}),c.jsx(qn,{children:c.jsx(ce,{variant:"outline",onClick:()=>P(!1),children:s("common.cancel")})})]})}),c.jsx(Rn,{open:z,onOpenChange:N,children:c.jsxs(yn,{children:[c.jsxs(pn,{children:[c.jsx(vn,{children:L&&"songs"in L?s("playlist.renamePlaylist"):s("playlist.renameFolder")}),c.jsx(Ln,{children:s("playlist.enterNewName")})]}),c.jsx("div",{className:$e.spaceY4,children:c.jsx(Wa,{placeholder:s("playlist.enterName"),value:T,onChange:W=>C(W.target.value)})}),c.jsxs(qn,{children:[c.jsx(ce,{variant:"outline",onClick:()=>N(!1),children:s("common.cancel")}),c.jsx(ce,{onClick:()=>{L&&T.trim()&&(L.name=T.trim(),ue.success(L&&"songs"in L?s("playlist.playlistRenamed",{name:T.trim()}):s("playlist.folderRenamed",{name:T.trim()})),N(!1),R(null),C(""))},children:s("common.save")})]})]})}),c.jsx(Rn,{open:_,onOpenChange:p,children:c.jsxs(yn,{dontShowAgainKey:"delete-playlist-confirmation",children:[c.jsxs(pn,{children:[c.jsx(vn,{children:x&&"songs"in x?s("playlist.deletePlaylist"):s("playlist.deleteFolder")}),c.jsx(Ln,{children:x?"songs"in x?s("playlist.deletePlaylistConfirmation",{name:x.name}):s("playlist.deleteFolderConfirmation",{name:x.name}):""})]}),c.jsxs(qn,{children:[c.jsx(ce,{variant:"outline",onClick:()=>p(!1),children:s("common.cancel")}),c.jsx(ce,{variant:"destructive",onClick:ot,children:s("common.delete")})]})]})}),c.jsx(Rn,{open:Q,onOpenChange:K,children:c.jsxs(yn,{children:[c.jsxs(pn,{children:[c.jsx(vn,{children:s("playlist.createFolder")}),c.jsx(Ln,{children:s("playlist.enterFolderName")})]}),c.jsx("div",{className:$e.spaceY4,children:c.jsx(Wa,{placeholder:s("playlist.folderName"),value:re,onChange:W=>D(W.target.value)})}),c.jsxs(qn,{children:[c.jsx(ce,{variant:"outline",onClick:()=>{K(!1),D("")},children:s("common.cancel")}),c.jsx(ce,{onClick:()=>{re.trim()&&(oe(re.trim()),ue.success(s("playlist.folderCreated",{name:re.trim()})),K(!1),D(""))},children:s("common.create")})]})]})})]})};y.memo(Tb,(l,s)=>l.musicPlayerHook.library.playlists===s.musicPlayerHook.library.playlists&&l.musicPlayerHook.library.songs===s.musicPlayerHook.library.songs&&l.musicPlayerHook.library.favorites===s.musicPlayerHook.library.favorites);const NE="_sidebar_1sdop_1",DE="_collapsed_1sdop_15",ME="_expandButton_1sdop_28",zE="_header_1sdop_42",OE="_menuButton_1sdop_49",RE="_title_1sdop_57",LE="_footer_1sdop_160",kE="_footerButton_1sdop_167",BE="_noHover_1sdop_192",UE="_backdrop_1sdop_198",$E="_sidebarMobileOpen_1sdop_217",HE="_sidebarMobileClosed_1sdop_221",rn={sidebar:NE,collapsed:DE,expandButton:ME,header:zE,menuButton:OE,title:RE,footer:LE,footerButton:kE,noHover:BE,backdrop:UE,sidebarMobileOpen:$E,sidebarMobileClosed:HE},VE="40px",qE="250px",IE=y.memo(({musicPlayerHook:l,onCollapseChange:s,onShortcutsChanged:r,settingsOpen:u,onSettingsOpenChange:d,isMobileOpen:m,onMobileOpenChange:f})=>{const{t:g}=Mt(),[b,v]=y.useState(!1),[_,p]=y.useState(!1),[x,j]=y.useState(!1),{settings:I,updateSettings:A}=l;y.useEffect(()=>{const z=()=>{j(window.innerWidth<=768)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),y.useLayoutEffect(()=>{document.documentElement.style.setProperty("--sidebar-width",_?VE:qE)},[_]);const O=u!==void 0?u:!1,q=d||(()=>{}),P=()=>{v(!0)},E=()=>{q(!O)},G=()=>{if(x)f?.(!1);else{const z=!_;p(z),s?.(z)}},H=()=>{p(!1),s?.(!1)},B=()=>{x&&f?.(!1)};return _&&!x?c.jsx("div",{className:`${rn.sidebar} ${rn.collapsed}`,onClick:H,children:c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${rn.expandButton} ${rn.noHover}`,onClick:H,"aria-label":g("expandSidebar"),children:c.jsx(ne,{name:"chevronRight",size:16,decorative:!0})})}):c.jsxs(c.Fragment,{children:[x&&m&&c.jsx("div",{className:rn.backdrop,onClick:B,"aria-label":g("closeSidebar")}),c.jsxs("div",{className:`${rn.sidebar} ${x&&m?rn.sidebarMobileOpen:""} ${x&&!m?rn.sidebarMobileClosed:""}`,children:[c.jsxs("div",{className:rn.header,children:[c.jsx(ce,{variant:"ghost",size:"icon-md",className:rn.menuButton,onClick:G,"aria-label":g("menu"),children:c.jsx(ne,{name:"menu",size:24,decorative:!0})}),c.jsx("h2",{className:rn.title,children:g("playlists")})]}),c.jsx(Tb,{musicPlayerHook:l}),c.jsxs("div",{className:rn.footer,children:[c.jsx(J_,{}),c.jsxs(ce,{variant:"ghost",className:rn.footerButton,onClick:P,children:[c.jsx(ne,{name:"info",size:16,decorative:!0}),g("aboutMenu")]}),c.jsxs(ce,{variant:"ghost",className:rn.footerButton,onClick:E,children:[c.jsx(ne,{name:"settings",size:16,decorative:!0}),g("settings.title")]}),c.jsx(JC,{open:O,onOpenChange:q,settings:I,onSettingsChange:A,onShortcutsChanged:r})]}),c.jsx(Rn,{open:b,onOpenChange:v,children:c.jsxs(yn,{children:[c.jsxs(pn,{children:[c.jsx(vn,{children:g("aboutHTMLPlayer")}),c.jsx(Ln,{children:g("aboutHTMLPlayerDesc")})]}),c.jsx(qn,{children:c.jsx(ce,{onClick:()=>v(!1),children:g("common.close")})})]})})]})]})},(l,s)=>l.musicPlayerHook.library.playlists===s.musicPlayerHook.library.playlists&&l.musicPlayerHook.library.songs===s.musicPlayerHook.library.songs&&l.musicPlayerHook.library.favorites===s.musicPlayerHook.library.favorites&&l.musicPlayerHook.settings===s.musicPlayerHook.settings&&l.settingsOpen===s.settingsOpen&&l.isMobileOpen===s.isMobileOpen),Cb=({songs:l,library:s,onCreatePlaylist:r,onAddToPlaylist:u,onAddToFavorites:d,isFavorited:m,open:f,onOpenChange:g})=>{const{t:b}=Mt(),[v,_]=y.useState(""),[p,x]=y.useState(""),[j,I]=y.useState(!1),A=B=>{const z=[];for(const N of B)"children"in N?z.push(...A(N.children)):"songs"in N&&z.push(N);return z},O=A(s.playlists).filter(B=>B.id!=="all-songs"),q=v?O.filter(B=>B.name.toLowerCase().includes(v.toLowerCase())):O,P=B=>{let z=0,N=0;l.forEach(L=>{B.songs.some(T=>T.id===L.id)?N++:(u(B.id,L.id),z++)}),z>0&&ue.success(l.length===1?b("addedToPlaylist",{song:l[0].title,playlist:B.name}):b("playlist.addedToExisting",{count:z})),N>0&&ue.info(l.length===1?b("songAlreadyInPlaylist",{song:l[0].title,playlist:B.name}):b("playlist.someAlreadyInPlaylist",{count:N})),g(!1),_("")},E=()=>{if(!p.trim()){ue.error(b("playlist.enterPlaylistName"));return}const B=r(p,l);ue.success(l.length===1?b("createdNewPlaylistAddedSong",{playlist:B.name,song:l[0].title}):b("playlist.created",{name:B.name,count:l.length})),x(""),I(!1),g(!1),_("")},G=()=>{if(!d)return;let B=0,z=0;l.forEach(N=>{m&&m(N.id)?z++:(d(N.id),B++)}),B>0&&ue.success(l.length===1?b("favorites.added",{title:l[0].title}):b("favorites.addedMultiple",{count:B})),z>0&&l.length>1&&ue.info(b("favorites.someAlreadyAdded",{count:z})),g(!1)},H=()=>{g(!1),_(""),I(!1),x("")};return c.jsx(Rn,{open:f,onOpenChange:H,children:c.jsxs(yn,{children:[c.jsxs(pn,{children:[c.jsx(vn,{children:b("actions.addTo")}),c.jsx(Ln,{children:l.length===1?b("choosePlaylistOrCreate",{song:l[0].title}):b("choosePlaylistOrCreateMultiple",{count:l.length})})]}),j?c.jsxs("div",{className:$e.spaceY4,children:[c.jsx(Wa,{placeholder:b("playlist.enterPlaylistName"),value:p,onChange:B=>x(B.target.value),onKeyDown:B=>{B.key==="Enter"&&E()},autoFocus:!0}),c.jsxs("div",{className:`${$e.flex} ${$e.gap2}`,children:[c.jsx(ce,{variant:"outline",onClick:()=>{I(!1),x("")},children:b("common.cancel")}),c.jsx(ce,{onClick:E,children:b("playlist.createPlaylist")})]})]}):c.jsxs("div",{className:$e.spaceY4,children:[d&&c.jsxs("div",{className:$e.spaceY2,children:[c.jsxs(ce,{variant:"outline",className:`${$e["w-full"]} ${$e["justify-start"]}`,onClick:G,children:[c.jsx(ne,{name:"heart",size:16,className:"mr-2",decorative:!0}),b("favorites.addToFavorites")]}),c.jsxs(ce,{variant:"outline",className:`${$e["w-full"]} ${$e["justify-start"]}`,onClick:()=>I(!0),children:[c.jsx(ne,{name:"plusCircle",size:16,className:"mr-2",decorative:!0}),b("playlist.createNewPlaylist")]})]}),!d&&c.jsxs(ce,{variant:"outline",className:`${$e["w-full"]} ${$e["justify-start"]}`,onClick:()=>I(!0),children:[c.jsx(ne,{name:"plusCircle",size:16,className:"mr-2",decorative:!0}),b("playlist.createNewPlaylist")]}),O.length>0&&c.jsx("div",{style:{borderTop:"1px solid var(--border)",margin:"var(--spacing-2) 0"}}),O.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{position:"relative"},children:[c.jsx(ne,{name:"search",size:16,style:{position:"absolute",left:"var(--spacing-3)",top:"50%",transform:"translateY(-50%)",color:"var(--muted-foreground)",pointerEvents:"none"},decorative:!0}),c.jsx(Wa,{placeholder:b("playlist.searchPlaylists"),value:v,onChange:B=>_(B.target.value),style:{paddingLeft:"calc(var(--spacing-3) + 16px + var(--spacing-2))"}})]}),c.jsx("div",{className:$e.spaceY2,style:{maxHeight:"300px",overflowY:"auto",paddingRight:"var(--spacing-2)"},children:q.length>0?q.map(B=>c.jsxs(ce,{variant:"outline",className:`${$e["w-full"]} ${$e["justify-start"]}`,onClick:()=>P(B),children:[c.jsx(ne,{name:"music",size:16,className:"mr-2",decorative:!0}),B.name]},B.id)):c.jsx("p",{className:$e.muted,children:b("search.noPlaylistsFound")})})]}),O.length===0&&c.jsx("p",{className:$e.muted,children:b("playlist.noPlaylists")})]})]})})},wb=({song:l,library:s,onCreatePlaylist:r,onAddToPlaylist:u,onAddToFavorites:d,isFavorited:m,onRemoveSong:f,size:g=16,className:b="",open:v,onOpenChange:_})=>{const{t:p}=Mt(),[x,j]=y.useState(!1),[I,A]=y.useState(!1),[O,q]=y.useState(!1),[P,E]=y.useState(!1),G=v!==void 0?v:P,H=_||E,B=me=>{const Ne=Math.round(me),Ke=Math.floor(Ne/60),ot=Ne%60;return`${Ke}:${ot.toString().padStart(2,"0")}`},z=me=>{if(typeof me!="number"||!Number.isFinite(me)||me<=0)return null;const Ne=Math.round(me/1e3);return p("songInfo.kbps",{value:Ne.toLocaleString()})},N=me=>{if(typeof me!="number"||!Number.isFinite(me)||me<=0)return null;const Ne=me/1e3,Ke=Ne>=100?Ne.toFixed(0):Ne>=10?Ne.toFixed(1):Ne.toFixed(2);return p("songInfo.khz",{value:Ke})},L=me=>typeof me!="number"||!Number.isFinite(me)||me<=0?null:me===1?p("songInfo.channelMono"):me===2?p("songInfo.channelStereo"):p("songInfo.channelCount",{count:me}),R=me=>typeof me!="number"||!Number.isFinite(me)||me<=0?null:p("songInfo.bitDepthValue",{value:me}),T=me=>me?.trim()||null,C=me=>typeof me!="boolean"?null:p(me?"songInfo.yes":"songInfo.no"),Q=l.encoding?.sampleRate,K=me=>{if(typeof me!="number"||!Number.isFinite(me)||me<=0)return null;const Ne=p("songInfo.samples",{count:Math.round(me),defaultValue:`${Math.round(me).toLocaleString()} samples`});if(typeof Q=="number"&&Number.isFinite(Q)&&Q>0){const Ke=me/Q*1e3,ot=Ke>=100?0:Ke>=10?1:2,he=(Math.round(Ke*Math.pow(10,ot))/Math.pow(10,ot)).toFixed(ot);return`${Ne} (${p("songInfo.ms",{value:he})})`}return Ne},re=[{label:p("songInfo.title"),value:l.title},{label:p("common.artist"),value:l.artist},{label:p("common.album"),value:l.album},{label:p("common.duration"),value:B(l.duration)}],D=T(l.encoding?.codec)??p("songInfo.notAvailable"),$=z(l.encoding?.bitrate)??p("songInfo.notAvailable"),X=N(l.encoding?.sampleRate)??p("songInfo.notAvailable"),le=L(l.encoding?.channels)??p("songInfo.notAvailable"),oe=R(l.encoding?.bitsPerSample)??p("songInfo.notAvailable"),ve=[{label:p("songInfo.codec"),value:D},{label:p("songInfo.bitrate"),value:$},{label:p("songInfo.sampleRate"),value:X},{label:p("songInfo.channels"),value:le},{label:p("songInfo.bitDepth"),value:oe}];l.encoding?.container?.trim()&&ve.push({label:p("songInfo.container"),value:l.encoding.container.trim()}),l.encoding?.profile?.trim()&&ve.push({label:p("songInfo.profile"),value:l.encoding.profile.trim()});const de=C(l.encoding?.lossless);de&&ve.push({label:p("songInfo.lossless"),value:de});const fe=[{label:p("songInfo.encoderDelay"),value:K(l.gapless?.encoderDelay)},{label:p("songInfo.encoderPadding"),value:K(l.gapless?.encoderPadding)}].filter(me=>!!me.value),_e=me=>c.jsx("dl",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr) auto",columnGap:"var(--spacing-6)",rowGap:"var(--spacing-2)"},children:me.map(({label:Ne,value:Ke})=>c.jsxs(y.Fragment,{children:[c.jsx("dt",{style:{fontWeight:600},children:Ne}),c.jsx("dd",{style:{margin:0,textAlign:"right",color:"var(--muted-foreground)"},children:Ke})]},`${Ne}-${Ke}`))}),et=()=>q(!0),Re=async()=>{const me={title:`${l.title} - ${l.artist}`,text:p("listenToSong",{song:l.title,artist:l.artist}),url:window.location.href};try{if(navigator.share&&navigator.canShare&&navigator.canShare(me))await navigator.share(me),ue.success(p("songShared"));else{const Ne=` ${me.title}
${me.text}
${me.url}`;await navigator.clipboard.writeText(Ne),ue.success(p("songInfoCopied"))}}catch(Ne){console.error("Failed to share:",Ne);try{await navigator.clipboard.writeText(`${l.title} by ${l.artist}`),ue.success(p("songInfoCopied"))}catch(Ke){console.error("Failed to copy to clipboard:",Ke),ue.error(p("songShareFailed"))}}},it=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{view:"artist",value:l.artist}}))},mt=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{view:"album",value:l.album}}))},Tt=async()=>{const{musicIndexedDbHelper:me}=await Me(async()=>{const{musicIndexedDbHelper:Ke}=await Promise.resolve().then(()=>Pr);return{musicIndexedDbHelper:Ke}},void 0,import.meta.url);if(!await me.shouldShowDialog("delete-song-confirmation")){f(l.id),ue.success(p("deletedFromLibrary",{song:l.title}));return}A(!0)},rt=()=>{f(l.id),ue.success(p("deletedFromLibrary",{song:l.title})),A(!1)};return c.jsxs(us,{open:G,onOpenChange:H,children:[c.jsx(ds,{asChild:!0,children:c.jsx(ce,{variant:"ghost",size:"icon-sm",className:b,title:p("moreOptions"),onClick:me=>me.stopPropagation(),children:c.jsx(ne,{name:"moreHorizontal",size:g,decorative:!0})})}),c.jsxs(Cl,{align:"end",sideOffset:8,children:[c.jsxs(vt,{onClick:()=>j(!0),children:[c.jsx(ne,{name:"plus",size:g,style:{marginRight:8},decorative:!0}),p("playlist.addTo")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:et,children:[c.jsx(ne,{name:"info",size:g,style:{marginRight:8},decorative:!0}),p("songInfo.songInfoTitle")]}),c.jsxs(vt,{onClick:Re,children:[c.jsx(ne,{name:"share",size:g,style:{marginRight:8},decorative:!0}),p("share")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:it,children:[c.jsx(ne,{name:"user",size:g,style:{marginRight:8},decorative:!0}),p("goToArtist")]}),c.jsxs(vt,{onClick:mt,children:[c.jsx(ne,{name:"music",size:g,style:{marginRight:8},decorative:!0}),p("goToAlbum")]}),c.jsx(na,{}),c.jsxs(vt,{onClick:Tt,className:$e.delete,children:[c.jsx(ne,{name:"trash2",size:g,style:{marginRight:8},decorative:!0}),p("deleteFromLibrary")]})]}),c.jsx(Cb,{songs:[l],library:s,onCreatePlaylist:r,onAddToPlaylist:u,onAddToFavorites:d,isFavorited:m,open:x,onOpenChange:j}),c.jsx(Rn,{open:I,onOpenChange:A,children:c.jsxs(yn,{dontShowAgainKey:"delete-song-confirmation",children:[c.jsxs(pn,{children:[c.jsx(vn,{children:p("deleteSong")}),c.jsx(Ln,{children:p("deleteSongConfirmation",{song:l.title})})]}),c.jsxs(qn,{children:[c.jsx(ce,{variant:"outline",onClick:()=>A(!1),children:p("common.cancel")}),c.jsx(ce,{variant:"destructive",onClick:rt,children:p("common.delete")})]})]})}),c.jsx(Rn,{open:O,onOpenChange:q,children:c.jsxs(yn,{children:[c.jsxs(pn,{children:[c.jsx(vn,{children:p("songInformation")}),c.jsx(Ln,{children:p("songInformationDescription")})]}),c.jsxs("div",{style:{display:"flex",gap:"var(--spacing-4)"},children:[l.albumArt&&c.jsx("img",{src:l.albumArt,alt:l.album,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"var(--radius-2)"}}),c.jsxs("div",{className:$e.spaceY4,style:{flex:1},children:[c.jsx("div",{children:_e(re)}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:0,marginBottom:"var(--spacing-2)",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.08em",color:"var(--muted-foreground)"},children:p("songInfo.encodingDetails")}),_e(ve)]}),fe.length>0&&c.jsxs("div",{children:[c.jsx("h4",{style:{margin:0,marginBottom:"var(--spacing-2)",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.08em",color:"var(--muted-foreground)"},children:p("songInfo.gapless")}),_e(fe)]})]})]}),c.jsx(qn,{children:c.jsx(ce,{onClick:()=>q(!1),children:p("common.close")})})]})})]})};function FE(l){if(!l)return;const s={bitrate:typeof l.bitrate=="number"?l.bitrate:void 0,codec:typeof l.codec=="string"?l.codec:void 0,sampleRate:typeof l.sampleRate=="number"?l.sampleRate:void 0,channels:typeof l.numberOfChannels=="number"?l.numberOfChannels:void 0,bitsPerSample:typeof l.bitsPerSample=="number"?l.bitsPerSample:void 0,container:typeof l.container=="string"?l.container:void 0,lossless:typeof l.lossless=="boolean"?l.lossless:void 0,profile:typeof l.codecProfile=="string"?l.codecProfile:void 0};return Object.values(s).some(r=>r!==void 0)?s:void 0}function jb(l){if(typeof l=="string")return l;if(l instanceof Uint8Array)try{return new TextDecoder("utf-8",{fatal:!1}).decode(l)}catch{return null}return Array.isArray(l)&&l.length>0?jb(l[0]):null}function gg(l){const s=jb(l);if(!s)return null;const r=s.trim();if(!r)return null;const u=r.match(/[0-9A-Fa-f]{8}/g);if(!u||u.length<3)return null;const d=u[1],m=u[2],f=Number.parseInt(d,16),g=Number.parseInt(m,16),b={};return Number.isFinite(f)&&f>0&&(b.encoderDelay=f),Number.isFinite(g)&&g>0&&(b.encoderPadding=g),Object.keys(b).length>0?b:null}function PE(l){if(!l)return;let s;const r=l.format??{},u=typeof r.encoderDelay=="number"?r.encoderDelay:void 0;typeof u=="number"&&Number.isFinite(u)&&u>0&&(s={...s??{},encoderDelay:u});const d=typeof r.encoderPadding=="number"?r.encoderPadding:void 0;typeof d=="number"&&Number.isFinite(d)&&d>0&&(s={...s??{},encoderPadding:d});for(const m of Object.values(l?.native??{}))if(Array.isArray(m))for(const f of m){const g=typeof f?.id=="string"?f.id.toUpperCase():"";if(g){if(g==="ITUNSMPB"||g.endsWith(":ITUNSMPB")){const b=gg(f?.value);b&&(s={...s??{},...b});continue}if(g==="MP4:----:COM.APPLE.ITUNES:ITUNSMPB"||g==="----:COM.APPLE.ITUNES:ITUNSMPB"){const b=gg(f?.value);b&&(s={...s??{},...b})}}}return s}let Eb=!1;const yg=l=>{Eb&&(l.preventDefault(),l.returnValue="")};function pg(l){Eb=l,l?window.addEventListener("beforeunload",yg):window.removeEventListener("beforeunload",yg)}async function vg(l,s,r,u){let d=null;for(let m=1;m<=r;m++)try{const f=new Promise((g,b)=>{setTimeout(()=>b(new Error(`Timeout: ${u}`)),s)});return await Promise.race([l,f])}catch(f){if(d=f instanceof Error?f:new Error(String(f)),console.warn(`Attempt ${m} failed: ${d.message}`),m===r)throw d}throw d||new Error("Unknown error after retries")}function YE(){return new Promise(l=>{const s=()=>{const{t:d}=Mt(),[m]=y.useState(()=>new M_({autoProceed:!1,restrictions:{maxNumberOfFiles:null,allowedFileTypes:[".mp3",".wav",".m4a",".flac",".aif",".aiff",".ogg","audio/*"]}})),[f,g]=y.useState(!0),[b,v]=y.useState(document.documentElement.classList.contains("dark")?"dark":"light");return y.useEffect(()=>{const _=new MutationObserver(()=>{const p=document.documentElement.classList.contains("dark")?"dark":"light";v(p)});return _.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>_.disconnect()},[]),y.useEffect(()=>{const _=[],p=j=>{const I=GE([j.data]);I.length===0?m.removeFile(j.id):_.push(...I)},x=()=>{l(_),g(!1)};return m.on("file-added",p),m.on("complete",x),()=>{m.off("file-added",p),m.off("complete",x),m.cancelAll()}},[m]),c.jsx(qu,{defaultSetId:"lucide",children:c.jsx(Rn,{open:f,onOpenChange:_=>{g(_),_||(m.cancelAll(),l([]))},children:c.jsxs(yn,{children:[c.jsx(pn,{children:c.jsx(vn,{children:d("filePicker.selectAudioFiles")})}),c.jsx("div",{"data-uppy-theme":b,children:c.jsx(z_,{uppy:m,proudlyDisplayPoweredByUppy:!0,hideUploadButton:!1,hideCancelButton:!0,hideProgressDetails:!1,note:d("filePicker.onlyAudioFiles")})},b)]})})})},r=document.createElement("div");document.body.appendChild(r),$g.createRoot(r).render(c.jsx(s,{}))})}function GE(l){const s=[],r=document.createElement("audio"),u=["mp3","wav","m4a","flac","aif","aiff","ogg"];for(const d of l){const m=d.name.split(".").pop()?.toLowerCase();if(!d.type.startsWith("audio/")&&!(m&&u.includes(m))){ue.error(`Skipping non-audio file: ${d.name}`);continue}const f=r.canPlayType(d.type);if(f!=="probably"&&f!=="maybe"){ue.error(`Skipping unsupported audio format by browser: ${d.name} (${d.type})`);continue}s.push({file:d,name:d.name,size:d.size,type:d.type})}return s}async function XE(l){pg(!0);const s=new Worker(new URL(""+new URL("metadataWorker-rKmvznKw.js",import.meta.url).href,import.meta.url),{type:"module"});try{return await vg(new Promise((u,d)=>{s.onmessage=m=>{const{metadata:f,albumArt:g,warnings:b,error:v}=m.data;if(v)d(new Error(v));else{const _={...f,artist:f.artist==="__UNKNOWN_ARTIST__"?Ye.t("common.unknownArtist"):f.artist,album:f.album==="__UNKNOWN_ALBUM__"?Ye.t("common.unknownAlbum"):f.album,albumArt:g,metadataWarnings:Array.isArray(b)?b:void 0};if(Array.isArray(b)&&b.length>0)for(const p of b)console.warn(`Metadata warning for ${l.name}:`,p);u(_)}},s.onerror=m=>d(new Error("Worker error: "+m.message)),s.postMessage({file:l,fileName:l.name})}),15e3,3,`Metadata extraction for ${l.name}`)}catch(r){console.warn(`Failed to read metadata for ${l.name}:`,r);const u=l.name.replace(/\.[^/.]+$/,"");let d=u,m=Ye.t("common.unknownArtist"),f=Ye.t("common.unknownAlbum"),g=0,b,v,_;try{const p=await vg(C_(l,{skipCovers:!1,duration:!0}),15e3,3,`Fallback metadata parsing for ${l.name}`);if(p.common){typeof p.common.artist=="string"&&(m=p.common.artist),typeof p.common.title=="string"&&(d=p.common.title),typeof p.common.album=="string"&&(f=p.common.album),g=p.format.duration??0,v=FE(p.format),_=PE(p);const x=w_(p.common.picture);if(x&&x.data.length>0){const j=new Blob([new Uint8Array(x.data)],{type:x.format});b=await new Promise((I,A)=>{const O=new FileReader;O.onloadend=()=>I(O.result),O.onerror=()=>A(new Error("Failed to read album art")),O.readAsDataURL(j)})}}}catch{if(u.includes(" - ")){const p=u.split(" - ");p.length>=2&&(m=p[0].trim(),d=p[1].trim())}}return{title:d,artist:m,album:f,duration:g,albumArt:b,encoding:v,gapless:_}}finally{s.terminate(),pg(!1)}}function QE(l){return URL.createObjectURL(l)}function KE(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}const ZE="_mainContent_hgzmk_2",JE="_mainContentWrapper_hgzmk_12",WE="_header_hgzmk_19",eA="_titleArea_hgzmk_34",tA="_mobileMenuButton_hgzmk_41",nA="_title_hgzmk_34",aA="_backLink_hgzmk_55",lA="_actions_hgzmk_71",sA="_searchWrapper_hgzmk_79",iA="_searchIcon_hgzmk_84",rA="_searchInput_hgzmk_93",oA="_actionButton_hgzmk_106",cA="_sortingControls_hgzmk_129",uA="_sortControls_hgzmk_136",dA="_sortPresets_hgzmk_144",fA="_sortIndicators_hgzmk_149",mA="_sortColumn_hgzmk_155",hA="_sorted_hgzmk_172",gA="_arrows_hgzmk_177",yA="_active_hgzmk_188",pA="_desktopOnly_hgzmk_194",vA="_mobileOnly_hgzmk_198",bA="_songList_hgzmk_228",SA="_songListWrapper_hgzmk_234",_A="_songListHeader_hgzmk_241",xA="_columnHeader_hgzmk_249",TA="_songItem_hgzmk_258",CA="_currentSong_hgzmk_275",wA="_songInfo_hgzmk_285",jA="_albumArt_hgzmk_291",EA="_songDetails_hgzmk_326",AA="_songTitle_hgzmk_332",NA="_songArtist_hgzmk_340",DA="_albumName_hgzmk_346",MA="_songActions_hgzmk_362",zA="_songDropZone_hgzmk_368",OA="_songActionButton_hgzmk_380",RA="_favorited_hgzmk_394",LA="_noResults_hgzmk_399",kA="_fieldLabel_hgzmk_524",dt={mainContent:ZE,mainContentWrapper:JE,header:WE,titleArea:eA,mobileMenuButton:tA,title:nA,backLink:aA,actions:lA,searchWrapper:sA,searchIcon:iA,searchInput:rA,actionButton:oA,sortingControls:cA,sortControls:uA,sortPresets:dA,sortIndicators:fA,sortColumn:mA,sorted:hA,arrows:gA,active:yA,desktopOnly:pA,mobileOnly:vA,songList:bA,songListWrapper:SA,songListHeader:_A,columnHeader:xA,songItem:TA,currentSong:CA,songInfo:wA,albumArt:jA,songDetails:EA,songTitle:AA,songArtist:NA,albumName:DA,songActions:MA,songDropZone:zA,songActionButton:OA,favorited:RA,noResults:LA,fieldLabel:kA},BA="_persistentDropdown_1envf_1",UA="_content_1envf_6",bg={persistentDropdown:BA,content:UA},Sg=y.forwardRef(({children:l,trigger:s,onClose:r,enableRightClick:u=!1},d)=>{const[m,f]=y.useState(!1),g=y.useRef(null),b=()=>{f(!m)},v=()=>{f(!1),r()};y.useImperativeHandle(d,()=>({close:v}));const _=p=>{u&&(p.preventDefault(),p.stopPropagation(),f(!0))};return y.useEffect(()=>{const p=x=>{g.current&&g.current.contains(x.target)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[l,b,r]),c.jsxs("div",{className:bg.persistentDropdown,ref:g,onContextMenu:_,children:[c.jsx("div",{onClick:()=>{b()},children:s}),m&&c.jsx("div",{className:bg.content,children:l})]})});async function Ab(l,s,r){if(!l||l.length===0)return;const u=20;let d=0,m=0,f=1;const g=Math.ceil(l.length/u);for(let b=0;b<l.length;b+=u){const v=l.slice(b,b+u);ue.loading(r("batch.processing",{currentBatch:f,totalBatches:g}));const _=v.map(async p=>{try{const x=p.file||p,j=await XE(x),I=QE(x),A={id:KE(),title:j.title,artist:j.artist,album:j.album||r("songInfo.album",{title:r("common.unknownAlbum")}),duration:j.duration,url:I,albumArt:j.albumArt,embeddedLyrics:j.embeddedLyrics,encoding:j.encoding,gapless:j.gapless};await s(A),URL.revokeObjectURL(I),typeof p=="object"&&"file"in p&&(p.file=null),d++}catch{m++}});await Promise.all(_),f++}ue.dismiss(),d>0&&ue.success(r("filePicker.successImport",{count:d})),m>0&&ue.error(r("filePicker.failedImport",{count:m}))}const $A=({song:l,isCurrent:s,isSelected:r,onClick:u,onCheckboxChange:d,isSelectActive:m,ratings:f,onRatingChange:g,onFavoriteToggle:b,isFavorited:v,formatDuration:_,styles:p,SongActionsDropdown:x,library:j,createPlaylist:I,addToPlaylist:A,playSong:O,removeSong:q,isInPlaylist:P})=>{const{t:E}=Mt(),{open:G,setOpen:H,containerRef:B}=Du(!0),z=c.jsxs("div",{className:`${p.songItem} ${s?p.currentSong:""}`,onClick:u,ref:B,children:[c.jsxs("div",{className:p.songInfo,children:[m&&c.jsx(Yu,{checked:r,onChange:d}),c.jsx("div",{className:p.albumArt,children:l.albumArt&&c.jsx("img",{src:l.albumArt,alt:E("player.albumArtAlt",{title:l.title}),style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"}})}),c.jsxs("div",{className:p.songDetails,children:[c.jsx("div",{className:p.songTitle,children:l.title}),c.jsxs("div",{className:p.songArtist,children:[c.jsxs("span",{className:`${p.fieldLabel}`,children:[E("common.album"),": "]}),l.album||E("common.unknownAlbum"),c.jsxs("span",{className:`${p.fieldLabel} ${p.desktopOnly}`,children:[" ",E("common.duration"),": ",_(l.duration)]})]}),c.jsxs("div",{className:`${p.albumName} ${p.mobileOnly}`,children:[c.jsxs("span",{className:p.fieldLabel,children:[E("common.artist"),": "]}),l.artist]})]})]}),c.jsx("div",{className:`${p.albumName} ${p.desktopOnly}`,children:l.artist}),c.jsxs("div",{className:p.songActions,children:[c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${p.songActionButton} ${v?p.favorited:""}`,onClick:N=>{N.stopPropagation(),b(N)},children:c.jsx(ne,{name:"heart",size:14,fill:v?"currentColor":"none",decorative:!0})}),c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${p.songActionButton} ${f[l.id]==="thumbs-up"?p.active:""}`,onClick:N=>{N.stopPropagation(),g("thumbs-up")},children:c.jsx(ne,{name:"thumbsUp",size:14,decorative:!0})}),c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${p.songActionButton} ${f[l.id]==="thumbs-down"?p.active:""}`,onClick:N=>{N.stopPropagation(),g("thumbs-down")},children:c.jsx(ne,{name:"thumbsDown",size:14,decorative:!0})}),c.jsx(x,{song:l,library:j,onCreatePlaylist:I,onAddToPlaylist:A,onRemoveSong:q,onPlaySong:O,size:14,className:p.songActionButton,open:G,onOpenChange:H})]})]});return c.jsx(Bu,{id:l.id,type:"song",data:l,children:P?c.jsx(Uu,{id:l.id,type:"song",data:l,className:p.songDropZone,children:z}):z})},HA=({musicPlayerHook:l,onMobileMenuClick:s})=>{const{t:r}=Mt(),[u,d]=y.useState(""),[m,f]=y.useState(null),[g,b]=y.useState("asc"),[v,_]=y.useState({}),[p,x]=y.useState(!1),[j,I]=y.useState(null),[A,O]=y.useState([]),[q,P]=y.useState(!1),[E,G]=y.useState(!1),H=Fe.useRef(null),{playerState:B,library:z,playSong:N,addSong:L,removeSong:R,toggleFavorite:T,isFavorited:C,createPlaylist:Q,addToPlaylist:K,navigateToArtist:re,navigateToAlbum:D,navigateToSongs:$}=l;Fe.useEffect(()=>{const he=Ee=>{Ee.detail.view==="artist"?re(Ee.detail.value):Ee.detail.view==="album"&&D(Ee.detail.value)};return window.addEventListener("navigate",he),()=>window.removeEventListener("navigate",he)},[re,D]),Fe.useEffect(()=>{B.currentPlaylist&&(f(null),b("asc"))},[B.currentPlaylist]);const le=Fe.useMemo(()=>B.view==="artist"&&B.currentArtist?z.songs.filter(he=>he.artist===B.currentArtist):B.view==="album"&&B.currentAlbum?z.songs.filter(he=>he.album===B.currentAlbum):B.currentPlaylist?B.currentPlaylist.songs:z.songs,[B.view,B.currentArtist,B.currentAlbum,B.currentPlaylist,z.songs]).filter(he=>he.title.toLowerCase().includes(u.toLowerCase())||he.artist.toLowerCase().includes(u.toLowerCase())),oe=Fe.useMemo(()=>{let he=[...le];return m&&he.sort((Ee,Ve)=>{let ct,we;switch(m){case"name":ct=Ee.title.toLowerCase(),we=Ve.title.toLowerCase();break;case"artist":ct=Ee.artist.toLowerCase(),we=Ve.artist.toLowerCase();break;case"album":ct=Ee.album?.toLowerCase()||"",we=Ve.album?.toLowerCase()||"";break;case"rating":ct=v[Ee.id]==="thumbs-up"?1:v[Ee.id]==="thumbs-down"?-1:0,we=v[Ve.id]==="thumbs-up"?1:v[Ve.id]==="thumbs-down"?-1:0;break;default:return 0}return ct<we?g==="asc"?-1:1:ct>we?g==="asc"?1:-1:0}),he},[le,m,g,v]),ve=he=>d(he),de=he=>{N(he,B.currentPlaylist||void 0)},fe=(he,Ee)=>{const ct=v[he]===Ee?"none":Ee;_(we=>({...we,[he]:ct}))},_e=(he,Ee)=>{he.stopPropagation();const Ve=T(Ee),ct=z.songs.find(we=>we.id===Ee);ct&&ue.success(Ve?r("favorites.added",{title:ct.title}):r("favorites.removed",{title:ct.title}))},et=async()=>{if(le.length===0){ue.error(r("delete.noSongs"));return}if(!await On.shouldShowDialog("delete-song-confirmation")){const Ee=le[0];R(Ee.id),ue.success(r("deletedFromLibrary",{song:Ee.title}));return}I(le[0]),x(!0)},Re=()=>{j&&(R(j.id),ue.success(r("deletedFromLibrary",{song:j.title})),x(!1),I(null))},it=()=>{x(!1),I(null)},mt=async he=>{await Ab(he,L,r)},Tt=async()=>{try{ue.info(r("filePicker.selectFiles"));const he=await YE();await mt(he)}catch{ue.dismiss(),ue.error(r("filePicker.failedOpen"))}},rt=he=>{const Ee=Math.floor(he/60),Ve=Math.round(he%60);return`${Ee}:${Ve.toString().padStart(2,"0")}`},me=()=>{P(he=>!he),O([])},Ne=()=>{A.length===oe.length?O([]):O(oe.map(he=>he.id))},Ke=()=>G(!0),ot=()=>{A.forEach(he=>R(he)),ue.success(r("deletedFromLibrary",{song:A.length})),O([])};return c.jsxs("div",{className:dt.mainContentWrapper,children:[c.jsxs("div",{className:dt.header,children:[c.jsxs("div",{className:dt.titleArea,children:[c.jsx(ce,{variant:"ghost",size:"icon-md",className:dt.mobileMenuButton,onClick:s,"aria-label":r("menu"),children:c.jsx(ne,{name:"menu",size:24,decorative:!0})}),B.view==="songs"?c.jsx("h1",{className:dt.title,children:"HTMLPlayer"}):B.view==="artist"?c.jsxs(c.Fragment,{children:[c.jsx(ce,{variant:"link",onClick:$,className:dt.backLink,children:r("actions.back")}),c.jsx("h1",{className:dt.title,children:`${r("common.artist")}: ${B.currentArtist}`})]}):B.view==="album"?c.jsxs(c.Fragment,{children:[c.jsx(ce,{variant:"link",onClick:$,className:dt.backLink,children:r("actions.back")}),c.jsx("h1",{className:dt.title,children:`${r("common.album")}: ${B.currentAlbum}`})]}):null]}),c.jsxs("div",{className:dt.actions,children:[c.jsxs("div",{className:dt.searchWrapper,children:[c.jsx(ne,{name:"search",className:dt.searchIcon,size:16,decorative:!0}),c.jsx(Wa,{placeholder:r("search.placeholder"),className:dt.searchInput,value:u,onChange:he=>ve(he.target.value)})]}),c.jsx(ce,{variant:"outline",size:"icon-md",className:dt.actionButton,onClick:et,"aria-label":r("actions.delete"),children:c.jsx(ne,{name:"trash2",size:16,decorative:!0})}),c.jsxs(Sg,{ref:H,trigger:c.jsx(ce,{variant:"outline",size:"icon-md",className:dt.actionButton,"aria-label":r("sort.sortBy"),children:c.jsx(ne,{name:"arrowUpDown",size:16,decorative:!0})}),onClose:()=>{},children:[c.jsxs(ce,{variant:"ghost",onClick:()=>f("name"),className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"type",size:16,className:"mr-2",decorative:!0}),r("sort.name"),m==="name"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(ce,{variant:"ghost",onClick:()=>f("artist"),className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"user",size:16,className:"mr-2",decorative:!0}),r("sort.artist"),m==="artist"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(ce,{variant:"ghost",onClick:()=>f("album"),className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"disc",size:16,className:"mr-2",decorative:!0}),r("sort.album"),m==="album"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsxs(ce,{variant:"ghost",onClick:()=>f("rating"),className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"star",size:16,className:"mr-2",decorative:!0}),r("sort.rating"),m==="rating"&&c.jsx("span",{className:"ml-auto",children:""})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs(ce,{variant:"ghost",onClick:()=>b(g==="asc"?"desc":"asc"),className:"w-full justify-start text-sm",children:[g==="asc"?c.jsx(ne,{name:"arrowUp",size:16,className:"mr-2",decorative:!0}):c.jsx(ne,{name:"arrowDown",size:16,className:"mr-2",decorative:!0}),r(g==="asc"?"sort.ascending":"sort.descending")]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs(ce,{variant:"ghost",onClick:()=>{f(null),H.current?.close()},className:"w-full justify-start text-sm",children:[c.jsx(ne,{name:"close",size:16,className:"mr-2",decorative:!0}),r("sort.clear")]})]}),c.jsxs(Sg,{trigger:c.jsx(ce,{variant:"outline",size:"icon-md",className:dt.actionButton,onClick:me,"aria-label":r("actions.selectSongs"),children:c.jsx(ne,{name:"listChecks",size:16,decorative:!0})}),onClose:()=>me(),children:[c.jsxs(ce,{variant:"ghost",onClick:Ne,children:[c.jsx(ne,{name:"listChecks",size:16,style:{marginRight:8},decorative:!0}),A.length===oe.length?r("actions.deselectAll"):r("actions.selectAll")]}),c.jsxs(ce,{variant:"ghost",onClick:Ke,children:[c.jsx(ne,{name:"plus",size:16,style:{marginRight:8},decorative:!0}),r("playlist.addTo")]}),c.jsxs(ce,{variant:"ghost",onClick:ot,children:[c.jsx(ne,{name:"trash2",size:16,style:{marginRight:8},decorative:!0}),r("common.delete")]})]}),c.jsx(ce,{variant:"outline",size:"icon-md",className:dt.actionButton,onClick:Tt,"aria-label":r("actions.addMusic"),children:c.jsx(ne,{name:"plus",size:16,decorative:!0})})]})]}),c.jsx("div",{className:dt.songListWrapper,children:c.jsxs("div",{className:dt.songList,children:[c.jsxs("div",{className:dt.songListHeader,children:[c.jsx("span",{className:dt.columnHeader,children:r("songInfo.title")}),c.jsx("span",{className:`${dt.columnHeader} ${dt.desktopOnly}`,children:r("common.artist")}),c.jsx("span",{className:dt.columnHeader,children:r("actions.addTo")})]}),oe.map(he=>c.jsx($A,{song:he,isCurrent:B.currentSong?.id===he.id,isSelected:A.includes(he.id),onClick:()=>de(he),onCheckboxChange:Ee=>{Ee.stopPropagation(),O(Ve=>Ve.includes(he.id)?Ve.filter(ct=>ct!==he.id):[...Ve,he.id])},isSelectActive:q,ratings:v,onRatingChange:Ee=>fe(he.id,Ee),onFavoriteToggle:Ee=>_e(Ee,he.id),isFavorited:C(he.id),formatDuration:rt,styles:dt,SongActionsDropdown:wb,library:z,createPlaylist:Q,addToPlaylist:K,playSong:N,isInPlaylist:!!B.currentPlaylist,removeSong:R},he.id)),oe.length===0&&c.jsx("div",{className:dt.noResults,children:r(u?"noResults.search":"noResults.playlist")})]})}),c.jsx(Rn,{open:p,onOpenChange:x,children:c.jsxs(yn,{dontShowAgainKey:"delete-song-confirmation",children:[c.jsxs(pn,{children:[c.jsx(vn,{children:r("delete.songTitle")}),c.jsx(Ln,{children:r("delete.confirm",{title:j?.title})})]}),c.jsxs(qn,{children:[c.jsx(ce,{variant:"outline",onClick:it,children:r("common.cancel")}),c.jsx(ce,{variant:"destructive",onClick:Re,children:r("common.delete")})]})]})}),c.jsx(Cb,{songs:A.map(he=>z.songs.find(Ee=>Ee.id===he)).filter(he=>he!==void 0),library:z,onCreatePlaylist:Q,onAddToPlaylist:K,open:E,onOpenChange:G})]})};var bi=x_();const VA="_visualizerContainer_187rc_1",qA="_canvas_187rc_10",IA="_controls_187rc_17",FA="_dropdownTrigger_187rc_27",PA="_settingsPanel_187rc_41",YA="_setting_187rc_41",GA="_dropdownContent_187rc_112",_l={visualizerContainer:VA,canvas:qA,controls:IA,dropdownTrigger:FA,settingsPanel:PA,setting:YA,dropdownContent:GA},XA=({analyserNode:l,isPlaying:s,className:r})=>{const{t:u}=Mt(),d=y.useRef(null),m=y.useRef(null),[f,g]=y.useState([]),[b,v]=y.useState(new Map),[_,p]=y.useState(""),[x,j]=y.useState(null),[I,A]=y.useState({}),[O,q]=y.useState(!1),[P,E]=y.useState(!1);y.useEffect(()=>{const z=O_();g(z),Promise.all(z.map(async N=>{const L=await qh(N);return{key:N,name:L?.name||N}})).then(N=>{const L=new Map(N.map(({key:R,name:T})=>[R,T]));v(L)}),z.length>0&&!_&&p(z[0])},[_]),y.useEffect(()=>{_&&(E(!0),qh(_).then(z=>{j(z),E(!1),z?.settingsConfig&&A(Object.entries(z.settingsConfig).reduce((N,[L,R])=>(N[L]=R.default,N),{}))}).catch(z=>{console.error("Failed to load visualizer:",z),E(!1)}))},[_]);const G=(z,N)=>{A(L=>({...L,[z]:N}))},H=y.useCallback(()=>{if(!l||!d.current||!x)return;const z=d.current,N=z.getContext("2d");if(!N)return;const L=l.frequencyBinCount,R=new Uint8Array(L);x.draw(l,z,N,L,R,x.dataType,I),m.current=requestAnimationFrame(H)},[l,x,I]);y.useEffect(()=>(s&&l&&x?m.current=requestAnimationFrame(H):m.current&&cancelAnimationFrame(m.current),()=>{m.current&&cancelAnimationFrame(m.current)}),[s,l,x,H]),y.useEffect(()=>{const z=d.current;if(!z)return;const N=new ResizeObserver(()=>{const{width:L,height:R}=z.getBoundingClientRect();z.width=L,z.height=R});return N.observe(z),()=>N.disconnect()},[]);const B=async z=>{p(z)};return c.jsxs("div",{className:`${_l.visualizerContainer} ${r??""}`,children:[c.jsx("canvas",{ref:d,className:_l.canvas}),c.jsxs("div",{className:_l.controls,children:[c.jsxs(us,{children:[c.jsx(ds,{asChild:!0,children:c.jsxs(ce,{variant:"outline",className:_l.dropdownTrigger,disabled:P,children:[c.jsx(ne,{name:"visualizerControls",size:16,decorative:!0,inline:!0}),c.jsx("span",{children:P?u("common.loading"):x?.name||u("visualizer.selectVisualizer")})]})}),c.jsx(Cl,{align:"start",className:_l.dropdownContent,children:c.jsx(AT,{value:_,onValueChange:B,children:f.map(z=>c.jsx(Iv,{value:z,children:b.get(z)||z},z))})})]}),x?.settingsConfig&&c.jsx(ce,{variant:"outline",size:"icon",onClick:()=>q(!O),children:c.jsx(ne,{name:"settings",size:16,decorative:!0,inline:!0})})]}),O&&x?.settingsConfig&&c.jsxs("div",{className:_l.settingsPanel,children:[c.jsxs("h4",{children:[x.name," ",u("settings.title")]}),Object.entries(x.settingsConfig).map(([z,N])=>c.jsxs("div",{className:_l.setting,children:[c.jsx("label",{htmlFor:z,children:u(`visualizers.${_}.settings.${z}`)}),N.type==="range"&&c.jsx("input",{type:"range",id:z,min:N.min,max:N.max,step:N.step,value:I[z]??N.default,onChange:L=>G(z,parseFloat(L.target.value))}),N.type==="number"&&c.jsx("input",{type:"number",id:z,min:N.min,max:N.max,step:N.step,value:I[z]??N.default,onChange:L=>G(z,parseFloat(L.target.value))})]},z))]})]})},QA="_lyricsOverlay_1qzg2_1",KA="_lyricsContainer_1qzg2_19",ZA="_lyricsHeader_1qzg2_25",JA="_lyricsTitle_1qzg2_39",WA="_lyricsSubtitle_1qzg2_46",eN="_lyricsCloseButton_1qzg2_53",tN="_lyricsContent_1qzg2_68",nN="_embeddedBody_1qzg2_69",aN="_lyricsText_1qzg2_82",lN="_unsyncedLyrics_1qzg2_83",sN="_embeddedContent_1qzg2_91",iN="_lyricsSelector_1qzg2_97",rN="_selector_1qzg2_101",oN="_syncedLyrics_1qzg2_111",cN="_lyricsLine_1qzg2_117",uN="_currentLine_1qzg2_126",dN="_timestamp_1qzg2_131",fN="_lineText_1qzg2_137",mN="_noLyrics_1qzg2_142",hN="_loading_1qzg2_151",gN="_error_1qzg2_155",yN="_retryButton_1qzg2_160",pt={lyricsOverlay:QA,lyricsContainer:KA,lyricsHeader:ZA,lyricsTitle:JA,lyricsSubtitle:WA,lyricsCloseButton:eN,lyricsContent:tN,embeddedBody:nN,lyricsText:aN,unsyncedLyrics:lN,embeddedContent:sN,lyricsSelector:iN,selector:rN,syncedLyrics:oN,lyricsLine:cN,currentLine:uN,timestamp:dN,lineText:fN,noLyrics:mN,loading:hN,error:gN,retryButton:yN},_g={lyrics:"",loading:!1,error:null},xg=l=>l.replace(/ - Topic$/i,"").replace(/\s*\[.*?\]$/i,"").trim(),pN=l=>s=>{if(!l)return s;const r=l.replace(/[.*+?^${}()|[\]\\]/g,""),u=new RegExp(`^${r}\\s*[-:|]?\\s*`,"i");return s.replace(u,"").trim()},vN=l=>new Vh({}).extend(j_()).extend(E_()).extend(A_()).extend(N_()).extend(D_()).extend(new Vh({artist:xg,track:[xg,pN(l)]})),bN=(l,s)=>{const r=vN(l),u=r.canFilterField("artist")?r.filterField("artist",l):l,d=r.canFilterField("track")?r.filterField("track",s):s;return{artist:u,title:d}},SN=({artist:l,title:s,visible:r,onClose:u,embeddedLyrics:d,currentTime:m=0})=>{const{t:f}=Mt(),[g,b]=y.useState(_g),v=y.useRef(null),[_,p]=y.useState(null),[x,j]=y.useState(-1),I=y.useRef(null),A=y.useCallback(async(L,R)=>{v.current&&v.current.abort();const T=new AbortController;if(v.current=T,b(D=>({...D,loading:!0,error:null})),L.trim().toLowerCase()===f("common.unknownArtist").toLowerCase()){b(D=>({...D,error:f("lyrics.cannotSearchWithoutArtist"),loading:!1}));return}const{artist:C,title:Q}=bN(L,R),K=[{artist:C,title:Q},{artist:L,title:R},{artist:C,title:R},{artist:L,title:Q}];let re=null;for(const{artist:D,title:$}of K)try{const X=await fetch(`https://api.lyrics.ovh/v1/${encodeURIComponent(D)}/${encodeURIComponent($)}`,{signal:T.signal});if(X.ok){const le=await X.json();if(le.lyrics?.trim()){b({lyrics:le.lyrics.trim(),loading:!1,error:null});return}}re=new Error(X.status===404?f("lyrics.notFound"):f("lyrics.failedToFetch",{status:X.status}))}catch(X){if(X instanceof Error&&X.name==="AbortError")return;re=X instanceof Error?X:new Error(f("lyrics.failedToLoad"))}b({lyrics:"",loading:!1,error:re?.message||f("lyrics.failedToLoad")})},[f]),O=!!d?.length;y.useEffect(()=>{if(!r||!l||!s){b(_g);return}if(O){b({lyrics:"",loading:!1,error:null});return}return A(l,s),()=>v.current?.abort()},[l,s,r,A,O]),y.useEffect(()=>{if(!r||!O){p(null),j(-1);return}p(L=>d?.length?L&&d.includes(L)?L:d[0]??null:null),j(-1)},[d,O,r]),y.useEffect(()=>{if(!r)return;if(!_||!_.synced||!_.lines?.length){x!==-1&&j(-1);return}const L=m*1e3,R=_.lines.findIndex((T,C)=>{const Q=_.lines?.[C+1];return T.timestamp<=L&&(!Q||Q.timestamp>L)});R!==x&&j(R)},[x,m,_,r]),y.useEffect(()=>{if(!r||x<0)return;const L=I.current;if(!L)return;L.children.item(x)?.scrollIntoView({behavior:"smooth",block:"center"})},[x,r]),y.useEffect(()=>{if(!r||!u)return;const L=R=>{R.key==="Escape"&&u()};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r,u]);const q=y.useCallback(()=>{l&&s&&A(l,s)},[l,s,A]),P=y.useCallback(L=>{L.target===L.currentTarget&&u?.()},[u]);if(!r)return null;const E=L=>{if(!d?.length)return;const R=parseInt(L.target.value,10),T=d[R];T&&(p(T),j(-1))},G=L=>{const R=Math.floor(L/6e4),T=Math.floor(L%6e4/1e3),C=Math.floor(L%1e3/10);return`${R.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}.${C.toString().padStart(2,"0")}`},{lyrics:H,loading:B,error:z}=g,N=_&&d?d.indexOf(_):-1;return c.jsx("div",{className:pt.lyricsOverlay,onClick:P,role:"dialog","aria-modal":"true",children:c.jsxs("div",{className:pt.lyricsContainer,children:[c.jsxs("header",{className:pt.lyricsHeader,children:[c.jsxs("div",{children:[c.jsxs("h3",{className:pt.lyricsTitle,children:[s," - ",l]}),O&&c.jsx("p",{className:pt.lyricsSubtitle,children:f("lyrics.embeddedLyrics")})]}),u&&c.jsx("button",{className:pt.lyricsCloseButton,onClick:u,children:""})]}),O?c.jsxs("div",{className:pt.embeddedContent,children:[d&&d.length>1&&c.jsx("div",{className:pt.lyricsSelector,children:c.jsx("select",{value:N>=0?N:0,onChange:E,className:pt.selector,children:d.map((L,R)=>c.jsxs("option",{value:R,children:[L.synced?f("lyrics.synchronized"):f("lyrics.unsynchronized"),L.language&&` (${L.language})`,L.description&&` - ${L.description}`]},`${L.synced?"synced":"unsynced"}-${R}`))})}),c.jsx("div",{className:pt.embeddedBody,children:_?_.synced&&_.lines?.length?c.jsx("div",{ref:I,className:pt.syncedLyrics,children:_.lines.map((L,R)=>c.jsxs("div",{className:`${pt.lyricsLine}${R===x?` ${pt.currentLine}`:""}`,children:[c.jsx("span",{className:pt.timestamp,children:G(L.timestamp)}),c.jsx("span",{className:pt.lineText,children:L.text||""})]},`${L.timestamp}-${R}`))}):_.text?c.jsx("pre",{className:pt.unsyncedLyrics,children:_.text}):c.jsx("div",{className:pt.noLyrics,children:f("lyrics.noEmbeddedLyrics")}):c.jsx("div",{className:pt.noLyrics,children:f("lyrics.noEmbeddedLyrics")})})]}):c.jsxs("div",{className:pt.lyricsContent,children:[B&&c.jsx("div",{className:pt.loading,children:f("lyrics.loading")}),z&&c.jsxs("div",{className:pt.error,children:[c.jsx("p",{children:z}),c.jsx("button",{onClick:q,className:pt.retryButton,children:f("lyrics.tryAgain")})]}),!B&&!z&&H&&c.jsx("pre",{className:pt.lyricsText,children:H}),!B&&!z&&!H&&c.jsx("div",{className:pt.error,children:f("lyrics.noLyricsAvailable")})]})]})})},_N="_player_xrzty_2",xN="_currentSong_xrzty_25",TN="_albumArt_xrzty_32",CN="_songInfo_xrzty_67",wN="_songTitleWrapper_xrzty_73",jN="_songTitle_xrzty_73",EN="_artistName_xrzty_91",AN="_favoriteButton_xrzty_97",NN="_favorited_xrzty_102",DN="_controlButton_xrzty_106",MN="_active_xrzty_106",zN="_repeatOne_xrzty_120",ON="_noSong_xrzty_138",RN="_controls_xrzty_147",LN="_playbackButtons_xrzty_155",kN="_playButton_xrzty_170",BN="_progressSection_xrzty_191",UN="_timeDisplay_xrzty_199",$N="_progressBar_xrzty_207",HN="_dragging_xrzty_218",VN="_progressFill_xrzty_223",qN="_rightSection_xrzty_255",IN="_secondaryControls_xrzty_263",FN="_secondaryButton_xrzty_269",PN="_volumeControls_xrzty_284",YN="_volumeButton_xrzty_294",GN="_volumeBar_xrzty_303",XN="_volumeFill_xrzty_319",QN="_moreButton_xrzty_350",KN="_visualizerOverlay_xrzty_360",ZN="_visualizer_xrzty_360",De={player:_N,currentSong:xN,albumArt:TN,songInfo:CN,songTitleWrapper:wN,songTitle:jN,artistName:EN,favoriteButton:AN,favorited:NN,controlButton:DN,active:MN,repeatOne:zN,noSong:ON,controls:RN,playbackButtons:LN,playButton:kN,progressSection:BN,timeDisplay:UN,progressBar:$N,dragging:HN,progressFill:VN,rightSection:qN,secondaryControls:IN,secondaryButton:FN,volumeControls:PN,volumeButton:YN,volumeBar:GN,volumeFill:XN,moreButton:QN,visualizerOverlay:KN,visualizer:ZN},JN=({musicPlayerHook:l,isMiniplayer:s=!1})=>{const{setPlaying:r,setCurrentTime:u,setVolume:d,setCurrentSong:m,setDuration:f,play:g,pause:b,next:v,previous:_,seek:p,changeVolume:x}=ao(),{playerState:j,togglePlayPause:I,playNext:A,playPrevious:O,setVolume:q,seekTo:P}=l,E=s?"pip":"main",G=y.useRef({togglePlayPause:I,playNext:A,playPrevious:O,playerSetVolume:q,seekTo:P});G.current={togglePlayPause:I,playNext:A,playPrevious:O,playerSetVolume:q,seekTo:P};const H=l.crossfadeManagerRef?.current?.isCrossfading?.()||!1;y.useEffect(()=>{H||r(j.isPlaying,E)},[j.isPlaying,r,E,H]),y.useEffect(()=>{H||u(j.currentTime,E)},[j.currentTime,u,E,H]),y.useEffect(()=>{H||d(j.volume,E)},[j.volume,d,E,H]),y.useEffect(()=>{H||m(j.currentSong,E)},[j.currentSong,m,E,H]),y.useEffect(()=>{j.currentSong?.duration&&f(j.currentSong.duration,E)},[j.currentSong?.duration,f,E]);const B=y.useCallback(C=>{C.source!==E&&!j.isPlaying&&(console.log(`[${E}] Received play event from ${C.source}`),G.current.togglePlayPause())},[E,j.isPlaying]),z=y.useCallback(C=>{C.source!==E&&j.isPlaying&&(console.log(`[${E}] Received pause event from ${C.source}`),G.current.togglePlayPause())},[E,j.isPlaying]),N=y.useCallback(C=>{C.source!==E&&(console.log(`[${E}] Received next event from ${C.source}`),G.current.playNext())},[E]),L=y.useCallback(C=>{C.source!==E&&(console.log(`[${E}] Received previous event from ${C.source}`),G.current.playPrevious())},[E]),R=y.useCallback(C=>{C.source!==E&&C.payload?.volume!==j.volume&&(console.log(`[${E}] Received volume event from ${C.source}:`,C.payload.volume),G.current.playerSetVolume(C.payload.volume))},[E,j.volume]),T=y.useCallback(C=>{C.source!==E&&Math.abs(C.payload?.time-j.currentTime)>1&&(console.log(`[${E}] Received seek event from ${C.source}:`,C.payload.time),G.current.seekTo(C.payload.time))},[E,j.currentTime]);return is("play",B),is("pause",z),is("next",N),is("previous",L),is("volume",R),is("seek",T),{audioControls:{play:()=>g(E),pause:()=>b(E),next:()=>v(E),previous:()=>_(E),seek:C=>p(C,E),setVolume:C=>x(C,E),togglePlayPause:()=>{j.isPlaying?b(E):g(E)}}}},WN=({musicPlayerHook:l,settings:s})=>{const{t:r}=Mt();JN({musicPlayerHook:l,isMiniplayer:!1});const u=y.useRef(null),d=y.useRef(null),{playerState:m,library:f,togglePlayPause:g,playNext:b,playPrevious:v,setVolume:_,seekTo:p,addToFavorites:x,removeFromFavorites:j,isFavorited:I,toggleShuffle:A,toggleRepeat:O,createPlaylist:q,addToPlaylist:P,playSong:E,removeSong:G}=l,{currentSong:H,isPlaying:B,currentTime:z,volume:N,shuffle:L,repeat:R,analyserNode:T}=m,[C,Q]=y.useState(!1),[K,re]=y.useState(!1),[D,$]=y.useState(!1),[X,le]=y.useState(!1),oe=we=>{const Ge=Math.round(we);if(H&&H.duration>=3600){const wt=Math.floor(Ge/3600),bt=Math.floor(Ge%3600/60),Fn=Ge%60;return`${wt}:${bt.toString().padStart(2,"0")}:${Fn.toString().padStart(2,"0")}`}else{const wt=Math.floor(Ge/60),bt=Ge%60;return`${wt}:${bt.toString().padStart(2,"0")}`}},ve=y.useCallback(we=>{if(!u.current||!H)return;const Ge=u.current.getBoundingClientRect(),Ct=we-Ge.left,bt=Math.max(0,Math.min(1,Ct/Ge.width))*H.duration;p(bt)},[H,p]),de=y.useCallback(we=>{if(!d.current)return;const Ge=d.current.getBoundingClientRect(),Ct=we-Ge.left,wt=Math.max(0,Math.min(1,Ct/Ge.width));_(wt)},[_]),fe=we=>{D||ve(we.clientX)},_e=we=>{X||de(we.clientX)},et=we=>{$(!0),ve(we.clientX)},Re=we=>{$(!0),ve(we.touches[0].clientX)},it=we=>{le(!0),de(we.clientX)},mt=we=>{le(!0),de(we.touches[0].clientX)};y.useEffect(()=>{const we=bt=>{D?ve(bt.clientX):X&&de(bt.clientX)},Ge=bt=>{D?(bt.preventDefault(),ve(bt.touches[0].clientX)):X&&(bt.preventDefault(),de(bt.touches[0].clientX))},Ct=()=>{$(!1),le(!1)},wt=()=>{$(!1),le(!1)};return(D||X)&&(document.addEventListener("mousemove",we),document.addEventListener("mouseup",Ct),document.addEventListener("touchmove",Ge,{passive:!1}),document.addEventListener("touchend",wt)),()=>{document.removeEventListener("mousemove",we),document.removeEventListener("mouseup",Ct),document.removeEventListener("touchmove",Ge),document.removeEventListener("touchend",wt)}},[D,X,ve,de]);const Tt=()=>{_(N===0?.7:0)},rt=()=>{if(!H)return;f.favorites.includes(H.id)?j(H.id):x(H.id)},me=()=>Q(we=>!we),Ne=()=>re(we=>!we),Ke=()=>N===0?c.jsx(ne,{name:"volumeOff",size:16,decorative:!0}):N<.3?c.jsx(ne,{name:"volumeX",size:16,decorative:!0}):N<.7?c.jsx(ne,{name:"volume1",size:16,decorative:!0}):c.jsx(ne,{name:"volume2",size:16,decorative:!0}),ot=()=>{switch(R){case"one":return r("player.repeatTrack");case"all":return r("player.repeatAll");default:return r("player.repeatOff")}};y.useEffect(()=>{H&&s?.showLyrics&&re(!0)},[H,s?.showLyrics]);const he=Fu(),Ee=H?z/H.duration*100:0,Ve=N*100;if(!H)return c.jsx("div",{className:De.player,children:c.jsx("div",{className:De.noSong,children:c.jsx("span",{children:r("player.selectSong")})})});const ct=f.favorites.includes(H.id);return c.jsxs(c.Fragment,{children:[C&&c.jsx("div",{className:De.visualizerOverlay,children:c.jsx(XA,{analyserNode:T,isPlaying:B,className:De.visualizer})}),c.jsxs("div",{className:De.player,children:[c.jsxs("div",{className:De.currentSong,children:[c.jsx("div",{className:De.albumArt,children:H.albumArt&&c.jsx("img",{src:H.albumArt,alt:r("player.albumArtAlt",{title:H.title}),loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"}})}),c.jsxs("div",{className:De.songInfo,children:[c.jsx("div",{className:De.songTitleWrapper,children:c.jsx($u,{text:H?.title||r("common.loading"),textClassName:De.songTitle,textStyle:{opacity:H?.title?1:0},allowHTML:!0,pauseOnHover:!0})}),c.jsx("div",{className:De.artistName,children:H.artist})]})]}),c.jsxs("div",{className:De.controls,children:[c.jsxs("div",{className:De.playbackButtons,children:[c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${De.controlButton} ${L?De.active:""}`,onClick:A,title:r(L?"player.shuffleOn":"player.shuffleOff"),children:c.jsx(ne,{name:"shuffle",size:16,decorative:!0})}),c.jsx(ce,{variant:"ghost",size:"icon-md",className:De.controlButton,onClick:bi.debounce(v,200),title:r("player.previous"),children:c.jsx(ne,{name:"skipBack",size:18,decorative:!0})}),c.jsx(ce,{variant:"primary",size:"icon-lg",className:De.playButton,onClick:bi.debounce(g,200),title:r(B?"player.pause":"player.play"),children:B?c.jsx(ne,{name:"pause",size:20,decorative:!0}):c.jsx(ne,{name:"play",size:20,decorative:!0})}),c.jsx(ce,{variant:"ghost",size:"icon-md",className:De.controlButton,onClick:bi.debounce(b,200),title:r("player.next"),children:c.jsx(ne,{name:"skipForward",size:18,decorative:!0})}),c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${De.controlButton} ${R!=="off"?De.active:""} ${R==="one"?De.repeatOne:""}`,onClick:O,title:ot(),children:c.jsx(ne,{name:"repeat",size:16,decorative:!0})})]}),c.jsxs("div",{className:De.progressSection,children:[c.jsx("span",{className:De.timeDisplay,children:oe(z)}),c.jsx("div",{className:`${De.progressBar} ${D?De.dragging:""}`,ref:u,onClick:fe,onMouseDown:et,onTouchStart:Re,title:r("player.seek"),children:c.jsx("div",{className:De.progressFill,style:{width:`${Ee}%`}})}),c.jsx("span",{className:De.timeDisplay,children:oe(H.duration)})]})]}),c.jsxs("div",{className:De.rightSection,children:[c.jsxs("div",{className:De.volumeControls,children:[c.jsx(ce,{variant:"ghost",size:"icon-sm",className:De.volumeButton,onClick:Tt,title:r(N===0?"player.unmute":"player.mute"),children:Ke()}),c.jsx("div",{className:`${De.volumeBar} ${X?De.dragging:""}`,ref:d,onClick:_e,onMouseDown:it,onTouchStart:mt,title:r("player.volume"),children:c.jsx("div",{className:De.volumeFill,style:{width:`${Ve}%`}})})]}),c.jsxs("div",{className:De.secondaryControls,children:[c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${De.favoriteButton} ${ct?De.favorited:""}`,onClick:rt,title:r(ct?"player.removeFavorite":"player.addFavorite"),children:c.jsx(ne,{name:"heart",size:16,decorative:!0})}),!he&&c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${De.secondaryButton} ${C?De.active:""}`,onClick:me,title:r("player.visualizer"),children:c.jsx(ne,{name:"barChart3",size:16,decorative:!0})}),c.jsx(ce,{variant:"ghost",size:"icon-sm",className:`${De.secondaryButton} ${K?De.active:""}`,onClick:Ne,title:r("player.lyrics"),children:c.jsx(ne,{name:"type",size:16,decorative:!0})}),PT()&&c.jsx(ce,{variant:"ghost",size:"icon-sm",className:De.secondaryButton,onClick:()=>{Fv({playerState:{currentSong:H,isPlaying:B}})},title:"Picture-in-Picture",children:c.jsx(ne,{name:"pictureInPicture2",size:16,decorative:!0})})]}),c.jsx(wb,{song:H,library:f,onCreatePlaylist:q,onAddToPlaylist:P,onAddToFavorites:x,isFavorited:I,onPlaySong:E,onRemoveSong:G,size:16,className:De.moreButton})]}),K&&H&&c.jsx(SN,{artist:H.artist,title:H.title,visible:K,onClose:()=>re(!1),embeddedLyrics:H.embeddedLyrics,currentTime:z})]})]})},_a=class _a{constructor(){}static getInstance(){return _a.instance||(_a.instance=new _a),_a.instance}async updatePresence(s){return console.log(`[DiscordService] Would POST to ${_a.API_BASE_URL}/presence with:`,s),!0}async clearPresence(s){return console.log(`[DiscordService] Would clear presence for userId: ${s}`),!0}static parseUserIdFromCallback(s){try{return new URL(s).searchParams.get("code"),null}catch(r){return console.error("Error parsing Discord callback:",r),null}}static isDiscordAvailable(s){return!!(s&&s.length>0)}};_a.API_BASE_URL="https://htmlplayer-backend.onrender.com",_a.instance=null;let Hu=_a;const Tg=l=>typeof l!="number"||!Number.isFinite(l)||l<=0?1:l,Mn={PREV_SONGS:2,NEXT_SONGS:4,CACHE_EXPIRY:600*1e3,MAX_CACHE_SIZE:50,PRELOAD_THRESHOLD:10*1024*1024},eD=l=>{const s=async v=>{const _=l.current.get(v.id);if(_)if(Date.now()-_.loadedAt<Mn.CACHE_EXPIRY){if(v.hasStoredAudio&&v.url.startsWith("indexeddb://"))try{const x=await On.loadSongAudio(v.id);if(x&&!_.url.startsWith("blob:")){const j=URL.createObjectURL(new Blob([x.fileData],{type:x.mimeType}));_.url.startsWith("blob:")&&URL.revokeObjectURL(_.url),l.current.set(v.id,{..._,url:j,song:{...v,url:j},loadedAt:Date.now()})}}catch(x){console.warn("Failed to refresh IndexedDB cache for song:",v.id,x)}}else _.url.startsWith("blob:")&&URL.revokeObjectURL(_.url),l.current.delete(v.id);try{let p,x;if(v.hasStoredAudio&&(console.log("CacheManager: Loading song from IndexedDB:",v.id),p=await On.loadSongAudio(v.id),p)){const q=URL.createObjectURL(new Blob([p.fileData],{type:p.mimeType}));l.current.set(v.id,{song:{...v,url:q},audioBuffer:p.fileData,url:q,loadedAt:Date.now()}),console.log("CacheManager: Successfully cached song from IndexedDB:",v.title)}if(v.hasStoredAudio){console.warn("CacheManager: Song has stored audio but not found in IndexedDB:",v.id);return}if(!v.url||v.url.startsWith("indexeddb://")||v.url.includes("about:blank")){console.error("CacheManager: No valid URL to fetch song from:",v.id);return}console.log("CacheManager: Fetching song from URL:",v.title);let j=!0;try{const P=(await fetch(v.url,{method:"HEAD"})).headers.get("content-length");P&&parseInt(P)>Mn.PRELOAD_THRESHOLD&&(console.log("CacheManager: Large file detected, skipping aggressive caching:",v.title),j=!1)}catch(q){console.warn("CacheManager: HEAD request failed, continuing with caching:",q)}const I=await fetch(v.url);if(!I.ok)throw new Error(`HTTP ${I.status}: ${I.statusText}`);const A=await I.arrayBuffer();x=I.headers.get("content-type")||"audio/mpeg";const O=URL.createObjectURL(new Blob([A],{type:x}));if((j||A.byteLength<=Mn.PRELOAD_THRESHOLD)&&l.current.set(v.id,{song:{...v,url:O},audioBuffer:A,url:O,loadedAt:Date.now()}),!v.hasStoredAudio)try{await On.saveSongAudio(v.id,{fileData:A,mimeType:x}),console.log("CacheManager: Saved song to IndexedDB:",v.title)}catch(q){console.warn("CacheManager: Failed to save to IndexedDB:",q)}console.log("CacheManager: Successfully cached song from URL:",v.title)}catch(p){console.error("CacheManager: Failed to cache song:",v.title,p)}},r=v=>{const _=l.current.get(v);if(_){if(Date.now()-_.loadedAt<Mn.CACHE_EXPIRY)return _;_.url.startsWith("blob:")&&URL.revokeObjectURL(_.url),l.current.delete(v)}},u=()=>{const v=Date.now(),_=[];for(const[p,x]of l.current.entries())v-x.loadedAt>Mn.CACHE_EXPIRY&&(_.push(p),x.url.startsWith("blob:")&&URL.revokeObjectURL(x.url));_.forEach(p=>l.current.delete(p)),_.length>0&&console.log(`CacheManager: Cleared ${_.length} expired cache entries`)},d=()=>{if(l.current.size<=Mn.MAX_CACHE_SIZE)return;const _=Array.from(l.current.entries()).sort((p,x)=>p[1].loadedAt-x[1].loadedAt).slice(0,l.current.size-Mn.MAX_CACHE_SIZE);for(const[p,x]of _)x.url.startsWith("blob:")&&URL.revokeObjectURL(x.url),l.current.delete(p);console.log(`CacheManager: Removed ${_.length} entries to enforce cache size limit`)},m=y.useCallback(v=>v.map(_=>{if(_.hasStoredAudio)return{..._,url:`indexeddb://${_.id}`};if(l.current.has(_.id)){const p=l.current.get(_.id);return{..._,url:p?.url||_.url}}return _}),[]);return{cacheSong:s,getCachedSong:r,clearExpiredCache:u,enforceCacheSize:d,prepareSongsForPlaylist:m,updateSongCache:async(v,_,p,x,j,I)=>{if(!v||!_)return;u(),d();const A=_.songs.findIndex(N=>N.id===v.id);if(A===-1)return;const O=Math.max(0,A-Mn.PREV_SONGS),q=Math.min(_.songs.length-1,A+Mn.NEXT_SONGS),P=[];if(p.current.shuffle){const N=_.songs.filter((L,R)=>R!==A);if(N.length>0){const L=Math.min(3,N.length),R=new Set;for(let T=0;T<L;T++){let C=null;if(x.current.smartShuffle){const Q=N.filter(K=>!R.has(K.id));C=I(Q,v.id,j.current)}else{const Q=N.filter(K=>!R.has(K.id));if(Q.length>0){const K=Math.floor(Math.random()*Q.length);C=Q[K]}}C&&!R.has(C.id)&&(P.push(C),R.add(C.id))}}}const E=new Set([..._.songs.slice(O,q+1),...P]),G=[],H=Array.from(E);H.sort((N,L)=>{if(N.id===v.id)return-1;if(L.id===v.id)return 1;const R=_.songs.findIndex(K=>K.id===N.id),T=_.songs.findIndex(K=>K.id===L.id),C=Math.abs(R-A),Q=Math.abs(T-A);return C-Q});for(const N of H)l.current.has(N.id)||G.push(s(N));const B=new Set(Array.from(l.current.keys())),z=new Set(H.map(N=>N.id));for(const N of B)if(!z.has(N)){const L=l.current.get(N);L&&Date.now()-L.loadedAt>Mn.CACHE_EXPIRY/2&&(L.url.startsWith("blob:")&&URL.revokeObjectURL(L.url),l.current.delete(N))}try{const L=(await Promise.allSettled(G)).filter(R=>R.status==="fulfilled"&&R.value).length;console.log(`CacheManager: Successfully cached ${L} of ${G.length} songs`)}catch(N){console.error("CacheManager: Error in batch caching:",N)}},clearAllCache:()=>{console.log("CacheManager: Clearing all cache");for(const[,v]of l.current.entries())v.url.startsWith("blob:")&&URL.revokeObjectURL(v.url);l.current.clear()},getCacheStats:()=>{const v=Date.now();let _=0,p=0;for(const[,x]of l.current.entries())v-x.loadedAt<Mn.CACHE_EXPIRY?_++:p++;return{total:l.current.size,valid:_,expired:p,maxSize:Mn.MAX_CACHE_SIZE}}}},Nb=(l,s,r)=>{if(l.length===0)return null;const u=Date.now(),d=l.filter(v=>v.id!==s);if(d.length===0)return null;let m=d;if(l.length<=3){const v=u-18e5,_=new Set;for(const[p,x]of r.entries())x.lastPlayed>v&&_.add(p);m=d.filter(p=>!_.has(p.id)),m.length===0&&(m=d.sort((p,x)=>{const j=r.get(p.id),I=r.get(x.id),A=j?.lastPlayed||0,O=I?.lastPlayed||0;return A-O}),m=m.slice(0,1))}const f=m.map(v=>{const _=r.get(v.id);let p=100;if(_){const j=(u-_.lastPlayed)/(1e3*60*60);j<24&&(p*=Math.pow(.5,Math.max(0,4-j))),p*=Math.max(.3,1-_.playCount*.1)}return{song:v,weight:p}});if(f.length===0)return d[Math.floor(Math.random()*d.length)];const g=f.reduce((v,_)=>v+_.weight,0);let b=Math.random()*g;for(const v of f)if(b-=v.weight,b<=0)return v.song;return f[0].song},tD=(l,s)=>{let r=0;const u=500;return{getAndCacheNextSong:(g,b,v)=>{if(!g.current.currentPlaylist||!g.current.currentSong)return null;if(s.current&&l.current)return l.current;const _=g.current.currentPlaylist.songs,p=_.findIndex(j=>j.id===g.current.currentSong.id);let x=null;if(g.current.shuffle){const j=_.filter(I=>I.id!==g.current.currentSong.id);if(j.length>0)if(b.current.smartShuffle)x=Nb(j,g.current.currentSong.id,v.current),x||(x=j[Math.floor(Math.random()*j.length)]);else{const I=Math.floor(Math.random()*j.length);x=j[I]}}else p<_.length-1?x=_[p+1]:g.current.repeat==="all"&&(x=_[0]);return l.current=x,s.current=!0,x},invalidateNextSongCache:(g=!1)=>{const b=Date.now();(g||b-r>u)&&(l.current=null,s.current=!1,r=b)},updatePlayHistory:(g,b)=>{const v=Date.now(),_=g.current.get(b)||{playCount:0};g.current.set(b,{lastPlayed:v,playCount:_.playCount+1});const p=v-10080*60*1e3;for(const[x,j]of g.current.entries())j.lastPlayed<p&&g.current.delete(x)}}};function nD(l){return typeof l!="number"||!Number.isFinite(l)?0:Math.max(-12,Math.min(12,l))}class aD{constructor(s){this.currentSource=null,this.nextSource=null,this.crossfadeInProgress=!1,this.crossfadeTimeout=null,this.crossfadePromise=null,this.activeElement=null,this.currentPitch=0,this.audioContext=s,this.masterGain=s.createGain(),this.masterGain.connect(s.destination),this.analyzerNode=s.createAnalyser(),this.analyzerNode.fftSize=2048,this.masterGain.connect(this.analyzerNode)}createAudioSource(s){const r=s._webAudioSource;if(r&&r.source.mediaElement===s)return r;try{const u=this.audioContext.createMediaElementSource(s),d=this.audioContext.createGain();u.connect(d),d.connect(this.masterGain);const m={element:s,source:u,gainNode:d,id:Math.random().toString(36).substr(2,9)};return s._webAudioSource=m,m}catch(u){throw console.error("Failed to create audio source:",u),u}}setCurrentSource(s){this.currentSource!==s&&(this.currentSource=s,this.activeElement=s.element,this.currentSource.gainNode.gain.setValueAtTime(1,this.audioContext.currentTime),this.nextSource&&this.nextSource!==s&&this.nextSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime))}prepareNextSource(s){this.nextSource=s,this.nextSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime)}async startCrossfade(s){if(!this.currentSource||!this.nextSource)throw new Error("Cannot start crossfade - missing audio sources");this.crossfadeInProgress&&(console.warn("Crossfade already in progress, cancelling previous"),this.cancelCrossfade()),this.crossfadeInProgress=!0;const{duration:r,curve:u="smooth"}=s,d=this.audioContext.currentTime;return console.log("Starting crossfade transition..."),this.crossfadePromise=new Promise(async(m,f)=>{try{this.nextSource.element.readyState<2&&await new Promise((b,v)=>{const _=setTimeout(()=>{v(new Error(Ye.t("crossfade.nextAudioFailedToLoadInTime")))},5e3),p=()=>{clearTimeout(_),this.nextSource.element.removeEventListener("canplay",x),this.nextSource.element.removeEventListener("loadeddata",x),this.nextSource.element.removeEventListener("error",j)},x=()=>{p(),b()},j=()=>{p(),v(new Error(Ye.t("crossfade.nextAudioFailedToLoad")))};this.nextSource.element.addEventListener("canplay",x),this.nextSource.element.addEventListener("loadeddata",x),this.nextSource.element.addEventListener("error",j)}),await this.nextSource.element.play(),this.setupCrossfadeCurves(r,u,d),this.activeElement=this.nextSource.element;const g=()=>{this.crossfadeInProgress&&(console.log("Current song ended during crossfade"),this.completeCrossfade(),m())};this.currentSource.element.addEventListener("ended",g,{once:!0}),this.crossfadeTimeout=window.setTimeout(()=>{this.crossfadeInProgress&&(this.currentSource.element.removeEventListener("ended",g),this.completeCrossfade(),m())},r*1e3+100)}catch(g){console.error("Crossfade failed:",g),this.crossfadeInProgress=!1,this.clearCrossfadeTimeout(),f(g)}}),this.crossfadePromise}setupCrossfadeCurves(s,r,u){if(!this.currentSource||!this.nextSource)return;const d=this.currentSource.gainNode.gain,m=this.nextSource.gainNode.gain;d.cancelScheduledValues(u),m.cancelScheduledValues(u);const f=u+s;switch(r){case"linear":d.setValueAtTime(1,u),d.linearRampToValueAtTime(0,f),m.setValueAtTime(0,u),m.linearRampToValueAtTime(1,f);break;case"exponential":d.setValueAtTime(1,u),d.exponentialRampToValueAtTime(.001,f),m.setValueAtTime(.001,u),m.exponentialRampToValueAtTime(1,f);break;case"smooth":default:const g=20,b=s/g;for(let v=0;v<=g;v++){const _=v/g,p=u+v*b,x=Math.sqrt(1-_),j=Math.sqrt(_);v===0?(d.setValueAtTime(x,p),m.setValueAtTime(j,p)):(d.linearRampToValueAtTime(x,p),m.linearRampToValueAtTime(j,p))}break}}completeCrossfade(){if(this.crossfadeInProgress)try{console.log("Completing crossfade transition"),this.currentSource&&(this.currentSource.element.pause(),this.currentSource.element.currentTime=0,this.currentSource.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime)),this.nextSource&&this.nextSource.gainNode.gain.setValueAtTime(1,this.audioContext.currentTime),this.currentSource=this.nextSource,this.nextSource=null,this.crossfadeInProgress=!1,this.crossfadePromise=null,this.clearCrossfadeTimeout()}catch(s){console.error("Error completing crossfade:",s),this.crossfadeInProgress=!1}}cancelCrossfade(){if(this.crossfadeInProgress){console.log("Cancelling crossfade");try{const s=this.audioContext.currentTime;this.currentSource&&(this.currentSource.gainNode.gain.cancelScheduledValues(s),this.currentSource.gainNode.gain.setValueAtTime(1,s)),this.nextSource&&(this.nextSource.gainNode.gain.cancelScheduledValues(s),this.nextSource.gainNode.gain.setValueAtTime(0,s),this.nextSource.element.pause(),this.nextSource.element.currentTime=0),this.currentSource&&(this.activeElement=this.currentSource.element),this.crossfadeInProgress=!1,this.crossfadePromise=null,this.clearCrossfadeTimeout()}catch(s){console.error("Error cancelling crossfade:",s)}}}clearCrossfadeTimeout(){this.crossfadeTimeout&&(clearTimeout(this.crossfadeTimeout),this.crossfadeTimeout=null)}setMasterVolume(s){const r=Math.max(0,Math.min(1,s)),u=this.audioContext.currentTime;this.masterGain.gain.cancelScheduledValues(u),this.masterGain.gain.setValueAtTime(this.masterGain.gain.value,u),this.masterGain.gain.linearRampToValueAtTime(r,u+.1)}getActiveElement(){return this.activeElement}isCrossfading(){return this.crossfadeInProgress}getMasterGainNode(){return this.masterGain}getAnalyzerNode(){return this.analyzerNode}seekTo(s){this.activeElement&&(this.activeElement.currentTime=s)}getCurrentTime(){return this.activeElement?.currentTime||0}getDuration(){return this.activeElement?.duration||0}isPlaying(){return this.activeElement?!this.activeElement.paused:!1}async play(){this.activeElement&&await this.activeElement.play()}pause(){this.activeElement&&this.activeElement.pause()}setPitch(s){this.currentPitch=nD(s)}getPitch(){return this.currentPitch}destroy(){console.log("Destroying crossfade manager"),this.cancelCrossfade();try{this.currentSource&&(this.currentSource.source.disconnect(),this.currentSource.gainNode.disconnect()),this.nextSource&&(this.nextSource.source.disconnect(),this.nextSource.gainNode.disconnect()),this.analyzerNode.disconnect(),this.masterGain.disconnect()}catch(s){console.error("Error during cleanup:",s)}this.currentSource=null,this.nextSource=null,this.activeElement=null}}function Jr(l){if(!l||!l.gapless||!l.encoding?.sampleRate)return{start:0,end:0};const s=l.encoding.sampleRate;if(typeof s!="number"||!Number.isFinite(s)||s<=0)return{start:0,end:0};const r=l.gapless.encoderDelay??0,u=l.gapless.encoderPadding??0,d=typeof r=="number"&&Number.isFinite(r)&&r>0?r/s:0,m=typeof u=="number"&&Number.isFinite(u)&&u>0?u/s:0;return{start:Number.isFinite(d)&&d>0?d:0,end:Number.isFinite(m)&&m>0?m:0}}const lD=(l,s,r,u,d,m,f)=>{const g=A=>typeof A!="number"||!Number.isFinite(A)||A<=0?1:Math.max(.25,Math.min(4,A)),b=A=>{try{return r.current||(console.log("CrossfadeUtils: Creating new crossfade manager"),r.current=new aD(A)),!u.current&&l.current&&(console.log("CrossfadeUtils: Setting up current audio source"),u.current=r.current.createAudioSource(l.current),r.current.setCurrentSource(u.current)),r.current}catch(O){return console.error("CrossfadeUtils: Failed to setup crossfade manager:",O),null}},v=A=>{try{return A()}catch(O){return console.error("CrossfadeUtils: Failed to get next song for crossfade:",O),null}},_=async(A,O,q,P)=>{if(!s.current||!r.current)throw new Error("CrossfadeUtils: Missing audio elements for crossfade preparation");console.log("CrossfadeUtils: Preparing next song for crossfade:",A.title);try{console.log("CrossfadeUtils: Caching next song"),await O(A);const E=q(A.id);if(!E)throw new Error(`Failed to cache next song: ${A.title}`);s.current.pause(),s.current.currentTime=0,s.current.src=E.url,s.current.playbackRate=g(P.current.tempo),console.log("CrossfadeUtils: Waiting for next audio to be ready"),await new Promise((H,B)=>{const z=setTimeout(()=>{N(),B(new Error("Timeout waiting for audio to load"))},1e4),N=()=>{clearTimeout(z),s.current?.removeEventListener("canplay",L),s.current?.removeEventListener("loadeddata",L),s.current?.removeEventListener("error",R)},L=()=>{console.log("CrossfadeUtils: Next audio is ready"),N(),H()},R=T=>{console.error("CrossfadeUtils: Error loading next audio:",T),N(),B(new Error("Failed to load next audio"))};if(s.current.readyState>=2){N(),H();return}s.current.addEventListener("canplay",L),s.current.addEventListener("loadeddata",L),s.current.addEventListener("error",R),s.current.load()});const G=Jr(A);if(G.start>0&&G.start<s.current.duration)try{s.current.currentTime=G.start}catch(H){console.warn("CrossfadeUtils: Failed to apply gapless start offset to next track:",H)}(!d.current||d.current.element!==s.current)&&(d.current=r.current.createAudioSource(s.current)),r.current.prepareNextSource(d.current),console.log("CrossfadeUtils: Next song prepared successfully for crossfade")}catch(E){throw console.error("CrossfadeUtils: Failed to prepare next song for crossfade:",E),E}},p=(A,O,q,P,E,G,H,B,z,N)=>{console.log("CrossfadeUtils: Updating player state after crossfade to:",A.title);try{O.current.currentSong&&O.current.shuffle&&(P(q,O.current.currentSong.id),console.log("CrossfadeUtils: Updated play history for shuffle mode"));const L=G.current;G.current=H.current,H.current=L;const R=B.current;B.current=z.current,z.current=R;const T=r.current?.getCurrentTime()||0;E(C=>(console.log("CrossfadeUtils: Finalizing player state after crossfade:",A.title,"currentTime:",T),{...C,currentTime:T})),N&&(N(),console.log("CrossfadeUtils: Invalidated next song cache after crossfade")),console.log("CrossfadeUtils: Player state updated successfully")}catch(L){console.error("CrossfadeUtils: Error updating player state after crossfade:",L)}};return{setupCrossfadeManager:b,getNextSongForCrossfade:v,prepareNextSongForCrossfade:_,updatePlayerStateAfterCrossfade:p,preloadNextSong:async(A,O,q,P)=>{if(!s.current||r.current?.isCrossfading()){console.log("CrossfadeUtils: Skipping preload - no audio element or crossfade in progress");return}try{const E=A();if(!E){console.log("CrossfadeUtils: No next song to preload");return}console.log("CrossfadeUtils: Preloading next song:",E.title),await O(E);const G=q(E.id);G&&(s.current.src=G.url,s.current.playbackRate=g(P.current.tempo),s.current.preload="auto",s.current.load(),console.log("CrossfadeUtils: Successfully preloaded next song"))}catch(E){console.warn("CrossfadeUtils: Failed to preload next song:",E)}},startCrossfadeTransition:async(A,O,q,P,E,G,H,B,z,N,L,R)=>{if(console.log("CrossfadeUtils: Starting crossfade transition..."),!A.current)throw console.warn("CrossfadeUtils: No playNext function available"),new Error("No playNext function available for crossfade");if(!r.current)if(z?.current){if(console.log("CrossfadeUtils: Initializing crossfade manager"),!b(z.current))throw new Error("Failed to initialize crossfade manager")}else throw new Error("No audio context available for crossfade");if(!l.current)throw new Error("No current audio element available");if(!s.current)throw new Error("No next audio element available");(!u.current||u.current.element!==l.current)&&(console.log("CrossfadeUtils: Setting up current audio source"),u.current=r.current.createAudioSource(l.current),r.current.setCurrentSource(u.current)),r.current&&r.current.isCrossfading()&&(console.log("CrossfadeUtils: Cancelling existing crossfade"),r.current.cancelCrossfade());try{const T=O();if(!T)throw new Error("No next song available for crossfade");console.log("CrossfadeUtils: Preparing next song for crossfade:",T.title),await q(T);const C=Jr(T),Q=s.current&&Number.isFinite(s.current.duration)?s.current.duration:T.duration||0,K=Q-C.start-C.end,re=Number.isFinite(K)&&K>.1?K:Q;L?L.current=!1:m&&(m.current=!1),R?R.current=C.start>0:f&&(f.current=C.start>0),z?.current?.state==="suspended"&&(console.log("CrossfadeUtils: Resuming audio context"),await z.current.resume());const D=Math.max(.5,Math.min(10,B.current.crossfade||3)),$=l.current?l.current.duration-l.current.currentTime:D,X=Math.min(D,Math.max(.5,$));console.log("CrossfadeUtils: Starting crossfade with effective duration:",X,"(requested:",D,"time remaining:",$.toFixed(1)+")"),console.log("CrossfadeUtils: Updating player state at crossfade start"),H(le=>({...le,currentSong:T,currentTime:0,duration:re&&re>0?re:T.duration||0,isPlaying:!0})),await r.current.startCrossfade({duration:X,curve:"smooth"}),console.log("CrossfadeUtils: Crossfade completed, finalizing player state"),p(T,P,E,G,H,l,s,u,d,N),console.log("CrossfadeUtils: Crossfade transition completed successfully")}catch(T){throw console.error("CrossfadeUtils: Crossfade transition failed:",T),console.log("CrossfadeUtils: Reverting UI state after failed crossfade"),H(C=>({...C,currentSong:P.current.currentSong,currentTime:l.current?.currentTime||C.currentTime,duration:P.current.currentSong?.duration||C.duration})),r.current?.isCrossfading()&&r.current.cancelCrossfade(),T}},cleanupCrossfadeManager:()=>{console.log("CrossfadeUtils: Cleaning up crossfade manager");try{r.current&&(r.current.destroy(),r.current=null),u.current=null,d.current=null,console.log("CrossfadeUtils: Cleanup completed")}catch(A){console.error("CrossfadeUtils: Error during cleanup:",A)}}}},sD=()=>({processAudioBatch:async r=>{const u=[],d=r.length;let m=0;const f=ue.loading(Ye.t("audioProcessor.processingZero",{totalSongs:d}));for(const g of r)if(g.url.startsWith("blob:"))try{const b=await fetch(g.url),v=await b.arrayBuffer(),_=b.headers.get("content-type")||"audio/mpeg";await On.saveSongAudio(g.id,{fileData:v,mimeType:_}),u.push({...g,hasStoredAudio:!0,albumArt:g.albumArt}),m++,ue.loading(Ye.t("audioProcessor.processing",{processedCount:m,totalSongs:d}),{id:f,description:Ye.t("audioProcessor.current",{songTitle:g.title})})}catch(b){const v=b;console.error(Ye.t("audioProcessor.failedToProcess",{songTitle:g.title}),v),ue.error(`Failed to process "${g.title}"`,{description:v.message||Ye.t("common.unknownError")}),u.push(g)}else u.push(g),m++;return ue.success(Ye.t("audioProcessor.processed",{processedCount:m}),{id:f}),u},getValidTempo:r=>typeof r!="number"||!Number.isFinite(r)||r<=0?1:r}),iD=(l,s,r,u,d)=>{const m=(R,T)=>R.map(C=>{if(C.hasStoredAudio)return{...C,url:`indexeddb://${C.id}`};if(T?.current.has(C.id)){const Q=T.current.get(C.id);return{...C,url:Q?.url||C.url}}return C}),f=()=>crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now(),g=(R,T=[])=>{const C={id:f(),name:R,songs:m(T)};return l(Q=>({...Q,playlists:[...Q.playlists,C]})),C},b=R=>{const T={id:f(),name:R,children:[]};return l(C=>({...C,playlists:[...C.playlists,T]})),T},v=R=>{l(T=>{const C=Q=>Q.filter(K=>K.id!==R).map(K=>"children"in K?{...K,children:C(K.children)}:K);return{...T,playlists:C(T.playlists)}})},_=R=>{l(T=>({...T,favorites:T.favorites.includes(R)?T.favorites:[...T.favorites,R]}))},p=R=>{l(T=>({...T,favorites:T.favorites.filter(C=>C!==R)}))},x=(R,T)=>{l(C=>{const Q=C.songs.find(re=>re.id===T);if(!Q)return C;const K=re=>re.map(D=>D.id===R&&"songs"in D?D.songs.some($=>$.id===T)?D:{...D,songs:[...D.songs,Q]}:"children"in D?{...D,children:K(D.children)}:D);return{...C,playlists:K(C.playlists)}})},j=(R,T)=>{l(C=>{if(!R)return{...C,songs:T,playlists:C.playlists.map(K=>K.id==="all-songs"?{...K,songs:T}:K)};const Q=K=>K.map(re=>re.id===R&&"songs"in re?{...re,songs:T}:"children"in re?{...re,children:Q(re.children)}:re);return{...C,playlists:Q(C.playlists)}})},I=(R,T,C)=>{l(Q=>{const K=Q.songs.find(X=>X.id===R);if(!K)return Q;const re=(X,le)=>le===null||le==="all-songs"?X:X.map(oe=>oe.id===le&&"songs"in oe?{...oe,songs:oe.songs.filter(ve=>ve.id!==R)}:"children"in oe?{...oe,children:re(oe.children,le)}:oe),D=(X,le)=>X.map(oe=>oe.id===le&&"songs"in oe?oe.songs.some(ve=>ve.id===R)?oe:{...oe,songs:[...oe.songs,K]}:"children"in oe?{...oe,children:D(oe.children,le)}:oe);let $=Q.playlists;return T&&T!=="all-songs"&&($=re($,T)),$=D($,C),{...Q,playlists:$}})},A=(R,T,C)=>{l(Q=>{console.debug("[playlistManager] moveToFolder called with",{itemId:R,folderId:T,beforeId:C});let K=null;const re=X=>X.filter(le=>le.id===R?(K=le,!1):!0).map(le=>"children"in le?{...le,children:re(le.children)}:le);let D=re(Q.playlists);if(!K)return console.warn("[playlistManager] moveToFolder: item not found",R),Q;if(T&&K&&"children"in K){const X=(de,fe)=>{for(const _e of de)if(_e.id===fe||"children"in _e&&X(_e.children,fe))return!0;return!1},le=(de,fe)=>{for(const _e of de){if(_e.id===fe&&"children"in _e)return _e;if("children"in _e){const et=le(_e.children,fe);if(et)return et}}return null};if(le(D,T)&&X(K.children,T))return Q}const $=(X,le,oe,ve)=>{if(le===null){if(!ve)return[...X,oe];const de=X.findIndex(fe=>fe.id===ve);return de===-1?[...X,oe]:[...X.slice(0,de),oe,...X.slice(de)]}return X.map(de=>{if(de.id===le&&"children"in de){const fe=de.children;if(!ve)return{...de,children:[...fe,oe]};const _e=fe.findIndex(et=>et.id===ve);return _e===-1?{...de,children:[...fe,oe]}:{...de,children:[...fe.slice(0,_e),oe,...fe.slice(_e)]}}else if("children"in de)return{...de,children:$(de.children,le,oe,ve)};return de})};return T?(console.debug("[playlistManager] inserting into folder",T,"beforeId",C),D=$(D,T,K,C||null)):(console.debug("[playlistManager] inserting into root beforeId",C),D=$(D,null,K,C||null)),{...Q,playlists:D}})},O=R=>{const T=s.favorites.includes(R);return T?p(R):_(R),!T},q=R=>s.favorites.includes(R),P=()=>s.songs.filter(R=>s.favorites.includes(R.id)),E=R=>(r(R),R.trim()?s.songs.filter(T=>T.title.toLowerCase().includes(R.toLowerCase())||T.artist.toLowerCase().includes(R.toLowerCase())):s.songs);return{prepareSongsForPlaylist:m,createPlaylist:g,createFolder:b,removePlaylist:v,addToFavorites:_,removeFromFavorites:p,addToPlaylist:x,reorderPlaylistSongs:j,moveSongToPlaylist:I,moveToFolder:A,toggleFavorite:O,isFavorited:q,getFavoriteSongs:P,searchSongs:E,getSearchResults:()=>E(u),navigateToArtist:R=>{d(T=>({...T,view:"artist",currentArtist:R}))},navigateToAlbum:R=>{d(T=>({...T,view:"album",currentAlbum:R}))},navigateToSongs:()=>{d(R=>({...R,view:"songs",currentArtist:void 0,currentAlbum:void 0}))},exportPlaylist:(R,T="json")=>{try{let C,Q,K;if(T==="json"){const X={name:R.name,created:new Date().toISOString(),songs:R.songs.map(le=>({title:le.title,artist:le.artist,album:le.album,duration:le.duration}))};C=JSON.stringify(X,null,2),Q=`${R.name.replace(/[^a-z0-9]/gi,"_")}.json`,K="application/json"}else C=`#EXTM3U
`,R.songs.forEach(X=>{C+=`#EXTINF:${Math.floor(X.duration)},${X.artist} - ${X.title}
`,C+=`# ${X.album}
`}),Q=`${R.name.replace(/[^a-z0-9]/gi,"_")}.m3u`,K="audio/x-mpegurl";const re=new Blob([C],{type:K}),D=URL.createObjectURL(re),$=document.createElement("a");$.href=D,$.download=Q,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(D),ue.success(Ye.t("playlist.exportedAs",{name:R.name,format:T.toUpperCase()}))}catch(C){console.error("Export failed:",C),ue.error(Ye.t("playlist.exportFailed")+" "+(C instanceof Error?C.message:Ye.t("common.unknownError")))}},importPlaylist:R=>new Promise((T,C)=>{const Q=new FileReader;Q.onload=K=>{try{const re=K.target?.result;if(R.name.endsWith(".json")){const D=JSON.parse(re);if(!D.name||!Array.isArray(D.songs))throw new Error(Ye.t("playlist.invalidFormat"));const $={id:Date.now().toString(),name:`${D.name} (Imported)`,songs:[]};g($.name,$.songs),ue.success(Ye.t("playlist.importedPlaylist",{name:D.name,count:D.songs.length})),ue.info(Ye.t("playlist.noteManualAdd")),T()}else if(R.name.endsWith(".m3u")||R.name.endsWith(".m3u8")){const D=re.split(`
`).filter(le=>le.trim()),$=[];for(let le=0;le<D.length;le++){const oe=D[le].trim();if(oe.startsWith("#EXTINF:")){const ve=oe.match(/#EXTINF:\d+,(.+?) - (.+)/);ve&&$.push({artist:ve[1],title:ve[2]})}}const X=R.name.replace(/\.(m3u|m3u8)$/i,"");g(`${X} (Imported)`,[]),ue.success(Ye.t("playlist.importedM3u",{count:$.length})),ue.info(Ye.t("playlist.noteManualAdd")),T()}else throw new Error(Ye.t("playlist.unsupportedFormat"))}catch(re){console.error("Import failed:",re);const D=re instanceof Error?re.message:Ye.t("playlist.failedToParse");ue.error(Ye.t("playlist.importFailedWithMessage",{message:D})),C(re)}},Q.onerror=()=>{const K=new Error(Ye.t("playlist.failedToReadFile"));ue.error(Ye.t("playlist.failedToReadFile")),C(K)},Q.readAsText(R)})}},rD=()=>{const{t:l}=Mt(),s=y.useRef(null),r=y.useRef(null),u=y.useRef(new Map),d=y.useRef(IT()),m=y.useRef(null),f=y.useRef(null),g=y.useRef(null),b=y.useRef(null),v=y.useRef(null),_=y.useRef(null),p=y.useRef(!1),x=y.useRef(!1),j=y.useRef(null),I=y.useRef(!1),A=y.useRef(!1),[O,q]=y.useState(!1),P=y.useRef(null),[E,G]=y.useState({currentSong:null,currentPlaylist:null,isPlaying:!1,volume:.75,currentTime:0,duration:0,shuffle:!1,repeat:"off",analyserNode:null,view:"songs"}),[H,B]=y.useState({volume:.75,crossfade:3,colorTheme:"Blue",defaultShuffle:!1,defaultRepeat:"off",autoPlayNext:!0,themeMode:"auto",compactMode:!1,showAlbumArt:!0,showLyrics:!1,sessionRestore:!0,lastPlayedSongId:"none",lastPlayedPlaylistId:"none",language:"English",tempo:1,pitch:0,gaplessPlayback:!0,smartShuffle:!0,discordEnabled:!1,discordUserId:void 0}),[z,N]=y.useState(()=>({songs:[],playlists:[],favorites:[]})),[L,R]=y.useState(""),T=y.useRef(new Map),C=y.useRef(H),Q=y.useRef(E),K=y.useCallback(bi.debounce(async J=>{try{await On.saveLibrary(J),console.log("Saved musicLibrary to IndexedDB")}catch(ie){console.error("Failed to persist library data:",ie)}},500),[]),re=y.useCallback(bi.debounce(async(J,ie)=>{try{const se=Array.from(ie.entries()),ge={...J,playHistory:se};await On.saveSettings(ge),console.log("Saved playerSettings to IndexedDB")}catch(se){console.error("Failed to persist settings:",se)}},300),[]),D=eD(u),$=tD(j,I),X=lD(s,m,f,g,b,p,x),le=sD(),oe=iD(N,z,R,L,G),{cacheSong:ve,getCachedSong:de,prepareSongsForPlaylist:fe,updateSongCache:_e,clearAllCache:et}=D,{getAndCacheNextSong:Re,invalidateNextSongCache:it,updatePlayHistory:mt}=$,{setupCrossfadeManager:Tt,prepareNextSongForCrossfade:rt,preloadNextSong:me,startCrossfadeTransition:Ne,cleanupCrossfadeManager:Ke}=X,{processAudioBatch:ot}=le,{createPlaylist:he,createFolder:Ee,removePlaylist:Ve,addToFavorites:ct,removeFromFavorites:we,addToPlaylist:Ge,reorderPlaylistSongs:Ct,moveSongToPlaylist:wt,moveToFolder:bt,toggleFavorite:Fn,isFavorited:W,getFavoriteSongs:Te,searchSongs:Ae,getSearchResults:Qe,navigateToArtist:qe,navigateToAlbum:zt,navigateToSongs:ht,exportPlaylist:Pn,importPlaylist:aa}=oe,Sn=y.useCallback(()=>{if(d.current.isActive()){console.log("[Safari] Skipping Web Audio API setup for background playback compatibility");return}if(!r.current&&s.current){const ie=new(window.AudioContext||window.webkitAudioContext);r.current=ie;const se=Tt(ie);if(se){const ge=se.getAnalyzerNode();G(pe=>({...pe,analyserNode:ge}))}console.log("[Audio Context] Created and initialized")}},[Tt]);y.useEffect(()=>{const J=()=>{r.current&&r.current.state==="suspended"&&(console.log("[Audio Context] Resuming suspended context"),r.current.resume())},ie=()=>{r.current&&r.current.state==="suspended"&&(console.log("[Audio Context] Resuming on focus"),r.current.resume())};return document.addEventListener("visibilitychange",J),window.addEventListener("focus",ie),()=>{document.removeEventListener("visibilitychange",J),window.removeEventListener("focus",ie)}},[]),y.useEffect(()=>()=>{Ke(),v.current&&clearTimeout(v.current),et()},[]),y.useEffect(()=>{(async()=>{try{const ie=await On.loadLibrary(),se=await On.loadSettings();if(ie){const ge={...ie,songs:ie.songs.filter(Ce=>Ce.url&&Ce.url!=="")},pe={id:"all-songs",name:l("allSongs"),songs:fe(ge.songs)},ze={...ge,playlists:ge.playlists.some(Ce=>Ce.id==="all-songs")?ge.playlists.map(Ce=>Ce.id==="all-songs"?{...Ce,songs:fe(ge.songs)}:Ce):[pe,...ge.playlists]};N(ze);let lt=null,Ze=null;se?.sessionRestore!==!1&&(se?.lastPlayedSongId&&(lt=ze.songs.find(Ce=>Ce.id===se.lastPlayedSongId)||null),se?.lastPlayedPlaylistId&&(Ze=ze.playlists.find(Ce=>Ce.id===se.lastPlayedPlaylistId)||null)),(!Ze||!Ze.songs||Ze.songs.length===0)&&(Ze=pe),!lt&&Ze.songs.length>0&&se?.sessionRestore!==!1&&(lt=Ze.songs[0]),G(Ce=>({...Ce,currentSong:lt,currentPlaylist:Ze,isPlaying:!1,currentTime:0,duration:lt?.duration||0})),se&&(d.current.isActive()&&(se.gaplessPlayback=!1,se.crossfade=0),(se.pitch===void 0||se.pitch===null||isNaN(se.pitch))&&(se.pitch=0),B(se),se.playHistory&&(T.current=new Map(se.playHistory),console.log("Restored play history with",se.playHistory.length,"entries")))}}catch(ie){console.error("Failed to load persisted data:",ie)}finally{q(!0)}})()},[fe]),y.useEffect(()=>{O&&K(z)},[z,O,K]),y.useEffect(()=>{O&&re(H,T.current)},[H,O,re]),y.useEffect(()=>{const J=C.current;C.current=H,J.smartShuffle!==H.smartShuffle&&(console.log("Smart shuffle setting changed, invalidating cache"),it(!0))},[H,it]),y.useEffect(()=>{const J=Q.current;Q.current=E,(J.currentPlaylist?.id!==E.currentPlaylist?.id||J.shuffle!==E.shuffle&&E.shuffle||J.repeat!==E.repeat)&&(console.log("Player state changed significantly, invalidating cache"),it(!0))},[E,it]),y.useEffect(()=>{if(E.currentPlaylist){const J=se=>{for(const ge of se){if("songs"in ge&&ge.id===E.currentPlaylist?.id)return ge;if("children"in ge){const pe=J(ge.children);if(pe)return pe}}return null},ie=J(z.playlists);ie&&ie.songs!==E.currentPlaylist.songs&&G(se=>({...se,currentPlaylist:ie}))}},[z.playlists,E.currentPlaylist?.id]),y.useEffect(()=>{f.current?f.current.setMasterVolume(H.volume):s.current&&(s.current.volume=H.volume)},[H.volume]),y.useEffect(()=>{G(J=>({...J,volume:H.volume,shuffle:H.defaultShuffle,repeat:H.defaultRepeat}))},[H.volume,H.defaultShuffle,H.defaultRepeat]),y.useEffect(()=>{if(O&&(H.sessionRestore&&B(J=>({...J,lastPlayedSongId:E.currentSong?.id??J.lastPlayedSongId,lastPlayedPlaylistId:E.currentPlaylist?.id??J.lastPlayedPlaylistId})),"mediaSession"in navigator&&E.currentSong)){navigator.mediaSession.metadata=new MediaMetadata({title:E.currentSong.title,artist:E.currentSong.artist,album:E.currentSong.album,artwork:E.currentSong.albumArt?[{src:E.currentSong.albumArt}]:[]}),navigator.mediaSession.setActionHandler("previoustrack",()=>{wa()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{Yn()}),navigator.mediaSession.setActionHandler("seekto",J=>{if(J.seekTime!==void 0&&s.current){const ie=Math.max(0,Math.min(J.seekTime,s.current.duration||0));s.current.currentTime=ie,d.current.isActive()&&d.current.seek(ie),console.log("[Media Session] Seek to:",ie)}}),navigator.mediaSession.setActionHandler("seekforward",J=>{if(s.current){const ie=J.seekOffset||10,se=Math.min(s.current.currentTime+ie,s.current.duration||0);s.current.currentTime=se,d.current.isActive()&&d.current.seek(se),console.log("[Media Session] Seek forward:",ie,"seconds")}}),navigator.mediaSession.setActionHandler("seekbackward",J=>{if(s.current){const ie=J.seekOffset||10,se=Math.max(s.current.currentTime-ie,0);s.current.currentTime=se,d.current.isActive()&&d.current.seek(se),console.log("[Media Session] Seek backward:",ie,"seconds")}});try{navigator.mediaSession.setActionHandler("enterpictureinpicture",()=>{Fv({playerState:{currentSong:E.currentSong,isPlaying:E.isPlaying},togglePlayPause:el,playNext:Yn,playPrevious:wa})})}catch{console.log("enterpictureinpicture action not supported")}return()=>{if("mediaSession"in navigator){navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null);try{navigator.mediaSession.setActionHandler("enterpictureinpicture",null)}catch{}}}}},[E.currentSong,E.currentPlaylist,O]),y.useEffect(()=>{const J=Tg(H.tempo),ie=Math.pow(2,(H.pitch??0)/12),se=J*ie;s.current&&(s.current.playbackRate=se),m.current&&(m.current.playbackRate=se)},[H.tempo,H.pitch]);const It=y.useCallback(async(J,ie)=>{const se=Hu.getInstance();if(!(!H.discordEnabled||!H.discordUserId))try{J&&ie?await se.updatePresence({userId:H.discordUserId,details:J.title,state:J.artist}):await se.clearPresence(H.discordUserId)}catch(ge){console.error("Failed to update Discord presence:",ge)}},[H.discordEnabled,H.discordUserId]),_n=y.useCallback(async()=>{if(!(A.current||!E.currentSong||!E.currentPlaylist)&&E.repeat!=="one"){A.current=!0;try{const J=Re(Q,C,T);J&&(j.current=J,I.current=!0,H.crossfade>0&&m.current&&await me(()=>J,ve,de,C))}catch(J){console.error("Failed to preload next song:",J)}finally{A.current=!1}}},[E,H,me,ve,de,Re]),Kt=y.useCallback(async(J,ie)=>{if(!J.url&&!J.hasStoredAudio){console.error("No URL or stored audio available for song:",J),ue.error(`Cannot play "${J.title}" - No audio source available`);return}r.current||Sn(),r.current?.state==="suspended"&&r.current.resume(),_.current&&(clearTimeout(_.current),_.current=null),v.current&&(clearTimeout(v.current),v.current=null);const se=J.hasStoredAudio?{...J,url:`indexeddb://${J.id}`}:J;await ve(se);const ge=de(J.id);if(!ge){console.error("Failed to play song: could not cache");return}const pe=ie&&"songs"in ie?{...ie,songs:fe(ie.songs)}:Q.current.currentPlaylist&&"songs"in Q.current.currentPlaylist?Q.current.currentPlaylist:null;if(G(ze=>({...ze,currentSong:J,currentPlaylist:pe,isPlaying:!0,currentTime:0})),Q.current.currentSong&&Q.current.currentSong.id!==J.id&&mt(T,Q.current.currentSong.id),s.current){f.current?.isCrossfading()&&f.current.cancelCrossfade(),p.current=!1,x.current=!1,s.current.src=ge.url;const ze=Tg(C.current.tempo),lt=Math.pow(2,C.current.pitch/12);s.current.playbackRate=ze*lt,r.current||Sn(),r.current&&!f.current&&Tt(r.current),f.current&&((!g.current||g.current.element!==s.current)&&(g.current=f.current.createAudioSource(s.current)),f.current.setCurrentSource(g.current));try{await s.current.play()}catch(Ze){console.error("Failed to play song:",Ze),ue.error(`Failed to play "${J.title}"`,{description:Ze.message||"Unknown error occurred"}),G(Ce=>({...Ce,isPlaying:!1}));return}ie&&_e(J,ie,Q,C,T,Nb),It(J,!0),it(),v.current=window.setTimeout(()=>{_n()},2e3)}},[Sn,ve,de,_e,fe,It,it,_n]);y.useEffect(()=>{const J=d.current.getElement();J?(console.log("[Music Player] Using Safari audio element as primary audio"),s.current=J,J.muted=!1,J.volume=C.current.volume):(s.current=new Audio,s.current.crossOrigin="anonymous"),m.current=new Audio,m.current.crossOrigin="anonymous";const ie=s.current,se=lt=>{const Ze=lt.target,Ce=s.current,Pt=m.current;let tn=Ce;if(f.current?.isCrossfading()&&Pt&&Pt.src&&!Pt.src.includes("about:blank")&&(tn=Pt),Ze!==tn)return;if(G(kn=>({...kn,currentTime:Ze.currentTime})),"mediaSession"in navigator&&"setPositionState"in navigator.mediaSession)try{navigator.mediaSession.setPositionState({duration:Ze.duration||0,playbackRate:Ze.playbackRate||1,position:Ze.currentTime||0})}catch{}const gs=C.current.crossfade>0,Gn=C.current.gaplessPlayback,Xn=C.current.autoPlayNext,nl=!!P.current,ja=Q.current.repeat!=="one",At=Ce&&Ce.duration>0,Ai=!f.current?.isCrossfading();if(Xn&&nl&&ja&&At&&Ai&&Ce){const kn=Gn?Jr(Q.current.currentSong):{start:0,end:0},Bn=Ce.duration-kn.start-kn.end,Ea=Number.isFinite(Bn)&&Bn>.1?Bn:Ce.duration,fo=Math.max(0,Ce.currentTime-kn.start),Qn=Math.max(0,Ea-fo),Ni=Gn&&(kn.start>0||kn.end>0);if(gs){const wl=C.current.crossfade,al=Math.max(wl+5,10);Qn<=al&&Qn>al-1&&(A.current||_n()),Qn<=wl&&(console.log("Triggering crossfade at",Qn.toFixed(1),"seconds remaining"),Ne(P,()=>j.current||Re(Q,C,T),Aa=>rt(Aa,ve,de,C),Q,T,mt,G,C,r,it,p,x).catch(Aa=>{console.error("Crossfade transition failed:",Aa)}))}else Gn&&(Qn<=3&&Qn>2.5&&(A.current||_n()),Ni&&Qn<=.05&&!p.current&&(p.current=!0,Xn&&P.current?P.current():Xn||(Ce.pause(),G(wl=>({...wl,isPlaying:!1})))))}},ge=()=>{const lt=s.current;if(!lt)return;let Ze=lt.duration;if(C.current.gaplessPlayback){const Ce=Jr(Q.current.currentSong);if(!x.current&&Ce.start>0&&Ce.start<lt.duration)try{lt.currentTime=Ce.start,x.current=!0}catch(tn){console.warn("Failed to apply gapless start offset:",tn)}const Pt=lt.duration-Ce.start-Ce.end;Number.isFinite(Pt)&&Pt>.1&&(Ze=Pt)}G(Ce=>({...Ce,duration:Ze}))},pe=lt=>{if(lt.target===s.current){if(f.current?.isCrossfading()){console.log("Current song ended during crossfade, completing immediately"),f.current&&setTimeout(()=>{console.log("Crossfade interrupted by song end")},100);return}C.current.autoPlayNext&&(Q.current.repeat==="one"?s.current&&(s.current.currentTime=0,s.current.play()):P.current&&(C.current.crossfade===0?C.current.gaplessPlayback?P.current():setTimeout(()=>P.current?.(),400):f.current?.isCrossfading()?console.log("Crossfade transition already in progress"):(console.log("Starting immediate crossfade transition on song end"),_.current&&(clearTimeout(_.current),_.current=null),Ne(P,()=>j.current||Re(Q,C,T),Ce=>rt(Ce,ve,de,C),Q,T,mt,G,C,r,it,p,x).catch(Ce=>{console.error("Immediate crossfade failed:",Ce),P.current&&(console.log("Falling back to regular playNext"),P.current())}))))}};ie.addEventListener("timeupdate",se),ie.addEventListener("loadedmetadata",ge),ie.addEventListener("ended",pe);const ze=m.current;return ze.addEventListener("timeupdate",se),ze.addEventListener("loadedmetadata",ge),ze.addEventListener("ended",pe),()=>{ie.removeEventListener("timeupdate",se),ie.removeEventListener("loadedmetadata",ge),ie.removeEventListener("ended",pe),ze.removeEventListener("timeupdate",se),ze.removeEventListener("loadedmetadata",ge),ze.removeEventListener("ended",pe),ie.pause(),ze.pause()}},[]);const el=y.useCallback(async()=>{if(!(!s.current||!E.currentSong))if(r.current?.state==="suspended"&&r.current.resume(),E.isPlaying)s.current.pause(),G(J=>({...J,isPlaying:!1})),It(E.currentSong,!1);else{if(!s.current.src||s.current.src.includes("about:blank")){await Kt(E.currentSong,E.currentPlaylist||void 0);return}try{await s.current.play(),G(J=>({...J,isPlaying:!0})),It(E.currentSong,!0)}catch{G(ie=>({...ie,isPlaying:!1}))}}},[E.isPlaying,E.currentSong,E.currentPlaylist,Kt,It]),Yn=y.useCallback(()=>{if(!E.currentPlaylist||!E.currentSong)return;f.current?.isCrossfading()&&f.current.cancelCrossfade(),_.current&&(clearTimeout(_.current),_.current=null),v.current&&(clearTimeout(v.current),v.current=null);let J=null;j.current&&I.current?(J=j.current,j.current=null,I.current=!1):J=Re(Q,C,T),J&&(E.shuffle&&mt(T,E.currentSong.id),Kt(J,E.currentPlaylist))},[E,H.smartShuffle,mt,Kt,Re]);y.useEffect(()=>{P.current=Yn},[Yn]);const wa=y.useCallback(()=>{if(!E.currentPlaylist||!E.currentSong)return;f.current?.isCrossfading()&&f.current.cancelCrossfade(),_.current&&(clearTimeout(_.current),_.current=null),v.current&&(clearTimeout(v.current),v.current=null);const J=E.currentPlaylist.songs,ie=J.findIndex(ge=>ge.id===E.currentSong.id);let se=null;E.shuffle?se=Re(Q,C,T):ie>0?se=J[ie-1]:E.repeat==="all"&&(se=J[J.length-1]),se&&(E.shuffle&&mt(T,E.currentSong.id),Kt(se,E.currentPlaylist))},[E,H.smartShuffle,mt,Kt,Re]),tl=y.useCallback(J=>{const ie=Math.max(0,Math.min(1,J));if(B(ge=>({...ge,volume:ie})),d.current.isActive()){s.current&&(s.current.volume=ie);return}f.current?f.current.setMasterVolume(ie):s.current&&(s.current.volume=ie)},[]),gt=y.useCallback(()=>{G(J=>({...J,shuffle:!J.shuffle})),it(!0)},[it]),Ft=y.useCallback(()=>{G(J=>({...J,repeat:J.repeat==="off"?"all":J.repeat==="all"?"one":"off"}))},[]),Bt=y.useCallback(J=>{B(ie=>({...ie,...J}))},[]),on=y.useCallback(J=>{if(s.current){const ie=s.current.currentTime;console.log("Seeking to:",J,"from:",ie,"readyState:",s.current.readyState),s.current.currentTime=J,setTimeout(()=>{const se=s.current?.currentTime;console.log("After seek - requested:",J,"actual:",se),Math.abs((se||0)-J)>.1&&console.warn("Seek failed or was overridden!")},100),G(se=>({...se,currentTime:J}))}},[]),Ut=y.useCallback(async J=>{N(ie=>{const se=[...ie.songs,J],ge=ie.playlists.some(ze=>ze.id==="all-songs");let pe=ie.playlists.map(ze=>ze.id==="all-songs"?{...ze,songs:fe(se)}:ze);return ge||(pe=[{id:"all-songs",name:l("allSongs"),songs:fe(se)},...pe]),{...ie,songs:se,playlists:pe}});try{const[ie]=await ot([J]);N(se=>{const ge=se.songs.map(pe=>pe.id===ie.id?ie:pe);return{...se,songs:ge,playlists:se.playlists.map(pe=>pe.id==="all-songs"?{...pe,songs:fe(ge)}:pe)}})}catch(ie){console.error("Failed to process song audio:",ie),ue.error(`Failed to process "${J.title}"`,{description:ie.message||"Unknown error occurred"})}},[ot,fe]),Ot=y.useCallback(async J=>{N(ie=>{const se=ie.songs.filter(pe=>pe.id!==J),ge=ie.playlists.map(pe=>"songs"in pe?{...pe,songs:pe.songs.filter(ze=>ze.id!==J)}:pe);return{...ie,songs:se,playlists:ge,favorites:ie.favorites.filter(pe=>pe!==J)}});try{await On.removeSongAudio(J)}catch(ie){console.error("Failed to remove song audio from IndexedDB:",ie)}},[]);return{playerState:E,library:z,settings:H,searchQuery:L,isInitialized:O,playSong:Kt,togglePlayPause:el,playNext:Yn,playPrevious:wa,setVolume:tl,seekTo:on,toggleShuffle:gt,toggleRepeat:Ft,updateSettings:Bt,addSong:Ut,removeSong:Ot,createPlaylist:he,createFolder:Ee,removePlaylist:Ve,addToPlaylist:Ge,reorderPlaylistSongs:Ct,moveSongToPlaylist:wt,moveToFolder:bt,addToFavorites:ct,removeFromFavorites:we,toggleFavorite:Fn,isFavorited:W,getFavoriteSongs:Te,searchSongs:Ae,getSearchResults:Qe,setSearchQuery:R,navigateToArtist:qe,navigateToAlbum:zt,navigateToSongs:ht,exportPlaylist:Pn,importPlaylist:aa}},oD=({musicPlayerHook:l,onOpenSettings:s,onToggleLyrics:r,onToggleVisualizer:u,onSearch:d})=>{const[m,f]=y.useState({});y.useEffect(()=>{(async()=>{try{const _=await Tl.getAllShortcuts();f(_)}catch(_){console.error("Failed to load keyboard shortcuts:",_),f(await Tl.getAllShortcuts())}})()},[]);const g=y.useCallback((v,_)=>v.key===_.key&&(_.ctrlKey||!1)===v.ctrlKey&&(_.altKey||!1)===v.altKey&&(_.shiftKey||!1)===v.shiftKey,[]),b=y.useCallback(v=>{const _=v.target;if(_.tagName==="INPUT"||_.tagName==="TEXTAREA"||_.isContentEditable)return;const p=Object.values(m).find(x=>g(v,x));if(p)switch(v.preventDefault(),p.action){case"playPause":l.togglePlayPause();break;case"nextSong":l.playNext();break;case"previousSong":l.playPrevious();break;case"volumeUp":const x=Math.min(1,l.playerState.volume+.05);console.log("Volume up:",l.playerState.volume,"->",x),l.setVolume(x);break;case"volumeDown":const j=Math.max(0,l.playerState.volume-.05);console.log("Volume down:",l.playerState.volume,"->",j),l.setVolume(j);break;case"mute":const I=l.playerState.volume;if(I>0)sessionStorage.setItem("previousVolume",I.toString()),l.setVolume(0);else{const A=parseFloat(sessionStorage.getItem("previousVolume")||"0.7");l.setVolume(A)}break;case"toggleShuffle":l.toggleShuffle();break;case"toggleRepeat":l.toggleRepeat();break;case"toggleLyrics":r?.();break;case"toggleVisualizer":u?.();break;case"search":d?.();break;case"openSettings":s?.();break}},[m,g,l,r,u,d,s]);return y.useEffect(()=>(document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}),[b]),{shortcuts:m,reloadShortcuts:async()=>{const v=await Tl.getAllShortcuts();f(v)}}},cD="_container_18c42_15",uD="_mainSection_18c42_40",Cg={container:cD,mainSection:uD};function dD(l){const{t:s}=Mt();y.useEffect(()=>{window.location.pathname==="/upload"&&(async()=>{try{const r=document.querySelector("form");let u=[],d="",m="",f="";if(r){const g=new FormData(r);d=g.get("title")||"",m=g.get("text")||"",f=g.get("url")||"";for(const b of g.entries()){const v=b[1];v instanceof File&&v.type.startsWith("audio/")&&u.push(v)}}u.length>0?(await l(u),ue.success(s("filePicker.successImport",{count:u.length}))):ue.error(s("filePicker.failedImport",{count:0}))}catch{ue.error(s("filePicker.failedImport",{count:0}))}})()},[l,s])}function fD(){const{t:l}=Mt(),s=rD(),[,r]=y.useState("auto"),[u,d]=y.useState(!1),[m,f]=y.useState(!1);dD(v=>Ab(v,s.addSong,l));const g=(v,_)=>{if(console.log("Drag operation:",{dragItem:v,dropZone:_}),v.type==="song"&&_.type==="playlist"){const p=v.id,x=_.id;console.log("Adding song to playlist:",{songId:p,targetPlaylistId:x});const j=s.library.songs.find(O=>O.id===p),I=(O,q)=>{for(const P of O){if(P.id===q&&"songs"in P)return P;if("children"in P){const E=I(P.children,q);if(E)return E}}return null},A=I(s.library.playlists,x);if(A&&A.songs.some(O=>O.id===p)){j&&A&&ue.info(l("songAlreadyInPlaylist",{song:j.title,playlist:A.name}));return}s.addToPlaylist(x,p),j&&A&&ue.success(l("songMovedToPlaylist",{song:j.title,playlist:A.name}),{duration:3e3});return}if(v.type==="song"&&_.type==="song"){const p=s.playerState.currentPlaylist;if(p){const x=p.songs,j=x.findIndex(A=>A.id===v.id),I=x.findIndex(A=>A.id===_.id);if(j!==-1&&I!==-1){const A=[...x],[O]=A.splice(j,1);A.splice(I,0,O),s.reorderPlaylistSongs(p.id,A),console.log("Reordered songs in playlist:",{from:j,to:I})}}return}if(v.type==="playlist"&&_.type==="playlist"){const p=v.id,x=_.id,j=(O,q,P=null)=>{for(const E of O){if(E.id===q)return P;if("children"in E){const G=j(E.children,q,E.id);if(G!==void 0)return G}}},I=j(s.library.playlists,x),A=v.data;s.moveToFolder(p,I??null,x),ue.success(l("playlist.reordered",{item:A?.name||"Playlist"})||`Moved "${A?.name||"Playlist"}" playlist`);return}if(v.type==="playlist"&&_.type==="folder"){const p=v.id,x=_.id;s.moveToFolder(p,x),ue.success(l("playlist.movedToFolder",{item:v.data?.name||"Playlist",folder:_.data?.name||"Folder"}));return}if(v.type==="folder"&&_.type==="folder"){const p=v.id,x=_.id;if(p===x)return;const j=(A,O,q=null)=>{for(const P of A){if(P.id===O)return q;if("children"in P){const E=j(P.children,O,P.id);if(E!==void 0)return E}}},I=j(s.library.playlists,x);s.moveToFolder(p,I??null,x),ue.success(l("playlist.reordered",{item:v.data?.name||"Folder"})||`Reordered "${v.data?.name||"Folder"}" folder`);return}console.log("Unhandled drag operation:",{dragItem:v,dropZone:_})},{reloadShortcuts:b}=oD({musicPlayerHook:s,onOpenSettings:()=>{d(!u)},onToggleLyrics:()=>{const v=s.settings;s.updateSettings({showLyrics:!v.showLyrics})},onToggleVisualizer:()=>{console.log("Toggle visualizer shortcut - implementation needed")},onSearch:()=>{const v=document.querySelector('input[type="search"], input[placeholder*="search" i]');v&&(v.focus(),v.select())}});return y.useEffect(()=>{document.title=l("title");const v=document.querySelector('meta[name="description"]');if(v)v.setAttribute("content",l("about.description"));else{const x=document.createElement("meta");x.name="description",x.content=l("about.description"),document.head.appendChild(x)}async function _(){const j=(await On.loadSettings())?.themeMode||"auto";switch(r(j),j){case"light":Yv();break;case"dark":Pv();break;case"auto":default:Gv();break}}_();const p=document.getElementById("loading-screen");p&&setTimeout(()=>{p.remove()},1100)},[]),c.jsx(Fj,{onDragOperation:g,children:c.jsxs("div",{className:Cg.container,children:[c.jsx(IE,{musicPlayerHook:s,onShortcutsChanged:b,settingsOpen:u,onSettingsOpenChange:d,isMobileOpen:m,onMobileOpenChange:f}),c.jsxs("div",{className:Cg.mainSection,children:[c.jsx(HA,{musicPlayerHook:s,onMobileMenuClick:()=>f(!0)}),c.jsx(WN,{musicPlayerHook:s,settings:{volume:0,crossfade:0,defaultShuffle:!1,defaultRepeat:"off",themeMode:"light",colorTheme:"",autoPlayNext:!1,compactMode:!1,showAlbumArt:!1,showLyrics:!1,sessionRestore:!0,gaplessPlayback:!0,smartShuffle:!0,lastPlayedSongId:void 0,lastPlayedPlaylistId:void 0,language:"English",tempo:1,pitch:0,discordEnabled:!1}})]})]})})}Ye.use(y_).use(p_).use(v_).init({fallbackLng:"en",debug:!0,supportedLngs:Object.keys(Ir),backend:{loadPath:"./locales/{{lng}}/translation.json"},detection:{order:["queryString","cookie"],caches:["cookie"]},interpolation:{escapeValue:!1}});function mD({children:l}){const{isLoading:s}=Kv(),{iconsReady:r}=Iu(),[u,d]=Fe.useState(!1),[m,f]=Fe.useState(!1);return Fe.useEffect(()=>{!s&&r&&!u&&d(!0)},[s,r,u]),Fe.useEffect(()=>{u&&!m&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{const g=document.getElementById("loading-screen");g&&(g.classList.add("fade-out"),setTimeout(()=>{g.remove()},500)),f(!0)})})},[u,m]),u?c.jsx(c.Fragment,{children:l}):null}$g.createRoot(document.getElementById("root")).render(c.jsx(Fe.StrictMode,{children:c.jsx(b_,{i18n:Ye,children:c.jsx(qu,{defaultSetId:"lucide",children:c.jsx(NC,{defaultTheme:"Blue",children:c.jsxs(mD,{children:[c.jsx(T_,{}),c.jsx(fD,{})]})})})})}));
//# sourceMappingURL=index-Cv3aN054.js.map
